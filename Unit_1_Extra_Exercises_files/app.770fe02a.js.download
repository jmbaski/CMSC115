/*! For license information please see app.770fe02a.js.LICENSE.txt */
(self.webpackChunk_greenville_app=self.webpackChunk_greenville_app||[]).push([[524],{17384:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});const n={enabled:!1,enable(){this.enabled=!0}}},948:e=>{let t=function(){this.onmessage=e=>{if(e&&e.data&&e.data.isSetDate){const t=new Date(e.data.date),s=(new Date).getTime(),n=t.getTime();let i=0,a=0;this.postMessage(t),setInterval((()=>{const e=(new Date).getTime()-s;a=Math.abs(e),i+=50,t.setTime(n+e),this.postMessage({date:t,currentDateDiff:a,currentInterval:i})}),50)}}}.toString();t=t.substring(t.indexOf("{")+1,t.lastIndexOf("}"));const s=new Blob([t],{type:"application/javascript"}),n=URL.createObjectURL(s);e.exports=n},98992:(e,t,s)=>{"use strict";s.d(t,{c:()=>I});var n=s(71760),i=s.n(n),a=s(49623),o=s(59232);const r=i().create({baseURL:"".concat("undefined"!==typeof a.c.LAS_API_CLIENT_BASE_URL?a.c.LAS_API_CLIENT_BASE_URL:a.c.LAS_API_BASE_URL,"/las-api/api"),timeout:a.c.TIMEOUT,headers:{"x-apikey":a.c.LAS_API_KEY}}),l=i().create({baseURL:a.c.LAS_API_BASE_URL,headers:{"x-apikey":a.c.LAS_API_KEY}}),c=i().create({baseURL:a.c.TIBURON_API_BASE_URL,timeout:a.c.TIMEOUT,headers:{}}),d=i().create({baseURL:a.c.ASSESSMENT_COMPOSITE_API_BASE_URL,timeout:a.c.TIMEOUT}),p=i().create({baseURL:a.c.ERPS_API_BASE_URL,timeout:a.c.TIMEOUT,headers:{}}),h=i().create({baseURL:"".concat("undefined"!==typeof a.c.LAS_API_CLIENT_BASE_URL?a.c.LAS_API_CLIENT_BASE_URL:a.c.LAS_API_BASE_URL,"/las-asm/api/gbs/assessments"),timeout:a.c.TIMEOUT,headers:{"x-apikey":a.c.LAS_API_KEY}}),u=i().create({baseURL:"".concat("undefined"!==typeof a.c.LAS_API_CLIENT_BASE_URL?a.c.LAS_API_CLIENT_BASE_URL:a.c.LAS_API_BASE_URL,"/las-paf/sd"),timeout:a.c.TIMEOUT,headers:{"x-apikey":a.c.LAS_API_KEY}}),g=i().create({baseURL:a.c.PLA_BASE_URL,timeout:a.c.TIMEOUT,headers:{}}),m=i().create({baseURL:a.c.getContentBaseUrl(),withCredentials:a.c.CONTENT_PROTECTED,timeout:a.c.TIMEOUT,headers:{}}),E=i().create({baseURL:a.c.getContentBaseUrlCite(),timeout:a.c.TIMEOUT,headers:{accept:"application/xhtml"}}),T=i().create({baseURL:a.c.CSG_API_BASE_URL,timeout:a.c.TIMEOUT,headers:{"application-id":a.c.APPLICATION_ID}}),S=i().create({baseURL:a.c.SPECTRUM_API_BASE_URL,timeout:a.c.TIMEOUT,headers:{"X-TenantKey":a.c.X_TENANT_KEY,"X-TenantId":a.c.X_TENANT_ID}}),_=i().create({baseURL:a.c.SPECTRUM_API_USER_LOCATION_BASE_URL,timeout:a.c.TIMEOUT,headers:{"X-Caller":a.c.SPECTRUM_API_CALLER_ID,"X-TenantKey":a.c.X_TENANT_KEY}}),A=i().create({baseURL:a.c.MANIFEST_BASE_URL,timeout:a.c.TIMEOUT,headers:{ApiKey:a.c.MANIFEST_API_KEY}});o.c.intercept("x-authorization","",T),o.c.intercept("Authorization","Bearer ",c,!0),o.c.intercept("x-authorization","",p,!1,!1),o.c.intercept("x-Authorization","",g,!1),o.c.intercept("x-authorization","",d),o.c.intercept("authorization","",r),o.c.intercept("authorization","",l),o.c.intercept("authorization","",h),o.c.intercept("authorization","",u),o.c.intercept("x-authorization","",S,!0,!1),o.c.intercept("x-authorization","",_,!0,!1),o.c.intercept("x-authorization","",A),m.interceptors.response.use((e=>(e.request&&e.request.responseURL&&(e.config.url=e.request.responseURL),e)));const I={contentApi:m,citeContentApi:E,csgApi:T,erpsApi:p,plaApi:g,assessmentCompositeApi:d,tiburonApi:c,pageNumberApi:A,lasApi:r,lasUserLogsApi:l,lasAsm:h,lasPaf:u,spectrumApi:S,spectrumUserLocationApi:_}},47944:(e,t,s)=>{"use strict";s.d(t,{c:()=>h});s(99584);var n=s(45452),i=s(19480),a=s(17604),o=s(92016);s(29648);const r=e=>({root:{borderRight:"solid 1px ".concat(e.palette.common.revelGrey),paddingRight:"24px",minHeight:"53px",display:"flex",flexDirection:"column","& .monthDay":{fontSize:e.typography.fontSizeMeduim,textAlign:"right",color:e.palette.text.primary,"&.past":{color:e.palette.text.secondary},"& .monthShort":{fontWeight:e.typography.fontWeightSemiBold,paddingRight:"4px"},"& .day":{fontWeight:e.typography.fontWeightSemiBold}},"& .time":{fontSize:e.typography.fontSizeExtraSmall,textAlign:"right",color:e.palette.text.secondary,"& span":{paddingRight:"3px"}}}});var l=s(97884);const c=e=>{let{visuallyHiddenText:t,elementName:s}=e;return(0,l.jsx)(a.c,{component:s,className:"ise-visually-hidden",children:t})};c.defaultProps={elementName:"span"};const d=c,p=e=>{let{date:t,id:s,showDate:i,past:r,classes:c,disableTabIndex:p}=e;const h=p?{}:{tabIndex:0};return(0,l.jsxs)("div",{className:c.root,id:s,...h,children:[i&&(0,l.jsxs)("div",{"aria-hidden":"false",className:"monthDay ".concat(r&&"past"),children:[(0,l.jsx)(a.c,{variant:"body2",component:"span","aria-hidden":!0,className:"monthShort",children:(0,l.jsx)(n.FormattedDate,{value:t,month:"short"})}),(0,l.jsx)(d,{visuallyHiddenText:t.toLocaleString("default",{month:"long"})}),(0,l.jsx)(a.c,{variant:"body2",className:"day",component:"span",children:(0,l.jsx)(n.FormattedDate,{value:t,day:"numeric"})}),(0,l.jsx)(d,{visuallyHiddenText:"at"})]}),(0,l.jsxs)(a.c,{className:"time",component:"span",children:[(0,l.jsx)(n.FormattedTime,{value:t,time:"short"}),(0,l.jsx)("abbr",{children:o.c.getTimeZone()})]})]})};p.defaultProps={showDate:!0,past:!1};const h=(0,i.c)(r)(p)},84424:(e,t,s)=>{"use strict";s.d(t,{c:()=>l});s(99584);var n=s(45452),i=s(58688),a=s(98992),o=s(49623),r=s(97884);const l=(0,n.injectIntl)((e=>{const{onClose:t,isDialogOpen:s,isGetAppByAppcues:n}=e;return(0,r.jsx)(i.DownloadAppModal,{notificationClient:a.c.tiburonApi,notificationUrl:o.c.NOTIFICATION_URL,onClose:t,isDialogOpen:s,isGetAppFromAppcues:n})}))},19104:(e,t,s)=>{"use strict";s.d(t,{c:()=>d});var n=s(99584),i=s(19480),a=s(17604),o=s(60200);s(65652);const r=e=>({overrideHeader:{fontWeight:e.typography.fontWeightSemiBold},overrideContent:{color:e.palette.text.primary,fontSize:e.typography.fontSize},instructorMessage:{margin:"10px 0px",display:"block"},instructorMessageList:{marginLeft:"10px",listStyleType:"disc","& li":{padding:"1px 10px"}}});var l=s(97884);const c=e=>{let{instructorMessages:t,classes:s,language:i,isAssetLevel:r}=e;const c=(0,l.jsx)(a.c,{component:"span",variant:"body2",classes:{root:s.overrideHeader},children:i.getText("screens.instructorMessage.instructorHeader")}),d=r?"":s.instructorMessage;return(0,l.jsx)(n.Fragment,{children:t.length>1?(0,l.jsxs)(n.Fragment,{children:[!r&&(0,l.jsx)("div",{children:c}),(0,l.jsx)("ul",{className:"".concat(d," ").concat(s.instructorMessageList),children:t.map(((e,t)=>(0,l.jsx)("li",{children:(0,l.jsx)(a.c,{component:"span",classes:{root:s.overrideContent},children:o.Utilities.textFromContent(e)})},t)))})]}):(0,l.jsxs)(n.Fragment,{children:[!r&&(0,l.jsx)("div",{className:"messages",children:c}),(0,l.jsx)("span",{className:"".concat(d," emptySpace"),children:(0,l.jsx)(a.c,{component:"span",variant:"body2",children:t.length&&o.Utilities.textFromContent(t[0])})})]})})};c.defaultProps={instructorMessages:[],isAssetLevel:!1};const d=(0,i.c)(r)(c)},36484:(e,t,s)=>{"use strict";s.d(t,{c:()=>C});var n,i=s(99584),a=s(19480),o=s(32308),r=s(45452),l=s(58688),c=s(60200),d=(s(65652),s(19104)),p=s(97884);let h=(0,o.uU)("language")(n=(0,o.QT)(n=class extends i.Component{render(){const{instructorMessages:e,language:t,isSLP:s}=this.props,n=e&&e.length,i=s?"":(0,p.jsx)(r.FormattedMessage,{id:"instructorMessaging",defaultMessage:t.getText("screens.instructorMessage.instructorToolTipText"),values:{messages:n}}),a=n>1?n.toString():"",o=s?e.length&&c.Utilities.textFromContent(e[0]):(0,p.jsx)(d.c,{instructorMessages:e,language:t});return n?(0,p.jsx)(l.MessagingComponent,{iconType:"instructor",title:i,iconText:a,message:o,disableRestoreFocus:!0,visuallyHiddenText:t.getText("screens.assessments.INSTRUCTOR_MESSAGE"),isSLP:s}):null}})||n)||n;h.defaultProps={instructorMessages:[]};const u=h;var g=s(17604),m=s(92016);const E=(0,o.uU)("language")((e=>{let{acceptedTillDate:t,language:s,extendedDueDate:n,isSLP:i}=e;const a=(e,t)=>e?(0,p.jsx)(r.FormattedMessage,{id:"extendDueDate",defaultMessage:s.getText(t),values:{date:m.c.formatDate(e),time:(0,p.jsx)(r.FormattedTime,{value:e}),timeZone:m.c.getTimeZone()}}):"",o=n?a(n,"screens.assignments.DUE_DATE_CHANGED_MSG"):s.getText("screens.assignments.DUE_DATE_CHANGED_PART_MSG"),c=e=>(0,p.jsx)(g.c,{component:"span",variant:"body2","data-testid":"extendedDueDate",children:e}),d=s.getText("screens.assignments.DUE_DATE_CHANGED");return(0,p.jsx)(l.MessagingComponent,{iconType:"date",title:d,iconText:a(t||n,"screens.assignments.DUE_DATE_CHANGED_ICON_TEXT"),message:c(t?a(t,"screens.assignments.DUE_DATE_CHANGED_MSG"):o),visuallyHiddenText:d,isSLP:i})}));var T=s(584);const S=(0,o.uU)("language")((e=>{let{showPenaltyMsg:t,language:s,isSLP:n}=e,i="",a="";return t===T.ACCEPTED_LATE_WITH_PENALTY?(i=s.getText("screens.assignments.ACCEPTED_LATE_WITH_PENALTY_MSG"),a=s.getText("screens.assignments.ACCEPTED_LATE_WITH_PENALTY")):t===T.LATE_PENALTY_APPLIED?(i=s.getText("screens.assignments.LATE_PENALTY_APPLIED_MSG"),a=s.getText("screens.assignments.LATE_PENALTY_APPLIED")):t===T.ACCEPTED_LATE&&(i=s.getText("screens.assignments.ACCEPTED_LATE_MSG"),a=s.getText("screens.assignments.ACCEPTED_LATE")),(0,p.jsx)(l.MessagingComponent,{iconType:"clock",title:a,iconText:"",message:(0,p.jsx)(g.c,{component:"span",variant:"body2",children:i}),visuallyHiddenText:a,isSLP:n})})),_=(0,o.uU)("language")((e=>{let{language:t,isSLP:s}=e;const n=t.getText("screens.assignments.SCORE_OVERRIDE");return(0,p.jsx)(l.MessagingComponent,{iconType:"score",title:n,iconText:"",message:(0,p.jsx)(g.c,{component:"span",variant:"body2",children:t.getText("screens.assignments.SCORE_OVERRIDE_MSG")}),visuallyHiddenText:n,isSLP:s})})),A=()=>({messagingIconContainer:{position:"absolute",right:"30px",marginTop:"-28px","& button:not(:last-child)":{marginRight:"12px"},"& .normalWrapper":{marginLeft:"12px"}}}),I=e=>{let{assignment:t,showDate:s,classes:n,isSLP:a}=e;const{isExtended:o,extendedDueDate:r}=t.isAssignmentExtended(),l=e=>(0,p.jsx)(S,{showPenaltyMsg:e,isSLP:a});let c=(0,p.jsx)(i.Fragment,{});if(a){const{overallAssignmentStatus:e}=t;e.showPenalty&&(c=l(e.showPenaltyMsg))}else t.showPenaltyMsg&&(c=l(t.showPenaltyMsg));return(0,p.jsxs)("div",{className:!a&&n.messagingIconContainer,children:[c,s&&(t.acceptedTillDate||o)?(0,p.jsx)(E,{acceptedTillDate:t.acceptedTillDate,extendedDueDate:r,isSLP:a}):null,(0,p.jsx)(u,{instructorMessages:t.instructorMessages,isSLP:a}),!a&&t.isOverridden&&(0,p.jsx)(_,{isSLP:a})]})};I.defaultProps={showDate:!1,isSLP:!1};const C=(0,a.c)(A)(I)},14864:(e,t,s)=>{"use strict";s.d(t,{c:()=>h});var n=s(99584),i=s(45452),a=s(32308),o=s(17604),r=s(19480);const l=e=>({root:{marginLeft:"auto",marginTop:"5px"},pointsAndPointsEarned:{fontWeight:e.typography.fontWeightSemiBold,textAlign:"right",fontSize:e.typography.fontSizeExtraLarge},scorePendingLabel:{fontSize:e.typography.fontSizeExtraSmall,textAlign:"right",color:e.palette.text.secondary}});var c=s(584),d=(s(65652),s(97884));const p=e=>{let{id:t,showScores:s,pointsEarned:a,points:r,platform:l,drawerStyles:p,language:h,classes:u}=e;return(0,d.jsx)("div",{className:"scoredpointsContainer ".concat(p?p.root:u.root),id:t,children:null===a||l!==c.COURSE_TYPE_ILP&&!s?(0,d.jsx)(o.c,{component:"div",classes:{root:p?p.scorePendingLabel:u.scorePendingLabel},children:(0,d.jsx)(i.FormattedMessage,{id:"scorePendingLabel",defaultMessage:h.getText("screens.scores.SCORE_PENDING")})}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(o.c,{variant:"body2",classes:{root:p?p.pointsEarnedLabel:{}},children:(0,d.jsx)(i.FormattedMessage,{id:"pointsEarnedLabel",defaultMessage:h.getText("screens.scores.SCORE_POINTS_EARNED_LABEL")})}),(0,d.jsx)(o.c,{variant:"body2",classes:{root:p?p.pointsAndPointsEarned:u.pointsAndPointsEarned},children:(0,d.jsx)(i.FormattedMessage,{id:"pointsAndPointsEarned",defaultMessage:h.getText("screens.scores.SCORE_POINTS_EARNED"),values:{pointsEarned:a,points:r}})})]})})},h=(0,r.c)(l)((0,a.uU)("language")(n.memo(p)))},24540:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});s(99584);var n=s(81160),i=s(26812),a=s(97884);const o=e=>(0,a.jsx)(n.c,{...e,children:(0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",fill:"#6a7070"})}),r=e=>(0,a.jsx)(i.c,{...e,children:(0,a.jsx)(o,{viewBox:"0 -2 28 28"})})},7352:(e,t,s)=>{"use strict";s.d(t,{c:()=>p});var n=s(99584),i=s(81160),a=s(26812),o=s(40308),r=s.n(o),l=s(97884);const c=e=>(0,l.jsx)(i.c,{...e,children:(0,l.jsx)("path",{d:"M7 5.58579L12.2929 0.292893C12.6834 -0.0976311 13.3166 -0.0976311 13.7071 0.292893C14.0976 0.683418 14.0976 1.31658 13.7071 1.70711L8.41421 7L13.7071 12.2929C14.0976 12.6834 14.0976 13.3166 13.7071 13.7071C13.3166 14.0976 12.6834 14.0976 12.2929 13.7071L7 8.41421L1.70711 13.7071C1.31658 14.0976 0.683418 14.0976 0.292893 13.7071C-0.0976311 13.3166 -0.0976311 12.6834 0.292893 12.2929L5.58579 7L0.292893 1.70711C-0.0976311 1.31658 -0.0976311 0.683418 0.292893 0.292893C0.683418 -0.0976311 1.31658 -0.0976311 1.70711 0.292893L7 5.58579Z",fill:"currentcolor"})}),d=(0,n.forwardRef)(((e,t)=>(0,l.jsx)(a.c,{ref:t,...e,children:(0,l.jsx)(c,{viewBox:"0 0 14 14"})})));d.propTypes={onClick:r().func,className:r().object};const p=d},48152:(e,t,s)=>{"use strict";s.d(t,{c:()=>o});s(99584);var n=s(96216),i=s(97884);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return(0,i.jsx)(n.Icon,{name:e,color:t,fontSize:s})},o={addNoteIcon:a("AddCircleOutlined"),exportCloseIcon:a("Remove","secondary"),deleteNoteIcon:a("Delete")}},99644:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});const n={width:"24px",height:"24px",color:"transparent",verticalAlign:"middle"}},584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ACCEPTED_LATE:()=>Ie,ACCEPTED_LATE_WITH_PENALTY:()=>_e,ACTIVITY_ASSIGNMENT:()=>pi,ACTIVITY_AUDIO:()=>ci,ACTIVITY_DATA_REQUEST:()=>B,ACTIVITY_READ:()=>di,ACTIVITY_STATUS_REQUEST:()=>F,ACTOR_PARAM:()=>Un,ANNOTATION_ID:()=>mt,APPCUES_CALLBACK_EVENTS:()=>bs,APPCUES_EVENTS:()=>Vt,APPCUES_EVENTS_TYPES:()=>ws,APPCUES_GET_APP_ID:()=>Ft,APPCUES_REQUEST:()=>Gt,APPCUES_REQUEST_TYPE:()=>Yt,APP_VERSION:()=>Ps,ASSESSMENT:()=>Ms,ASSESSMENTS:()=>z,ASSESSMENT_ACTION_CONTINUE:()=>cs,ASSESSMENT_ACTION_REVIEW:()=>ls,ASSESSMENT_ACTION_START:()=>rs,ASSESSMENT_ACTIVITY_CLOSED:()=>ps,ASSESSMENT_ACTIVITY_OPEN:()=>ds,ASSESSMENT_COMPLETED:()=>C,ASSESSMENT_ITEM_COMPLETED:()=>Pn,ASSESSMENT_ITEM_INPROGRESS:()=>yn,ASSESSMENT_ITEM_SUBMIT:()=>Nn,ASSESSMENT_LAUNCHED:()=>f,ASSESSMENT_QUESTION_LIST:()=>an,ASSESSMENT_STATUS_COMPLETED:()=>A,ASSESSMENT_STATUS_REQUEST:()=>_,ASSESSMENT_TYPES_FETCHED:()=>S,ASSESSMENT_TYPES_REQUESTED:()=>T,ASSESSMENT_TYPE_ESSAY:()=>Jt,ASSESSMENT_TYPE_MEDIACTIVITY:()=>$t,ASSESSMENT_TYPE_SHAREDMEDIA:()=>Qn,ASSESSMENT_TYPE_VQUIZ:()=>es,ASSESSMENT_TYPE_WRITINGSOLUTIONS:()=>zn,ASSIGNMENTS:()=>Tt,ASSIGNMENTS_SORT_DUE_DATE:()=>Pt,ASSIGNMENT_ASSET_FETCHED:()=>g,ASSIGNMENT_ASSET_REQUESTED:()=>o,ASSIGNMENT_DELETED:()=>si,ASSIGNMENT_DETAILS:()=>_t,ASSIGNMENT_EMPTY_STATE:()=>Rt,ASSIGNMENT_ID:()=>ht,ASSIGNMENT_LIST_FETCHED:()=>h,ASSIGNMENT_LIST_FETCHED_ERROR:()=>u,ASSIGNMENT_LIST_REQUESTED:()=>a,ASSIGNMENT_NOT_READY:()=>ti,ASSIGNMENT_PLAYLIST_REQUEST:()=>E,ASSIGNMENT_REDIRECTION:()=>ut,ASSIGNMENT_STATES:()=>Yn,ASSIGNMENT_STATUS_REQUESTED:()=>r,AUDIOBOOK_CLOSE:()=>Re,AUDIOBOOK_OPEN:()=>Oe,AUDIOBOOK_TOP:()=>De,AUDIOBOOK_TOP_VIEWER:()=>be,AUDIO_ID:()=>rt,AUDIO_INDEX:()=>ct,AUDIO_NAVIGATION_FROM:()=>at,AUDIO_OFFSET:()=>lt,AUDIO_PLAYER:()=>Ue,AUDIO_TITLE:()=>dt,AUDIO_URN:()=>pt,AUTH_VERIFIED:()=>n,AUTOBAHN_ATTRIBUTE_REGISTRAR:()=>Os,BOOKMARK_REQUESTED:()=>p,CATEGORY_FORMATIVE:()=>ss,CATEGORY_SUMMATIVE:()=>ts,CHAPTER:()=>it,CHAPTER_QUIZ:()=>is,COLOR_PREFERENCES:()=>mn,COMPLETE_PAST_DUE_LATE:()=>se,CONTENT:()=>ze,CONTENTS:()=>xt,COURSES:()=>Et,COURSE_DATA_FETCHED:()=>m,COURSE_SYNC_REQUESTED:()=>i,COURSE_TYPE_GLP:()=>ye,COURSE_TYPE_ILP:()=>Ne,CUSTOMIZED_TOC_UPDATED:()=>P,CUSTOM_MODE_PARAM:()=>kn,DASHBOARD:()=>Kn,DEEPLINK_ASSESSMENT_LAUNCH_TELEMETRY:()=>fs,DEEPLINK_DATA_REQUEST:()=>As,DEEPLINK_DATA_RESPONSE:()=>Is,DEEPLINK_LAUNCH_TELEMETRY:()=>Cs,DEEPLINK_REDIRECT:()=>ys,DEEPLINK_URL_REDIRECTED:()=>xs,DEEPLINK_VIEW_QUERY_PARAM:()=>xn,DEFAULT_BOOK_COVER_IMAGE:()=>Pe,DEFAULT_MESSAGE:()=>Wn,DESKTOP_OS:()=>ke,EMPTY_SPACE:()=>Xn,EMPTY_SPACE_HEX_CODE:()=>li,EMPTY_STATE_IMAGES:()=>un,EPS_CONTENT_MAX_AGE:()=>ni,FANTASTIC_MESSAGE_SCORE:()=>It,FILTER_STATUS:()=>Se,FOOTNOTES:()=>jt,FOOTNOTES_DATA_FETCHED:()=>Ht,FOOTNOTES_REQUESTED:()=>kt,GET_APP_PROMO_KEY:()=>ii,GLOSSARY:()=>yt,GLOSSARY_DATA_FETCHED:()=>$e,GLOSSARY_REQUESTED:()=>Je,GLP_LEARNING_TOOLS:()=>Xt,GOODJOB_MESSAGE_SCORE:()=>Ct,GTM_CATEGORY_APPCUES:()=>Rs,HEADER_HIGHLIGHTS:()=>ln,HELP_DATA_FETCHED:()=>zt,HELP_REQUESTED:()=>Wt,HISTORY_REPLACE_REQUESTED:()=>G,IFRAME_CONTAINER:()=>Zn,ILP_LA_LT:()=>Kt,ILP_LEARNING_TOOLS:()=>qt,IMMEDIATE_ASSIGNMENT_EMPTY_STATE:()=>Mt,INAPPHELP_CONTENTS:()=>Sn,INAPPHELP_INSTRUCTOR:()=>_n,INIT_TELEMETRY:()=>gs,INSTRUCTOR_VIEW:()=>Cn,INSTRUCTOR_VIEW_QUERY_PARAM:()=>fn,ISO_DATE_FORMAT:()=>$n,IS_SHOW_STEPPER:()=>Vn,JOURNAL_ENTRIES:()=>Us,LA:()=>nn,LAST_VIEWED_PAGE_KEY:()=>V,LATE_PENALTY_APPLIED:()=>Ae,LAUNCHDARKLY_CALL_TRIGGERED:()=>Fn,LAUNCHDARKLY_HASH_FETCHED:()=>Bn,LAUNCHDARKLY_HASH_REQUEST:()=>Hn,LEFT_PANEL:()=>cn,LOCATION_EXIST_ERROR_MSG:()=>hi,LOGIN_REFRESH_TIME:()=>Y,LOGIN_REQUESTED:()=>O,LT:()=>sn,MATERIAL_DATA_FETCHED:()=>N,MATERIAL_DATA_REQUEST:()=>y,MATERIAL_PLAYLIST_REQUEST:()=>v,MATERIAL_TAB:()=>Q,MATHML_SCRIPT_URL:()=>gt,MOBILE_OS_ANDROID:()=>He,MOBILE_OS_IOS:()=>je,MOBILE_OS_WINDOWS_PHONE:()=>Ge,MODULE_QUIZ:()=>as,MODULE_SECTION:()=>nt,MULTI_MEDIA_TYPE:()=>gn,NAVIGATION_FROM:()=>ot,NOTE:()=>En,NOTES_LIMIT:()=>vs,NOTES_PAGE_END:()=>Ls,NOT_FOUND:()=>ei,NR_ACTIVITY_ID:()=>On,NR_ASSESSMENT_ID:()=>Rn,NR_ASSIGNMENT_ID:()=>wn,NR_CATALOGUE_ID:()=>Dn,NR_CORRELATION_ID:()=>Ln,NR_COURSE_ID:()=>bn,NR_PI_ID:()=>vn,NR_PLATFORM:()=>Mn,OPEN_GET_APP:()=>D,OVERALL_GRADE_FETCHED:()=>c,OVERALL_GRADE_SYNC_REQUESTED:()=>l,PAGENUMBER:()=>Tn,PAGE_NUMBER_LOADED:()=>Ut,PAGE_NUMBER_REQUESTED:()=>et,PAGE_TYPE:()=>W,PEARSON_PRIVACY_POLICY_URL:()=>ui,PEARSON_ROLE_CODE_TA:()=>Ve,PEARSON_ROLE_CODE_TEACHINGASSISTANT:()=>We,PERSON_ROLE_CODE:()=>Qt,PERSON_ROLE_CODE_SYSTEM:()=>ri,PI_USERID:()=>hs,PLAYLIST_DATA_FETCHED:()=>L,PREFERENCE_MAX_FONTSIZE:()=>Le,PREFERENCE_MIN_FONTSIZE:()=>ve,PREFERENCE_REQUESTED:()=>d,PUSH_TO_DATALAYER:()=>Ns,QUIZ:()=>os,RECENT_HISTORY_STORAGE_NAME:()=>hn,RECENT_PAGE_SIZE:()=>dn,RECENT_PAGE_STORAGE_SIZE:()=>pn,REFERENCE_REQUESTED:()=>tt,REFRESH_STUDY_ACCESS_TOKEN_EVENT:()=>Gn,REVEL:()=>Qe,REVEL_SEARCH_EMPTY_MESSAGE:()=>b,REVEL_STUDY:()=>Xe,REVEL_STUDY_GUIDE:()=>qe,REVEL_STUDY_SESSION:()=>Ze,ROLE_STUDENT:()=>In,ROLE_TA:()=>An,SCHEDULED:()=>ft,SCORES:()=>St,SCORE_DETAILS:()=>At,SCORE_EMPTY_NO_ASSIGNMENT_STATE:()=>bt,SCORE_EMPTY_STATE:()=>Dt,SEARCH_HISTORY_RESPONSE_LIMIT:()=>Nt,SEARCH_TRIGGERED_BY_VIEWER:()=>ai,SEND_TO_PXE_FRAME:()=>xe,SERVER_ERROR_STATE:()=>wt,SERVICE_ERROR:()=>on,SHARED_WRITING_ENTRIES:()=>Zt,SHOW_EXPORT_TAG_POPUP:()=>oi,SLP_HEADER_HEIGHT:()=>qn,SLP_TOC_ASSIGNMENTS:()=>Lt,SLP_TOC_VIEW_BY:()=>Ot,SLP_TOC_VIEW_CHAPTERS:()=>vt,SOURCE:()=>we,STATUS_AVAILABLE:()=>ne,STATUS_COMPLETE:()=>oe,STATUS_COMPLETED:()=>Ee,STATUS_COMPLETE_LATE:()=>ee,STATUS_COMPLETE_OVERRIDE:()=>J,STATUS_COMPLETE_PAST_DUE:()=>$,STATUS_COMPLETE_WORKED:()=>Z,STATUS_CORRECT:()=>ue,STATUS_CURRENT_QUESTION:()=>te,STATUS_DUE:()=>he,STATUS_INCOMPLETE:()=>re,STATUS_INCORRECT:()=>me,STATUS_IN_PROGRESS:()=>X,STATUS_LATE:()=>le,STATUS_NA:()=>ce,STATUS_NOT_ATTEMPTED:()=>q,STATUS_NOT_AVAILABLE:()=>K,STATUS_NOT_STARTED:()=>ae,STATUS_PARTIAL_CORRECT:()=>ge,STATUS_PAST:()=>pe,STATUS_STARTED:()=>ie,STATUS_SUBMITTED:()=>Te,STATUS_UPCOMING:()=>de,STUDENT_PREVIEW:()=>jn,STUDY:()=>Me,STUDY_PAGE:()=>Ke,STUDY_TOP_BANNER:()=>Fe,SUBMISSION_SAVE_REQUEST:()=>x,SUMMATIVE:()=>ns,TDX_ASSESSMENT_ITEM:()=>rn,TDX_QUIZ_REQUEST:()=>I,TDX_SCORE_REQUEST:()=>k,TDX_SCORE_RESPONSE:()=>H,TDX_SEQUENCE_NODE_ACTION_REQUEST:()=>U,TDX_SEQUENCE_NODE_ACTION_RESPONSE:()=>j,TDX_SEQUENCE_NODE_MESSAGE:()=>M,TDX_SEQUENCE_NODE_REQUEST:()=>w,TELEMETRY_DEVICE_TYPES:()=>Ss,TELEMETRY_ERROR_MESSAGE:()=>Ts,TELEMETRY_OS_TYPES:()=>_s,TELEMETRY_PAGE_ERROR:()=>Es,TELEMETRY_REQUEST:()=>us,TIMEONTASK:()=>Ye,TIME_ON_TASK:()=>Bt,TOP_BANNER:()=>Be,TYPE_ASSIGNMENT:()=>Ks,TYPE_CHAPTER:()=>Hs,TYPE_CHAPTER_QUIZ:()=>Bs,TYPE_CITE_ASSESSMENT:()=>zs,TYPE_LEARNINGTOOL:()=>tn,TYPE_MODULE:()=>ks,TYPE_MODULE_QUIZ:()=>js,TYPE_PAGE:()=>Fs,TYPE_QUIZ:()=>Ys,TYPE_READING:()=>Xs,TYPE_READING_QUIZ:()=>Vs,TYPE_SLATE:()=>Gs,TYPE_TDX:()=>Js,TYPE_TDX_ASSESSMENT:()=>Qs,TYPE_TDX_CONTINUOUS:()=>$s,TYPE_TDX_DISCRETE:()=>en,TYPE_UNKOWN:()=>qs,TYPE_WRITING_ASSIGNMENTS:()=>Zs,TYPE_WRITING_SPACE:()=>Ws,UNBOXING:()=>Ds,USER_LAST_LOCATION:()=>R,USER_LAST_LOCATION_REQUESTED:()=>st,USER_TELEMETRY:()=>ms,VIEWER_CONTENT_TYPE_CITE:()=>fe,VIEWER_CONTENT_TYPE_PXE:()=>Ce,ZEPPELIN_PARAMS:()=>Jn});const n="AUTH_VERIFIED",i="COURSE_SYNC_REQUESTED",a="ASSIGNMENT_LIST_REQUESTED",o="ASSIGNMENT_ASSET_REQUESTED",r="ASSIGNMENT_STATUS_REQUESTED",l="OVERALL_GRADE_SYNC_REQUESTED",c="OVERALL_GRADE_FETCHED",d="PREFERENCE_REQUESTED",p="BOOKMARK_REQUESTED",h="ASSIGNMENT_LIST_FETCHED",u="ASSIGNMENT_LIST_FETCHED_ERROR",g="ASSIGNMENT_ASSET_FETCHED",m="COURSE_DATA_FETCHED",E="ASSIGNMENT_PLAYLIST_REQUEST",T="ASSESSMENT_TYPES_REQUESTED",S="ASSESSMENT_TYPES_FETCHED",_="ASSESSMENT_STATUS_REQUEST",A="ASSESSMENT_STATUS_COMPLETED",I="TDX_QUIZ_REQUEST",C="ASSESSMENT_COMPLETED",f="ASSESSMENT_LAUNCHED",x="SUBMISSION_SAVE_REQUEST",y="MATERIAL_DATA_REQUEST",N="MATERIAL_DATA_FETCHED",P="CUSTOMIZED_TOC_UPDATED",v="MATERIAL_PLAYLIST_REQUEST",L="PLAYLIST_DATA_FETCHED",O="LOGIN_REQUESTED",R="USER_LAST_LOCATION",D="OPEN_GET_APP",b="revelEmptyState",w="TDX_SEQUENCE_NODE_REQUEST",M="TdxStatus",U="sequence-node-request",k="score-request",j="sequence-node-response",H="score-response",B="ACTIVITY_DATA_REQUEST",F="ACTIVITY_STATUS_REQUEST",G="HISTORY_REPLACE_REQUESTED",Y=84e4,V="lastViewedPage",W="type",z="assessments",Q="materialTab",K="NOT_AVAILABLE",q="NOT_ATTEMPTED",X="IN_PROGRESS",Z="COMPLETE_WORKED",J="COMPLETE_OVERRIDE",$="COMPLETE_PAST_DUE",ee="COMPLETE_LATE",te="CURRENT_QUESTION",se="COMPLETE_PAST_DUE_LATE",ne="AVAILABLE",ie="STARTED",ae="NOT_STARTED",oe="COMPLETE",re="INCOMPLETE",le="LATE",ce="STATUS_NA",de="UPCOMING",pe="PAST",he="DUE",ue="CORRECT",ge="PARTIAL_CORRECT",me="INCORRECT",Ee="COMPLETED",Te="SUBMITTED",Se=["CORRECT","INCORRECT","PARTIAL_CORRECT"],_e="ACCEPTED_LATE_WITH_PENALTY",Ae="LATE_PENALTY_APPLIED",Ie="ACCEPTED_LATE",Ce="PXE",fe="CITE",xe="SendToFrameEvent",ye="GLP",Ne="ILP",Pe="/images/default-book-cover.png",ve=15,Le=26,Oe="Open",Re="Close",De=95,be=50,we="source",Me="study",Ue="player",ke="DESKTOP_OS",je="IOS",He="Android",Be="TOP_BANNER",Fe="STUDY_TOP_BANNER",Ge="Windows Phone",Ye="TIMEONTASK",Ve="ta",We="TeachingAssistant",ze={ACTIONS:{LOAD:"load",UNLOAD:"unload",FEEDBACK:"feedback",LOADITEM_VIA_BUTTON:"Load Item via Button",LOADITEM_VIA_TITLE:"Load Item via Title",LOADITEM_VIA_REVIEW_BUTTON:"Review Item via Button",LOADITEM_VIA_REVIEW_TITLE:"Review Item via Title"},TYPE:{PAGE:"page",LEARNINGTOOL:"learningTool",QUIZ:"quiz"}},Qe="Revel",Ke="studypage",qe="REVEL_STUDY_GUIDE",Xe="Study",Ze="STUDY_SESSION",Je="GLOSSARY_REQUESTED",$e="GLOSSARY_DATA_FETCHED",et="PAGE_NUMBER_REQUESTED",tt="REFERENCE_REQUESTED",st="USER_LAST_LOCATION_REQUESTED",nt="Module/Section",it="Chapter",at="audioNavigationFrom",ot="navigationFrom",rt="audioId",lt="audioOffset",ct="audioIndex",dt="audioTitle",pt="audioUrn",ht="assignmentId",ut="assignmentRedirection",gt="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML",mt="annotationId",Et="courses",Tt="assignments",St="scores",_t="assignmentDetails",At="scoreDetails",It=80,Ct=70,ft="scheduled",xt="content",yt="glossary",Nt=10,Pt="dueDate",vt="all chapters",Lt="assignments",Ot=[{label:"VIEW_ASSIGNMENTS",value:Lt},{label:"VIEW_CHAPTERS",value:vt}],Rt="ASSIGNMENT_EMPTY_STATE",Dt="SCORE_EMPTY_STATE",bt="SCORE_EMPTY_NO_ASSIGNMENT_STATE",wt="SERVER_ERROR_STATE",Mt="IMMEDIATE_ASSIGNMENT_EMPTY_STATE",Ut="pageNumberLoaded",kt="FOOTNOTES_REQUESTED",jt="footnotes",Ht="FOOTNOTES_DATA_FETCHED",Bt={CONTENT_LOAD:"contentload",CONTENT_UN_LOAD:"contentunload",USER_UNLOADS_CONTENT:"UserUnloadsContent",USER_LOADS_CONTENT:"UserLoadsContent",MESSAGE_VERSION:"1.0.0",NAMESPACE:"common",PERSONIDTYPE:"PI",COURSESECTIONIDTYPE:"Registrar",DEEPLINK:{TRANSACTIONTYPECODE:"Create"},LEARNING_TOOL:{MESSAGE_VERSION:"2.0",LOAD:"Time_On_Task_User_Loads_Question",UNLOAD:"Time_On_Task_User_Unloads_Question",ASSESSMENT_SYSTEM_CODE:"PAF",ASSESSMENT_ITEM_QUESTION_TYPE:"vquiz",USER_ACTIVITY_CAUSING_UNLOAD:"User_Performs_Save_Event",DISPLAY_VERB:"autosaved",VERB_ID:"http://activitystrea.ms/schema/1.0/autosave",ACTIVITY:"activity"}},Ft="-LwRrkNnQ_xyiVTIif1L",Gt="APPCUES_REQUEST",Yt={IDENTIFY:"identify",PAGE:"page",TRACK_EVENT:"TRACK_EVENT"},Vt={FIRST_ASSESSMENT_COMPLETE:"FirstAssessmentComplete"},Wt="HELP_REQUESTED",zt="HELP_DATA_FETCHED",Qt={STUDENT:2,INSTRUCTOR:3},Kt=["MEDIAACTIVITY","WRITING_ASSIGNMENTS","GEOGEBRA","HELPDESK","ITSIMS","MINISIMS","SOUNDBYTES","DSMS","MVC","MVL","MVT","PIA","VQUIZ","ESSAY","SHAREDWRITINGQUESTION"],qt=["mvc","minisims","helpdesk","itsims","soundbytes","dsms","geogebra","mvl","mvt","pia"],Xt=["accounting-sims","criminal-justice-sims","digital-interactives","economics-sims","hospitality-sims","information-technology-sims","personal-finance-experience","psychology-sims","socialexplorer-explorations","qual-sims","video-library","myvirtual-child","myvirtual-life","socialexplorer-surveys","socialexplorer-pathways","exploring-solutions","survey","helpdesk","soundbytes","political-science-sims","case-study","dsm","communication-mini-sims"],Zt="SHARED_WRITING_ENTRIES",Jt="essay",$t="MediaActivity",es="vquiz",ts="tdx_discrete",ss="tdx_continuous",ns="summative",is="chapter_quiz",as="module_quiz",os="Quiz",rs="START",ls="REVIEW",cs="CONTINUE",ds="open",ps="closed",hs="PiUserId",us="TELEMETRY_REQUEST",gs="inittelemetry",ms="usertelemetry",Es="telemetrypageerror",Ts="Error Occured",Ss={DESKTOP:"Desktop",TABLET:"Tablet",PHONE:"Phone"},_s={WINDOWS:"Windows",MACINTOSH:"Macintosh",MACPOWERPC:"Mac_PowerPC"},As="DEEPLINK_DATA_REQUEST",Is="DEEPLINK_DATA_RESPONSE",Cs="DeepLinkingLaunch",fs="DeepLinkingAssessmentLaunch",xs="DEEPLINK_URL_REDIRECTED",ys="deeplinkredirect=success",Ns="PUSH_TO_DATALAYER",Ps="2.0.0",vs=20,Ls=100,Os="Registrar",Rs="Appcues",Ds="Unboxing",bs=["flow_started","step_started","step_interacted","step_completed","flow_completed","step_skipped","flow_skipped"],ws=["Quiz","Test","Homework","Diagnostic","Module","Slate","Narrative"],Ms="assessment",Us="journal_entries",ks="module",js="module_quiz",Hs="chapter",Bs="chapter_quiz",Fs="page",Gs="slate",Ys="quiz",Vs="READING_QUIZ",Ws="writing_space",zs="cite-assessment",Qs="tdx-assessment",Ks="assignment",qs="unknown",Xs="reading",Zs="writing_assignments",Js="tdx",$s="tdx_continuous",en="tdx_discrete",tn="learningTool",sn="LT",nn="LA",an="QUESTION LIST",on="SERVICE_ERROR",rn="tdxAssessmentItem",ln="HEADER_HIGHLIGHTS",cn={ASSIGNMENT:"Assignment",CONTENTS:"Contents",HISTORY:"History",NOTEBOOK:"Notebook",CLOSED:"closed",OPEN:"open",EXPANDED:"expanded",PANEL_WIDTH:495,SLP_PANEL_WIDTH:505},dn=3,pn=5,hn="ise.history",un={SCORE_NO_ASSIGNMENT:"/images/scores-no-assignment.svg",SCORE_NO_WORK_DONE:"/images/scores-no-work-done.svg",NO_ASSIGNMENT_LEFT:"/images/no-assignment-left.svg",NO_ASSIGNMENT:"/images/no-assignment.svg",STUDY:"/images/study.svg"},gn={FIGURE:"figure",VIDEO:"video",INTERACTIVE:"interactive"},mn={DEFAULT:"default",AKAROA:"akaroa",SEPHIA:"sephia",BLACK:"black",NIGHT:"night",SECONDARY:"secondary"},En="note",Tn="pagenumber",Sn="contents",_n="instructor",An="ta",In="student",Cn="INSTRUCTORVIEW",fn="instructorView",xn="deeplink",yn="inprogress",Nn="submit",Pn="completed",vn="Pi-Id",Ln="Correlation-Id",On="Activity-Id",Rn="Assessment-Id",Dn="Catalogue-Id",bn="Course-Id",wn="Assignment-Id",Mn="Platform",Un="actor",kn="custom_mode",jn="studentpreview",Hn="LAUNCHDARKLY_HASH_REQUEST",Bn="LAUNCHDARKLY_HASH_FETCHED",Fn="LAUNCHDARKLY_CALL_TRIGGERED",Gn="REFRESH_STUDY_ACCESS_TOKEN_EVENT",Yn=["UPCOMING","PAST","DUE"],Vn=!1,Wn="",zn="writingsolutions",Qn="video-submission",Kn="dashboard",qn="72",Xn="&nbsp;",Zn={TDX:"Tdx",ASSESSMENT:"Assessment",QUIZ:"Quiz"},Jn=["institutionId","organizationId","offerId"],$n="YYYY-MM-DD[T]HH:mm:ss.SSS[Z]",ei="NOT_FOUND",ti="ASSIGNMENT_NOT_READY",si="ASSIGNMENT_DELETED",ni=900,ii="getAppPromoDismissed",ai="execute-search",oi="showExportTagPopup",ri="System",li="&#xA0;",ci="audio",di="read",pi="assignment",hi="User location already exist",ui="https://www.pearson.com/en-gb/privacy-center.html"},97464:(e,t,s)=>{"use strict";s.d(t,{c:()=>v});var n=s(99584),i=s(32308),a=s(47164),o=(s(65652),s(584)),r=s(55960),l=s(91536),c=s(19480),d=s(17604),p=s(44092),h=s.n(p);const u=e=>({stayOnTopOfThing:{fontSize:"37px",color:e.palette.primary.contrastText,fontWeight:300,fontStretch:"normal",fontStyle:"normal",lineHeight:1.3,letterSpacing:"normal"},emptyStateText:{fontSize:"14px",color:e.palette.primary.contrastText,fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",lineHeight:1.71,letterSpacing:"normal",marginBottom:"16px"},whiteButton:{color:"#047a9c",fontWeight:600,fontStretch:"normal",fontStyle:"normal",lineHeight:"normal",letterSpacing:"0.32px",backgroundColor:e.palette.primary.contrastText,padding:"5px 16px"}});var g=s(97884);const m=(0,c.c)(u)((e=>{let{language:t,courseId:s,navigate:i,classes:a}=e;const c="/courses/".concat(s,"/contents"),p=(0,g.jsxs)("div",{className:"highlightsContainer",children:[(0,g.jsx)(d.c,{component:"h2",variant:"h1",className:"stayOnTopOfThing",classes:{root:a.stayOnTopOfThing},children:t.getText("emptyMsg.HEAD_START")}),(0,g.jsxs)("div",{className:"emptyStateText",children:[(0,g.jsx)(d.c,{variant:"body1",classes:{root:a.emptyStateText},id:"emptyStateText",children:t.getText("emptyMsg.NO_ASSIGNMENTS")}),(0,g.jsx)("div",{className:"navigationContainer",children:(0,g.jsx)(l.c,{className:a.button,onClick:e=>i(e,c),onKeyDown:e=>i(e,c),"aria-labelledby":"emptyStateText startReading",variant:"outlined",color:"secondary",size:"medium",id:"startReading",children:t.getText("emptyMsg.START_READING")})})]})]});return h().publish(o.HEADER_HIGHLIGHTS,{data:p}),(0,g.jsx)(n.Fragment,{children:(0,g.jsx)(r.LazyLoadImage,{src:o.EMPTY_STATE_IMAGES.NO_ASSIGNMENT,alt:""})})})),E=(0,c.c)(u)((e=>{let{language:t,courseId:s,navigate:i,classes:a}=e;const c="/courses/".concat(s,"/scores"),p=(0,g.jsxs)("div",{className:"highlightsContainer",children:[(0,g.jsx)(d.c,{component:"h2",variant:"h1",className:"stayOnTopOfThing seeHowYouDid",classes:{root:a.stayOnTopOfThing},children:t.getText("emptyMsg.HOW_YOU_DID")}),(0,g.jsxs)("div",{className:"emptyStateText allYourAssignments",children:[(0,g.jsx)(d.c,{variant:"body1",className:"stayOnTopOfThing seeHowYouDid",classes:{root:a.emptyStateText},id:"passedAssingmentText",children:t.getText("emptyMsg.PASSED_ASSIGNMENTS")}),(0,g.jsx)("div",{className:"navigationContainer",children:(0,g.jsx)(l.c,{className:a.button,onClick:e=>i(e,c),onKeyDown:e=>i(e,c),"aria-labelledby":"passedAssingmentText checkScores",variant:"outlined",color:"secondary",size:"medium",id:"checkScores",children:t.getText("emptyMsg.CHECK_SCORES")})})]})]});return h().publish(o.HEADER_HIGHLIGHTS,{data:p}),(0,g.jsx)(n.Fragment,{children:(0,g.jsx)(r.LazyLoadImage,{src:o.EMPTY_STATE_IMAGES.NO_ASSIGNMENT_LEFT,alt:""})})}));var T=s(45452),S=s(83440),_=s(96325),A=s(84028);const I=(e,t,s)=>{let n={width:"131px",height:"131px",margin:0},i={mode:"dark",label:e?s.getText("screens.scores.REVEL_SCORE"):null};return t&&(n={width:"140px",height:"140px"},i={mode:"light"}),(0,g.jsx)(A.c,{...i,percent:e,styles:{root:n}})},C=(0,i.uU)("language","user")((0,i.QT)((e=>{let{language:t,user:s}=e;const i=(0,g.jsx)(S.c,{theme:_.g5,children:(0,g.jsx)("div",{className:"nextDueItems",children:(0,g.jsx)("div",{className:"paperContainer",children:(0,g.jsx)("div",{className:"highlightsContainer",children:(0,g.jsxs)("div",{className:"nextDueAssignment",children:[I(null,!1,t),(0,g.jsxs)("div",{className:"scoreOverallContainer",children:[(0,g.jsx)(d.c,{component:"h2",variant:"h1",color:"secondary",children:(0,g.jsx)(T.FormattedMessage,{id:"goodLuckMessage",defaultMessage:t.getText("screens.assignments.CHECK_BACK"),values:{name:s.name}})}),(0,g.jsx)(d.c,{variant:"body2",color:"secondary",children:t.getText("emptyMsg.FINISH_ASSIGNMENT")})]})]})})})})});return h().publish(o.HEADER_HIGHLIGHTS,{data:i}),(0,g.jsx)(n.Fragment,{children:(0,g.jsx)(r.LazyLoadImage,{src:o.EMPTY_STATE_IMAGES.SCORE_NO_WORK_DONE,alt:""})})}))),f=(0,c.c)(u)((e=>{let{language:t}=e;const s=(0,g.jsx)(S.c,{theme:_.g5,children:(0,g.jsxs)("div",{className:"highlightsContainer textCenter",children:[(0,g.jsx)(d.c,{component:"h2",variant:"h1",color:"secondary",children:t.getText("emptyMsg.NO_REVEL_ASSIGNMENT")}),(0,g.jsx)(d.c,{variant:"body2",color:"secondary",children:t.getText("emptyMsg.CHECK_BACK")})]})});return h().publish(o.HEADER_HIGHLIGHTS,{data:s}),(0,g.jsx)(n.Fragment,{children:(0,g.jsx)(r.LazyLoadImage,{src:o.EMPTY_STATE_IMAGES.SCORE_NO_ASSIGNMENT,alt:""})})}));var x,y=s(92220),N=s(7170);let P=(0,i.uU)("language")(x=(0,i.QT)(x=class extends n.Component{constructor(){super(...arguments),this.handleNavigate=(e,t)=>{this.isClickOrKeyPress(e)&&this.props.history.push(t)},this.isClickOrKeyPress=e=>"click"===e.type||"keypress"===e.type&&("Space"===e.code||"Enter"===e.code),this.getErrorStatus=e=>{let t=!1;return e&&(t=404!==e&&400!==e),t},this.getStatusMessage=e=>e?this.props.language.getText("emptyMsg.SERVER_ERROR"):this.props.language.getText("emptyMsg.NO_ASSIGNMENTS"),this.renderEmptyState=()=>{const{statusCode:e,type:t,reload:s,theme:n,courseId:i,language:a}=this.props;if(this.getErrorStatus(e))return(0,g.jsx)(y.c,{...this.props,reload:s});switch(t){case o.ASSIGNMENT_EMPTY_STATE:return(0,g.jsx)(m,{theme:n,courseId:i,language:a,navigate:this.handleNavigate});case o.IMMEDIATE_ASSIGNMENT_EMPTY_STATE:return(0,g.jsx)(E,{theme:n,courseId:i,language:a,navigate:this.handleNavigate});case o.SCORE_EMPTY_STATE:return(0,g.jsx)(C,{});case o.SCORE_EMPTY_NO_ASSIGNMENT_STATE:return(0,g.jsx)(f,{language:a});case o.SERVER_ERROR_STATE:return(0,g.jsx)(y.c,{theme:n,language:a,reload:s});default:return null}}}render(){const e=this.renderEmptyState();return e&&N.default.helpData&&N.default.helpData.setHelpEmptyState(!0),(0,g.jsx)("div",{className:"emptyMessage",children:e})}})||x)||x;const v=(0,a.c)(P)},92220:(e,t,s)=>{"use strict";s.d(t,{c:()=>l});var n=s(99584),i=s(91536),a=s(19480),o=s(55960),r=(s(65652),s(97884));const l=(0,a.c)((e=>({button:{width:"150px",padding:"6px 20px",borderRadius:"50px",textTransform:"none",color:e.colors.bannerButtonLabel,fontSize:"16px",fontWeight:e.font.fontWeightLarge,fontFamily:e.font.fontFamily,backgroundColor:e.colors.raisedButtonColor,"&:hover":{backgroundColor:e.colors.raisedButtonHoverColor}}})))((e=>{let{language:t,reload:s,classes:a}=e;return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(o.LazyLoadImage,{className:"warningIcon",src:"/images/warning-icon.svg",alt:""}),(0,r.jsx)("p",{className:"stayOnTopOfThing errorHead",children:t.getText("emptyMsg.SERVER_ERROR_HEAD")}),(0,r.jsxs)("div",{className:"emptyStateText",children:[t.getText("emptyMsg.SERVER_ERROR"),(0,r.jsx)("div",{className:"navigationContainer",children:(0,r.jsx)(i.c,{className:a.button,onClick:s||null,onKeyDown:s||null,"aria-label":t.getText("emptyMsg.SERVER_ERROR"),variant:"contained",size:"medium",children:t.getText("emptyMsg.TRY_AGAIN")})})]})]})}))},54840:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(584);const i={NAME:"stg",CLIENT_APP:"ISE",PASSPORT_CHECK_REQUIRED:!0,PRODUCT_MODEL:"revel",HEADER_OPTIONS:[],ENABLE_THEME:!0,CONTENT_PATH:"assignments",SHOW_PROGRESS:!0,CARD_HEADER:!1,CARD_FOOTER:!0,SHOW_TITLE:!1,SHOW_COURSE_IN_MATERIALS:!1,SHOW_QUIZ_DUE:!0,SHOW_TIME:!0,SHOW_PAST_DUE:!0,USE_EXTERNAL_VIEWER:!1,MOCK_CITE:!1,INKBAR_COLOR:"teal",SHOW_ANNOTATION_LABEL:!0,ENABLE_PRINT_PAGE_NUMBERS:!1,ENABLE_SHOWHIDE_ANNOTATION:!1,ENABLE_LAST_LEFT_OFF:!0,USE_AUTOBAHN:!1,ENABLE_QUICK_VIEW:!0,CORRELATION_ID_PREFIX:"RVGV",CONSOLE_URL:"https://console-stg.pearson.com",LOGIN_STATIC:"https://loginstatic-stg.pearson.com",ZEPPELIN_URL:"https://zeppelin.stg-openclass.com/products",PXE_SCRIPT:"".concat(window.location.origin,"/pxe/js/default.js"),PAF_PREFIX:"https://repo.paf.cert.pearsoncmg.com/paf-repo/resources/activities/",COURSE_SYNC_REQUESTED:n.COURSE_SYNC_REQUESTED,ASSIGNMENT_LIST_REQUESTED:n.ASSIGNMENT_LIST_REQUESTED,MATERIAL_DATA_REQUEST:n.MATERIAL_DATA_REQUEST,TIME_ON_TASK_REQUEST:n.TIMEONTASK,VIEWER_APP_BASE_URL:"https://etext-stg.pearson.com/eplayer",PI_BASE_URL:"https://login-stg.pearson.com/v1/piapi-int",LAS_API_BASE_URL:"https://las-ilp-stg.stg-openclass.com",INSTRUCTOR_APP_BASE_URL:"https://revel-ilp-stg.pearson.com",ASSESSMENT_COMPOSITE_API_BASE_URL:"https://assessmentcomposite-cert.stg-prsn.com",GLP_CITE_ASSESSMENT_CLIENT_URL:"https://acs.dev-prsn.com",CITE_ASSESSMENT_CLIENT_URL:"https://playerdev.intellipro.com",CONTENT_PROTECTED:!0,REVEL_CONTENT_HOST:"https://".concat(window.location.host),SCAPI_CONTENT_BASE_URL:"https://staging.api.pearson.com/content/scapi",MANIFEST_BASE_URL:"https://staging.api.pearson.com/manifest/v2",CITE_CONTENT_BASE_URL:"https://epspqa.stg-openclass.com/eps/sanvan/api/item",ERPS_API_BASE_URL:"https://etext-stg.pearson.com/api/nextext-api/v1/api",READER_API_BASE_URL:"https://pxe-services-stg.pearson.com/services-api/api/3.1",CSG_API_BASE_URL:"https://content-service.stg-prsn.com/csg/api",PLA_BASE_URL:"https://spacedrepservice-stg.pla.pearsondev.tech/v1/flashcards/mmi/",SPECTRUM_API_BASE_URL:"https://spectrum-stg.pearsoned.com/api/v4",SPECTRUM_API_USER_LOCATION_BASE_URL:"https://spectrum-stg.pearsoned.com/api/v4",RANDOM_KEY:Math.floor(Date.now()/3600),GRADEBOOK_API_BASE_URL:"https://gradebook-stg.pearsoned.com/",TIMEOUT:2e4,TOC_DEPTH:2,TOC_DEPTH_CITE:2,AUDIO_TOC_DEPTH:3,ASSIGNMENTS_INCLUDE_TREE:!1,GTM_CONTAINER_ID:"GTM-K926DKV",newCiteManifestFormat:!1,ENABLE_INLINE_INTERATIVES:!0,HIDE_HEADER_ICONS:!1,BRIX_CLIENT_URL:"https://grid-static-stg.pearson.com/11-thinclient/0.0.0/js/brixClient-3.7.4.js",THIN_CLIENT_URL:"/brix/thinclientStg.html",HIDE_NAVIGATION_ONSCROLL:!0,TIBURON_API_BASE_URL:"https://tiburon-stg.stg-prsn.com/api/1.0",TIBURON_GQL_URL:"https://revel-ise-stg.pearson.com/tiburon/graphql",E2E_SCRIPT_BASE_URL:"https://e2e-comms-stg.pearson.com",E2E_OSB_CHECKER_SCRIPT_SRC:"https://e2e-comms-stg.pearson.com/osbrowserchecker/stg/checker-module.min.js",E2E_OSB_CHECKER_STYLE_SRC:"https://e2e-comms-stg.pearson.com/osbrowserchecker/stg/checker-module.min.css",E2E_OSB_CHECKER_SYSTEM_REQ_URL:"https://www.pearsonmylabandmastering.com/global/system-requirements/",APPLICATION_ID:"ise",INSTALL_APPCUES:!0,APPCUES_URL:"//fast.appcues.com/47989.js",APPCUES_GA_ON:!0,HELP_MENU_SAMPLE_TOPIC:"https://help.pearsoncmg.com",HELP_CONTACT_SUPPORT_LINK:"https://support.pearson.com/getsupport/s/",HELP_CENTER_LINK:"http://helpdev.pearsoncmg.com/glp/en-us/pearson/student/Content/",SHOW_RESET_ORIGINAL:!0,SHOW_MOVE_TO_OPTIONAL_MATERIAL:!0,TELEMETRY_ON:!0,ENABLE_OPTIONAL_MATERIALS:!1,RESTRICT_DUPLICATE_PAGE:!1,ACCOUNT_SETTINGS_URL:"https://console-stg.pearson.com/account/manage/account",TERMS_OF_USE_URL:"https://login-stg.pearson.com/v1/piapi-int/policies/static/html/PearsonEULA.html",PRIVACY_URL:"https://login-stg.pearson.com/v1/piapi-int/policies/static/html/PearsonPrivacyPolicy.html",ACCESSIBILITY:"https://www.pearsonhighered.com/revel/accessibility",SCHEDULED_MAINTENANCE:[],NEWRELIC_URL:"/newrelic/newrelic.v3.js",NEWRELIC_ON:!1,GLP_PLA_CONFIG_URL:"https://stg-ale-ais-config-service.pla.pearsondev.tech",getPiCLientId(){return this.REVEL_PI_CLIENT_ID},getContentBaseUrl(){return"".concat(this.REVEL_CONTENT_HOST,"/eps/sanvan/api/item")},getContentBaseUrlCite(){return"".concat(this.REVEL_CONTENT_HOST,"/eps/sanvan/api")},getContentProtectionCheck(){return this.CONTENT_PROTECTED}}},49623:(e,t,s)=>{"use strict";s.d(t,{c:()=>E});var n=s(54840);const i={LAS_API_BASE_URL:"https://revel-ise-qac.pearson.com",INSTRUCTOR_APP_BASE_URL:"https://revel-ilp-qac.pearson.com",ASSESSMENT_COMPOSITE_API_BASE_URL:"https://assessmentcomposite-qac.dev-prsn.com",GRADEBOOK_API_BASE_URL:"https://gradebook-qac.pearsoned.com",ACTIVITY_COMPOSITE_BASE_URL:"https://activitycomposite-v1-qab.dev-prsn.com/activities/",SETTING_SERVER_URL:"https://settings-microservice-qa.dev-prsn.com/",CHATBOT_URL:"https://chatclientbot-v1-qab.dev-prsn.com/",DIALOG_UI_BASE_URL:"https://dialogui-v1-qab.dev-prsn.com/",DIALOG_SERVICE_BASE_URL:"https://dialogmanagerservice-v1-qab.dev-prsn.com",CHAT_SERVICE_BASE_URL:"https://chatservice-v1-qab.dev-prsn.com/",CSG_API_BASE_URL:"https://content-service-qa.stg-prsn.com/csg/api",ENABLE_QUICK_VIEW:!1,TIBURON_API_BASE_URL:"https://revel-ise-qac.pearson.com/tiburon/api/1.0"},a={NAME:"qa",LAS_API_BASE_URL:"https://revel-ise-qa-int.pearson.com",INSTRUCTOR_APP_BASE_URL:"https://revel-ilp-qad.pearson.com",PI_BASE_URL:"https://login-qa.pearson.com/v1/piapi-test",CONSOLE_URL:"https://console-qa.pearson.com",LOGIN_STATIC:"https://loginstatic-qa.pearson.com",GLP_CITE_ASSESSMENT_CLIENT_URL:"https://acs-qa.dev-prsn.com",CITE_ASSESSMENT_CLIENT_URL:"https://tdx-qa.intellipro.com",ERPS_API_BASE_URL:"https://etext-qa-stg.pearson.com/api/nextext-api/v1/api",ZEPPELIN_URL:"https://zeppelin-qa.dev-openclass.com/products",PAF_PREFIX:"https://pafrepoqa.dev-prsn.com/paf-repo/resources/activities/",SPECTRUM_API_BASE_URL:"https://spectrum-qa.pearsoned.com/api/v4",SPECTRUM_API_USER_LOCATION_BASE_URL:"https://spectrum-qa.pearsoned.com/api/v4",ASSESSMENT_COMPOSITE_API_BASE_URL:"https://assessmentcomposite-qad.dev-prsn.com",GRADEBOOK_API_BASE_URL:"https://gradebook-qad.pearsoned.com",ACTIVITY_COMPOSITE_BASE_URL:"https://activitycomposite-v1-qab.dev-prsn.com/activities/",SETTING_SERVER_URL:"https://settings-qad.dev-openclass.com",CHATBOT_URL:"https://chatclientbot-v1-qab.dev-prsn.com/",DIALOG_UI_BASE_URL:"https://dialogui-v1-qab.dev-prsn.com/",DIALOG_SERVICE_BASE_URL:"https://dialogmanagerservice-v1-qab.dev-prsn.com",CHAT_SERVICE_BASE_URL:"https://chatservice-v1-qab.dev-prsn.com/",CSG_API_BASE_URL:"https://content-service-qa-revel.stg-prsn.com/csg/api",PLA_BASE_URL:"https://spacedrepservice-qa-int.pla.pearsondev.tech/v1/flashcards/mmi/",TIBURON_API_BASE_URL:"https://revel-ise-qa-int.pearson.com/tiburon/api/1.0",TIBURON_GQL_URL:"https://revel-ise-qa-int.pearson.com/tiburon/graphql",GLP_API_BASE_URL:"https://beta-qa.pearson.com",ACCOUNT_SETTINGS_URL:"https://console-qa.pearson.com/account/manage/account",TERMS_OF_USE_URL:"https://login-qa.pearson.com/v1/piapi-test/policies/static/html/PearsonEULA.html",PRIVACY_URL:"https://login-qa.pearson.com/v1/piapi-test/policies/static/html/PearsonPrivacyPolicy.html",NEWRELIC_ON:!0,newRelicConfig:{accountId:693300,trustKey:691807,agentId:556980555,licenseKey:"d6db832bf0",applicationID:556980555},LD_CLIENT_SIDE_ID:"5eb06aa8a049000a760eb0dc",LD_ANONYMOUS_USER_ID:"revel_ise_anonymous_qaint_user",LD_ANONYMOUS_HASH:"0e36d47a6e87fff7d7bfded6d7e5488de59a7249f806e5a6c3c7bf78f06580d1",GLP_PLA_CONFIG_URL:"https://qa-ale-ais-config-service.pla.pearsondev.tech",SPECTRUM_API_CALLER_ID:"975d6e00-d04b-11e8-a8d5-f2801f1b9fd1",REVEL_PI_CLIENT_ID:"Gs5nCGqoqwdiccJSkVYAivHK65PCbQ0m",LAS_API_KEY:"ba09cf335cebdf1c48f565422ab3fcab",SCAPI_APIKEY:"xdsuvkxAbU3lGP6X4XDwTdGrwwrIH0Gv",MANIFEST_API_KEY:"INpAP0MaiVP9Rohy4rB0ue3j2SGE3Abk",REVEL_CITE_SPECTRUM_CALLER_ID:"75581e7c-d04b-11e8-a8d5-f2801f1b9fd1",REVEL_PXE_SPECTRUM_CALLER_ID:"755820f2-d04b-11e8-a8d5-f2801f1b9fd1",GTM_AUTH:"7ZdPSwkMvm76O-E2mvzeew",GTM_PREVIEW:"env-78",X_TENANT_KEY:"f86d6b71-5361-4a76-a99f-2d842277c2a7",X_TENANT_ID:"3059e134-2eaa-4771-a178-a9e10d8df120",X_TENANT_V4_KEY:"f86d6b71-5361-4a76-a99f-2d842277c2a7",X_TENANT_V4_ID:"3059e134-2eaa-4771-a178-a9e10d8df120"},o={LAS_API_BASE_URL:"https://las-ilp-qa.dev-openclass.com",INSTRUCTOR_APP_BASE_URL:"https://revel-ilp-qa.pearson.com",ASSESSMENT_COMPOSITE_API_BASE_URL:"https://assessmentcomposite-qa.dev-prsn.com",GRADEBOOK_API_BASE_URL:"https://gradebook-qa.pearsoned.com",ENABLE_THEME:!0,BRIX_CLIENT_URL:"https://grid-static-stg.pearson.com/11-thinclientqa/0.0.0/js/brixClient-3.7.4.js",THIN_CLIENT_URL:"/brix/thinclientQa.html",TIBURON_API_BASE_URL:"https://revel-ise-qa.pearson.com/tiburon/api/1.0",TIBURON_GQL_URL:"https://revel-ise-qa.pearson.com/tiburon/graphql",ACCOUNT_SETTINGS_URL:"https://console-stg.pearson.com/account/manage/account"},r={INSTRUCTOR_APP_BASE_URL:"https://s.codepen.io",LAS_API_BASE_URL:"https://revel-ise-dev.pearson.com",PI_BASE_URL:"https://login-qa.pearson.com/v1/piapi-test",CONSOLE_URL:"https://console-qa.pearsoned.com",LOGIN_STATIC:"https://loginstatic-qa.pearson.com",CITE_ASSESSMENT_CLIENT_URL:"https://tdx-qa.intellipro.com",GLP_CITE_ASSESSMENT_CLIENT_URL:"https://acs-qa.dev-prsn.com",ERPS_API_BASE_URL:"https://etext-qa-stg.pearson.com/api/nextext-api/v1/api",ZEPPELIN_URL:"https://zeppelin-qa.dev-openclass.com/products",PAF_PREFIX:"https://pafrepoqa.dev-prsn.com/paf-repo/resources/activities/",SPECTRUM_API_BASE_URL:"https://spectrum-qa.pearsoned.com/api/v4",ASSESSMENT_COMPOSITE_API_BASE_URL:"https://assessmentcomposite-qad.dev-prsn.com",GRADEBOOK_API_BASE_URL:"https://gradebook-qad.pearsoned.com",ACTIVITY_COMPOSITE_BASE_URL:"https://activitycomposite-v1-qab.dev-prsn.com/activities/",SETTING_SERVER_URL:"https://settings-qad.dev-openclass.com",CHATBOT_URL:"https://chatclientbot-v1-qab.dev-prsn.com/",DIALOG_UI_BASE_URL:"https://dialogui-v1-qab.dev-prsn.com/",DIALOG_SERVICE_BASE_URL:"https://dialogmanagerservice-v1-qab.dev-prsn.com",CHAT_SERVICE_BASE_URL:"https://chatservice-v1-qab.dev-prsn.com/",CSG_API_BASE_URL:"https://content-service-qa-revel.stg-prsn.com/csg/api",PLA_BASE_URL:"https://spacedrepservice-qa-int.pla.pearsondev.tech/v1/flashcards/mmi/",TIBURON_ON:!0,TIBURON_API_BASE_URL:"https://revel-ise-dev.pearson.com/tiburon/api/1.0",TIBURON_GQL_URL:"https://revel-ise-dev.pearson.com/tiburon/graphql",GLP_API_BASE_URL:"https://glp-api-dev.pearson.com",NEWRELIC_ON:!0,newRelicConfig:{accountId:693300,trustKey:691807,agentId:623695695,licenseKey:"d6db832bf0",applicationID:623695695}},l={...a,TIBURON_API_BASE_URL:"https://revel-ise-qa-int.pearson.com/tiburon/api/1.0",REVEL_CONTENT_HOST:"https://epspqa.stg-openclass.com",CONTENT_PROTECTED:!1},c={CONTENT_PROTECTED:!0,LAS_API_BASE_URL:"https://revel-ise-stg.pearson.com",REVEL_CONTENT_HOST:"https://revel-ise-stg.pearson.com",CITE_ASSESSMENT_CLIENT_URL:"https://xlitemcert.pearsoncmg.com",GLP_CITE_ASSESSMENT_CLIENT_URL:"https://acs.stg-prsn.com",TIBURON_API_BASE_URL:"https://revel-ise-stg.pearson.com/tiburon/api/1.0",TIBURON_GQL_URL:"https://revel-ise-stg.pearson.com/tiburon/graphql",GLP_API_BASE_URL:"https://beta-stg.pearson.com",ACCOUNT_SETTINGS_URL:"https://console-stg.pearson.com/account/manage/account",NEWRELIC_ON:!0,newRelicConfig:{accountId:693300,trustKey:691807,agentId:507945931,licenseKey:"d6db832bf0",applicationID:507945931},LD_CLIENT_SIDE_ID:"5eb93e6bfe8ef30a8583ceea",LD_ANONYMOUS_USER_ID:"revel_ise_anonymous_stg_user",LD_ANONYMOUS_HASH:"56e40633985a0d4d6815a0c984db241cc431ad2a526e9b7c9fbcf3ceadf352c9",GLP_PLA_CONFIG_URL:"https://stg-ale-ais-config-service.pla.pearsondev.tech",SPECTRUM_API_CALLER_ID:"975d6e00-d04b-11e8-a8d5-f2801f1b9fd1",REVEL_PI_CLIENT_ID:"Gs5nCGqoqwdiccJSkVYAivHK65PCbQ0m",LAS_API_KEY:"ba09cf335cebdf1c48f565422ab3fcab",SCAPI_APIKEY:"xdsuvkxAbU3lGP6X4XDwTdGrwwrIH0Gv",MANIFEST_API_KEY:"INpAP0MaiVP9Rohy4rB0ue3j2SGE3Abk",REVEL_CITE_SPECTRUM_CALLER_ID:"975d6cac-d04b-11e8-a8d5-f2801f1b9fd1",REVEL_PXE_SPECTRUM_CALLER_ID:"975d6e00-d04b-11e8-a8d5-f2801f1b9fd1",GTM_AUTH:"XWOKKQGA9Y47y_NPmgF1-A",GTM_PREVIEW:"env-79",X_TENANT_KEY:"cc498a86-13c5-49ef-a854-f45bdf1e95ab",X_TENANT_ID:"ec858a7d-f32a-4ec5-9a34-41b14cdcce7b",X_TENANT_V4_KEY:"0be1398d-8ae4-40b7-a5b1-1012cca0860d",X_TENANT_V4_ID:"ec858a7d-f32a-4ec5-9a34-41b14cdcce7b"},d={NAME:"ppe",CONTENT_PROTECTED:!0,PI_BASE_URL:"https://pi-pqa.pearsoned.com/v1/piapi-pqa",CONSOLE_URL:"https://console-perf.pearson.com",LOGIN_STATIC:"https://loginstatic-ppe.pearson.com",CSG_API_BASE_URL:"https://content-service-perf.stg-prsn.com/csg/api",LAS_API_BASE_URL:"https://revel-ise-ppe.pearson.com",INSTRUCTOR_APP_BASE_URL:"https://revel-ilp-ppe.pearson.com",GLP_CITE_ASSESSMENT_CLIENT_URL:"https://acs-ppe.stg-prsn.com",BRIX_CLIENT_URL:"https://grid-static-stg.pearson.com/11-thinclientppe/0.0.0/js/brixClient-3.7.4.js",THIN_CLIENT_URL:"/brix/thinclientPpe.html",CITE_ASSESSMENT_CLIENT_URL:"https://acs-ppe.stg-prsn.com",PAF_PREFIX:"https://repo.paf.ppe.pearsoncmg.com/paf-repo/resources/activities/",ASSESSMENT_COMPOSITE_API_BASE_URL:"https://assessmentcomposite.stg-prsn.com",TIBURON_API_BASE_URL:"https://revel-ise-ppe.pearson.com/tiburon/api/1.0",TIBURON_GQL_URL:"https://revel-ise-ppe.pearson.com/tiburon/graphql",GLP_API_BASE_URL:"https://beta-nft.pearson.com",ACCOUNT_SETTINGS_URL:"https://console-perf.pearson.com/account/manage/account",ZEPPELIN_URL:"https://zeppelin-perf.stg-openclass.com/products",PLA_BASE_URL:"https://spacedrepservice-prf.pla.pearsondev.tech/v1/flashcards/mmi/",SPECTRUM_API_BASE_URL:"https://spectrum-ppe.pearsoned.com/api/v4",SPECTRUM_API_USER_LOCATION_BASE_URL:"https://spectrum-ppe.pearsoned.com/api/v4",NEWRELIC_ON:!0,newRelicConfig:{accountId:693300,trustKey:691807,agentId:556976994,licenseKey:"d6db832bf0",applicationID:556976994},LD_CLIENT_SIDE_ID:"5eb93eb4fe8ef30a8583cf04",LD_ANONYMOUS_USER_ID:"revel_ise_anonymous_ppe_user",LD_ANONYMOUS_HASH:"1deaa299fc7de26f13c9b77b8d75e857fbdfcc9662bc4cb8acc375f0bb3ebace",GLP_PLA_CONFIG_URL:"https://vol-ale-ais-config-service.pla.pearsondev.tech",SPECTRUM_API_CALLER_ID:"56c1152f-e579-475c-98a6-71ae56acd135",REVEL_PI_CLIENT_ID:"Gs5nCGqoqwdiccJSkVYAivHK65PCbQ0m",LAS_API_KEY:"ba09cf335cebdf1c48f565422ab3fcab",SCAPI_APIKEY:"xdsuvkxAbU3lGP6X4XDwTdGrwwrIH0Gv",MANIFEST_API_KEY:"INpAP0MaiVP9Rohy4rB0ue3j2SGE3Abk",REVEL_CITE_SPECTRUM_CALLER_ID:"51c82282-90d1-42b9-b4ed-0249b59645d3",REVEL_PXE_SPECTRUM_CALLER_ID:"56c1152f-e579-475c-98a6-71ae56acd135",GTM_AUTH:"iMiAi_DCiLPe7HQltUny3w",GTM_PREVIEW:"env-80",X_TENANT_KEY:"379e0074-8bfb-4969-a04b-33f3f5a4626a",X_TENANT_ID:"7e1e27ca-abcb-4c94-a931-6a3497fc2c65",X_TENANT_V4_KEY:"2d9c66c9-28fd-460e-b95d-7b5a62a0830e",X_TENANT_V4_ID:"7e1e27ca-abcb-4c94-a931-6a3497fc2c65"},p={NAME:"prod",CONTENT_PROTECTED:!0,GTM_CONTAINER_ID:"GTM-K926DKV",CONSOLE_URL:"https://console.pearson.com",LOGIN_STATIC:"https://loginstatic.pearson.com",ZEPPELIN_URL:"https://product-transaction.openclass.com/products",PAF_PREFIX:"https://repo.paf.pearsoncmg.com/paf-repo/resources/activities/",VIEWER_APP_BASE_URL:"https://etext.pearson.com/eplayer",PI_BASE_URL:"https://pi.pearsoned.com/v1/piapi",LAS_API_BASE_URL:"https://revel-ise.pearson.com",REVEL_CONTENT_HOST:"https://revel-ise.pearson.com",INSTRUCTOR_APP_BASE_URL:"https://revel.pearson.com",CITE_ASSESSMENT_CLIENT_URL:"https://xlitemprod.pearsoncmg.com",GLP_CITE_ASSESSMENT_CLIENT_URL:"https://acs.prd-prsn.com",ASSESSMENT_COMPOSITE_API_BASE_URL:"https://assessmentcomposite.prd-prsn.com",ACTIVITY_COMPOSITE_BASE_URL:"https://activitycomposite.prd-prsn.com/activities/",SETTING_SERVER_URL:"https://settings-aip.prd-prsn.com/",CHATBOT_URL:"https://chatclientbot.prd-prsn.com/",DIALOG_UI_BASE_URL:"https://dialogui.prd-prsn.com/",DIALOG_SERVICE_BASE_URL:"https://dialogmanagerservice.prd-prsn.com",CHAT_SERVICE_BASE_URL:"https://chatservice.prd-prsn.com/",ERPS_API_BASE_URL:"https://etext.pearson.com/api/nextext-api/v1/api",READER_API_BASE_URL:"https://pxe-services.pearson.com/services-api/api/3.1",CSG_API_BASE_URL:"https://content-service.prd-prsn.com/csg/api",PLA_BASE_URL:"https://spacedrepservice.pla.pearsonprd.tech/v1/flashcards/mmi/",SPECTRUM_API_BASE_URL:"https://spectrum.pearsoned.com/api/v4",SPECTRUM_API_USER_LOCATION_BASE_URL:"https://spectrum.pearsoned.com/api/v4",GRADEBOOK_API_BASE_URL:"https://gradebook.pearsoned.com",RANDOM_KEY:Math.floor(Date.now()/36e5),E2E_SCRIPT_BASE_URL:"https://e2e-comms.pearson.com",E2E_OSB_CHECKER_SCRIPT_SRC:"https://e2e-comms.pearson.com/osbrowserchecker/prd/checker-module.min.js",E2E_OSB_CHECKER_STYLE_SRC:"https://e2e-comms.pearson.com/osbrowserchecker/prd/checker-module.min.css",BRIX_CLIENT_URL:"https://grid-static.pearson.com/11-thinclient/0.0.0/js/brixClient-3.7.4.js",THIN_CLIENT_URL:"/brix/thinclient.html",MANIFEST_BASE_URL:"https://api.pearson.com/manifest/v2",TIBURON_API_BASE_URL:"https://revel-ise.pearson.com/tiburon/api/1.0",TIBURON_GQL_URL:"https://revel-ise.pearson.com/tiburon/graphql",GLP_API_BASE_URL:"https://glp-api.pearson.com",ACCOUNT_SETTINGS_URL:"https://console.pearson.com/account/manage/account",TERMS_OF_USE_URL:"https://pi.pearsoned.com/v1/piapi/policies/static/html/PearsonEULA.html",PRIVACY_URL:"https://pi.pearsoned.com/v1/piapi/policies/static/html/PearsonPrivacyPolicy.html",NEWRELIC_ON:!0,newRelicConfig:{accountId:1322480,trustKey:691807,agentId:568200316,licenseKey:"d527718953",applicationID:568200316},LD_CLIENT_SIDE_ID:"5eb06aa8a049000a760eb0dd",LD_ANONYMOUS_USER_ID:"revel_ise_anonymous_prod_user",LD_ANONYMOUS_HASH:"f0ac17a6e25ec59bf087ed9e8a77ff515d4e812fd22b49bbf2f3ee67bb4a6132",GLP_PLA_CONFIG_URL:"https://prd-ale-ais-config-service.pla.pearsonprd.tech",SPECTRUM_API_CALLER_ID:"dbfe8684-d04b-11e8-a8d5-f2801f1b9fd1",REVEL_PI_CLIENT_ID:"0t70q5OoJ630oxKAeolEX0n4MYiTV2oU",LAS_API_KEY:"ba09cf335cebdf1c48f565422ab3fcab",SCAPI_APIKEY:"xdsuvkxAbU3lGP6X4XDwTdGrwwrIH0Gv",MANIFEST_API_KEY:"DUPxYMW18z1BgT2s5Qe5nVjBFGPudP9u",REVEL_CITE_SPECTRUM_CALLER_ID:"dbfe851c-d04b-11e8-a8d5-f2801f1b9fd1",REVEL_PXE_SPECTRUM_CALLER_ID:"dbfe8684-d04b-11e8-a8d5-f2801f1b9fd1",GTM_AUTH:"3qg9z-iB_CDyYPiJkSJYTw",GTM_PREVIEW:"env-2",X_TENANT_KEY:"379e0074-8bfb-4969-a04b-33f3f5a4626a",X_TENANT_ID:"7e1e27ca-abcb-4c94-a931-6a3497fc2c65",X_TENANT_V4_KEY:"2d9c66c9-28fd-460e-b95d-7b5a62a0830e",X_TENANT_V4_ID:"7e1e27ca-abcb-4c94-a931-6a3497fc2c65"};var h=s(584);const u={PRODUCT_MODEL:"revel",PRODUCT_TITLE:"Revel",SHOW_COURSE_IN_MATERIALS:!0,HEADER_OPTIONS:["assignments","contents","notes","study","scores"],HEADER_OPTIONS_SLP:["dashboard","notes","study","scores"],INKBAR_COLOR:"black",IOS_STORE_LINK:"https://itunes.apple.com/us/app/revel-by-pearson/id1088745696?mt=8",PLAY_STORE_LINK:"https://play.google.com/store/apps/details?id=com.pearsoned.andromeda&hl=en",SHOW_ANNOTATION_LABEL:!1,HIDE_HEADER_ICONS:!0,URN_PREFIX:"-id_toc",OPS_PREFIX:"/OPS/",ENABLE_PRINT_PAGE_NUMBERS:!1,ENABLE_THEME:!1,ENABLE_CHAPTER:!1,ENABLE_LAST_LEFT_OFF:!0,ENABLE_QUICK_VIEW:!0,SEARCH_EMPTY_MESSAGE:h.REVEL_SEARCH_EMPTY_MESSAGE,HIDE_NAVIGATION_ONSCROLL:!1,setXcallerId(e){this.SPECTRUM_API_CALLER_ID=e===h.VIEWER_CONTENT_TYPE_CITE?this.REVEL_CITE_SPECTRUM_CALLER_ID:this.REVEL_PXE_SPECTRUM_CALLER_ID},getScriptsToInject:e=>e?[h.MATHML_SCRIPT_URL]:[],COMMS_PRODUCTS:["revel"],BROWSER_MATRIX_MODEL:"Revel",E2E_OSB_CHECKER_SYSTEM_REQ_URL:"https://www.pearsonhighered.com/revel/students/support/system-requirements/",NOTES_PRODUCT_MODEL:"REVEL",NOTIFICATION_URL:"notification",LD_HIDE_STACK_TRACE:"hide-stack-trace-ise-4815",LD_CLIENT_SIDE_ID:"5eb06aa8a049000a760eb0dc",LD_ANONYMOUS_USER_ID:"revel_ise_anonymous_qaint_user",LD_ANONYMOUS_HASH:"0e36d47a6e87fff7d7bfded6d7e5488de59a7249f806e5a6c3c7bf78f06580d1",LD_ENABLE_OPTIMISED_API:"enable-optimised-api-ise-5175",LD_ENABLE_GLP_MAINTENANCE:"enable-glp-maintenance-ise-4463",LD_ENABLE_ILP_MAINTENANCE:"enable-ilp-maintenance-ise-4463",LD_ENABLE_DOWNTIME_MAINTENANCE:"enable-downtime-maintenance-ise-5476",LD_ENABLE_SLP:"enable-simplified-learning-path-ise-5414",LD_ENABLE_SLP_FOR_COURSE_IDS:"enable-simplified-learning-path-for-course-ids",LD_SEND_DOWN_TIME_PROPERTY_TO_APPCUES:"send-down-time-property-to-appcues-ise-6524",LD_ENABLE_SCORE_PENDING:"enable-score-pending-message-revel-1189",LD_ENABLE_DEEPLINK:"enable-deeplink-revel-1407",LD_HIDE_MOBILE_BANNER:"hide-mobile-banner-revel-5416",LD_ENABLE_ZOOMIN:"enable-zoomin-for-in-product-help-REVEL-10134",LD_DISABLE_STATUSCAST:"disable-statuscast-banner-for-ise-revel-10084"};let g,m;switch(window.location.hostname){case"localhost":case"local-dev.pearson.com":case"revel-local.pearson.com":g=l,m=u;break;case"revel-ise-dev.pearson.com":case"ise-dev.pearson.com":g=r,m=u;break;case"revel-ise-qa.pearson.com":g=o,m=u;break;case"greenville.stg-openclass.com":case"revel-ise-qac.pearson.com":g=i,m=u;break;case"revel-ise-qa-int.pearson.com":case"ise.rse-qaint.pearsondev.tech":g=a,m=u;break;case"revel-ise-ppe.pearson.com":case"ise.rse-ppe.pearsondev.tech":g=d,m=u;break;case"revel-ise.pearson.com":case"ise.rse.pearsonprd.tech":g=p,m=u;break;default:g=c,m=u}const E={...n.c,...m,...g}},40480:(e,t,s)=>{"use strict";s.d(t,{c:()=>X});var n=s(99584),i=s(32308),a=s(66429),o=s(19480),r=s(97392),l=s(39592),c=s(4260),d=s(39040),p=s(17604),h=s(34952),u=s(39532),g=s(44092),m=s.n(g),E=s(17435);const T=[{title:"Listen while you read",url:"listen-while-you-read-d.json",readerOnly:!0},{title:"Highlight and take notes",url:"highlight-and-take-notes-d.json",readerOnly:!0},{title:"Add tags to notes",url:"add-tags-to-notes-d.json",readerOnly:!0},{title:"Listen while you read",url:"listen-while-you-read-d.json",filter:"Contents"},{title:"Highlight and take notes",url:"highlight-and-take-notes-d.json",filter:"Contents"},{title:"Add tags to notes",url:"add-tags-to-notes-d.json",filter:"Contents"},{title:"Tag and filter notes",url:"filter-and-tag-notes.json",filter:"Notebook"},{title:"Manage notes",url:"manage-notes-d.json",filter:"Notebook"},{title:"Export notes",url:"export-notes-d.json",filter:"Notebook"},{title:"Bookmark important information",url:"bookmark-important-information-d.json",filter:"History"}],S=[{title:"Listen while you read",url:"new/listen-while-you-read-g.json",filter:"Contents"},{title:"Highlight and take notes",url:"new/highlight-and-take-notes-g.json",filter:"Contents"},{title:"Take quizzes and other assessments",url:"new/take-quizzes-and-other-assessments-g.json",filter:"Contents"},{title:"Listen while you read",url:"new/listen-while-you-read-g.json",readerOnly:!0},{title:"Highlight and take notes",url:"new/highlight-and-take-notes-g.json",readerOnly:!0},{title:"Listen while you read",url:"new/listen-while-you-read-g.json",filter:"Notebook"},{title:"Highlight and take notes",url:"new/highlight-and-take-notes-g.json",filter:"Notebook"},{title:"Create and organize notes",url:"new/organize-notes-g.json",filter:"Notebook"},{title:"Export notes",url:"new/export-notes-g.json",filter:"Notebook"},{title:"Troubleshooting",url:"new/troubleshooting-g.json",filter:"Contents"},{title:"Troubleshooting",url:"new/troubleshooting-g.json",filter:"Notebook"},{title:"Troubleshooting",url:"new/troubleshooting-g.json",readerOnly:!0}],_=[{title:"Welcome",url:"welcome-d.json"},{title:"What's new in this release?",url:"whats-new-d.json"},{title:"Troubleshooting",url:"troubleshooting-d.json"}],A={landing:[{title:"Welcome",url:"new/welcome-g.json"},{title:"What\u2019s new in this release",url:"new/whats-new-g.json"},{title:"Troubleshooting",url:"new/troubleshooting-g.json"},{title:"Data Privacy",url:"new/data-privacy-policy-g.json"}],dashboard:[{title:"Welcome",url:"new/welcome-g.json"},{title:"What\u2019s new in this release",url:"new/whats-new-g.json"},{title:"Take quizzes and other assessments",url:"new/take-quizzes-and-other-assessments-g.json"},{title:"Troubleshooting",url:"new/troubleshooting-g.json"},{title:"Data Privacy",url:"new/data-privacy-policy-g.json"},...S],assignments:[{title:"Welcome",url:"new/welcome-g.json"},{title:"What\u2019s new in this release",url:"new/whats-new-g.json"},{title:"Take quizzes and other assessments",url:"new/take-quizzes-and-other-assessments-g.json"},{title:"Troubleshooting",url:"new/troubleshooting-g.json"},...S],notes:[{title:"Create and organize notes",url:"new/organize-notes-g.json"},{title:"Export notes",url:"new/export-notes-g.json"},...S],contents:[{title:"Make your book work for you",url:"make-your-book-work-for-you-d.json"},...S],scores:[{title:"Check your scores",url:"new/check-your-scores-g.json"},{title:"Review your work",url:"new/review-your-work-g.json"},{title:"Sort your scores",url:"new/sort-your-scores-g.json"},...S],study:[{title:"Study to help focus your learning",url:"new/focus-your-study-with-study-tools-g.json"},...S]},I={student:{landing:_,assignments:[{title:"Work on assignments",url:"work-on-assignments-d.json"},{title:"Take quizzes and other assessments",url:"take-quizzes-and-other-assessments-d.json"},{title:"Work on assignments",url:"work-on-assignments-d.json",filter:"Assignment"},{title:"Take quizzes and other assessments",url:"take-quizzes-and-other-assessments-d.json",filter:"Assignment"},{title:"Listen while you read",url:"listen-while-you-read-d.json",readerOnly:!0},{title:"Highlight and take notes",url:"highlight-and-take-notes-d.json",readerOnly:!0},{title:"Tag and filter notes",url:"filter-and-tag-notes.json",filter:"Notebook"},{title:"Manage notes",url:"manage-notes-d.json",filter:"Notebook"},{title:"Export notes",url:"export-notes-d.json",filter:"Notebook"},{title:"Bookmark important information",url:"bookmark-important-information-d.json",filter:"History"}],notes:[{title:"Tag and filter notes",url:"filter-and-tag-notes.json"},{title:"Manage notes",url:"manage-notes-d.json"},{title:"Export notes",url:"export-notes-d.json"},...T],contents:[{title:"Make your book work for you",url:"make-your-book-work-for-you-d.json"},...T],scores:[{title:"Check your scores",url:"check-your-scores-d.json"},{title:"Search your scores",url:"search-your-scores-d.json"},{title:"Review score details",url:"review-score-details-d.json"},...T],study:[{title:"Focus your study with study tools",url:"focus-your-study-with-study-tools-d.json"},...T],scheduled:[],SLP:A},instructor:{landing:_,contents:[{title:"Create highlights and notes",url:"create-highlights-and-notes.json"},{title:"Edit or delete highlights and notes",url:"edit-or-delete-notes.json"},{title:"Share notes with students",url:"share-notes-with-students.json"},{title:"Sort, group, and tag notes",url:"sort-group-and-tag-notes.json"},{title:"Export highlights and notes",url:"export-highlights-and-notes.json"}]}};var C,f=s(584),x=(s(65652),s(47152)),y=s(90064),N=s(20176),P=s(97884);let v=(0,i.uU)("language","helpData")(C=(0,i.QT)(C=class extends n.Component{constructor(e){super(e),this.handleKeyDown=e=>{"help_0"===this.props.topicId&&e.shiftKey&&"Tab"===e.key&&(e.preventDefault(),this.props.focusContactSupport(e))},this.listItemElement=n.createRef()}componentDidMount(){this.listItemElement.current.removeAttribute("aria-disabled"),this.listItemElement.current.addEventListener("keydown",this.handleKeyDown),"help_0"===this.props.topicId&&this.props.setChildFirstListItemRef(this.listItemElement)}componentWillUnmount(){this.listItemElement.current.removeEventListener("keydown",this.handleKeyDown)}render(){const{topic:e,classes:t,language:s,showFullContent:n,helpData:i,handleClick:a,isTopicOpen:o,topicId:r}=this.props,l=i.toJSON();return(0,P.jsxs)("div",{children:[(0,P.jsxs)(c.c,{ref:this.listItemElement,classes:{root:t.rootTitle},"aria-expanded":o[r],button:!0,onKeyDown:t=>{"Tab"!==t.key&&a(e.url,r)},onMouseDown:()=>{a(e.url,r)},autoFocus:"help_0"===this.props.topicId,children:[(0,P.jsx)(d.c,{primary:(0,P.jsx)(p.c,{className:t.topicTitle,children:e.title})}),o[r]?(0,P.jsx)(y.default,{fontSize:"large"}):(0,P.jsx)(N.default,{fontSize:"large"})]}),(0,P.jsx)(x.c,{in:o[r],timeout:"auto",unmountOnExit:!0,children:(0,P.jsx)("div",{className:t.nested,children:(0,P.jsxs)(p.c,{variant:"body1",className:t.topicTitle,children:[(0,P.jsx)("div",{children:l.helpData&&l.helpData.excerpt}),(0,P.jsx)("div",{tabIndex:"0",role:"button",ariaDisabled:"false",className:t.showTopic,onClick:()=>n(l.helpData),onKeyPress:()=>n(l.helpData),children:(0,P.jsx)("a",{style:{cursor:"pointer"},children:s.getText("helpMenu.SHOW_FULL_TOPIC")})})]})})})]})}})||C)||C;v.defaultProps={topic:{},showFullContent:()=>{}};const L=(0,o.c)((()=>({nested:{minWidth:0,marginTop:20,marginBottom:4,paddingRight:16,display:"flex",alignItems:"center",paddingLeft:20,textAlign:"left"},showTopic:{margin:0,marginTop:16,padding:"3px",width:"125px",fontWeight:"normal",justifyContent:"left"},rootTitle:{border:0}})))(v);class O extends n.Component{constructor(e){super(e),this.handleClick=(e,t)=>{const{role:s}=this.props;this.state.isTopicOpen[t]||m().publish(f.HELP_REQUESTED,{type:"GET",url:e,role:s});const n={};n[t]=!this.state.isTopicOpen[t],this.setState({isTopicOpen:n})},this.state={isTopicOpen:{}}}render(){const{topics:e,showFullContent:t}=this.props;return e.map(((e,s)=>(0,P.jsx)(L,{topic:e,showFullContent:t,handleClick:this.handleClick,isTopicOpen:this.state.isTopicOpen,topicId:"help_".concat(s),focusContactSupport:this.props.focusContactSupport,setChildFirstListItemRef:this.props.setChildFirstListItemRef},s)))}}O.defaultProps={topics:[],showFullContent:()=>{},role:""};const R=O,D=(0,n.forwardRef)(((e,t)=>(0,P.jsx)(c.c,{ref:t,button:!0,component:"a",...e})));var b=s(81160);const w=e=>(0,P.jsx)(b.c,{...e,children:(0,P.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,P.jsx)("path",{d:"M-5 15V-3h18v18z"}),(0,P.jsx)("path",{fill:"#252525",fillRule:"nonzero",d:"M.238 5.378a.912.912 0 0 1 .039-.04L5.387.274a.951.951 0 0 1 1.336 0 .93.93 0 0 1 0 1.325L2.282 6l4.441 4.4a.93.93 0 0 1 0 1.326.951.951 0 0 1-1.337 0L.276 6.662a.93.93 0 0 1-.038-1.284z"})]})}),M=e=>{let{ariaLabel:t,className:s,classes:n}=e;return(0,P.jsx)(w,{viewBox:"0 0 12 12",ariaLabel:t,className:s,classes:n,fontSize:"large"})};var U=s(54840),k=s(560),j=s(26812),H=s(90392),B=s(93752),F=s(76925);const G=Object.freeze(["vega-app-bar-in-app-help","ise-in-app-help"]);class Y extends n.Component{constructor(e){super(e),this.handleClickButton=()=>{this.setState((e=>({open:!e.open})))},this.isNotInAppIcon=e=>e.currentTarget&&e.currentTarget.activeElement&&e.currentTarget.activeElement.id?-1===G.indexOf(e.currentTarget.activeElement.id):e.target&&!this.getClosestInAppId(e.target),this.getClosestInAppId=e=>{const t=e.closest("#".concat(G[0]))||e.closest("#".concat(G[1]));return t&&t.id},this.handleClickAway=e=>{this.state.open&&e&&this.isNotInAppIcon(e)&&this.setState({open:!1},(()=>{this.props.handleClickAwayClose()}))},this.handleArrowRef=e=>{this.setState({arrowRef:e})},this.state={arrow:this.props.showArrow,arrowRef:null,disablePortal:!0,open:this.props.open,preventOverflow:"disabled",cancelIcon:this.props.cancelIcon}}UNSAFE_componentWillReceiveProps(e){e.cancelIcon!==this.state.cancelIcon&&this.setState({cancelIcon:e.cancelIcon}),"undefined"!==typeof e.open&&e.open!==this.state.open&&this.setState({open:e.open})}render(){const{classes:e,children:t,anchorEl:s,flip:n,className:i}=this.props,{open:a,disablePortal:o,preventOverflow:r,arrow:l,arrowRef:c,cancelIcon:d}=this.state;let p=this.props.placement;if(s){const e=window.innerWidth-400;(s.offsetLeft&&0!==s.offsetLeft&&s.offsetLeft>e||s.offsetParent&&s.offsetParent.offsetLeft>e)&&(p="bottom-end")}const h=a?"scroll-playground":null,u=l?"arrow":"";return(0,P.jsx)(F.c,{onClickAway:this.handleClickAway,children:(0,P.jsx)("div",{className:i,children:this.state.open?(0,P.jsxs)(k.c,{id:h,open:this.state.open,anchorEl:s,placement:p,disablePortal:o,className:"popper",modifiers:{flip:{enabled:n},arrow:{enabled:l,element:c},preventOverflow:{enabled:"disabled"===r,boundariesElement:"disabled"===r?"scrollParent":r}},children:[(0,P.jsx)("span",{className:u,ref:this.handleArrowRef}),(0,P.jsxs)(B.c,{className:"paper",children:[d&&(0,P.jsx)(j.c,{className:"closeIcon",onClick:this.handleClickButton,onKeyDown:this.handleClickButton,classes:{root:e.closeIcon},children:(0,P.jsx)(H.default,{})}),t]})]}):null})})}}Y.defaultProps={showArrow:!1,placement:"bottom-end",cancelIcon:!1,handleClickAwayClose:()=>{},flip:!0,className:""};const V=(0,o.c)((()=>({closeIcon:{float:"right",padding:"12px"}})))(Y);class W{}W.getRole=(e,t)=>e.authGroupType===t.ROLE_TA?t.INAPPHELP_INSTRUCTOR:e.authGroupType,W.getRoleTopics=(e,t,s)=>e.enabled&&!t?s.SLP:s,W.getShortTopics=(e,t,s)=>e?t.landing:s&&t&&t[s]||[],W.getHelpTopics=(e,t,s,n,i)=>e.filter((e=>t||!s&&!e.readerOnly&&!e.filter||s&&e.readerOnly&&!e.filter&&!n||n&&e.filter===i));var z,Q=s(49623),K=s(17384);let q=(0,i.uU)("language","helpData","course")(z=(0,i.QT)(z=class extends n.Component{constructor(e){var t;super(e),t=this,this.handleHelpPress=e=>{" "!==e.key&&"Enter"!==e.key||this.handleHelpClick(e)},this.showFullContent=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.setState((t=>({isFullContentShow:!t.isFullContentShow,fullTopic:e})))},this.showGetApp=()=>{this.props.handleHelpClose(),m().publish(f.OPEN_GET_APP,{})},this.getHelpLinkPath=()=>{let e=E.c.getQueryParamsValue(this.props.history.location.search,f.SOURCE);if(0===e.length){const t=this.props.history.location.pathname,s=(K.c.enabled?Q.c.HEADER_OPTIONS_SLP:Q.c.HEADER_OPTIONS).filter((e=>t.indexOf(e)>-1));e=s.length?s[0]:f.INAPPHELP_CONTENTS}return e},this.handleBackKeyDown=e=>{"Tab"!==e.key&&this.showFullContent(),e&&e.shiftKey&&"Tab"===e.key&&(e.preventDefault(),this.focusContactSupport())},this.handleContackSupportKeyDown=e=>{e&&(e.shiftKey||"Tab"!==e.key||(e.preventDefault(),this.state.isFullContentShow&&this.fullContentShowRef&&this.fullContentShowRef.current?this.fullContentShowRef.current.focus():!this.state.isFullContentShow&&this.helpChildListItemRef&&this.helpChildListItemRef.current&&this.helpChildListItemRef.current.focus()))},this.focusContactSupport=()=>{this.helpContactSupportRef&&this.helpContactSupportRef.current&&this.helpContactSupportRef.current.focus()},this.setChildFirstListItemRef=e=>{e&&(this.helpChildListItemRef=e)},this.state={isFullContentShow:!1},this.container=null,this.helpContactSupportRef=n.createRef(),this.helpChildListItemRef=null,this.fullContentShowRef=n.createRef()}UNSAFE_componentWillReceiveProps(e){const{location:t}=this.props,s=e.location;t.pathname!==s.pathname&&this.setState({isFullContentShow:!1})}render(){const{language:e,helpData:t,isHelpOpen:s,anchorEl:i,handleHelpClose:a,course:o,classes:r,isDrawerOpen:g,selectedTab:m,isReaderPage:E,flags:T}=this.props,{isFullContentShow:S,fullTopic:_}=this.state,A=t.toJSON().helpEmptyState;let C=W.getRole(o,f);o.isStudentView()&&(C=f.ROLE_STUDENT);const x=C===f.INAPPHELP_INSTRUCTOR,y=x?f.INAPPHELP_CONTENTS:t.navigationPath||this.getHelpLinkPath(),N=I[C],v=W.getRoleTopics(K.c,x,N),L=W.getShortTopics(A,v,y),O=W.getHelpTopics(L,x,E,g,m),b=(0,P.jsxs)(n.Fragment,{children:[T.hideMobileBannerRevel5416&&(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(u.c,{role:"presentation",classes:{root:r.rootDivider}}),(0,P.jsx)(D,{rel:"noopener noreferrer",onClick:this.showGetApp,children:(0,P.jsx)(d.c,{primary:(0,P.jsx)(p.c,{className:"link-color",children:e.getText("helpMenu.GET_THE_APP")})})})]}),(0,P.jsx)(u.c,{role:"presentation",classes:{root:r.rootDivider}}),(0,P.jsx)(D,{href:U.c.HELP_CONTACT_SUPPORT_LINK,rel:"noopener noreferrer",target:"_blank",onKeyDown:this.handleContackSupportKeyDown,ref:this.helpContactSupportRef,children:(0,P.jsx)(d.c,{primary:(0,P.jsx)(p.c,{className:"link-color",children:e.getText("helpMenu.CONTACT_SUPPORT")})})})]});return(0,P.jsxs)(V,{open:s,anchorEl:i,handleClickAwayClose:a,showArrow:!0,flip:!1,className:"popup-container",children:[!S&&(0,P.jsx)(l.c,{component:"div",className:"list-root",children:(0,P.jsxs)(n.Fragment,{children:[O&&O.length>0&&(0,P.jsx)(R,{topics:O,showFullContent:this.showFullContent,role:C,focusContactSupport:this.focusContactSupport,setChildFirstListItemRef:this.setChildFirstListItemRef}),b]})}),S&&(0,P.jsxs)(n.Fragment,{children:[(0,P.jsxs)(l.c,{component:"nav",className:"list-root","aria-live":"polite",children:[(0,P.jsxs)(c.c,{"aria-label":e.getText("helpMenu.BACK"),className:"header",button:!0,onMouseDown:this.showFullContent,ref:this.fullContentShowRef,onKeyDown:this.handleBackKeyDown,autoFocus:S,children:[(0,P.jsx)(h.c,{className:"arrow-parent",classes:{root:r.listItemIcon},children:(0,P.jsx)(M,{className:"arrow-icon"})}),(0,P.jsx)(d.c,{className:"title-space",inset:!0,primary:(0,P.jsx)(p.c,{className:r.topicTitle,children:_&&_.title})})]}),(0,P.jsx)("div",{className:"topic-content","aria-live":"polite",children:(0,P.jsx)("div",{dangerouslySetInnerHTML:{__html:_&&_.content}})})]}),(0,P.jsx)("div",{className:"help-footer",children:b})]})]})}})||z)||z;q.defaultProps={isDrawerOpen:!1,selectedTab:"",isReaderPage:!1};const X=(0,r.withLDConsumer)()((0,o.c)((()=>({rootDivider:{marginTop:0,marginBottom:0},topicTitle:{fontSize:"16px"},listItemIcon:{minWidth:"auto"}})))((0,a.Ak)(q)))},59232:(e,t,s)=>{"use strict";s.d(t,{c:()=>E});var n=s(44092),i=s.n(n),a=s(40208),o=s.n(a),r=s(7170),l=s(49623),c=s(584),d=s(61272),p=s(17435),h=s(99476),u=s(31640),g=s(28592),m=s(39784);const E=new class{constructor(){this.logout=()=>{const e=window.piSession;e&&(e.logout(),this.clearEPSCookies(),h.c.clearView(r.default.user.id,r.default.course.id),o().clear().then((()=>{})).catch((e=>{i().publish(c.SERVICE_ERROR,e)})))},this.handleErrors=(e,t,s)=>{if(i().publish(c.SERVICE_ERROR,t),s&&e)switch(s.status){case 401:{const e=p.c.getCurrentURL();setTimeout((()=>{p.c.redirectToErrorPage(s.status),i().publish(c.LOGIN_REQUESTED,{location:e})}),2e3);break}case 403:p.c.redirectToErrorPage(s.status)}},this.isInitialized=!1,this.accessToken="",this.isFirstTime=!0}setUserAuthetication(e,t){this.accessToken=t;const s=e.userId(),n=e.getContextId();r.default.user.setAuthenticated(s,t,n),u.c.setCustomAttribute(c.NR_PI_ID,s),this.isFirstTime&&(this.isFirstTime=!1,e.monitorUserActivity(!0),i().publish(c.AUTH_VERIFIED,{userId:s}),i().publish(c.LAUNCHDARKLY_HASH_REQUEST),m.c.inititeLocalStoreForShowExportTagPopup(s)),i().publish(c.TELEMETRY_REQUEST,{sessionId:n})}login(e,t){e.login(t,100,((t,s)=>{if(t===e.Success){this.setUserAuthetication(e,s),d.c.graphQLClient||(d.c.graphQLClient=g.c.getGraphQLClient(s));const t=p.c.getCurrentURL();setTimeout((()=>{this.login(e,t)}),c.LOGIN_REFRESH_TIME)}else e.logout()}))}init(){if(!this.isInitialized){this.isInitialized=!0;const e=document.createElement("script");e.onload=()=>{const e=window.piSession;e&&(e.initialize(l.c.getPiCLientId(),{monitorUserActivity:!0,sessionIdleTimeoutSeconds:2700,sessionIdleTimeoutWarningSeconds:300,useDefaultIdleTimoutWarningPopup:!0,requireLogin:!0}),e.on(e.SessionStateKnownEvent,(()=>{const t=p.c.getCurrentURL();this.handleValidPiSessionToken(e,t)})),e.on(e.RefreshEvent,(()=>{const t=p.c.getCurrentURL();this.handleValidPiSessionToken(e,t)})),e.on(e.LogoutEvent,(()=>{this.clearEPSCookies()})),e.on(e.SessionTimedOutEvent,(()=>{this.clearEPSCookies()}))),i().on(c.LOGIN_REQUESTED,(t=>{const s=t.location&&t.location.toString();this.login(e,s)}))},e.src="".concat(l.c.PI_BASE_URL,"/login/js/v2/session.js"),document.getElementsByTagName("head")[0].appendChild(e)}}intercept(e,t,s){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];s.interceptors.response.use((e=>(e.request&&e.request.responseURL&&(e.config.url=e.request.responseURL),e)),(e=>(this.handleErrors(i,e,e.response),Promise.reject(e)))),s.interceptors.request.use((s=>{const i=s;if(i.headers[e]=t+this.accessToken,n){const e="".concat(l.c.CORRELATION_ID_PREFIX,"-").concat(d.c.uuid());i.headers["Correlation-Id"]=e,u.c.setCustomAttribute(c.NR_CORRELATION_ID,e)}return i.headers["X-Caller"]&&(i.headers["X-Caller"]="".concat(l.c.SPECTRUM_API_CALLER_ID)),i}),(e=>{this.handleErrors(!1,e),Promise.reject(e)}))}handleValidPiSessionToken(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"success"!==e.hasValidSession(10)?this.retrySessionWhenLoadedFromIFrame(e,t,s+1):e.getToken(((t,s)=>{if("success"===t){this.setUserAuthetication(e,s),d.c.graphQLClient=g.c.getGraphQLClient(s),i().publish(c.REFRESH_STUDY_ACCESS_TOKEN_EVENT);const t=p.c.getCurrentURL();setTimeout((()=>{this.handleValidPiSessionToken(e,t)}),c.LOGIN_REFRESH_TIME)}}),10,20)}retrySessionWhenLoadedFromIFrame(e,t,s){d.c.isInIframe()&&s<=2?setTimeout((()=>{this.handleValidPiSessionToken(e,t,s)}),2e3):this.login(e,t)}clearEPSCookies(){const{course:e}=r.default;e.token&&e.token.name&&d.c.removeCookie(e.token.name,!0)}}},65652:(e,t,s)=>{"use strict";var n=s(40308),i=s.n(n);i().func.isRequired,i().func.isRequired,i().func.isRequired,i().func.isRequired,i().string,i().number.isRequired,i().number.isRequired,i().bool.isRequired,i().number.isRequired,i().number.isRequired},24284:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});class n{constructor(){this.flattenedData=[],this.treeDataToFindParents={}}static getOriginalToc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children";const s=JSON.parse(JSON.stringify(e)),n=this.constructDataForOptionalmaterial(s,t),i=[];return n.forEach((e=>{e.hidden||i.push(e)})),this.constructOriginalToc(i,s,t)}static getOptionalToc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children";const s=JSON.parse(JSON.stringify(e)),n=this.constructDataForOptionalmaterial(s,t);let i=[];const a=[];return n.forEach((e=>{e.hidden&&(a.push(e),void 0!==e.parentId&&null!==e.parentId&&(i=this.findAncestors(e.id),i.forEach((e=>{n.forEach((t=>{t.id===e&&a.push(t)}))}))))})),this.constructOptionalToc(a,s,t)}static constructDataForOptionalmaterial(e,t){this.flattenedData=[],this.treeDataToFindParents={};(e.tocContent||e.content).list.forEach((e=>{this.flatDataToFindParents(e,t),this.treeDataToFlat(e,t)}));const s=[];return s.push(this.flattenedData.filter((e=>{const s=e;return delete s[t],s}))),s[0]}static constructOriginalToc(e,t,s){return{id:(t.tocContent||t.content).id,list:this.flatDataToTree(e,s)}}static constructOptionalToc(e,t,s){const n=t.tocContent||t.content,i=e.map((e=>e.id)).map(((e,t,s)=>s.indexOf(e)===t&&t)).filter((t=>e[t])).map((t=>e[t]));return{id:n.id,list:this.flatDataToTree(i,s)}}static findAncestors(e){const t=[];let s=this.treeDataToFindParents[e]&&this.treeDataToFindParents[e].parentId;for(;void 0!==s;)t.unshift(s),s=this.treeDataToFindParents[s]&&this.treeDataToFindParents[s].parentId;return t}static flatDataToFindParents(e,t){this.treeDataToFindParents[e.id]=e,e[t]&&e[t].forEach((s=>{s.parentId=e.id,this.flatDataToFindParents(s,t)}))}static treeDataToFlat(e,t){this.flattenedData.push(e),e[t]&&e[t].forEach((e=>{this.treeDataToFlat(e,t)}))}static flatDataToTree(e,t){let s=e;const n={},i=[];return s=s.map(((e,s)=>(n[e.id]=s,e[t]=[],e))),s.forEach((e=>{void 0!==e.parentId&&null!==e.parentId?s[n[e.parentId]][t].push(e):i.push(e)})),i}}},92016:(e,t,s)=>{"use strict";s.d(t,{c:()=>o});s(99584);var n=s(60200),i=s(45452),a=s(97884);class o{static timeDifference(e,t){let s=null;if(e){const n=864e5,i=t||new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),o=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds());s=Math.ceil((a.getTime()-o.getTime())/n)}return s}static getTimeZone(){let e="";try{const t=(new Date).toLocaleDateString("en-US",{day:"2-digit",timeZoneName:"long"});if(t.length>0){const s=t.substr(4).split(" ");e=s.length>1?s.map((e=>e.charAt(0))).join(""):s.join("")}}catch(t){n.EventProvider.getEventManager().dispatch({category:"Event Error",action:"error",data:t})}return e}static getTimeMeridiem(e){const t=e.getHours()>12?e.getHours()-12:e.getHours(),s=e.getHours()>=12?" PM":" AM",n=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(t,":").concat(n).concat(s)}static getISODateToUTC(e){const t=e?new Date(e.slice(0,23)).toUTCString():(new Date).toUTCString();return new Date(t).toISOString()}}o.isInvalidAvlDate=e=>Number.isNaN(e.getTime()),o.isFutureDate=e=>e&&e-new Date>0,o.formatDate=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2-digit",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"long",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";return(0,a.jsx)(i.FormattedDate,{value:e,day:t,month:s,year:n})},o.currentDate=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),o.dateString=e=>"".concat(e.getDate(),"-").concat(e.getMonth()+1,"-").concat(e.getFullYear())},99476:(e,t,s)=>{"use strict";s.d(t,{c:()=>c});var n,i=s(79208),a=s.n(i),o=s(584),r=s(17435);class l{static getQueryParamsValue(e){const t=r.c.parseSource(window.location.search);return t.has(e)?t.get(e):""}}n=l,l.initiateLocalStore=(e,t,s)=>{!n.isViewAlreadySet(e,t)&&s&&n.triggeredByParentApp()&&window.localStorage.setItem(n.getKeyName(e,t),!0)},l.triggeredByParentApp=()=>n.getQueryParamsValue(o.INSTRUCTOR_VIEW_QUERY_PARAM),l.isViewOn=(e,t)=>Boolean(n.isViewAlreadySet(e,t)||n.triggeredByParentApp()),l.isViewAlreadySet=(e,t)=>window.localStorage.getItem(n.getKeyName(e,t)),l.getKeyName=(e,t)=>a()("".concat(o.INSTRUCTOR_VIEW,"-").concat(e,"-").concat(t)),l.clearView=(e,t)=>{const s=n.getKeyName(e,t);window.localStorage.getItem(s)&&window.localStorage.removeItem(s)};const c=l},39784:(e,t,s)=>{"use strict";s.d(t,{c:()=>p});var n,i=s(89056),a=s(79208),o=s.n(a),r=s(20192),l=s(7170),c=s(584);class d{}n=d,d.createLocalStore=(e,t,s)=>{const i=e.create(s);return n.syncLocalStorage(i,t),i},d.initiateLocalStore=(e,t,s)=>{const n=window.localStorage.getItem(e),i=o()("".concat(s,"-").concat(t));if(n){const e=JSON.parse(n)[i];e&&r.c.is(e)&&l.default.historyStore.initializeStore(e)}},d.syncLocalStorage=(e,t)=>{(0,i.ag)(e,(e=>{const s=window.localStorage.getItem(t),n=o()("".concat(l.default.course.id,"-").concat(l.default.user.id)),i=s?JSON.parse(s):{};i[n]=e,e.items.length>c.RECENT_PAGE_STORAGE_SIZE&&(i[n]={items:e.items.slice(0,c.RECENT_PAGE_STORAGE_SIZE)}),i[n].items.length||delete i[n],window.localStorage.setItem(t,JSON.stringify(i))}))},d.getEncodedKey=e=>o()(e),d.inititeLocalStoreForShowExportTagPopup=e=>{const t=n.getEncodedKey("".concat(e,"-").concat(c.SHOW_EXPORT_TAG_POPUP));null===window.localStorage.getItem(t)&&window.localStorage.setItem(t,JSON.stringify({showExportTagPopup:!0}))},d.setShowExportTagPopupVal=e=>{const t=n.getEncodedKey("".concat(e,"-").concat(c.SHOW_EXPORT_TAG_POPUP));window.localStorage.setItem(t,JSON.stringify({showExportTagPopup:!1}))},d.getShowExportTagPopupVal=e=>{let t=window.localStorage.getItem(n.getEncodedKey("".concat(e,"-").concat(c.SHOW_EXPORT_TAG_POPUP)));return!!t&&(t=JSON.parse(t),t&&t.showExportTagPopup)};const p=d},94872:(e,t,s)=>{"use strict";var n;s.d(t,{c:()=>i});class i{}n=i,i.setPageTitle=e=>"Pearson Revel - ".concat(e),i.getPageTitle=(e,t)=>{const s=e&&e.find((e=>e.id===t));return s?s.title:""},i.setCiteManifest=e=>{n.citeManifest=e},i.getCiteManifest=()=>n.citeManifest||null,i.getPageDetails=(e,t)=>t&&e&&e.find((e=>e.id===t))||"",i.getChapterDetailsForPage=(e,t)=>t&&e&&e.find((e=>e.id===t))||""},17435:(e,t,s)=>{"use strict";s.d(t,{c:()=>d});var n,i=s(44092),a=s.n(i),o=s(58576),r=s.n(o),l=s(49623),c=s(584);class d{}n=d,d.getContentPath=()=>l.c.CONTENT_PATH,d.redirectToErrorPage=e=>{a().publish(c.HISTORY_REPLACE_REQUESTED,{path:"/error/".concat(e)})},d.redirectToViewer=(e,t,s)=>{let i=!1;if(l.c.USE_EXTERNAL_VIEWER){const a=s?"&".concat(s):"",{href:o}=window.location,c=r()(o);n.setURLRedirection(t?"".concat(l.c.VIEWER_APP_BASE_URL,"/Course/").concat(e,"/page/").concat(t,"?returnUrl=").concat(c).concat(a,"&Source=ISE"):"".concat(l.c.VIEWER_APP_BASE_URL,"/Course/").concat(e,"?returnUrl=").concat(c).concat(a,"&Source=ISE")),i=!0}return i},d.redirectToParent=()=>{const e=window.sessionStorage.getItem("sourceFromInstructor");let t=!1;return e&&(n.setURLRedirection(e),t=!0),t},d.redirectToZeppelin=e=>{if(e.passportDetails&&!e.passportDetails.access){const t=n.getCurrentURL(!0);let s="".concat(l.c.ZEPPELIN_URL,"/").concat(e.passportDetails.productId,"?failureUrl=").concat(l.c.CONSOLE_URL,"&cancelUrl=").concat(l.c.CONSOLE_URL,"&successUrl=").concat(t);c.ZEPPELIN_PARAMS.forEach(((t,n)=>{const i=e[t]||0===n&&e.organizationId;i&&(s+="&".concat(t,"=").concat(i))})),n.setURLRedirection(s)}},d.parseSource=e=>new URLSearchParams(e),d.isRedirectToViewer=e=>n.parseSource(e).has("lastLocation"),d.getSourcePath=e=>n.getQueryParamsValue(e,c.SOURCE)||l.c.CONTENT_PATH,d.getQueryParamsValue=(e,t)=>{const s=n.parseSource(e);return s.has(t)?s.get(t):""},d.setURLRedirection=e=>{window.location=r()(e)},d.getCurrentURL=function(){let e=null;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){const{href:t}=window.location;e=r()(t)}else e=r()(window.location.toString());return e},d.isFromDeeplink=e=>e.includes(c.DEEPLINK_REDIRECT)},61272:(e,t,s)=>{"use strict";s.d(t,{c:()=>d});var n=s(89172),i=s.n(n),a=s(49280),o=s.n(a),r=s(948),l=s.n(r),c=s(584);class d{static uuid(){return i()()}static isInIframe(){try{return window.self!==window.top}catch(e){return!0}}static getUserAgent(){return window.navigator.userAgent||window.navigator.vendor||window.opera}static getOS(){const e=d.getUserAgent();let t=c.DESKTOP_OS;return/windows phone/i.test(e)&&(t=c.MOBILE_OS_WINDOWS_PHONE),/android/i.test(e)&&(t=c.MOBILE_OS_ANDROID),/iPad|iPhone|iPod/.test(e)&&!window.MSStream&&(t=c.MOBILE_OS_IOS),t}static transformErrorCode(e,t){let s="errors.timeout";return t&&t.response&&404===t.response.status||t.message&&t.networkError&&404===t.networkError.statusCode||t.graphQLErrors&&t.graphQLErrors.length>0&&t.graphQLErrors.some((e=>{let{statusCode:t}=e;return 404===t}))?s="".concat(e,".404"):t&&(t.response||t.message||t.graphQLErrors)&&(s="errors.general"),s}static isStorageSupported(){return"undefined"!==typeof Storage}static capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}static isPiUserIdAvailable(){return Object.keys(window.localStorage).filter((e=>e.indexOf(c.PI_USERID)>-1)).length}static setStateFetched(e){return this.isStateFetched[e]?-1===c.ASSIGNMENT_STATES.indexOf(e):(this.isStateFetched[e]=!0,!0)}static getStateFetched(e){return this.isStateFetched[e]}static assignmentStateCheck(e,t){let s="";return s=e===c.ASSIGNMENT_ID?"boolean"!==typeof t?"&".concat(e,"=").concat(t):"":"&".concat(e,"=true"),s}static getQuery(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=this;let n="?detail=true";return Array.isArray(e)?(e.forEach((e=>{n+=s.assignmentStateCheck(e,t)})),n):n+s.assignmentStateCheck(e,t)}static setServerDateAndTime(e){const t=this;this.myWorker.onmessage=e=>{t.serverDateAndTime=e&&e.data&&e.data.date,t.serverDateDiffObj=e&&e.data},this.myWorker.postMessage({isSetDate:!0,date:e})}static getCurrentDate(){return this.serverDateAndTime?o()(this.serverDateAndTime).format(c.ISO_DATE_FORMAT):(new Date).toISOString()}static getCurrentTimeDiffAndInterval(){return this.serverDateDiffObj}static checkUnloadDate(e,t,s,n){let i=t;if(e&&t){const t=new Date(e).getTime();if(new Date(i).getTime()<t){const{currentDateDiff:e,currentInterval:a}=this.serverDateDiffObj,o=e-s,r=a-n;return i=(o>=r?o/r:r/o)<=2?new Date(t+o):new Date(t+r),i.toISOString()}}return i}static setRapidData(e){this.rapidData=e}static getRapidData(){return this.rapidData||{}}static clearRapidData(){this.rapidData={}}static getParseValue(e){let t;try{t=JSON.parse(e)}catch(s){t={}}return t}static setCookie(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new Date;n.setTime(n.getTime()+1e3*t),document.cookie="".concat(e.name,"=").concat(e.value,";SameSite=None;Secure;path=/;expires=").concat(n.toGMTString()),s&&this.contentProtectionTimer(e,t)}static removeCookie(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){const t={name:e,value:""};this.setCookie(t,-86400)}t&&clearInterval(this.contentProtectionTimerOn)}static contentProtectionTimer(e,t){const s=this;s.contentProtectionTimerOn&&clearInterval(s.contentProtectionTimerOn),s.contentProtectionTimerOn=setInterval((()=>{s.setCookie(e,t)}),1e3*(t-60))}static getUsageTypeByStatus(e,t){return c.APPCUES_EVENTS_TYPES.findIndex((s=>e&&s.toLowerCase()===e.toLowerCase()||t&&s.toLowerCase()===t.toLowerCase()))}static getViewerVersion(e,t){this.globalWindow[e]=t}}d.isStateFetched=[],d.enableOptimisedApiIse5175=!1,d.enableScorePendingRevel1189=!1,d.enableDeeplinkRevel1407=!1,d.myWorker=new Worker(l()),d.graphQLClient=null,d.rapidData={},d.dashboardStatus={courseContentView:c.SLP_TOC_ASSIGNMENTS,expandedIds:[]},d.contentProtectionTimerOn=null,d.globalWindow=window,d.conditionalArg=(e,t,s)=>e?t:s,d.conditionalOr=(e,t)=>e||t,d.conditionalAnd=(e,t)=>e&&t},97909:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(49623);class i{static init(e){this.zoominData=e.variation(n.c.LD_ENABLE_ZOOMIN,!1)}static isZoominEnabled(){var e;return null===(e=this.zoominData)||void 0===e?void 0:e.enable}static close(){window.iph("close")}static open(){window.iph("open")}static loadZoominScript(){var e,t;const s=null===(e=this.zoominData)||void 0===e?void 0:e.widgetParam;!function(e,t,s,n,i,a,o){e.InProductHelp=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},a=t.createElement(s),o=t.getElementsByTagName(s)[0],a.id=n,a.src=i,a.async=1,o.parentNode.insertBefore(a,o)}(window,document,...s),iph("init",null===(t=this.zoominData)||void 0===t?void 0:t.iph)}}},99752:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var n=s(96216),i=s(29648);const a={activeColor:"White",masterTheme:"standard",fontFamily:i.c.fontFamily,androidBannerFontFamily:i.c.androidBannerFontFamily,font:{normalFontSize:14,largeFontSize:16,extraLargeFontSize:18,titleLargeFontSize:24,fontWeightNormal:"normal",fontWeightMedium:i.c.fontWeightMedium,fontWeightLarge:i.c.fontWeightLarge,fontStyle:"normal",fontStretch:"normal"},colors:{primaryBackground:i.c.whiteBackGround,raisedButtonColor:i.c.raisedButtonColor,raisedButtonHoverColor:i.c.raisedButtonHoverColor,progressForeColor:i.c.progressForeColor,bannerButtonLabel:i.c.bannerButtonLabel,audioIcon:i.c.audioIcon,audioIconActive:i.c.audioIconActive,defaultButtonBorderColor:i.c.defaultButtonBorderColor,defaultButtonBorder:i.c.defaultButtonBorder,defaultFontColor:i.c.defaultFontColor,androidBannerColor:i.c.androidBannerColor,paperShadow:i.c.paperShadow,progressBarShadow:i.c.progressBarShadow,quizStart:i.c.quizStart,defaultButtonTextColor:i.c.defaultButtonTextColor,progressBackColor:i.c.tocBorderColor,blueOutlineColor:i.c.blueOutlineColor,graniteGrayColor:i.c.graniteGrayColor,secondaryBorderColor:i.c.borderColor,spanishGrayColor:i.c.spanishGray},progress:{material:{style:{color:i.c.raisedButtonColor,zIndex:1e3,margin:"150px 48%",position:"absolute"}}},paper:{borderRadius:4,borderLeft:"4px solid ".concat(i.c.paperBorder)},slider:{selectionColor:i.c.playerSelectionColor,thumbSize:"15px",trackSize:"2px",trackColor:i.c.playerTrackColor},icons:{foreColor:i.c.defaultFontColor,backColor:i.c.whiteBackGround},secondaryBGColor:{"&:hover":{backgroundColor:"inherit"}},spacing:n.default.spacing,props:n.default.props,palette:n.default.palette,typography:n.default.typography,mixins:n.default.mixins,overrides:{MuiAppBar:n.default.overrides.MuiAppBar,MuiAvatar:n.default.overrides.MuiAvatar,MuiButton:n.default.overrides.MuiButton,MuiButtonBase:n.default.overrides.MuiButtonBase,MuiCard:n.default.overrides.MuiCard,MuiCardActions:n.default.overrides.MuiCardActions,MuiCardActionArea:n.default.overrides.MuiCardActionArea,MuiCardContent:n.default.overrides.MuiCardContent,MuiCardHeader:n.default.overrides.MuiCardHeader,MuiCustomTabs:n.default.overrides.MuiCustomTabs,MuiDialogActions:n.default.overrides.MuiDialogActions,MuiDivider:n.default.overrides.MuiDivider,MuiFormControl:n.default.overrides.MuiFormControl,MuiFormControlLabel:n.default.overrides.MuiFormControlLabel,MuiIconButton:{root:{padding:5,color:"#6a7070","&$disabled":{opacity:.5},"&.disableHover":{"&:hover":{backgroundColor:"inherit"},"&:active":{backgroundColor:"inherit"}},"&:hover":{backgroundColor:"none","& .avatarHover":{backgroundColor:"none",color:"#fff"}},"&.pmuiCustomFocusVisible":{backgroundColor:"none"}},sizeSmall:n.default.overrides.MuiIconButton.sizeSmall,colorSecondary:n.default.overrides.MuiButton.colorSecondary},MuiFormLabel:n.default.overrides.MuiFormLabel,MuiListItem:n.default.overrides.MuiListItem,MuiMenuItem:n.default.overrides.MuiMenuItem,MuiPaper:n.default.overrides.MuiPaper,MuiPickersCalendar:n.default.overrides.MuiPickersCalendar,MuiPickersCalendarHeader:n.default.overrides.MuiPickersCalendarHeader,MuiPickersDay:n.default.overrides.MuiPickersDay,MuiPopover:n.default.overrides.MuiPopover,MuiPrivateTabIndicator:n.default.overrides.MuiPrivateTabIndicator,MuiSlider:n.default.overrides.MuiSlider,MuiSvgIcon:n.default.overrides.MuiSvgIcon,MuiRadio:n.default.overrides.MuiRadio,MuiTab:n.default.overrides.MuiTab,MuiToolbar:n.default.overrides.MuiToolbar,MuiTooltip:{tooltip:{position:"relative",margin:0,top:0}},MuiTypography:n.default.overrides.MuiTypography,MuiUnderline:n.default.overrides.MuiUnderline,MuiVerticalTabs:n.default.overrides.MuiVerticalTabs}}},57547:(e,t,s)=>{"use strict";var n=s(99584),i=(s(1440),s(78828)),a=s(77940),o=s(32308),r=s(57320),l=s(69964),c=s.n(l),d=s(7170),p=s(59232),h=s(49623),u=s(45452),g=s(66429),m=s(60200),E=s(98616),T=s(77600),S=s(85524),_=s(55224),A=s(83440),I=s(13312),C=s(44092),f=s.n(C),x=s(97392);const y=function(){return(0,x.withLDProvider)({clientSideID:h.c.LD_CLIENT_SIDE_ID,user:{key:h.c.LD_ANONYMOUS_USER_ID,anonymous:!0},flags:{[h.c.LD_HIDE_STACK_TRACE]:!0,[h.c.LD_ENABLE_OPTIMISED_API]:!1,[h.c.LD_ENABLE_GLP_MAINTENANCE]:!1,[h.c.LD_ENABLE_ILP_MAINTENANCE]:!1,[h.c.LD_ENABLE_SLP]:!1,[h.c.LD_ENABLE_SLP_FOR_COURSE_IDS]:{courseIds:[]},[h.c.LD_SEND_DOWN_TIME_PROPERTY_TO_APPCUES]:!1,[h.c.LD_ENABLE_SCORE_PENDING]:!1,[h.c.LD_ENABLE_DEEPLINK]:!1,[h.c.LD_HIDE_MOBILE_BANNER]:!1,[h.c.LD_ENABLE_DOWNTIME_MAINTENANCE]:!1,[h.c.LD_ENABLE_ZOOMIN]:!1,[h.c.LD_DISABLE_STATUSCAST]:!1},options:{hash:h.c.LD_ANONYMOUS_HASH}})};var N=s(19480);s(65652);var P=s(97884);const v=e=>{let{language:t,prefix:s}=e;return(0,P.jsxs)("div",{id:"error",children:[(0,P.jsx)("div",{className:"title",children:t.getText("".concat(s,".TITLE"))}),(0,P.jsx)("div",{className:"text",children:t.getText("".concat(s,".TEXT"))})]})};var L=s(17604),O=s(96216),R=s(28740),D=s(26812),b=s(84804),w=s(54299),M=s(584),U=s(39592),k=s(4260),j=s(39532),H=s(91536);const B=()=>({header:{padding:"8px 16px 24px 20px"},divider:{margin:"0px 24px"},menuItem:{padding:"14px 22px",justifyContent:"space-between"},action:{display:"flex",justifyContent:"center",padding:"24px 16px 20px 16px"}}),F=(0,N.c)(B)((e=>{let{language:t,user:s,logout:n,classes:i}=e;return(0,P.jsxs)(U.c,{component:"div",children:[(0,P.jsx)(k.c,{component:"div",className:i.header,children:(0,P.jsx)(O.ProfileDisplay,{name:s.fullName,email:s.email,avatarText:s.initials})}),(0,P.jsx)(j.c,{role:"presentation",className:i.divider}),(0,P.jsxs)(k.c,{button:!0,className:i.menuItem,onClick:()=>{window.location=h.c.ACCOUNT_SETTINGS_URL},children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(L.c,{component:"div",variant:"h5",className:"applyHover",children:t.getText("user.ACCOUNT")}),(0,P.jsx)(L.c,{component:"div",variant:"subtitle1",children:t.getText("user.MANAGE_ACCOUNT")})]}),(0,P.jsx)(O.Icon,{name:"ChevronRight",className:"applyHover"})]}),(0,P.jsx)(j.c,{role:"presentation",className:i.divider}),(0,P.jsx)("div",{className:i.action,children:(0,P.jsx)(H.c,{variant:"outlined",color:"primary",onClick:n,children:t.getText("user.SIGNOUT")})})]})}));var G=s(40480),Y=s(81160);const V=e=>(0,P.jsx)(Y.c,{viewBox:"0 0 18 18",...e,children:(0,P.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,P.jsx)("path",{d:"M0 0h18v18H0z"}),(0,P.jsx)("path",{fillRule:"nonzero",stroke:"currentcolor",strokeWidth:"1.5",d:"M9 17.25A8.25 8.25 0 1 0 9 .75a8.25 8.25 0 0 0 0 16.5z"}),(0,P.jsx)("path",{fill:"currentcolor",fillRule:"nonzero",d:"M8.625 13h.75a.5.5 0 0 1.5.5v.75a.5.5 0 0 1-.5.5h-.75a.5.5 0 0\n          1-.5-.5v-.75a.5.5 0 0 1 .5-.5zM7.25 7.003L6.5 6.997a.5.5 0 0 1-.495-.505v-.001l.002-.18a2.505\n          2.505 0 0 1 2.497-2.306h1.69a2.81 2.81 0 0 1 2.81 2.81v.345a2.775 2.775 0 0 1-2.286 2.731\n          1.025 1.025 0 0 0-.844 1.009v.6a.5.5 0 0 1-.5.5h-.75a.5.5 0 0 1-.5-.5v-.6c0-1.344.963-2.495\n          2.286-2.731.488-.088.844-.513.844-1.009v-.345a1.06 1.06 0 0 0-1.06-1.06h-1.69c-.394\n          0-.721.302-.75.633l-.001.12a.5.5 0 0 1-.504.495z"})]})}),W=e=>{let{ariaLabel:t,helpClick:s,iconstyle:n,className:i,classes:a,rippleColor:o,color:r,fontSize:l,isHelpOpen:c,tooltip:d}=e;return(0,P.jsx)(O.Tooltip,{title:d,placement:"bottom",children:(0,P.jsx)(D.c,{className:i,classes:a,style:n,"aria-label":t,"aria-expanded":c,onClick:s,color:o,id:"ise-in-app-help",children:(0,P.jsx)(V,{color:r,fontSize:l})})})};var z=s(99644);const Q=e=>(0,P.jsxs)(Y.c,{...e,children:[(0,P.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.741 8.43863C15.7396 8.43737 15.7383 8.4361 15.737 8.4348C15.2103 7.93091 14.4014 7.86517 13.8011 8.23664C13.691 8.29908 13.5871 8.37527 13.4919 8.46519L12.1102 9.77079L14.3068 11.8642L14.6926 11.4936L15.2527 12.0315L14.6926 12.5694L14.1325 12.0315L14.1347 12.0294L10.3889 8.46637C10.2139 8.2999 10.0082 8.18149 9.78952 8.11065C9.37717 7.97068 8.9162 8.00197 8.5259 8.20409C8.34408 8.28098 8.17411 8.39115 8.02638 8.53477L5.43787 11.0506C4.85172 11.6203 4.85439 12.5375 5.44384 13.104L8.09473 15.6321C8.09473 15.6321 8.0974 15.6347 8.09873 15.636C8.62534 16.1399 9.43427 16.2057 10.0345 15.8341C10.1446 15.7717 10.2486 15.6955 10.3438 15.6056L11.7254 14.3L9.54384 12.2208L9.14789 12.6011L8.58778 12.0632L9.14789 11.5253L9.19274 11.5684L9.19822 11.5631L13.4468 15.6044C13.6218 15.7709 13.8275 15.8893 14.0462 15.9601C14.4585 16.1001 14.9194 16.0688 15.3098 15.8667C15.4916 15.7898 15.6616 15.6796 15.8093 15.536L18.3978 13.0202C18.9839 12.4505 18.9813 11.5333 18.3918 10.9668L15.741 8.43863Z",fill:"white"}),(0,P.jsx)("rect",{x:"1",y:"1",width:"22",height:"22",rx:"6",stroke:"white",strokeWidth:"2"})]}),K=e=>(0,P.jsxs)(Y.c,{...e,children:[(0,P.jsx)("rect",{width:"24",height:"24",rx:"7",fill:"#047A9C"}),(0,P.jsx)("path",{d:"M19.4867 10.6758L16.4211 7.54342C16.4196 7.54185 16.418 7.54028 16.4165 7.53871C15.8074 6.91429 14.8719 6.833 14.178 7.29326C14.0505 7.37063 13.9303 7.46488 13.8204 7.57641L12.2227 9.19402L14.6845 11.7078L15.2852 11.0834L16.0948 11.9164L15.2852 12.7493L14.4837 11.9164L14.4864 11.9136L10.2319 7.57759C10.0296 7.37141 9.7918 7.22454 9.53875 7.13696C9.06204 6.96338 8.52885 7.00226 8.07733 7.25281C7.86703 7.34824 7.67046 7.48452 7.49947 7.66242L4.50639 10.7798C3.82854 11.4855 3.83159 12.6221 4.51326 13.3242L7.57886 16.4566C7.57886 16.4566 7.58192 16.4597 7.58344 16.4613C8.19259 17.0857 9.12807 17.167 9.82196 16.7067C9.94943 16.6294 10.0697 16.5351 10.1796 16.4236L11.7773 14.806L9.29754 12.2737L8.68228 12.9068L7.87275 12.0738L8.68228 11.2409L8.85327 11.4168L8.8548 11.4152L13.7681 16.4224C13.9704 16.6286 14.2081 16.7755 14.4612 16.863C14.9379 17.0366 15.4711 16.9977 15.9226 16.7472C16.1329 16.6518 16.3295 16.5155 16.5005 16.3376L19.4939 13.2202C20.1714 12.5145 20.1684 11.3779 19.4867 10.6758Z",fill:"white"})]}),q=e=>{let{ariaLabel:t,getTheAppClick:s,iconstyle:n,className:i,classes:a,rippleColor:o,tooltip:r,isDownloadApp:l}=e;return(0,P.jsx)(O.Tooltip,{title:r,placement:"bottom",children:(0,P.jsx)(D.c,{className:i,classes:a,style:n,"aria-expanded":l,"aria-label":t,onClick:s,color:o,id:"revel-get-the-app-icon",children:l?(0,P.jsx)(K,{style:z.c,viewBox:"0 0 24 24"}):(0,P.jsx)(Q,{style:z.c,viewBox:"0 0 24 24"})})})};var X,Z=s(84424),J=s(97909),$=s(29648);let ee=(0,o.uU)("user","materials","language","course")(X=(0,o.QT)(X=class extends n.Component{constructor(e){super(e),this.logout=()=>{p.c.logout(),m.EventProvider.getEventManager().dispatch({category:"Logout",action:"click",data:{userId:this.props.user.name}}),window.location=h.c.CONSOLE_URL},this.handleRequestClose=()=>{this.state.isProfileOpen&&this.setState({isProfileOpen:!1}),this.state.isHelpOpen&&this.setState({isHelpOpen:!1})},this.handleEscape=e=>{"Escape"===e.key&&this.handleRequestClose()},this.handleAudioIconClick=()=>{this.state.isAudioPlayerOpen?f().publish(M.AUDIOBOOK_CLOSE,{hide:!0}):(this.setState({isAudioPlayerOpen:!0,isAudioPlayerPlaying:!0}),f().publish(M.AUDIOBOOK_OPEN,{handleTab:e=>{this.setAudioFocus=e}}))},this.handleKeyDown=e=>{"Tab"===e.key&&!0===this.state.isAudioPlayerOpen&&this.setAudioFocus&&(this.setAudioFocus((()=>this.audioIcon.focusVisible())),e.preventDefault())},this.handleAction=e=>{this.audioIcon=e},this.handleHelpClick=e=>{e.preventDefault(),J.c.isZoominEnabled()?J.c.open():this.state.isHelpOpen?this.setState({isHelpOpen:!1}):this.setState({isHelpOpen:!0,anchorEl:e.currentTarget})},this.handleHelpClose=()=>{this.setState({isHelpOpen:!1})},this.handleProfilePopup=e=>{this.setState({isProfileOpen:e})},this.handleDownloadAppClick=e=>{e.preventDefault(),this.state.isDownloadApp?this.setState({isDownloadApp:!1}):this.setState({isDownloadApp:!0})},this.getScreenReaderHiddenWrapper=e=>(0,P.jsx)("span",{"aria-hidden":"true",children:e}),this.state={isProfileOpen:!1,isAudioPlayerOpen:!1,isAudioPlayerPlaying:!1,isHelpOpen:!1,anchorEl:null,isDownloadApp:!1},this.container=null}UNSAFE_componentWillMount(){if(this.trackCloseSubscription=f().on(w.PlaylistEvents.Close,(e=>{this.setState({isAudioPlayerPlaying:e.isPlaying,isAudioPlayerOpen:!1}),this.audioIcon&&this.audioIcon.focusVisible()})),window.sessionStorage.getItem(M.AUDIO_PLAYER)){const e=JSON.parse(window.sessionStorage.getItem(M.AUDIO_PLAYER));this.setState({isAudioPlayerPlaying:e.isPlaying})}}componentDidMount(){document.body.addEventListener("keydown",this.handleEscape)}componentWillUnmount(){document.body.removeEventListener("keydown",this.handleEscape)}render(){const{language:e,materials:t,course:s,classes:i,flags:a}=this.props,{isDownloadApp:o}=this.state,r=this.state.isAudioPlayerPlaying?i.audioIconActive:"",l={action:this.handleAction,onKeyDown:e=>{this.handleKeyDown(e)},id:"ise-audio-icon"};return(0,P.jsx)("div",{className:"user-detail",children:(0,P.jsxs)("ul",{className:i.headerNavItems,children:[!a.hideMobileBannerRevel5416&&(0,P.jsxs)("li",{children:[(0,P.jsx)(q,{getTheAppClick:this.handleDownloadAppClick,ariaLabel:e.getText("tooltips.DOWNLOAD_APP"),iconstyle:{backgroundColor:this.state.isDownloadApp?$.c.audioIconActive:""},color:"secondary",rippleColor:"secondary",tooltip:this.getScreenReaderHiddenWrapper(e.getText("tooltips.DOWNLOAD_APP")),classes:{colorSecondary:i.secondaryBGColor},isDownloadApp:o}),(0,P.jsx)(Z.c,{onClose:this.handleDownloadAppClick,isDialogOpen:o})]}),t.audioContents.length>0&&(0,P.jsx)("li",{children:(0,P.jsx)(b.AudioIcon,{isPlayerOpen:this.state.isAudioPlayerPlaying,ariaLabel:e.getText("tooltips.AUDIO_PLAYLIST_TOOLTIP"),audioClick:this.handleAudioIconClick,classes:{root:i.audioIcon,colorSecondary:i.secondaryBGColor},className:r,tooltip:this.getScreenReaderHiddenWrapper(e.getText("tooltips.AUDIO_PLAYLIST_TOOLTIP")),iconstyle:{backgroundColor:this.state.isAudioPlayerPlaying?$.c.audioIconActive:""},color:"secondary",rippleColor:"secondary",buttonProps:l})}),s.isStudentView()&&(0,P.jsx)(n.Fragment,{children:(0,P.jsxs)("li",{className:"helpIcon",children:[(0,P.jsx)(W,{helpClick:this.handleHelpClick,isHelpOpen:this.state.isHelpOpen,ariaLabel:e.getText("tooltips.INAPPHELP_TOOLTIP"),iconstyle:{backgroundColor:this.state.isHelpOpen?$.c.audioIconActive:""},color:"".concat(this.state.isHelpOpen?"primary":"secondary"),rippleColor:"secondary",tooltip:this.getScreenReaderHiddenWrapper(e.getText("tooltips.INAPPHELP_TOOLTIP")),classes:{colorSecondary:i.secondaryBGColor}}),!J.c.isZoominEnabled()&&(0,P.jsx)(n.Fragment,{children:(0,P.jsx)(G.c,{isHelpOpen:this.state.isHelpOpen,anchorEl:this.state.anchorEl,handleHelpClose:this.handleHelpClose})})]})}),(0,P.jsx)("li",{className:i.profileWrapper,children:(0,P.jsx)(O.ProfileDropdown,{"aria-label":"".concat(this.props.user.initials," ").concat(this.props.user.fullName," ").concat(e.getText("tooltips.PROFILE")),text:this.props.user.initials,open:this.state.isProfileOpen,onChange:this.handleProfilePopup,disableIndicator:!0,className:i.profileDropdownWrapper,children:(0,P.jsx)(F,{language:e,user:this.props.user,logout:this.logout})})})]})})}})||X)||X;const te=(0,x.withLDConsumer)()((0,g.Ak)((0,N.c)((e=>({audioIcon:{color:e.colors.audioIcon},audioIconActive:{backgroundColor:e.colors.audioIconActive},headerNavItems:{display:"inline-flex",padding:"0px",margin:"0px","& li":{display:"flex",alignItems:"center",paddingLeft:"20px","@media screen and (max-width: 550px)":{paddingLeft:0}}},secondaryBGColor:e.secondaryBGColor,profileDropdownWrapper:{width:360,"@media screen and (max-width: 400px)":{width:"100%"}},profileWrapper:{"@media screen and (max-width: 400px)":{"& #pmui-profile-dropdown":{marginRight:10}}}})))(ee))),se=(0,N.c)((e=>({courseTitle:{minWidth:"20px",wordWrap:"break-word",textAlign:"center",color:e.palette.common.white,fontWeight:"300",fontStretch:"normal",lineHeight:1.17,letterSpacing:"normal",paddingBottom:"1px"},pearsonLogo:{fontSize:"48px"},secondaryBGColor:e.secondaryBGColor,headerFocus:{"& .logoContainer a.pmuiCustomFocusVisible:after, & button.pmuiCustomFocusVisible:after":{borderColor:"#64B1FF"}}})))((e=>{let{language:t,user:s,title:n,classes:i}=e;return(0,P.jsxs)("div",{className:"headerContainer ".concat(i.headerFocus),children:[(0,P.jsx)(R.c,{className:"skip-main",href:"#mainContent",color:"secondary",children:t.getText("screens.mainContent.LABELHEADING")}),(0,P.jsx)("div",{className:"logoContainer",children:(0,P.jsx)(D.c,{component:"a",href:h.c.CONSOLE_URL,color:"secondary",role:"link","aria-label":"Pearson Logo",classes:{colorSecondary:i.secondaryBGColor},children:(0,P.jsx)(O.Icon,{name:"PearsonLogo",color:"secondary",className:i.pearsonLogo})})}),(0,P.jsx)(L.c,{color:"secondary",variant:"h2",component:"h1",className:i.courseTitle,children:n}),(0,P.jsx)(te,{user:s})]})})),ne=e=>({headerMenuWrapper:{color:e.palette.common.white,fontFamily:e.typography.fontFamily,"& button[aria-selected= false]":{color:"#e0ffff",opacity:1}},greenvilleHeader:{width:"100%",background:"radial-gradient(circle at 50% 100%, #00819e, #00749b 22%, #005d83 34%, #004d75 45%, #003061 64%, #002e60 72%) no-repeat bottom",position:"relative",minHeight:"240px","& .tabComp":{"& > div:first-child":{bottom:12},"& > div:last-child":{bottom:12}},"& .headerContainer":{width:"100%",padding:"33px 76px 7px",alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between","@media screen and (max-width: 550px)":{padding:"40px 0px 10px"},"& .logoContainer":{width:"300px","@media screen and (max-width: 550px)":{width:"125px"}},"& .user-detail":{width:"300px",textAlign:"right","& .helpIcon":{maxWidth:"52px"},"@media screen and (max-width: 550px)":{width:"175px"}},"& a.skip-main":{left:"-999px",position:"absolute",top:"auto",width:"1px",height:"1px",overflow:"hidden",zIndex:"-999"},"& a.skip-main:focus, a.skip-main:active":{left:"0",top:"10px",width:"20%",height:"auto",overflow:"auto",margin:"0px 40%",padding:"5px",border:"0",textAlign:"center",zIndex:"999",fontSize:"14px",lineHeight:1.4},"& .studyNavigationWrapper":{display:"flex",overflow:"hidden",alignItems:"flex-end",padding:"6px"}},"& .shapeOver":{height:"72px",position:"absolute",width:"100%",left:0,bottom:0,"& svg":{width:"100%",height:"100%",fill:"#f5f5f5"}},"& .highlightWrapper":{paddingTop:"13px",paddingBottom:"57px"},"& .highlightsContainer":{maxWidth:"640px",minHeight:"146px",margin:"6px auto 27px",width:"90%","&.scoreTab":{maxWidth:"780px"},"&.noScoreContainer":{maxWidth:"500px",padding:"40px 0px 35px"},"&.textCenter":{textAlign:"center",padding:"40px 0px 35px"},"& .nextDueAssignment":{display:"flex",alignItems:"center","& .welcomeContainer, & .scoreOverallContainer":{textAlign:"left",color:e.palette.common.white,fontStyle:"normal",fontStretch:"normal",letterSpacing:"normal",paddingLeft:"18px","&.sumathra":{marginBottom:"70px",paddingLeft:"0"}}},"& .nextDueMsg":{fontWeight:"normal",lineHeight:1.71,"& b":{fontWeight:600}},"& .overAllScoreMsg":{fontSize:"14px",fontWeight:"normal",lineHeight:"1.57",fontStretch:"normal",fontStyle:"normal",letterSpacing:"0.2px",color:e.palette.common.white,"& b":{fontWeight:600},"&.boxed":{maxWidth:"510px",margin:"0 auto"}},"& .startBtn":{marginTop:"16px"}},"& .materialsOverviewContainer":{minHeight:"179px",width:"90%","@media screen and (max-width: 450px)":{wordBreak:"break-word"},"@media screen and (max-width: 500px)":{"& .continueReadingContainer":{textAlign:"center"}}}},noHeaderBackground:{background:"none"},errorHeader:{minHeight:"auto","& .headerContainer":{padding:"40px 52px 40px"}}});var ie,ae=s(61272);let oe=(0,o.uU)("language","user")(ie=(0,o.QT)(ie=class extends n.Component{constructor(e){super(e),this.updateLaunchDarklyUser=()=>{const{user:e,ldClient:t}=this.props;t&&e&&e.id&&e.launchDarklyHashKey.length>0&&t.identify({key:e.id},e.launchDarklyHashKey).then((e=>{f().publish(M.LAUNCHDARKLY_CALL_TRIGGERED,e)})).catch((e=>{f().publish(M.LAUNCHDARKLY_CALL_TRIGGERED,e)}))},this.renderTopStrap=()=>ae.c.isInIframe()||this.props.user&&!this.props.user.isAuthenticated?"":(0,P.jsx)("div",{className:"".concat(this.props.classes.greenvilleHeader," ").concat(this.props.classes.errorHeader),children:(0,P.jsx)(se,{user:this.props.user,language:this.props.language})}),this.state={hasError:!1,ldHashFetched:!1},this.ldCallTriggered=!1}componentDidCatch(){this.setState({hasError:!0})}componentDidMount(){this.ldlKeySubscription=f().on(M.LAUNCHDARKLY_HASH_FETCHED,(()=>{-1===window.location.pathname.indexOf(M.DEEPLINK_VIEW_QUERY_PARAM)&&this.setState({ldHashFetched:!0})})),this.deeplinkSubscription=f().on(M.DEEPLINK_URL_REDIRECTED,(()=>{this.setState({ldHashFetched:!0})})),window.onerror=e=>{const{ldClient:t}=this.props;return this.props.user&&t&&t.getUser()&&t.getUser().key!==this.props.user.id&&this.updateLaunchDarklyUser(),this.props.flags.hideStackTraceIse4815&&console.log("Error :",e),this.props.flags.hideStackTraceIse4815}}componentDidUpdate(){this.props.ldClient&&this.state.ldHashFetched&&!this.ldCallTriggered&&(this.ldCallTriggered=!0,this.updateLaunchDarklyUser())}componentWillUnmount(){this.ldlKeySubscription&&this.ldlKeySubscription(),this.deeplinkSubscription&&this.deeplinkSubscription()}render(){return this.state.hasError?(0,P.jsxs)(n.Fragment,{children:[this.renderTopStrap(),(0,P.jsx)(v,{language:this.props.language,prefix:"errors.general"})]}):this.props.children}})||ie)||ie;oe.defaultProps={flags:{hideStackTraceIse4815:!0}};const re=(0,x.withLDConsumer)()((0,N.c)(ne)(oe));var le=s(47164),ce=s(79208),de=s.n(ce),pe=s(58688);const he=e=>(0,P.jsx)(Y.c,{...e,children:(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,P.jsx)("defs",{children:(0,P.jsx)("filter",{id:"sm6qdrkuea",children:(0,P.jsx)("feColorMatrix",{in:"SourceGraphic",values:"0 0 0 0 1.000000 0 0 0 0 1.000000 0 0 0 0 1.000000 0 0 0 1.000000 0"})})}),(0,P.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,P.jsx)("g",{children:(0,P.jsx)("g",{children:(0,P.jsx)("g",{filter:"url(#sm6qdrkuea)",transform:"translate(-84 -52) translate(76 40) translate(0 4)",children:(0,P.jsx)("g",{children:(0,P.jsx)("path",{fill:"#6A7070",d:"M12 10.586l5.293-5.293c.39-.39 1.024-.39 1.414 0 .39.39.39 1.024 0 1.414L13.414 12l5.293 5.293c.39.39.39 1.024 0 1.414-.39.39-1.024.39-1.414 0L12 13.414l-5.293 5.293c-.39.39-1.024.39-1.414 0-.39-.39-.39-1.024 0-1.414L10.586 12 5.293 6.707c-.39-.39-.39-1.024 0-1.414.39-.39 1.024-.39 1.414 0L12 10.586z",transform:"translate(8 8)"})})})})})})]})}),ue=e=>(0,P.jsx)(he,{...e,style:z.c,viewBox:"0 0 24 24"}),ge=e=>{const{ariaLabel:t,onClick:s,iconstyle:i,className:a,classes:o,color:r}=e,l=(0,n.useRef)();return(0,n.useEffect)((()=>{l.current.focus()}),[]),(0,P.jsx)(D.c,{ref:l,className:a,classes:o,style:i,"aria-label":t,onClick:s,color:r,children:(0,P.jsx)(ue,{})})};ge.defaultProps={onClick:()=>{}};const me=ge,Ee=e=>{let{ariaLabel:t,onClick:s,iconstyle:n,className:i,classes:a,color:o,fontSize:r,disabled:l}=e;return(0,P.jsx)(D.c,{className:i,classes:a,style:n,"aria-label":t,onClick:s,color:o,disabled:l,children:(0,P.jsx)(O.Icon,{name:"ChevronLeft",color:o,fontSize:r})})};Ee.defaultProps={onClick:()=>{},disabled:!1};const Te=Ee,Se=e=>{let{ariaLabel:t,onClick:s,iconstyle:n,className:i,classes:a,color:o,fontSize:r,disabled:l}=e;return(0,P.jsx)(D.c,{className:i,classes:a,style:n,"aria-label":t,onClick:s,color:o,disabled:l,children:(0,P.jsx)(O.Icon,{name:"ChevronRight",color:o,fontSize:r})})};Se.defaultProps={onClick:()=>{},disabled:!1};const _e=Se,Ae=e=>{let{user:t,title:s,classes:n,handleBack:i,handlePrev:a,handleNext:o,language:r,audioContents:l}=e;return(0,P.jsxs)("div",{className:"".concat(n.headerContainer," ").concat(n.headerFocus," headerContainer"),children:[(0,P.jsx)("div",{className:"".concat(l?n.audioWidth:""," logoContainer"),children:(0,P.jsx)(me,{color:"secondary",classes:{colorSecondary:n.secondaryBGColor},onClick:i,ariaLabel:r.getText("screens.studyTools.CLOSE")})}),(0,P.jsx)("div",{className:"studyNavigationWrapper",children:(0,P.jsx)(L.c,{color:"secondary",variant:"text",className:n.courseTitle,children:s})}),(0,P.jsxs)("div",{className:n.prevNextIcon,children:[(0,P.jsxs)("diV",{className:"studyDetailsNextPrevButton",children:[(0,P.jsx)(Te,{color:"secondary",onClick:a,classes:{root:n.prevButton,disabled:n.disabledButton},ariaLabel:r.getText("screens.studyTools.PREVIOUS_CHAPTER")}),(0,P.jsx)(_e,{color:"secondary",onClick:o,classes:{disabled:n.disabledButton},ariaLabel:r.getText("screens.studyTools.NEXT_CHAPTER")})]}),ae.c.isInIframe()?(0,P.jsx)("div",{className:"user-detail"}):(0,P.jsx)(te,{user:t})]})]})};Ae.defaultProps={handleBack:()=>{},handlePrev:()=>{},handleNext:()=>{}};const Ie=(0,o.uU)("language")((0,N.c)((e=>({headerContainer:{"@media screen and (max-width: 400px)":{"& button":{padding:2}},"& .user-detail":{width:"auto !important","@media screen and (max-width: 750px)":{width:"auto"}}},courseTitle:{minWidth:"20px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",textAlign:"center",color:e.palette.common.white,fontFamily:e.typography.fontFamily,fontStretch:"normal",fontStyle:"normal",lineHeight:1.29,letterSpacing:"normal",margin:"0 5px",fontSize:14,fontWeight:"bold",textTransform:"uppercase"},disabledButton:{visibility:"hidden"},prevButton:{right:16,"@media screen and (max-width: 750px)":{right:8}},secondaryBGColor:e.secondaryBGColor,prevNextIcon:{flexWrap:"nowrap",display:"flex",justifyContent:"flex-end",alignItems:"center",textAlign:"right","& .studyDetailsNextPrevButton":{width:70,"@media screen and (max-width: 400px)":{width:53}}},audioWidth:{width:"200px !important"},headerFocus:{"& button.pmuiCustomFocusVisible:after":{borderColor:"#64B1FF"}}})))(Ae));class Ce extends n.Component{constructor(e){super(e),this.state={headerHighlights:null}}UNSAFE_componentWillMount(){this.cancelHeaderHighlightsSubscription=f().on(M.HEADER_HIGHLIGHTS,(e=>{this.setState({headerHighlights:e.data})}))}componentWillUnmount(){this.cancelHeaderHighlightsSubscription&&this.cancelHeaderHighlightsSubscription()}render(){return this.state.headerHighlights}}const fe=Ce;class xe extends n.Component{constructor(e){super(e),this.renderTopStrap=()=>{const{language:e,title:t,user:s,audioContents:n}=this.props;return this.state.showStudyHeader?(0,P.jsx)(Ie,{user:s,language:e,title:this.state.chapterTitle,handleBack:this.handleBack,handlePrev:this.handlePrev,handleNext:this.handleNext,isFirstChapter:this.isFirstChapter,isLastChapter:this.isLastChapter,audioContents:n}):ae.c.conditionalArg(ae.c.isInIframe(),"",(0,P.jsx)(se,{user:s,language:e,title:t}))},this.handleInkBar=e=>{this.updateIndicator=e},this.state={showStudyHeader:!1,chapterTitle:""},this.divRef=n.createRef()}UNSAFE_componentWillMount(){this.cancelStudyHandlersSubscription=f().on("SET_STUDY_HANDLERS",(e=>{this.setState({chapterTitle:e.chapterTitle,showStudyHeader:!0}),this.handleBack=()=>{this.setState({showStudyHeader:!1}),e.handleBack()},this.handlePrev=e.handlePrev,this.handleNext=e.handleNext,this.isFirstChapter=e.isFirstChapter,this.isLastChapter=e.isLastChapter})),this.cancelHeaderHighlightsSubscription=f().on(M.HEADER_HIGHLIGHTS,(()=>{this.updateIndicator&&this.updateIndicator()}))}componentDidMount(){this.divRef.current.parentElement.classList.remove("studyBackground")}componentDidUpdate(){this.state.showStudyHeader?this.divRef.current.parentElement.classList.add("studyBackground"):this.divRef.current.parentElement.classList.remove("studyBackground")}componentWillUnmount(){this.cancelStudyHandlersSubscription&&this.cancelStudyHandlersSubscription(),this.cancelHeaderHighlightsSubscription&&this.cancelHeaderHighlightsSubscription()}render(){const{title:e,onChange:t,headerTabs:s,inkBarColor:i,selected:a,focused:o,classes:r}=this.props;let l;return l=this.state.showStudyHeader?"".concat(r.greenvilleHeader," ").concat(r.noHeaderBackground):r.greenvilleHeader,(0,P.jsxs)("div",{id:"greenvilleHeader",role:"banner",ref:this.divRef,className:l,children:[this.renderTopStrap(),!this.state.showStudyHeader&&(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)("div",{className:r.headerMenuWrapper,children:(0,P.jsx)(b.HeaderMenuComponent,{title:e,headerTabs:s,selected:a,focused:o,onChange:t,inkBarColor:i,showTitle:!1,handleInkBar:this.handleInkBar,isSLP:!0})}),(0,P.jsx)("div",{className:"highlightWrapper",children:(0,P.jsx)(fe,{})})]}),!this.state.showStudyHeader&&(0,P.jsx)("div",{className:"shapeOver",children:(0,P.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",viewBox:"0 0 1920 120",children:(0,P.jsx)("path",{fillRule:"evenodd",d:"M0,0 C320,60 640,90 960,90 C1280,90 1600,60 1920,0 L1920,120 L0,120 L0,0 Z"})})})]})}}const ye=(0,N.c)(ne)((0,o.uU)("language","user")((0,o.QT)(xe)));var Ne=s(55960);const Pe=(0,o.uU)("language")((e=>{let{closeBanner:t,getAppLink:s,language:n}=e;return(0,P.jsxs)("div",{id:"containerStyle",className:"iosContainerStyle",children:[(0,P.jsx)("div",{className:"closeImg",children:(0,P.jsx)(D.c,{onClick:t,children:(0,P.jsx)(Ne.LazyLoadImage,{src:"/images/close_icon.png",alt:"Close Icon"})})}),(0,P.jsx)("div",{className:"pearsonImg",children:(0,P.jsx)(Ne.LazyLoadImage,{src:"/images/ios_".concat(h.c.PRODUCT_MODEL,"_icon.png"),alt:"Pearson logo"})}),(0,P.jsxs)("div",{className:"label iosBannerLabel",children:[(0,P.jsx)("span",{className:"textStyle",children:n.getText("common.banner.product.".concat(h.c.PRODUCT_MODEL,".IOS"))}),(0,P.jsx)("span",{className:"subTitle",children:n.getText("common.banner.pearsonMsg")}),(0,P.jsx)("span",{className:"downloadTitle",children:n.getText("common.banner.iosStore")})]}),(0,P.jsx)(H.c,{className:"linkLabel ioslinkLabel",onClick:s,children:n.getText("common.banner.getIosLabel")})]})})),ve=(0,o.uU)("language")((0,N.c)((e=>({button:{minWidth:"64px",margin:"20px 18px 7px",position:"absolute",right:"0px",boxShadow:"0 2px 2px ".concat(e.colors.androidBannerColor),height:"auto",lineHeight:"initial",padding:"8px 0",fontFamily:e.androidBannerFontFamily}})))((e=>{let{closeBanner:t,getAppLink:s,language:n,classes:i}=e;return(0,P.jsxs)("div",{id:"containerStyle",className:"androidContainerStyle",children:[(0,P.jsx)("div",{className:"closeImg",children:(0,P.jsx)(D.c,{onClick:t,children:(0,P.jsx)(Ne.LazyLoadImage,{src:"/images/close_icon.png",alt:"Close Icon"})})}),(0,P.jsx)("div",{className:"pearsonImg",children:(0,P.jsx)(Ne.LazyLoadImage,{src:"/images/android_".concat(h.c.PRODUCT_MODEL,"_icon.png"),alt:"Pearson logo"})}),(0,P.jsxs)("div",{className:"label",children:[(0,P.jsx)("span",{className:"textStyle",children:n.getText("common.banner.product.".concat(h.c.PRODUCT_MODEL,".ANDROID"))}),(0,P.jsx)("span",{className:"subTitle",children:n.getText("common.banner.pearsonMsg")}),(0,P.jsx)("span",{className:"downloadTitle",children:n.getText("common.banner.androidPlayStore")})]}),(0,P.jsx)(H.c,{variant:"outlined",className:i.button,onClick:s,color:"primary",size:"small",children:n.getText("common.banner.getAndroidLabel")})]})}))),Le=(0,o.uU)("language")((0,N.c)((()=>({bannerWrapper:{width:"100%",height:"58.1px",textAlign:"center",padding:"17px",backgroundColor:"#e6f1f5"}})))((e=>{let{classes:t,language:s}=e;return(0,P.jsx)("div",{className:t.bannerWrapper,children:(0,P.jsx)(L.c,{variant:"body2",inline:!0,children:(0,P.jsx)(u.FormattedMessage,{id:"welcomeBanner",defaultMessage:s.getText("common.topBanner.text"),values:{Studentview:(0,P.jsx)("b",{children:s.getText("common.topBanner.STUDENT_VIEW")})}})})})}))),Oe=(0,o.uU)("language")((0,N.c)((e=>({bannerWrapper:{display:"flex",width:"100%",height:"50px",textAlign:"center",padding:"17px",backgroundColor:"#FEF6D9","@media screen and (max-width: 550px)":{height:"90px",alignItems:"center"}},messageText:{flexGrow:2},closeButton:{fontSize:10,"& svg":{width:10,height:10,"& path":{fill:e.palette.text.primary}}}})))((e=>{let{classes:t,language:s,closeBanner:n}=e;return(0,P.jsxs)("div",{className:t.bannerWrapper,children:[(0,P.jsx)(L.c,{variant:"body1",inline:!0,className:t.messageText,children:(0,P.jsx)(u.FormattedMessage,{id:"welcomeBanner",defaultMessage:s.getText("common.studyTopBanner.text")})}),(0,P.jsx)(D.c,{onClick:n,classes:{root:t.closeButton},children:(0,P.jsx)(O.Icon,{name:"Remove",fontSize:"small"})})]})}))),Re=e=>{let t,{closeBanner:s,getAppLink:n,bannerType:i}=e;switch(i){case M.MOBILE_OS_IOS:t=(0,P.jsx)(Pe,{closeBanner:s,getAppLink:n});break;case M.MOBILE_OS_ANDROID:t=(0,P.jsx)(ve,{closeBanner:s,getAppLink:n});break;case M.TOP_BANNER:t=(0,P.jsx)(Le,{});break;case M.STUDY_TOP_BANNER:t=(0,P.jsx)(Oe,{closeBanner:s});break;default:t=null}return t};class De{static register(e){De.renderers[e.getType()]=e}static getRenderer(e){return De.renderers[e]}}De.renderers={};var be=s(17435);const we={copyrightText:"copyright",links:[{text:"termscond",link:"".concat(h.c.LOGIN_STATIC,"/html/PearsonEULA.html")},{text:"privacy",link:M.PEARSON_PRIVACY_POLICY_URL}]},Me=e=>({root:{"&.body__wrapper":{backgroundColor:e.palette.common.white},"& .header-box":{padding:"8px",backgroundColor:e.palette.common.white,position:"absolute"},"& .div__bgimage":{display:"grid",overflow:"hidden",backgroundColor:e.palette.common.white,height:"100vh","-webkit-box-pack":"center","-webkit-justify-content":"center","-ms-flex-pack":"center",justifyContent:"center",justifyItems:"center",gridAutoColumns:"1fr","-ms-grid-columns":"1fr","grid-template-columns":"1fr","-ms-grid-rows":"auto auto",gridTemplateRows:"auto auto",backgroundPosition:"50% 72vh",backgroundSize:"220vw",backgroundRepeat:"no-repeat",backgroundImage:'url("/images/bkgd-grass.svg")',"@media (max-width: 991px)":{"-webkit-box-pack":"center","-webkit-justify-content":"center","-ms-flex-pack":"center",justifyContent:"center",justifyItems:"center",backgroundPosition:"50% 77vh",backgroundSize:"120vw"},"@media (max-width: 767px)":{"-ms-grid-columns":"100vw",gridTemplateColumns:"100vw",backgroundPosition:"50% 73vh",backgroundSize:"auto"},"@media (max-width: 479px)":{"-ms-grid-columns":"100vw",gridTemplateColumns:"100vw",backgroundPosition:"50% 70vh",backgroundSize:"auto"}},"& .img__schedulemaint":{width:"140vw",maxWidth:"none","-webkit-align-self":"end","-ms-flex-item-align":"end","-ms-grid-row-align":"end",alignSelf:"end","@media (max-width: 991px)":{width:"200vw",maxWidth:"none","-webkit-align-self":"end","-ms-flex-item-align":"end","-ms-grid-row-align":"end",alignSelf:"end"},"@media (max-width: 767px)":{width:"240vw",maxWidth:"none","-webkit-align-self":"end","-ms-flex-item-align":"end","-ms-grid-row-align":"end",alignSelf:"end"},"@media (max-width: 479px)":{width:"450vw",maxWidth:"none",marginLeft:"0px","-webkit-align-self":"end","-ms-flex-item-align":"end","-ms-grid-row-align":"end",alignSelf:"end"}},"& .div__contentwrapper":{width:"500px",marginTop:"120px",marginBottom:"40px",marginRight:"auto",marginLeft:"auto",fontFamily:e.typography.fontFamily,color:"#262626",fontSize:"20px",lineHeight:"24px",fontWeight:"400",textAlign:"center","@media (max-width: 991px)":{width:"auto",paddingRight:"16%",paddingLeft:"16%"},"@media (max-width: 767px)":{width:"auto",marginTop:"90px",marginBottom:"60px",paddingRight:"20px",paddingLeft:"20px","-webkit-align-self":"start","-ms-flex-item-align":"start","-ms-grid-row-align":"start",alignSelf:"start"},"@media (max-width: 479px)":{width:"auto",paddingRight:"20px",paddingLeft:"20px"}},"& .heading":{marginTop:"30px",marginBottom:"0px",fontSize:"40px",lineHeight:"40px",fontWeight:"400"},"& .paragraph":{marginTop:"30px",marginBottom:"0px"},"& .paragraph-2":{marginBottom:"0px"},"& #w-node-544b166684fa-8b3fc7a1":{gridColumn:1,"-ms-grid-column":1,gridColumnStart:1,"-ms-grid-column-span":1,gridColumnEnd:2,gridRow:1,"-ms-grid-row":1,gridRowStart:1,"-ms-grid-row-span":1,gridRowEnd:2,"@media screen and (max-width: 767px)":{gridColumn:1,"-ms-grid-column":1,gridColumnStart:1,"-ms-grid-column-span":1,gridColumnEnd:2,gridRow:1,"-ms-grid-row":1,gridRowStart:1,"-ms-grid-row-span":1,gridRowEnd:2,"-ms-grid-row-align":"start",alignSelf:"start","-ms-grid-column-align":"center",justifySelf:"center"},"@media screen and (max-width: 479px)":{gridColumn:1,"-ms-grid-column":1,gridColumnStart:1,"-ms-grid-column-span":1,gridColumnEnd:2,gridRow:"1","-ms-grid-row":1,gridRowStart:1,"-ms-grid-row-span":1,gridRowEnd:2}},"& #w-node-34226985c66a-8b3fc7a1":{gridColumn:1,"-ms-grid-column":1,gridColumnStart:1,"-ms-grid-column-span":1,gridColumnEnd:2,gridRow:2,"-ms-grid-row":2,gridRowStart:2,"-ms-grid-row-span":1,gridRowEnd:3,"-ms-grid-row-align":"end",alignSelf:"end","-ms-grid-column-align":"center",justifySelf:"center","@media screen and (max-width: 991px)":{gridColumn:1,"-ms-grid-column":1,gridColumnStart:1,"-ms-grid-column-span":1,gridColumnEnd:2,gridRow:2,"-ms-grid-row":2,gridRowStart:2,"-ms-grid-row-span":1,gridRowEnd:3,"-ms-grid-row-align":"end",alignSelf:"end","-ms-grid-column-align":"center",justifySelf:"center"},"@media screen and (max-width: 767px)":{gridColumn:1,"-ms-grid-column":1,gridColumnStart:1,"-ms-grid-column-span":1,gridColumnEnd:2,gridRow:2,"-ms-grid-row":2,gridRowStart:2,"-ms-grid-row-span":1,gridRowEnd:3,"-ms-grid-row-align":"end",alignSelf:"end","-ms-grid-column-align":"center",justifySelf:"center"}}}}),Ue=(0,N.c)(Me)((0,o.uU)("language")((0,o.QT)((e=>{let{language:t,classes:s}=e;return(0,P.jsx)(n.Fragment,{children:(0,P.jsxs)("div",{id:"maintenance-page",className:s.root,children:[(0,P.jsx)("div",{className:"header-box",children:(0,P.jsx)("svg",{viewBox:"0 0 123 37",width:"123px",height:"37px",role:"img","aria-labelledby":"p_logo",focusable:"false",className:"pe-icon--logo-full",children:(0,P.jsxs)("g",{children:[(0,P.jsx)("path",{d:"M72.6813131,24.2490047 C72.3908458,24.6518551 71.4428505,25.8547009 70.2635187,25.8547009 C68.668715,25.8547009 68.333986,24.7351916 68.333986,23.7963598 C68.333986,22.252215 69.5160841,21.5381495 72.6813131,20.7564813 L72.6813131,24.2490047 Z M76.6218131,26.1403271 C76.5758224,26.0205093 76.4513364,25.9523879 76.3289252,25.9812617 L76.2901963,25.9911168 C75.9265935,26.0699579 75.6468458,26.0478271 75.4507804,25.9155607 C75.1729346,25.7271028 75.0375561,25.3028131 75.0375561,24.618486 L75.0375561,18.4284206 C75.0375561,16.0106262 73.5957664,14.784785 70.7517804,14.784785 C68.204486,14.784785 66.2090794,15.9903972 66.2090794,17.529528 C66.2090794,18.3208785 66.6911168,18.8928224 67.4032804,18.9787523 C67.8685467,19.034771 68.3122009,18.8241822 68.6346542,18.4840935 C69.2608879,17.8231075 69.1796262,17.0374626 68.4204346,16.1935514 C68.8694486,15.7236168 69.6647757,15.4455981 70.5719673,15.4455981 C72.0504112,15.4455981 72.6813131,16.3223598 72.6813131,18.377243 L72.6813131,19.9414439 C72.3346542,20.0486402 72.0102991,20.1501308 71.4170888,20.2893131 C70.2201215,20.570271 68.5779439,20.9442477 67.3393084,21.6287477 C66.3167944,22.1891075 65.7982757,23.0739953 65.7982757,24.2590327 C65.7982757,25.5486729 66.6447804,27.0547804 69.0307617,27.0547804 C70.3667383,27.0547804 71.5640514,26.4207664 72.7926589,25.0616215 C72.898472,26.4743645 73.4339346,27.0036028 74.7327383,27.0036028 C75.3570701,27.0036028 75.856743,26.8580234 76.4506449,26.5706682 C76.6116121,26.4928645 76.6882056,26.3061355 76.6218131,26.1403271 L76.6218131,26.1403271 Z"}),(0,P.jsx)("path",{d:"M103.127645,15.368486 C101.666836,15.368486 99.9904252,15.9966215 99.9904252,20.8942804 C99.9904252,24.6297243 101.092126,26.4453178 103.358636,26.4453178 C105.527977,26.4453178 106.495336,24.7332897 106.495336,20.8942804 C106.495336,17.1757804 105.393808,15.368486 103.127645,15.368486 Z M103.255589,27.1064766 C99.8752757,27.1064766 97.3260794,24.4578645 97.3260794,20.9454579 C97.3260794,17.5058411 99.9862757,14.7076729 103.255589,14.7076729 C106.566397,14.7076729 109.159855,17.4022757 109.159855,20.842757 C109.159855,24.7115047 106.095252,27.1064766 103.255589,27.1064766 L103.255589,27.1064766 Z"}),(0,P.jsx)("path",{d:"M44.8028505,24.618486 L44.8028505,20.1404486 L46.5268084,20.1404486 C49.0993458,20.1404486 51.0563692,19.5959953 52.3439346,18.5219579 C53.6894206,17.3993364 53.9717617,15.9769112 53.9717617,14.9815421 C53.9717617,10.8869907 50.0210607,10.0276916 46.7066215,10.0276916 L46.7201075,10.0273458 L39.9975187,10.0273458 C39.8453692,10.0273458 39.7215748,10.1511402 39.7215748,10.3032897 L39.7215748,10.3216168 L39.7214019,10.3157383 C39.7214019,10.4563037 39.8071589,10.5814813 39.9390794,10.6298925 C40.5378224,10.8499907 42.1642664,10.5401589 42.1642664,12.2845187 L42.1644393,24.6160654 C42.1644393,25.5130561 41.7666028,26.1458598 39.948243,26.3175467 C39.8042196,26.3313785 39.6952944,26.4494673 39.6952944,26.5921075 L39.6952944,26.6344673 C39.6952944,26.7866168 39.8190888,26.9104112 39.9712383,26.9104112 L47.1533879,26.9104112 C47.3053645,26.9104112 47.4293318,26.7866168 47.4293318,26.6344673 L47.4293318,26.5967757 C47.4293318,26.4541355 47.316257,26.3334533 47.1722336,26.322215 C45.1968832,26.1641869 44.800257,25.5521308 44.800257,24.6160654 L44.800257,20.148229 M50.9993131,14.9300187 C50.9993131,17.7790187 50.2971776,19.3485794 46.7066215,19.3485794 L44.8028505,19.3485794 L44.8028505,10.740028 L46.7839065,10.740028 C50.4984299,10.740028 50.9993131,12.8580187 50.9993131,14.9300187"}),(0,P.jsx)("path",{d:"M56.3918037,19.3573972 C56.653743,16.7905654 57.6555093,15.383528 59.2287009,15.383528 C60.0162477,15.383528 60.5997757,15.6013785 61.0124813,16.0498738 C61.5795841,16.6659065 61.8192196,17.7785 61.7249907,19.3573972 L56.3918037,19.3573972 Z M59.4079953,14.7016215 C56.2816682,14.7016215 53.7383505,17.5322944 53.7383505,21.0116776 C53.7383505,24.5339393 56.1229486,27.0905701 59.4079953,27.0905701 C62.1686449,27.0905701 63.5117103,25.4413037 64.2817944,24.2005935 C64.3576963,24.0787009 64.3245,23.9168692 64.2064112,23.8323224 L64.1701028,23.8065607 C64.0509766,23.7216682 63.8851682,23.7453551 63.7933598,23.8611963 C62.7781075,25.1337196 61.8899346,25.8704346 60.3556449,25.8704346 C58.4150467,25.8704346 56.3418364,24.5334206 56.3418364,20.7810327 L56.3418364,20.7531963 C56.3385514,20.5873879 56.342528,20.3602009 56.3485794,20.148229 L64.2880187,20.148229 C64.3098037,20.148229 64.3276121,20.131285 64.3291682,20.1098458 L64.3336636,20.0460467 C64.4457009,18.506743 64.0103458,17.1246028 63.1079953,16.1536121 C62.2248364,15.203715 60.9452243,14.7016215 59.4079953,14.7016215 L59.4079953,14.7016215 Z"}),(0,P.jsx)("path",{d:"M92.3160374,19.4962336 C92.3153458,19.4958879 92.3144813,19.4958879 92.3136168,19.495715 C90.1423738,18.886771 89.2963879,18.2702196 89.2963879,17.2971542 C89.2963879,16.1881916 90.1766075,15.383528 91.3891355,15.383528 C92.8157103,15.383528 93.4265561,16.0652617 94.9323178,18.5828178 L94.9523738,18.6163598 C94.9596355,18.6289813 94.9732944,18.6369346 94.9878178,18.6369346 L95.1944299,18.6369346 C95.3464065,18.6369346 95.4703738,18.5129673 95.4703738,18.3609907 L95.4703738,14.7431168 C95.4703738,14.7201215 95.4517009,14.7016215 95.4288785,14.7016215 L95.1563925,14.7016215 C95.0734019,14.7016215 94.9955981,14.7384486 94.9432103,14.8025935 L94.4625561,15.3875047 C93.8556869,15.0529486 92.8677523,14.7016215 91.8761869,14.7016215 C89.3826636,14.7016215 87.6408972,16.2428271 87.6408972,18.4496869 C87.6408972,20.5208224 89.0142196,21.2971308 91.3856776,21.9375421 C93.6898785,22.568271 94.506472,23.2244159 94.506472,24.4440327 C94.506472,25.799028 93.192972,26.4086636 92.2603645,26.4086636 C90.5256869,26.4086636 89.7920841,25.763757 88.1296776,22.776785 L88.1099673,22.7411682 C88.1027056,22.728028 88.0888738,22.719729 88.0738318,22.719729 L87.8658364,22.719729 C87.7136869,22.719729 87.5898925,22.8435234 87.5898925,22.9956729 L87.5898925,27.0490748 C87.5898925,27.0718972 87.6083925,27.0905701 87.631215,27.0905701 L87.9133832,27.0905701 C87.9861729,27.0905701 88.0572336,27.0608318 88.1085841,27.0098271 L88.8686402,26.2494252 C89.7583692,26.8016589 91.0886402,27.0905701 91.9529533,27.0905701 C93.250028,27.0905701 94.3164579,26.6797664 95.0370935,25.9022477 C95.6795794,25.2094486 96.0335,24.2275654 96.0335,23.1374486 C96.0335,21.249757 95.0258551,20.2626869 92.3160374,19.4962336"}),(0,P.jsx)("path",{d:"M79.1775794,25.4551355 C79.1775794,26.0801589 79.0186869,26.2846963 78.0241822,26.3474579 C77.8798131,26.3566215 77.7665654,26.4771308 77.7665654,26.6223645 C77.7665654,26.7741682 77.890014,26.8977897 78.0419907,26.8977897 L82.9553832,26.8977897 C83.1047664,26.8977897 83.226486,26.7760701 83.226486,26.6268598 C83.226486,26.4795514 83.1116822,26.3586963 82.9650654,26.3514346 C81.8277477,26.2967991 81.5334766,26.1126636 81.5334766,25.4549626 L81.5334766,18.2503364 C82.3419439,16.9055421 82.9235701,16.2016776 83.9045888,15.9888411 C83.8570421,16.1587991 83.8259206,16.3626449 83.8259206,16.5279346 C83.8259206,17.4031402 84.4374579,18.0141589 85.3126636,18.0141589 C86.1724813,18.0141589 86.7731262,17.4031402 86.7731262,16.5279346 C86.7731262,15.6999299 86.2561636,14.7332617 84.798986,14.7332617 C83.6042664,14.7332617 82.4624533,15.4181075 81.4822991,17.0568271 L81.4822991,15.2035421 C81.4822991,15.0147383 81.3265187,14.8629346 81.137715,14.8677757 L78.0418178,14.9504206 C77.8919159,14.954743 77.7745187,15.0752523 77.7745187,15.2251542 L77.7745187,15.2652664 C77.7745187,15.4009907 77.8734159,15.5175234 78.0041262,15.5358505 C79.0361495,15.6822944 79.1784439,16.1733224 79.1777523,16.6818131 L79.1775794,25.4551355"}),(0,P.jsx)("path",{d:"M113.157757,14.8596495 C113.229336,14.8596495 113.297112,14.8871402 113.348808,14.9371075 C113.402752,14.9891495 113.432664,15.0591729 113.433182,15.1338645 L113.444248,17.1890935 C113.444248,17.1890935 114.452411,14.7785607 117.725182,14.7785607 L117.753883,14.7785607 C119.793897,14.7785607 120.963893,16.0794393 120.963893,18.3471589 L120.963893,25.4432056 C120.963893,26.0685748 121.122785,26.2731121 122.116944,26.335528 C122.261486,26.3445187 122.374907,26.465028 122.374907,26.6104346 C122.374907,26.7620654 122.251285,26.8856869 122.099481,26.8856869 L117.685589,26.8856869 C117.533439,26.8856869 117.409645,26.7617196 117.409645,26.609743 C117.409645,26.4624346 117.520299,26.3420981 117.661383,26.3299953 C118.463107,26.261528 118.591224,26.0588925 118.591224,25.4432056 L118.591224,19.0390935 C118.591224,16.9245607 117.990061,16.1010514 116.447126,16.1010514 C115.404729,16.1010514 114.550617,17.0113551 114.017921,17.7748692 C114.017921,17.7748692 113.745953,18.1161682 113.450818,18.7577897 L113.483495,25.4428598 C113.483495,26.0575093 113.608154,26.259972 114.387229,26.3291308 C114.527794,26.3415794 114.638103,26.4619159 114.638103,26.6031729 C114.638103,26.7617196 114.514308,26.8856869 114.362505,26.8856869 L109.975757,26.8856869 C109.823953,26.8856869 109.700332,26.7620654 109.700332,26.6102617 C109.700332,26.465028 109.813579,26.3445187 109.957949,26.3353551 C110.952453,26.2725935 111.111346,26.0680561 111.111346,25.4432056 L111.111346,16.6835421 C111.111346,16.172285 110.96836,15.6786636 109.930977,15.531528 C109.799748,15.5128551 109.700332,15.3959766 109.700332,15.2595607 L109.700332,15.2191028 C109.700332,15.0686822 109.818593,14.9474813 109.969014,14.9431589 L113.157757,14.8596495"}),(0,P.jsx)("path",{d:"M26.3899907,2.52775701 C34.1700187,6.96014953 35.9809439,16.9000093 30.5678785,26.9558832 C25.8104393,35.795771 15.4224299,39.5711542 7.68216822,35.0706402 C-0.0598224299,30.5694346 -1.57059813,18.0127757 1.75628972,10.7867103 C6.58703738,0.294271028 17.7940607,-2.37093925 26.3899907,2.52775701",fill:"#007fa3"}),(0,P.jsx)("path",{d:"M16.3744019,28.7185701 C16.1375327,28.5339159 15.871271,28.4071822 15.6032804,28.3534112 C15.5119907,28.3357757 15.4182804,28.3257477 15.3257804,28.3257477 C14.8197103,28.3257477 14.3236682,28.604285 13.9991402,29.0721449 C13.7280374,29.4606449 13.6172103,29.9248738 13.6891355,30.3756168 C13.7346075,30.6622804 13.8423224,30.9115981 14.0010421,31.0974626 C14.1792991,31.3075327 14.4521308,31.4679813 14.7901449,31.564285 C14.9856916,31.6185748 15.1864252,31.6472757 15.3866402,31.6472757 L15.3871589,31.6472757 C15.8237243,31.6472757 16.2165467,31.5163925 16.5217103,31.2686308 C16.8766682,30.9797196 17.0699673,30.5673598 17.0656449,30.1083178 C17.0616682,29.5726822 16.8031869,29.0524346 16.3744019,28.7185701 M26.209486,10.1540794 C27.7323645,11.7800047 28.2066215,14.2474206 27.941743,16.2708364 C27.6391729,18.5783224 26.2407804,20.7134299 23.9144486,22.1291121 C22.0694626,23.2517336 19.6459626,23.6997103 17.2611916,23.7209766 C17.2421729,24.0991028 17.1666168,25.4015374 17.1285794,25.6076308 C17.0725607,25.9114112 16.966229,26.0753178 16.8360374,26.2454486 C16.5799766,26.5791402 16.1356308,26.794743 15.6943972,26.9204393 C15.3435888,27.0202009 14.996757,27.0630794 14.7507243,27.0630794 C14.7090561,27.0630794 14.6684252,27.0608318 14.6286589,27.0558178 C14.3693131,27.0264252 14.0814393,26.9045327 13.9033551,26.7058738 C13.7256168,26.507215 13.6248178,26.2559953 13.6013037,25.9714065 L13.5814206,25.7143084 C13.5309346,25.4928271 13.2546449,14.2806168 13.308243,14.4801402 C13.3481822,13.136729 15.5171776,12.9022804 16.6940888,13.1394953 C17.8734206,13.377229 17.5748271,14.8102009 17.543014,16.5715047 C17.543014,16.5715047 17.4869953,18.8878084 17.378243,21.3353411 C18.8795093,21.2765561 20.0723271,20.8486355 21.1887243,20.2939813 C23.4433037,19.1763738 24.6366402,17.4620981 24.6366402,14.9371075 C24.6366402,12.4121168 22.1783879,9.58438318 17.6438131,9.58438318 C13.1094112,9.58438318 11.1629346,10.7280981 8.96731308,12.544729 C8.47230841,12.9541495 8.09107009,13.3668551 7.73040654,13.6384766 C7.36991589,13.910271 6.41241121,13.9517664 6.15565888,13.3160234 C5.84634579,12.5495701 6.42434112,11.6951121 6.76391121,11.281715 C7.29712617,10.6326589 8.61252804,9.32538318 10.0702243,8.56584579 C11.7398925,7.69427103 13.7826729,6.75561215 16.626486,6.68385981 C19.1993692,6.61885047 23.2615888,6.82719159 26.1877009,10.1322944",fill:"#ffffff"})]})})}),(0,P.jsxs)("div",{className:"div__bgimage",children:[(0,P.jsxs)("div",{id:"w-node-544b166684fa-8b3fc7a1",className:"div__contentwrapper",children:[(0,P.jsx)("p",{className:"paragraph-2",children:t.getText("errors.maintenance.scheduledMaintenance")}),(0,P.jsx)("h1",{className:"heading",children:t.getText("errors.maintenance.improvementsOnTheWay")}),(0,P.jsx)("p",{className:"paragraph",children:t.getText("errors.maintenance.message")})]}),(0,P.jsx)(Ne.LazyLoadImage,{src:"/images/grfx-house.svg",id:"w-node-34226985c66a-8b3fc7a1",alt:"",className:"img__schedulemaint"})]})]})})}))));var ke=s(75680);const je=()=>({root:{"& .shimmerBlue":{opacity:0,animation:"shimmerFadein .2s ease-out forwards, pulseBlue 1.75s infinite ease-in-out","&.step1":{animation:"shimmerFadein .6s ease-out forwards .1s, pulseBlue 1.75s infinite ease-in-out"},"&.step2":{animation:"shimmerFadein .6s ease-out forwards .2s, pulseBlue 1.75s infinite ease-in-out"},"&.step3":{animation:"shimmerFadein .6s ease-out forwards .3s, pulseBlue 1.75s infinite ease-in-out"},"&.step4":{animation:"shimmerFadein .6s ease-out forwards .4s, pulseBlue 1.75s infinite ease-in-out"}},"& .shimmerGrey":{opacity:0,animation:"shimmerFadein 1s ease-out forwards, pulse 1.75s infinite ease-in-out","&.step1":{animation:"shimmerFadein 1s ease-out forwards .1s, pulse 1.75s infinite ease-in-out"},"&.step2":{animation:"shimmerFadein 1s ease-out forwards .2s, pulse 1.75s infinite ease-in-out"},"&.step3":{animation:"shimmerFadein 1s ease-out forwards .3s, pulse 1.75s infinite ease-in-out"},"&.step4":{animation:"shimmerFadein 1s ease-out forwards .4s, pulse 1.75s infinite ease-in-out"},"&.step5":{animation:"shimmerFadein 1s ease-out forwards .5s, pulse 1.75s infinite ease-in-out"},"&.step6":{animation:"shimmerFadein 1s ease-out forwards .6s, pulse 1.75s infinite ease-in-out"}}},"@keyframes pulse":{"0%":{backgroundColor:"rgba(233, 233, 233, 1)"},"50%":{backgroundColor:"rgba(207, 207, 207, 0.6)"},"100%":{backgroundColor:"rgba(233, 233, 233, 1)"}},"@keyframes pulseBlue":{"0%":{backgroundColor:"rgba(0, 68, 112, 0.3)"},"50%":{backgroundColor:"rgba(0, 68, 112, 1)"},"100%":{backgroundColor:"rgba(0, 68, 112, 0.3)"}},"@keyframes shimmerFadein":{"0%":{opacity:0},"30%":{opacity:".5"},"60%":{opacity:".8"},"100%":{opacity:1}},instructorPreviewRoot:{"& .headerWithViewer":{"& .slpHeader":{"& .headerBar":{top:"58px",position:"absolute","&.chapterOpenerPg":{top:"58px"}}},"& .viewer-container":{top:"58px",minHeight:"calc(100vh - 58px)"}},"& .viewerLeftPanelOpen":{"& .headerBar":{position:"fixed",top:"58px","&.chapterOpenerPg":{top:"58px"}}},"& .headerBar":{top:"0px",position:"absolute","&.chapterOpenerPg":{top:"0px"}}}});var He=s(98992),Be=s(18288),Fe=s(17384);class Ge extends n.Component{constructor(e){super(e),this.products=["revel"],this.baseSrc=h.c.E2E_SCRIPT_BASE_URL;const t=be.c.parseSource(window.location.search);if(t.get("cicptest")){const e=t.get("product");(e=>["testproduct-on","testproduct-on-extended","testproduct-on-paging"].includes(e))(e)&&(this.products.push(e),this.baseSrc="https://e2e-comms-stg.pearson.com")}}componentDidMount(){this.showBanner()}appendScript(){if(window._e2e_comms)return;window._e2e_comms={status:{loaded:!1},products:this.products.join(", "),pages:"postsignin",suppressAutoload:!0,overrideStyles:"#someTestId {display:inline}"};const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.onload=()=>this.e2eCommsLoaded(null),e.src=this.baseSrc+"/e2ecomms/js-e2e/js-e2e.js",document.querySelector("head").appendChild(e)}e2eCommsLoaded(e){window._e2e_comms.ready=!0,this.showBanner()}showBanner(){if(!window._e2e_comms)return this.appendScript();window._e2e_comms.ready&&window._e2e_comms.add(this.e2eCommsAlert)}hasHeader(){const e=document.querySelector("header");return Boolean(e)}render(){return(0,P.jsx)("div",{className:"e2e-comms-alert ".concat(this.props.isViewer?"isViewer":""),ref:e=>{this.e2eCommsAlert=e}})}}const Ye=Ge;var Ve;let We=(0,o.uU)("course","assignments","promo","materials","language","userLastLocation","user")(Ve=(0,o.QT)(Ve=class extends n.Component{constructor(){super(),this.getCancelSubscription=()=>{this.cancelCourseSubscription=f().on(M.COURSE_DATA_FETCHED,(()=>{if(m.EventProvider.getEventManager().setProductId(this.props.course.productId),ae.c.isPiUserIdAvailable()&&(this.isTelemetrySet=!0),h.c.PASSPORT_CHECK_REQUIRED&&this.props.course&&this.props.course.isStudent){const e=this.props.course.toJSON();be.c.redirectToZeppelin(e)}this.fetchLastLocation(this.props.course.passportDetails)&&this.props.userLastLocation.fetch(this.props.match.params.courseId);const e={courseId:this.props.match.params.courseId,productId:this.props.course.productId,indexId:this.props.course.indexId,contentType:this.props.course.contentType};this.props.materials.fetch(e)}))},this.continueUnboxing=()=>{window.AppcuesReady((()=>{window.Appcues.on("step_interacted",(e=>{e.flowName&&e.flowName.toLowerCase().includes(M.UNBOXING.toLocaleLowerCase())&&"next"!==e.interaction.destination&&"end"!==e.interaction.destination&&(window.Appcues.reset(),this.setState({isAppNotification:!0,isGetAppByAppcues:!0,isDialogOpen:!0}))}))}))},this.appNotificationCallBack=()=>{this.state.isGetAppByAppcues&&window.Appcues.show(M.APPCUES_GET_APP_ID),this.setState({isAppNotification:!1,isDialogOpen:!1})},this.fetchLastLocation=e=>(this.redirectToViewer=be.c.isRedirectToViewer(this.props.history.location.search),e&&e.toJSON().access),this.getNextAudioTrack=(e,t)=>{let s=null;return Object.keys(e).forEach(((n,i)=>{e[i].id===t&&(s=e[i+1]?e[i+1]:e[i])})),s},this.handleAssessmentComplete=e=>{this.props.assignments.fetchHandle(this.props.match.params.courseId,M.ASSIGNMENT_ID,!0,e.assignmentId,!0)},this.handleChange=(e,t)=>{f().publish(M.HEADER_HIGHLIGHTS,{data:null});const s=(Fe.c.enabled?h.c.HEADER_OPTIONS_SLP:h.c.HEADER_OPTIONS)[t];m.EventProvider.getEventManager().dispatch({category:"HeaderTabs",action:"Change",data:{pageId:s}}),d.default.helpData.setNavigationPath(s),this.props.history.push("/courses/".concat(this.props.match.params.courseId,"/").concat(s)),f().publish(w.PlaylistEvents.Navigate,null)},this.handleBannerClose=()=>{this.props.promo.dismissMobilePromo()},this.getAppLink=()=>{this.systemOS===M.MOBILE_OS_IOS?window.location=h.c.IOS_STORE_LINK:window.location=h.c.PLAY_STORE_LINK},this.isViewer=()=>{const e=this.props.history.location.pathname.split("/");return"pages"===e[3]||"assessments"===e[3]||"tdxassessments"===e[3]||e.length>5&&("pages"===e[5]||"assessments"===e[5])},this.isIndividualAssignment=()=>{const e=this.props.history.location.pathname.split("/");return e[e.length-2]===M.SCORES||e[e.length-2]===M.ASSIGNMENTS||Be.c.isDeepLink()},this.redirectToPage=()=>{const{userLastLocation:e,history:t,match:s}=this.props;if(!be.c.redirectToViewer(s.params.courseId,e.contentUrn)){const n=e.getLastVisitedPage(s.params.courseId,e.contentUrn,this.props.userLastLocation.locations);t.push(n),this.redirectToViewer=!1}},this.redirectToConsole=()=>{const{course:e}=this.props;let t=!1;return!Be.c.isDeepLink()&&(""===document.referrer&&window.location.hostname.includes("ise")||document.referrer.includes("ise"))&&(t=!0),!(!t||e.isStudentView()||"revel"!==h.c.PRODUCT_MODEL||window.location.href.includes("isNewTab"))&&(window.location=h.c.CONSOLE_URL,!0)},this.pushTelemetryEvent=e=>{f().publish(M.TELEMETRY_REQUEST,{event:M.INIT_TELEMETRY}),f().publish(M.TELEMETRY_REQUEST,{event:M.USER_TELEMETRY,pageName:this.getPageName(e)})},this.renderHeader=()=>{if(!this.isViewer()&&!this.isIndividualAssignment()){const e=Fe.c.enabled?h.c.HEADER_OPTIONS_SLP:h.c.HEADER_OPTIONS,t=e.indexOf("study"),s=e;!this.props.course.enableStudyTools&&t>-1&&s.splice(t,1);const n=e.findIndex((e=>e===this.props.match.params.page));return this.isTelemetrySet&&this.telemetryCurrentPage!==this.props.match.params.page&&(this.telemetryCurrentPage=this.props.match.params.page,this.pushTelemetryEvent(this.props.match.params.page),this.props.match.params.page!==M.STUDY&&ae.c.clearRapidData(),d.default.course.setStudyError(!1)),(0,P.jsx)(ye,{title:this.props.course.title,onChange:this.handleChange,headerTabs:s,inkBarColor:h.c.INKBAR_COLOR,selected:n,focused:n,audioContents:this.props.materials.audioContents.toJSON()})}return d.default.course.setStudyError(!1),this.telemetryCurrentPage="",null},this.handleGetAppFromInAppHelp=()=>{this.getAppOpenSubscription=f().on(M.OPEN_GET_APP,(()=>{this.setState({isAppNotification:!0,isGetAppByAppcues:!1})}))},this.renderFooter=()=>!this.isViewer()&&!this.isIndividualAssignment()&&(0,P.jsx)(b.FooterComponent,{links:we}),this.renderBanner=()=>!this.props.promo.mobilePromoDismissed&&(0,P.jsx)(Re,{bannerType:this.systemOS,closeBanner:this.handleBannerClose,getAppLink:this.getAppLink}),this.renderCICWidget=()=>!this.props.flags.disableStatuscastBannerForIseRevel10084&&!ae.c.isInIframe()&&(0,P.jsx)(Ye,{products:h.c.COMMS_PRODUCTS,isViewer:this.isViewer()}),this.handleStudyBannerClose=()=>{d.default.course.setStudyError(!1)},this.renderAudioBook=()=>(0,P.jsx)(ke.c,{isViewer:this.isViewer()}),this.renderAppNotification=()=>{const{isAppNotification:e}=this.state;return e?(0,P.jsx)(pe.GetAppComponent,{callBack:this.appNotificationCallBack,termsOfUse:h.c.TERMS_OF_USE_URL,privacy:h.c.PRIVACY_URL,isAppcuesFlow:this.state.isGetAppByAppcues,notificationClient:He.c.tiburonApi,notificationUrl:h.c.NOTIFICATION_URL}):null},this.renderAppcuesDownloadAppNotification=()=>{const{isGetAppByAppcues:e,isDialogOpen:t}=this.state;return(0,P.jsx)(Z.c,{onClose:this.appNotificationCallBack,isDialogOpen:t,isGetAppByAppcues:e})},this.getShowBanner=()=>{let e=null;return this.props.promo.mobilePromoDismissed||(this.systemOS===M.MOBILE_OS_IOS?e="showIosBanner":this.systemOS===M.MOBILE_OS_ANDROID&&(e="showAndroidBanner")),e},this.isProgress=e=>this.redirectToViewer&&!this.props.userLastLocation.loaded||!e.isLoaded||!this.state.ldClientFetched,this.isMaintenancePage=(e,t)=>{const s=e.isGLP&&t.enableGlpMaintenanceIse4463;return!e.isGLP&&t.enableIlpMaintenanceIse4463||s},this.isRenderStudent=e=>!this.redirectToConsole()&&(!e.isStudent||!h.c.PASSPORT_CHECK_REQUIRED||e.passportDetails&&e.passportDetails.toJSON().access),this.renderInstructorViewBanner=e=>e.isInstructorView&&(0,P.jsx)(Re,{bannerType:M.TOP_BANNER}),this.renderStudyErrorBanner=e=>e.isStudyError&&(0,P.jsx)(Re,{bannerType:M.STUDY_TOP_BANNER,closeBanner:this.handleStudyBannerClose}),this.trackInfo=null,this.redirectToViewer=!1,this.isIdentifyAppcues=!1,this.isTelemetrySet=!1,this.state={isAppNotification:!1,isGetAppByAppcues:!1,ldClientFetched:!1,isDialogOpen:!1},this.telemetryCurrentPage=""}UNSAFE_componentWillReceiveProps(e){e.match.params.courseId!==this.props.match.params.courseId&&this.props.course.fetch(e.match.params.courseId)}UNSAFE_componentWillMount(){this.systemOS=ae.c.getOS(),this.props.promo.fetch(),this.getCancelSubscription(),this.ldCallSubscription=f().on(M.LAUNCHDARKLY_CALL_TRIGGERED,(e=>{e&&h.c.LD_ENABLE_OPTIMISED_API in e&&(ae.c.enableOptimisedApiIse5175=e[h.c.LD_ENABLE_OPTIMISED_API],ae.c.enableScorePendingRevel1189=e[h.c.LD_ENABLE_SCORE_PENDING]),this.setState({ldClientFetched:!0})})),this.props.course.fetch(this.props.match.params.courseId),this.cancelSubscription=f().on(M.ASSESSMENT_COMPLETED,this.handleAssessmentComplete),window.sessionStorage.getItem(M.AUDIO_PLAYER)&&window.sessionStorage.removeItem(M.AUDIO_PLAYER),this.continueUnboxing(),this.handleGetAppFromInAppHelp()}componentDidMount(){this.audioTrackEndSubscription=f().on(w.PlaylistEvents.End,(e=>{const t=this.props.materials.audioContents.toJSON(),s=this.getNextAudioTrack(t,e.id);if(s){const t=Object.assign({},s);t.id!==e.id&&(t.isPlaying=!0),t.isAutoPlay=!0,f().publish(w.PlaylistEvents.PlayPause,t)}})),be.c.isFromDeeplink(this.props.history.location.pathname)&&f().publish(M.DEEPLINK_URL_REDIRECTED)}UNSAFE_componentWillUpdate(){if(this.redirectToViewer&&this.props.userLastLocation.loaded)if(this.props.userLastLocation.contentUrn)this.redirectToPage();else{this.redirectToViewer=!1;const e=Fe.c.enabled?M.DASHBOARD:M.ASSIGNMENTS;this.props.history.push("/courses/".concat(this.props.match.params.courseId,"/").concat(e))}const{enableDeeplinkRevel1407:e}=this.props.flags;Be.c.setEnableDeeplink(e);const t=this.props.user&&this.props.user.id,s=this.props.course&&this.props.course.isStudentView();if(!this.isIdentifyAppcues&&t&&s&&this.props.course.platform){const e={platform:"REVEL"===this.props.course.platform?M.COURSE_TYPE_ILP:M.COURSE_TYPE_GLP},s=this.props.flags;e.downTime=s&&s.sendDownTimePropertyToAppcuesIse6524,e.courseId=this.props.course.id,f().publish(M.APPCUES_REQUEST,{type:M.APPCUES_REQUEST_TYPE.IDENTIFY,userId:de()(t),payload:e}),this.isIdentifyAppcues=!0}}componentWillUnmount(){this.cancelSubscription(),this.cancelCourseSubscription(),this.audioTrackEndSubscription(),this.getAppOpenSubscription&&this.getAppOpenSubscription(),this.lastLocationFetch&&this.lastLocationFetch(),this.ldCallSubscription&&this.ldCallSubscription()}getPageName(e){const t=this.props.history.location.pathname.split("/"),s={};if(s[M.SCORES]=M.SCORE_DETAILS,s[M.ASSIGNMENTS]=M.ASSIGNMENT_DETAILS,s[e]){const n=t.findIndex((t=>t===e))+1;return t[n]?s[e]:e}return e}render(){const{course:e,language:t,theme:s,classes:n,flags:i}=this.props,a=this.getShowBanner(),o=De.getRenderer("Route");if(e.error)return Be.c.handleError(),(0,P.jsx)(v,{language:t,prefix:e.error});if(this.isProgress(e))return(0,P.jsx)(m.Progress,{style:s.progress.material.style});if(this.isMaintenancePage(e,i))return document.title=t.getText("errors.maintenance.pageTitle"),(0,P.jsx)(Ue,{language:t});if(e.error)return(0,P.jsx)("div",{className:"emptyMessage",children:(0,P.jsx)("span",{})});if(this.isRenderStudent(e)){const t=ae.c.conditionalArg(e.isInstructorView,"".concat(a," ").concat(n.instructorPreviewRoot),a);return(0,P.jsxs)("div",{className:t,children:[this.renderInstructorViewBanner(e),this.renderStudyErrorBanner(e),this.renderCICWidget(),this.renderBanner(),this.renderHeader(),!this.isViewer()&&this.renderAudioBook(),(0,P.jsx)("div",{id:"mainContent",role:"main",children:o.render()}),this.renderFooter(),ae.c.conditionalArg(!this.props.flags.hideMobileBannerRevel5416,this.renderAppcuesDownloadAppNotification(),this.renderAppNotification())]})}return null}})||Ve)||Ve;We.defaultProps={flags:{enableIlpMaintenanceIse4463:!1,enableGlpMaintenanceIse4463:!1,enableSimplifiedLearningPathIse5414:!1,sendDownTimePropertyToAppcuesIse6524:!1,enableDeeplinkRevel1407:!1,hideMobileBannerRevel5416:!0,disableStatuscastBannerForIseRevel10084:!1}};const ze=(0,x.withLDConsumer)()((0,N.c)(je)((0,le.c)(We))),Qe=(0,N.c)(ne)((0,o.uU)("language","user")((0,o.QT)((e=>{let{user:t,language:s,match:i,classes:a}=e;return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)("div",{className:"".concat(a.greenvilleHeader," ").concat(a.errorHeader),children:(0,P.jsx)(se,{user:t,language:s})}),(0,P.jsx)(v,{language:s,prefix:"errors.".concat(i.params.errorCode)})]})}))));class Ke{static init(){const e=window.browserChecker;if(e&&d.default.course.isStudentView()){const t=Array.prototype.indexOfKey||null;delete Array.prototype.indexOfKey,e.systemsRequirementURL=h.c.E2E_OSB_CHECKER_SYSTEM_REQ_URL,e.isPopupCheckDisabled=!0,e.init(h.c.BROWSER_MATRIX_MODEL),e.displayCompatibilityMessage(),setTimeout((()=>{t&&(Array.prototype.indexOfKey=t)}),3e3)}}}class qe extends n.Component{constructor(){super(),this.getOsbMatrixScript=()=>{const e=document.createElement("script");return e.type="text/javascript",e.src=h.c.E2E_OSB_CHECKER_SCRIPT_SRC,e.onload=()=>{f().on(M.AUTH_VERIFIED,(()=>{Ke.init()}))},e},this.getOsbMatrixStyle=()=>{const e=document.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=h.c.E2E_OSB_CHECKER_STYLE_SRC,e},this.osbMatrixRef=n.createRef()}componentDidMount(){document.getElementsByTagName("head")[0].appendChild(this.getOsbMatrixScript()),document.getElementsByTagName("head")[0].appendChild(this.getOsbMatrixStyle())}render(){return(0,P.jsx)("div",{ref:this.osbMatrixRef})}}class Xe{constructor(e){this.eventName=e}start(){f().on(this.eventName,(e=>{d.default.user.isAuthenticated?this.handleEvent(this.eventName,e):f().on(M.AUTH_VERIFIED,(()=>{this.handleEvent(this.eventName,e)}))}))}handleEvent(e,t){}}class Ze extends Xe{constructor(){super(M.DEEPLINK_DATA_REQUEST),this.deeplinkStatus={isFromDeepLink:!1,assignmentId:null,pathname:null,error:!1}}getDeeplinkStatus(){return this.deeplinkStatus}publish(e){f().publish(M.DEEPLINK_DATA_RESPONSE,e)}handleEvent(e,t){let{courseId:s,historyId:n}=t;He.c.tiburonApi.get("/courses/".concat(s,"/history/").concat(n)).then((e=>{if(e.data&&e.data.assignmentId){const t=e.data.assignmentId,n=!0,i="/courses/".concat(s,"/assignments/").concat(t);this.deeplinkStatus={...this.deeplinkStatus,assignmentId:t,isFromDeepLink:n,pathname:i},this.publish(this.deeplinkStatus)}else this.handleError()}),(e=>{this.handleError(e)}))}handleError(e){const t=e.response&&e.response.data||{};t.message=t.message&&ae.c.getParseValue(t.message)||{};let{errorDesc:s}=t.message;s=s&&s.toUpperCase().replaceAll(" ","_")||null;const{statusCode:n}=t,i={statusCode:n,errorDesc:s};this.deeplinkStatus={...this.deeplinkStatus,isFromDeepLink:!0,error:i},this.publish(this.deeplinkStatus)}}const Je=e=>{let{theme:t,courseId:s,flags:i,historyId:a,language:o}=e;const{enableDeeplinkRevel1407:r}=i,l=o.getIntl(),c=new Ze,[d,p]=(0,n.useState)(c.getDeeplinkStatus()),[h,u]=(0,n.useState)(!1),E=(0,n.useRef)(null),T=f().on(M.DEEPLINK_DATA_RESPONSE,(e=>{p(e)})),S=f().on(M.LAUNCHDARKLY_HASH_FETCHED,(()=>{u(!0)}));(0,n.useEffect)((()=>(h&&r&&E.current!==r&&(f().publish(M.DEEPLINK_DATA_REQUEST,{courseId:s,historyId:a}),E.current=r,Be.c.setEnableDeeplink(r)),()=>{T(),S()})),[r,h]);return(0,P.jsx)(n.Fragment,{children:ae.c.conditionalArg(r,d.isFromDeepLink?(()=>{let e=null;if(!d.error&&d.pathname)e=(0,P.jsx)(g.YJ,{to:{pathname:"".concat(d.pathname,"/from?").concat(M.DEEPLINK_VIEW_QUERY_PARAM,"=true&").concat(M.DEEPLINK_REDIRECT)}});else{const t={courseSectionId:s,learningModuleId:a,assignableUnitId:o.getText("deepLink.ASSIGNABLEUNITID_DOES_NOT_EXIST")},{statusCode:n,errorDesc:i}=d.error;let r=[l.formatMessage({id:"deepLink.ASSIGNMENT_DOES_NOT_EXIST",defaultMessage:o.getText("deepLink.ASSIGNMENT_DOES_NOT_EXIST")},{courseId:s,assignmentId:a})];const c=[M.ASSIGNMENT_NOT_READY,M.ASSIGNMENT_DELETED],p=c.indexOf(i);if(-1!==p){const e="deepLink.".concat(c[p]);r=[l.formatMessage({id:e,defaultMessage:o.getText(e)},{historyId:a})]}Be.c.pushTelemetryEvent(t,!1,r);const h=ae.c.conditionalArg(404===n&&i&&i!==M.NOT_FOUND,{prefix:"errors.".concat(i)},{prefix:"errors.403"});e=(0,P.jsx)(v,{language:o,...h})}return e})():(0,P.jsx)(m.Progress,{style:t.progress.material.style}),null)})};Je.defaultProps={flags:{enableDeeplinkRevel1407:!1}};const $e=(0,x.withLDConsumer)()((0,o.uU)("language")((0,le.c)(Je)));var et=s(56604),tt=s(99752);var st;const nt=(0,E.c)({productionPrefix:"ise"}),it=(0,I.create)((0,T.c)());let at=(0,o.uU)("language")(st=class extends n.Component{constructor(e){super(e),this.customTheme=()=>(0,S.w)(tt.c),this.state={redirectReplace:!1},f().on(M.HISTORY_REPLACE_REQUESTED,(e=>{Be.c.handleError(),this.setState({redirectReplace:!0,path:e.path})})),window.addEventListener("message",(e=>{if(e.origin===h.c.INSTRUCTOR_APP_BASE_URL){const t=JSON.parse(e.data);"redirect-request"===t.type&&this.setState({redirectReplace:!0,path:t.path})}})),ae.c.getViewerVersion("viewerVersion",et.Ch.iu)}UNSAFE_componentWillMount(){this.unlisten=this.props.history.listen((()=>{window.newrelic&&setTimeout((()=>{window.newrelic.interaction().save()}),1e3),d.default.helpData.setHelpEmptyState(!1)}))}componentDidUpdate(e){const{location:{pathname:t}}=this.props;if(t!==e.location.pathname){const e={type:M.APPCUES_REQUEST_TYPE.PAGE};f().publish(M.APPCUES_REQUEST,e)}}componentWillUnmount(){this.unlisten()}render(){return document.title="Pearson ".concat(h.c.PRODUCT_TITLE),this.state.redirectReplace?(setTimeout((()=>{this.setState({redirectReplace:!1})}),1),(0,P.jsx)(g.YJ,{to:this.state.path})):(0,P.jsx)(m.EventProvider,{product:h.c.PRODUCT_TITLE,appVersion:et.WU,children:(0,P.jsx)(u.IntlProvider,{locale:"en",children:(0,P.jsx)(_.cp,{jss:it,generateClassName:nt,children:(0,P.jsx)(A.c,{theme:this.customTheme(),children:(0,P.jsx)(re,{children:(0,P.jsxs)("div",{id:"app",children:[(0,P.jsx)(qe,{}),(0,P.jsx)(g.kX,{exact:!0,path:"/error/:errorCode",render:e=>(0,P.jsx)(Qe,{...e})}),(0,P.jsx)(g.kX,{exact:!0,path:"/",render:()=>(window.location=h.c.CONSOLE_URL,null)}),(0,P.jsx)(g.kX,{path:"/courses/:courseId/:page",render:e=>(0,P.jsx)(ze,{...e})}),(0,P.jsx)(g.kX,{path:"/deeplink/courses/:courseId/assignments/history/:historyId",render:e=>(0,P.jsx)($e,{courseId:e.match.params.courseId,historyId:e.match.params.historyId})})]})})})})})})}})||st;const ot=y()((0,g.Ak)(at));var rt,lt=s(93560),ct=s(68984),dt=s.n(ct),pt=s(39536),ht=s.n(pt),ut=s(87872),gt=s.n(ut),mt=s(49280),Et=s.n(mt);class Tt{static getDurationInSeconds(e,t){const s=Et()(e),n=Et()(t).diff(s)/1e3;return Math.floor(n)}static getUUID(){const e=window.crypto||window.msCrypto;return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^e.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}static capitalize(e){return e===M.PEARSON_ROLE_CODE_TA?M.PEARSON_ROLE_CODE_TEACHINGASSISTANT:e.charAt(0).toUpperCase()+e.slice(1)}static getPlatform(e){return e===M.COURSE_TYPE_GLP?M.COURSE_TYPE_GLP:M.COURSE_TYPE_ILP}static fetchHeaderTitle(e,t,s){if(e&&t){const n=e.find((e=>e.id===t));if(n)return s&&n.chapterTitle||n.title}return""}static getPageTitle(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=t.playlist.toJSON();return this.fetchHeaderTitle(n,e,s)}}rt=Tt,Tt.personRoleCode="",Tt.setPersonRoleCode=e=>{rt.personRoleCode=e},Tt.addUnLoadEventListner=e=>{window.addEventListener("beforeunload",e)},Tt.removeUnLoadEventListner=e=>{rt.setPersonRoleCode(""),window.removeEventListener("beforeunload",e)};class St{static getErrorDetails(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{};return this.truncateError(e.errorDesc||e.detail||e.description||this.getErrorObjectToJson(e),2e3)}static getErrorObjectToJson(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.data||e.error&&e.error.details||e.devMsg;return"object"===typeof t?JSON.stringify(t):t||"NA"}static getResponseURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.response||{},s=e.config||{};return t&&t.request&&t.request.responseURL||s.url}static getErrorCode(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data||{};return e.error&&e.error.code||e.errorCode||e.code||"NA"}static getErrorMessage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(e.response||{}).data||{},s=t.error&&t.error.message;return e.message||s||t.message||t.msg||M.TELEMETRY_ERROR_MESSAGE}static truncateError(e,t){return e.length<=t?e:e.substr(0,t)}}var _t=s(92016);class At{static getUserTelemetryPageView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=ae.c.getCurrentDate()?ae.c.getCurrentDate():(new Date).toISOString();return{event:M.USER_TELEMETRY,pageName:e,sessionId:d.default.user.contextId,productId:d.default.course.productId,productPlatformCode:Tt.getPlatform(d.default.course.platform),productModelName:h.c.PRODUCT_MODEL.toUpperCase(),errors:t,messageId:Tt.getUUID(),transactionDt:_t.c.getISODateToUTC(s),transactionLocalDt:s.slice(0,23),appComponentVersionId:M.APP_VERSION,personId:d.default.user.id,personRoleCode:Tt.capitalize(d.default.course.authGroupType.toLowerCase()),organizationId:d.default.course.organizationId,courseId:d.default.course.id,appId:h.c.PRODUCT_MODEL.toUpperCase(),originatingSystemCode:Tt.getPlatform(d.default.course.platform)}}static getUserTelemetryDeepLinkPageView(e){const t=(ae.c.getCurrentDate()?new Date(ae.c.getCurrentDate()):new Date).toISOString();return{messageTypeCode:e.event,originatingSystemCode:h.c.PRODUCT_MODEL.toUpperCase(),namespaceCode:M.TIME_ON_TASK.NAMESPACE,messageVersion:M.TIME_ON_TASK.MESSAGE_VERSION,environmentCode:h.c.NAME.toUpperCase(),messageId:Tt.getUUID(),transactionDt:_t.c.getISODateToUTC(t),transactionTypeCode:M.TIME_ON_TASK.DEEPLINK.TRANSACTIONTYPECODE,personId:d.default.user.id,personIdType:M.TIME_ON_TASK.PERSONIDTYPE,courseSectionId:d.default.course.id,courseSectionIdType:M.TIME_ON_TASK.COURSESECTIONIDTYPE,learningModuleIdType:M.REVEL,...e}}static getInitTelemetryPayload(e){return e.productPlatformCode=Tt.getPlatform(d.default.course.platform),e.productModelName=h.c.PRODUCT_MODEL.toUpperCase(),e.appId=h.c.PRODUCT_MODEL.toUpperCase(),e.originatingSystemCode=Tt.getPlatform(d.default.course.platform),e.personId=d.default.user.id,e}static getBrowerName(){const e=lt.detect(window.navigator.userAgent);return e?e.name.charAt(0).toUpperCase()+e.name.substr(1):"No browser detection"}static getDeviceType(){const e=new(dt())(window.navigator.userAgent);let t=M.TELEMETRY_DEVICE_TYPES.DESKTOP;return e.tablet()?t=M.TELEMETRY_DEVICE_TYPES.TABLET:e.mobile()&&(t=M.TELEMETRY_DEVICE_TYPES.PHONE),t}static getOSCode(){const e=new(dt())(window.navigator.userAgent),t=window.navigator.appVersion;let s=window.navigator.platform;return e.tablet()||e.mobile()?s=e.os():-1!==t.indexOf(M.TELEMETRY_OS_TYPES.WINDOWS)?s=M.TELEMETRY_OS_TYPES.WINDOWS:-1===t.indexOf(M.TELEMETRY_OS_TYPES.MACINTOSH)&&-1===t.indexOf(M.TELEMETRY_OS_TYPES.MACPOWERPC)||(s=M.TELEMETRY_OS_TYPES.MACINTOSH),s}static getIpv4(){return ht().address()}static getIpv6(){return gt().parse(this.getIpv4()).toIPv4MappedAddress().toString()}static getBrowserAndDeviceDetails(){return{webBrowser:this.getBrowerName(),deviceType:this.getDeviceType(),operatingSystemCode:this.getOSCode(),userIpV4:this.getIpv4(),userIpV6:this.getIpv6(),userTimeZoneOffsetNum:(new Date).getTimezoneOffset()/60,appVersion:window.navigator.appVersion}}static getPageErrorPayload(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=ae.c.getCurrentDate()?ae.c.getCurrentDate():(new Date).toISOString(),s=e.response||{},n=e.request||{};return{event:M.TELEMETRY_PAGE_ERROR,errorCode:St.getErrorCode(s).toString(),errorUrl:St.getResponseURL(e),errorMessage:St.getErrorMessage(e),errorStateCode:s.status||n.status||0,errorDetail:St.getErrorDetails(s),transactionDt:_t.c.getISODateToUTC(t),originatingSystemCode:Tt.getPlatform(d.default.course.platform),appId:h.c.PRODUCT_MODEL.toUpperCase()}}}class It extends Xe{constructor(){super(M.TELEMETRY_REQUEST),f().on(M.SERVICE_ERROR,(e=>{this.pushToDatalayer(At.getPageErrorPayload(e))}))}pushToDatalayer(e){f().publish(M.PUSH_TO_DATALAYER,e)}handleEvent(e,t){t.event&&t.event===M.USER_TELEMETRY?this.pushToDatalayer(At.getUserTelemetryPageView(t.pageName,t.errors)):t.event&&t.event===M.INIT_TELEMETRY?this.pushToDatalayer(At.getInitTelemetryPayload(t)):!t.event||t.event!==M.DEEPLINK_LAUNCH_TELEMETRY&&t.event!==M.DEEPLINK_ASSESSMENT_LAUNCH_TELEMETRY?this.pushToDatalayer(t):this.pushToDatalayer(At.getUserTelemetryDeepLinkPageView(t))}}class Ct extends Xe{constructor(){super(M.PUSH_TO_DATALAYER)}handleEvent(e,t){(window.dataLayer||[]).push(t)}}class ft extends Xe{constructor(){super(M.APPCUES_REQUEST)}handleEvent(e,t){window.AppcuesReady((()=>{t.type===M.APPCUES_REQUEST_TYPE.IDENTIFY?window.Appcues.identify(t.userId,t.payload):t.type===M.APPCUES_REQUEST_TYPE.PAGE?window.Appcues.page():t.type===M.APPCUES_REQUEST_TYPE.TRACK_EVENT&&window.Appcues.track(t.name,t.payload)}))}}class xt{}xt.appcuesCallbackFn=()=>{for(;window.AppcuesReady.queue.length;){const e=window.AppcuesReady.queue.shift();"function"===typeof e&&e()}};class yt{static initializeAppcuesReady(){window.AppcuesReady||(window.AppcuesReady=e=>{e&&window.AppcuesReady.queue.push(e),window.Appcues&&xt.appcuesCallbackFn()},window.AppcuesReady.queue=[])}static initializeAppcuesEvent(){(new ft).start()}static pushAppcuesDataToGA(e){m.EventProvider.getEventManager().dispatch({event:M.UNBOXING,category:M.GTM_CATEGORY_APPCUES,action:e.name,data:{flowId:e.flowId}})}static appcuesGAListeners(){M.APPCUES_CALLBACK_EVENTS.forEach((e=>{window.Appcues.on(e,this.pushAppcuesDataToGA)}))}static init(){this.initializeAppcuesReady();const e=document.createElement("script");e.type="text/javascript",e.src=h.c.APPCUES_URL,e.async=!0,e.defer=!0,e.onload=window.AppcuesReady,document.getElementsByTagName("head")[0].appendChild(e),this.initializeAppcuesEvent(),h.c.APPCUES_GA_ON&&this.initAppcuesGAEvents()}static initAppcuesGAEvents(){window.AppcuesReady((()=>{this.appcuesGAListeners()}))}}var Nt,Pt=s(31640),vt=s(86692),Lt=s(96668),Ot=s(28592);var Rt=s(89056);const Dt=Rt.i2.model("Passport",{access:Rt.i2.boolean,productId:Rt.i2.string,userId:Rt.i2.string});var bt=s(39784),wt=s(99476);const Mt=Rt.i2.model("Course",{id:Rt.i2.string,title:Rt.i2.string,code:Rt.i2.maybeNull(Rt.i2.string),bookTitle:Rt.i2.string,startDate:Rt.i2.Date,endDate:Rt.i2.Date,schedule:Rt.i2.string,source:Rt.i2.maybeNull(Rt.i2.string),avatar:Rt.i2.string,prefix:Rt.i2.string,tocProvider:Rt.i2.maybeNull(Rt.i2.array(Rt.i2.string)),institutionId:Rt.i2.maybeNull(Rt.i2.string),organizationId:Rt.i2.maybeNull(Rt.i2.string),offerId:Rt.i2.maybeNull(Rt.i2.string),launchUrl:Rt.i2.maybeNull(Rt.i2.string),authorName:Rt.i2.maybeNull(Rt.i2.string),isStudent:Rt.i2.maybeNull(Rt.i2.boolean),isInstructorView:Rt.i2.maybeNull(Rt.i2.boolean),passportDetails:Rt.i2.maybeNull(Dt),isLoaded:Rt.i2.boolean,indexId:Rt.i2.maybeNull(Rt.i2.string),error:Rt.i2.maybeNull(Rt.i2.string),isSumatraCourse:Rt.i2.maybeNull(Rt.i2.boolean),contentType:Rt.i2.maybeNull(Rt.i2.enumeration("contentType",[M.VIEWER_CONTENT_TYPE_PXE,M.VIEWER_CONTENT_TYPE_CITE])),productId:Rt.i2.maybeNull(Rt.i2.string),authGroupType:Rt.i2.maybeNull(Rt.i2.string),registrarCourseId:Rt.i2.maybeNull(Rt.i2.string),userId:Rt.i2.maybeNull(Rt.i2.string),courseType:Rt.i2.maybeNull(Rt.i2.string),mathmlOn:Rt.i2.maybeNull(Rt.i2.boolean),enableStudyTools:Rt.i2.maybeNull(Rt.i2.boolean),platform:Rt.i2.maybeNull(Rt.i2.string),isGLP:Rt.i2.maybeNull(Rt.i2.boolean),isStudyError:Rt.i2.maybeNull(Rt.i2.boolean),token:Rt.i2.maybeNull(Rt.i2.union(Rt.i2.model({name:Rt.i2.maybeNull(Rt.i2.string),value:Rt.i2.maybeNull(Rt.i2.string)}),Rt.i2.boolean))}).actions((e=>({fetch(t){e.isLoaded&&e.id===t?f().publish(M.COURSE_DATA_FETCHED,{}):f().publish(h.c.COURSE_SYNC_REQUESTED,{courseId:t})},set(t){e.id=t.id,e.title=t.title,e.code=t.code,e.bookTitle=t.bookTitle,e.schedule=t.schedule||"",e.source=t.source,e.startDate=new Date(t.startDate),e.endDate=new Date(t.endDate),e.avatar=t.avatar||M.DEFAULT_BOOK_COVER_IMAGE,e.prefix=t.prefix||"",e.authorName=t.authorName,e.instructorName=t.instructorName,e.tocProvider=t.tocProvider,e.institutionId=t.institutionId,e.organizationId=t.organizationId,e.offerId=t.offerId,e.launchUrl=t.launchUrl,e.isStudent=t.isStudent,e.passportDetails=t.passportDetails,e.indexId=t.indexId,e.contentType=t.contentType,e.productId=t.productId,e.isSumatraCourse=t.isSumatraCourse,e.authGroupType=t.authGroupType,e.registrarCourseId=t.registrarCourseId,e.userId=t.userId,e.courseType=t.courseType,e.mathmlOn=t.mathmlOn,e.enableStudyTools=e.enableToolsTab(t.enableStudyTools),e.platform=t.platform||"REVEL",e.isGLP=e.platform===M.COURSE_TYPE_GLP,e.isStudyError=!1,e.isGLP||(ae.c.enableOptimisedApiIse5175=!1),e.isLoaded=!0,e.isInstructorView=t.platform===M.COURSE_TYPE_GLP&&(!t.isStudent&&!ae.c.isInIframe()&&wt.c.isViewOn(d.default.user.id,e.id)),h.c.setXcallerId(t.contentType),f().publish(M.COURSE_DATA_FETCHED,{}),f().publish(M.PUSH_TO_DATALAYER,{isStudytoolsEnabled:e.enableStudyTools}),bt.c.initiateLocalStore(M.RECENT_HISTORY_STORAGE_NAME,d.default.user.id,e.id),t.platform===M.COURSE_TYPE_GLP&&wt.c.initiateLocalStore(d.default.user.id,e.id,!t.isStudent)},setDeeplinkInstructorView(){e.isInstructorView=!0},setData(t){e.set(t)},enableToolsTab:e=>null===e||void 0===e||e,setError(t){e.error=ae.c.transformErrorCode("screens.courses",t)},setStudyError(t){e.isStudyError=t},isStudentView:()=>e.isStudent||e.isInstructorView,setToken(t){e.token=t}}))),Ut=Mt;var kt=s(33496);const jt=new class extends Xe{constructor(){super(M.COURSE_SYNC_REQUESTED),this.getProductModel=e=>e.model?e.model.toLowerCase():"revel",this.getProdectAndUserId=(e,t)=>"x-urn:".concat(t,":").concat(e),this.setCookie=e=>{if(e){const{course:t}=d.default;t.setToken(e),ae.c.setCookie(e,M.EPS_CONTENT_MAX_AGE,!0)}},this.setToken=e=>{h.c.getContentProtectionCheck()&&He.c.tiburonApi.get("/courses/".concat(e.courseId,"/token")).then((e=>{const t=e.data;this.setCookie(t)}),(e=>{f().publish(M.SERVICE_ERROR,e)}))},this.ldCallSubscription=null}formatData(e){const t=e.products.length&&e.products[0],s={access:t.subscription.allowAccess,productId:this.getProdectAndUserId(t.id,this.getProductModel(t)),userId:this.getProdectAndUserId(d.default.user.id,"pi")},n={id:e.id,title:e.title,code:e.code,contentType:t.format,bookTitle:t.title,authorName:t.authors,instructorName:e.instructors&&e.instructors.length?"".concat(e.instructors[0].firstName," ").concat(e.instructors[0].lastName||""):null,startDate:e.startDate,endDate:e.endDate,source:e.source,avatar:t.thumbnailUrl,organizationId:e.organizationId,isStudent:e.isStudent,authGroupType:e.role,indexId:t.indexId,isSumatraCourse:t.isSumatra,productId:t.id,platform:e.platform,mathmlOn:t.mathmlOn,passportDetails:s};n.prefix="".concat(h.c.getContentBaseUrl(),"/").concat(t.basePath),d.default.course.setData(n),Pt.c.setCustomAttributes({[M.NR_CATALOGUE_ID]:t.id,[M.NR_COURSE_ID]:e.id,[M.NR_PLATFORM]:e.platform})}handleEvent(e,t){this.ldCallSubscription?this.setToken(t):this.ldCallSubscription=f().on(M.LAUNCHDARKLY_CALL_TRIGGERED,(e=>{const s=h.c.getContentProtectionCheck();ae.c.graphQLClient.mutate({mutation:(0,Lt.Ip)(Nt||(Nt=(0,vt.c)(["\n                ","\n              "])),Ot.c.getCourseTokenQuery(t.courseId,s))}).then((e=>{const t=e&&e.data&&e.data.course;t&&t.platform===M.COURSE_TYPE_GLP&&!Object.isFrozen(Fe.c)&&(Fe.c.enable(),Object.freeze(Fe.c),f().publish(M.PUSH_TO_DATALAYER,{SimplifiedPath:!0})),e.error?d.default.course.setError(e.error):(this.setCookie(t.token),this.formatData(t))}),(e=>{d.default.course.setError(e)}))}))}};jt.start();(new class{start(){f().on(M.AUTH_VERIFIED,(e=>{this.handleEvent(M.AUTH_VERIFIED,e)}))}handleEvent(e,t){t.userId&&He.c.tiburonApi.get("/users/".concat(t.userId)).then((e=>{if(window.Worker&&e&&e.data){const t=e.data.serviceUTCTime?Et().tz(e.data.serviceUTCTime,Et().tz.guess()).format():new Date;ae.c.setServerDateAndTime(t)}d.default.user.setData(e.data)}))}}).start();const Ht=new class{start(){f().on(M.LAUNCHDARKLY_HASH_REQUEST,(()=>{this.handleEvent(M.LAUNCHDARKLY_HASH_REQUEST)}))}handleEvent(){He.c.tiburonApi.get("/ldlkey").then((e=>{e.data&&e.data.key&&d.default.user.setLaunchDarklyHashKey(e.data.key)}),(e=>{f().publish(M.LAUNCHDARKLY_CALL_TRIGGERED,e)}))}};Ht.start(),kt.c.register("course",Ut.create({id:"",title:"",code:"",prefix:"",bookTitle:"",schedule:"",source:"",startDate:Date.now(),endDate:Date.now(),avatar:"",institutionId:"",organizationId:"",offerId:"",launchUrl:"",isStudent:!0,passportDetails:null,isLoaded:!1,authorName:"",instructorName:"",indexId:"",error:null,contentType:"PXE",productId:"",enableStudyTools:!0}));const Bt=Rt.i2.model("AssignmentAsset",{id:Rt.i2.string,itemHref:Rt.i2.maybeNull(Rt.i2.string),title:Rt.i2.maybeNull(Rt.i2.string),category:Rt.i2.maybeNull(Rt.i2.string),part:Rt.i2.optional(Rt.i2.boolean,!1),assessmentId:Rt.i2.maybeNull(Rt.i2.string),status:Rt.i2.optional(Rt.i2.string,""),type:Rt.i2.optional(Rt.i2.string,"assignment"),usageType:Rt.i2.maybeNull(Rt.i2.string),subType:Rt.i2.maybeNull(Rt.i2.string),controlledAccess:Rt.i2.maybeNull(Rt.i2.boolean),points:Rt.i2.optional(Rt.i2.number,0),pointsEarned:Rt.i2.maybeNull(Rt.i2.number),pointsAdjusted:Rt.i2.optional(Rt.i2.number,0),extendedDueDate:Rt.i2.maybeNull(Rt.i2.Date),latePenalty:Rt.i2.optional(Rt.i2.boolean,!1),latePenaltyPercent:Rt.i2.optional(Rt.i2.number,0),locked:Rt.i2.optional(Rt.i2.boolean,!1),availabilityDate:Rt.i2.maybeNull(Rt.i2.Date),instructorMessages:Rt.i2.optional(Rt.i2.array(Rt.i2.string),[]),children:Rt.i2.maybeNull(Rt.i2.array(Rt.i2.late((()=>Bt)))),assetShowPenaltyMsg:Rt.i2.maybeNull(Rt.i2.string),isOverridden:Rt.i2.optional(Rt.i2.boolean,!1),inProgressStatus:Rt.i2.optional(Rt.i2.boolean,!1),showPenalty:Rt.i2.optional(Rt.i2.boolean,!1),showScores:Rt.i2.optional(Rt.i2.boolean,!0),contentId:Rt.i2.maybeNull(Rt.i2.string),deliveryMode:Rt.i2.maybeNull(Rt.i2.string),scorePending:Rt.i2.optional(Rt.i2.boolean,!1)}),Ft=Bt;class Gt{static convert(e,t,s,n,i,a){const o=i||1,r=n(e,o,a);return e[t]?r[s]=e[t].map(((e,i)=>Gt.convert(e,t,s,n,o+1,i))):r[s]=null,r}static treeWalk(e,t,s,n,i){const a=n;if(e&&s(e)&&e[t]&&a>0){const n=i||"chapter"===e.type&&e.id;e[t].forEach((i=>{i.parentType=e.type,i.parentTitle=e.title,i.parentId=e.id,i.chapterId=n,Gt.treeWalk(i,t,s,a-1,n)}))}}}class Yt{static createAssetNode(e){let t=e.type===M.ASSESSMENT?e.usageType:e.type;const s=this.controlledAccess(e);e.usageType===M.JOURNAL_ENTRIES&&(t=M.CONTENT.TYPE.PAGE,e.assessmentId=null);let n={id:e.id,title:e.title,part:e.part,type:t,usageType:e.usageType,subType:e.subType,controlledAccess:s,status:e.status,itemHref:null,assessmentId:e.assessmentId,extendedDueDate:e.extendedDueDate,contentId:e.contentId||null,deliveryMode:e.deliveryMode||null};n={...n,...this.getLTDetails(e,n)};[M.TYPE_MODULE_QUIZ,M.TYPE_CHAPTER_QUIZ].includes(e.usageType)&&(n.type=M.TYPE_QUIZ);return[M.TYPE_TDX_CONTINUOUS,M.TYPE_TDX_DISCRETE].includes(e.subType)&&(n.type=M.TYPE_TDX),n}static getLTDetails(e,t){if(e.uri)if(e.type===M.ASSESSMENT&&ae.c.conditionalOr(e.ltiProvider,e.usageType===M.TYPE_WRITING_ASSIGNMENTS))t.usageType=M.TYPE_LEARNINGTOOL,t.itemHref=e.uri,e.assessmentId||(t.assessmentId=e.id);else if(ae.c.conditionalAnd(!e.ltiProvider,e.usageType!==M.TYPE_WRITING_SPACE)){let s=e.uri.indexOf("/OPS/");s>=0?t.itemHref=e.uri.substring(s):(s=e.uri.indexOf("/file/narrative"),t.itemHref=ae.c.conditionalArg(s>=0,e.uri.substring(s+6),e.uri))}return t}static controlledAccess(e){let t=!0;return null!==e.controlledAccess&&void 0!==e.controlledAccess?t=e.controlledAccess:null!==e.allowAccess&&void 0!==e.allowAccess&&(t=e.allowAccess),t}}const Vt=Rt.i2.model("AssetTypes",{type:Rt.i2.maybeNull(Rt.i2.string),count:Rt.i2.maybeNull(Rt.i2.number),label:Rt.i2.maybeNull(Rt.i2.string)});var Wt=s(6632);const zt=Rt.i2.model("OverallAssignmentStatus",{showPenalty:Rt.i2.optional(Rt.i2.boolean,!1),showPenaltyMsg:Rt.i2.maybeNull(Rt.i2.string)}),Qt=Rt.i2.model("DueDateExtension",{dueDate:Rt.i2.maybeNull(Rt.i2.number),message:Rt.i2.maybeNull(Rt.i2.string)}),Kt=Rt.i2.model("Assignment",{id:Rt.i2.identifier,title:Rt.i2.maybeNull(Rt.i2.string),dueDate:Rt.i2.maybeNull(Rt.i2.Date),availabilityDate:Rt.i2.maybeNull(Rt.i2.Date),types:Rt.i2.array(Rt.i2.optional(Rt.i2.string,"assignment")),children:Rt.i2.maybeNull(Rt.i2.array(Ft)),acceptedTillDate:Rt.i2.maybeNull(Rt.i2.Date),instructorMessages:Rt.i2.optional(Rt.i2.array(Rt.i2.string),[]),instructorName:Rt.i2.maybeNull(Rt.i2.string),status:Rt.i2.maybeNull(Rt.i2.string),state:Rt.i2.maybeNull(Rt.i2.string),points:Rt.i2.optional(Rt.i2.number,0),pointsEarned:Rt.i2.maybeNull(Rt.i2.number),percentage:Rt.i2.maybeNull(Rt.i2.number),lastVisitedPage:Rt.i2.maybeNull(Rt.i2.string),lastUpdateTime:Rt.i2.maybeNull(Rt.i2.Date),activityPercent:Rt.i2.optional(Rt.i2.number,0),isImmediate:Rt.i2.optional(Rt.i2.boolean,!1),isError:Rt.i2.optional(Rt.i2.boolean,!1),isStatusFetched:Rt.i2.optional(Rt.i2.boolean,!1),isScoredStatusFetched:Rt.i2.optional(Rt.i2.boolean,!1),isStatusFetching:Rt.i2.optional(Rt.i2.boolean,!1),assetTypes:Rt.i2.maybeNull(Rt.i2.array(Vt)),score:Rt.i2.maybeNull(Rt.i2.number),isOverridden:Rt.i2.optional(Rt.i2.boolean,!1),latePenalty:Rt.i2.optional(Rt.i2.boolean,!1),isExtended:Rt.i2.optional(Rt.i2.boolean,!1),isAssetFetched:Rt.i2.optional(Rt.i2.boolean,!1),isAssetFetching:Rt.i2.optional(Rt.i2.boolean,!1),isShowShimmer:Rt.i2.optional(Rt.i2.boolean,!1),showScores:Rt.i2.optional(Rt.i2.boolean,!1),showPenaltyMsg:Rt.i2.maybeNull(Rt.i2.string),assetsShowPenaltyMsg:Rt.i2.maybeNull(Rt.i2.string),showPenalty:Rt.i2.optional(Rt.i2.boolean,!1),overallAssignmentStatus:Rt.i2.maybeNull(zt),assetStatus:Rt.i2.maybeNull(Rt.i2.array(Ft)),extension:Rt.i2.maybeNull(Qt)}).views((e=>({assignmentUtil:()=>({getPointEarned:(e,t)=>null!==t?e+t:t,parsePointEarned:e=>parseFloat(e?e.toFixed(1):0),getAssignableUnit:(t,s,n,i,a,o,r,l)=>{if(Fe.c.enabled){var c;const p=(0,P.jsx)(Wt.c,{availabilityDate:ae.c.conditionalArg(!t.controlledAccess,_t.c.currentDate,t.availabilityDate),type:a,child:t,isSLP:!0,isAssetLevel:!0,hideExtendedMessageInAssetLevel:null===(c=e.extension)||void 0===c?void 0:c.dueDate});return{child:t,points:s,pointsEarned:n,title:i,type:a,typeLabel:d.default.assessmentTypes.getAssetTypeLabel(a,0,!0),isReading:o,usageType:r,stepMessage:p,showScores:l}}return{child:t,points:s,pointsEarned:n,title:i,type:a,isReading:o,usageType:r,showScores:l}}}),nodeTreeUtil:()=>({getAssignmentStatusNode:(t,s,n,i)=>(null!==s&&-1!==s&&(t.status=n[s].status,t.points=n[s].points,t.pointsEarned=n[s].pointsEarned,t.latePenalty=n[s].latePenalty,t.latePenaltyPercent=n[s].latePenaltyPercent,t.pointsAdjusted=n[s].pointsAdjusted,n[s].availabilityDate&&(t.availabilityDate=new Date(n[s].availabilityDate),t.locked=t.status===M.STATUS_NOT_AVAILABLE,e.isUnavailableAssessment(t.locked,n[s].type)&&(t.locked=t.availabilityDate>(new Date).getTime())),t.extendedDueDate=n[s].extendedDueDate,t.instructorMessages=e.removeEmptySpace(n[s].instructorMessages),t.isExtended=n[s].isExtended,t.isOverridden=ae.c.conditionalOr(i.isOverridden,n[s].isOverridden),t.assetShowPenaltyMsg=n[s].showPenaltyMsg,t.inProgressStatus=n[s].inProgressStatus,t.showPenalty=ae.c.conditionalOr(n[s].showPenalty,!1),t.showScores=ae.c.conditionalArg(void 0!==n[s].showScores,n[s].showScores,!0),t.scorePending=ae.c.conditionalArg(void 0!==n[s].scorePending,n[s].scorePending,!1)),t)}),parseChildAsset(t){const s=[],n=e.assignmentUtil();if(t){let i=0,a=0;Gt.treeWalk(t,"children",(t=>{const o=t.usageType&&t.usageType.toLowerCase(),r=e.isChildAsset(t,o);i+=t.points,a=n.getPointEarned(a,t.pointsEarned);const l=t.showScores;if(r){const r=t.title,c=ae.c.conditionalArg(o===M.TYPE_MODULE_QUIZ,M.TYPE_READING_QUIZ,t.type),d=e.isReading(c,o,i);a=null!==a?n.parsePointEarned(a):null,s.push(n.getAssignableUnit(t,i,a,r,c,d,o,l)),i=0,a=0}return!0}),2)}return s},getChapterList(){const t=e.children;let s=[];return t&&t.forEach((e=>{const t=this.getlistItems(e);s=[...s,...t]})),s},getlistItems(e){const t=[];if(e){this.parseChildAsset(e).forEach((e=>{const{child:s,points:n,pointsEarned:i,type:a,isReading:o,usageType:r}=e;t.push(this.getItem(s,n,i,o,a,r))}))}return t},isShowPointsEarned:t=>!(t===M.CATEGORY_SUMMATIVE&&(e.dueDate-new Date>0||e.acceptedTillDate&&e.acceptedTillDate-new Date>0)),getItem(t,s,n,i,a,o){const r=ae.c.conditionalArg(a===M.TYPE_CITE_ASSESSMENT||a===M.TYPE_TDX,o,a);let l=ae.c.conditionalArg(i,d.default.language.getText("screens.assignments.values.READING"),d.default.language.getText("screens.assignments.values.".concat(r.toUpperCase()))||r);const c=ae.c.conditionalArg(!t.controlledAccess,_t.c.currentDate,e.availabilityDate),p=a!==M.TYPE_MODULE&&_t.c.isFutureDate(c);t.locked||p?l=d.default.language.getText("screens.assignments.values.LOCKED"):a===M.TYPE_READING_QUIZ&&(l=d.default.language.getText("screens.assignments.values.QUIZ"));const h=ae.c.conditionalArg(t.status===M.STATUS_LATE&&t.inProgressStatus,M.STATUS_IN_PROGRESS,t.status);return{id:t.id,type:d.default.assessmentTypes.getAssetTypeLabel(l),status:h,points:s,pointsEarned:n,availabilityDate:t.availabilityDate||e.availabilityDate||null,showPointsEarned:this.isShowPointsEarned(t.subType)&&null!==n,isExtended:t.isExtended||!1,extendedDueDate:t.extendedDueDate||null,scorePending:t.scorePending||!1}},isModuleWithNoNarrative:e=>e.type===M.TYPE_MODULE&&e.children&&e.children.length&&!e.children.find((e=>e.type===M.TYPE_SLATE||e.type===M.TYPE_PAGE)),isChildAsset(e,t){const s=e.type&&e.type.toLowerCase();return!e.part&&s!==M.TYPE_CHAPTER&&s!==M.TYPE_PAGE&&(s!==M.TYPE_SLATE||s===M.TYPE_SLATE&&e.parentType===M.TYPE_CHAPTER)&&t!==M.TYPE_WRITING_SPACE},isReading:(e,t,s)=>e&&((e===M.TYPE_MODULE||e===M.TYPE_SLATE)&&!s||e===M.TYPE_QUIZ&&t===M.TYPE_MODULE_QUIZ),isUnavailableAssessment:(e,t)=>!e&&d.default.course.isInstructorView&&!(t===M.TYPE_MODULE||t===M.TYPE_SLATE),getAssignmentDetailPage(){let t="";const s=e.children&&e.children.length&&e.children[0].children;return s&&s.length?t=e.isWritingAssignment(s)||s[0].id:e.children&&e.children.length&&(t=e.children[0].id),t},isWritingAssignment(t){const s=t[0];return s.usageType===M.TYPE_WRITING_SPACE&&e.getEssayPageId(s.children)},getEssayPageId(t){let s="";return t&&t[0].subType===M.TYPE_WRITING_ASSIGNMENTS?s=t[0].id:t.children&&(s=e.getEssayPageId(t.children)),s},isAssignmentExtended(){const{isExtended:t}=e;let s=t,n=[],i=[],a=null;return s&&(n=e.getChapterList(),i=n.filter((e=>{let{status:t,isExtended:s}=e;return s&&t!==M.STATUS_COMPLETE})),i.length===n.length&&1===n.length?a=i[0].extendedDueDate:0===i.length&&(s=!1)),{isExtended:s,extendedDueDate:a}}}))).actions((e=>({setTypes(t){e.types=t},setFlagToAssetCompleted(e,t,s,n,i,a){if(Fe.c.enabled&&(s||n)&&!d.default.assignments.isFirstAUCompleted&&e&&t&&a){-1!==ae.c.getUsageTypeByStatus(e,i)&&t===M.STATUS_COMPLETE&&(d.default.assignments.setAssetCompleted(),f().publish(M.APPCUES_REQUEST,{type:M.APPCUES_REQUEST_TYPE.TRACK_EVENT,name:M.APPCUES_EVENTS.FIRST_ASSESSMENT_COMPLETE,payload:{courseId:d.default.course.id}}))}},setChildAsset(t,s,n,i,a){t.children&&t.children.length&&(e.children=[],Array.from(t.children).forEach((t=>{e.children.push(t)})),d.default.assignments.isAssignmentAssetFetched(!1),e.setAssetFetched(!0),e.setAssetFetching(!1),e.setShowShimmer(!1),(s||n)&&(a&&a.children.length?(e.setStatusData(e,a,!1),Fe.c.enabled&&d.default.materials.updateAssignmentTocStatus(a)):Fe.c.enabled?e.setStatusData(e,{children:e.assetStatus},!1):d.default.assignments.fetchStatus(e.id,d.default.course.id,i)),d.default.assignments.isAssignmentAssetFetched(!0),f().publish(M.ASSIGNMENT_ASSET_FETCHED,{assignmentId:e.id}))},setAssetData(t,s,n,i,a){const o=new Set;let r="";const l=[],c=Gt.convert(t,"children","children",(s=>{const n=Yt.createAssetNode(s);if(!n.part)switch(n.type){case M.TYPE_CHAPTER:r=n.title;break;case M.TYPE_ASSIGNMENT:break;case M.TYPE_MODULE:case M.TYPE_UNKOWN:o.add(M.TYPE_READING);break;default:o.add(n.type)}if(n.type===M.TYPE_WRITING_ASSIGNMENTS){const e=d.default.language.getIntl();n.title=e.formatMessage({id:n.id,defaultMessage:d.default.language.getText("screens.assignments.ESSAY_TITLE")},{title:r,subTitle:e.formatMessage({id:"".concat(n.id,"-sub"),defaultMessage:d.default.language.getText("screens.assignments.essay.".concat(n.title))})})}return e.setFlagToAssetCompleted(n&&n.usageType,n.status,a,!1,n&&n.type,s.points),s.status&&s.id!==t.id&&l.push(s),n}));e.setTypes([...o]),e.setChildAsset(c,s,n,i,{...t,children:l})},setAssetStatusData(t,s){const n=[];t&&t.children&&t.children.length>0&&(t.children.forEach((t=>{t.availabilityDate&&(t.availabilityDate=new Date(t.availabilityDate),t.locked=t.status===M.STATUS_NOT_AVAILABLE,e.isUnavailableAssessment(t.locked,t.type)&&(t.locked=t.availabilityDate>(new Date).getTime())),e.setFlagToAssetCompleted(t.usageType,t.status,s,!0,t.type,t.points),n.push(t)})),e.assetStatus=n)},setStatusData(t,s,n,i){const a=s.children,o=e.nodeTreeUtil();Gt.convert(t,"children","children",(t=>{const n=a&&a.findIndex((e=>e.id===t.id||e.contentId&&e.contentId===t.id)),r={node:t,...o.getAssignmentStatusNode(t,n,a,s)},l=a[n];return e.setFlagToAssetCompleted(l&&l.usageType,r.status,i,!1,l&&l.type,r.points),r})),t.assetsShowPenaltyMsg=s.showPenaltyMsg,t.overallAssignmentStatus&&(t.overallAssignmentStatus.showPenalty=s.showPenalty||!1,t.overallAssignmentStatus.showPenaltyMsg=s.showPenaltyMsg||null),n?e.isScoredStatusFetched=!0:e.isStatusFetched=!0,e.setFetchingStatus(!1)},removeEmptySpace:e=>e?e.filter((e=>"&nbsp;"!==e)):[],setFetchingStatus(t){e.isStatusFetching=t},setAssetFetching(t){e.isAssetFetching=t},setError(t){t&&(e.isError=!0)},setAssetFetched(t){e.isAssetFetched=t},setShowShimmer(t){e.isShowShimmer=t}}))),qt=Kt;var Xt;class Zt{static getAssignments(e){d.default.assignments.setLoading(),ae.c.graphQLClient.mutate({mutation:(0,Lt.Ip)(Xt||(Xt=(0,vt.c)(["\n          ","\n        "])),Ot.c.getAssignmentsQuery(e))}).then((e=>{d.default.assignments.setData(e.data.assignments),d.default.assignments.isSLPAssignmentFetched(),d.default.materials.isTocLoaded&&d.default.materials.tocContent&&d.default.materials.updateAssignmentStatus()}),(e=>{d.default.assignments.setError(e)}))}}const Jt=(e,t)=>{const s=e.acceptedTillDate||e.dueDate,n=t.acceptedTillDate||t.dueDate;return new Date(s)-new Date(n)},$t=Rt.i2.model("Assignments",{loading:Rt.i2.boolean,courseId:Rt.i2.string,assignments:Rt.i2.array(qt),isError:Rt.i2.boolean,errorCode:Rt.i2.maybeNull(Rt.i2.number),isListFetched:Rt.i2.boolean,isSLPListFetched:Rt.i2.boolean,isAssetFetched:Rt.i2.boolean,isAssetFetchError:Rt.i2.boolean,isFirstAUCompleted:Rt.i2.maybeNull(Rt.i2.boolean),isAssessmentComplete:Rt.i2.maybeNull(Rt.i2.boolean)}).views((e=>({getAssignment:t=>e.assignments.find((e=>e.id===t)),getAssignmentIndex:t=>e.assignments.findIndex((e=>e.id===t)),getUpcomingAssignment(){let t=null;return t=e.assignments.filter((e=>e.state&&e.state===M.STATUS_UPCOMING)).sort(Jt),t&&t.length&&(ae.c.enableOptimisedApiIse5175?t=t.filter((e=>!(e.isAssetFetching||e.isAssetFetched||ae.c.getStateFetched(M.STATUS_UPCOMING))&&e.status===M.STATUS_IN_PROGRESS)):t.filter((e=>!(e.isAssetFetching||e.isAssetFetched)&&e.status===M.STATUS_IN_PROGRESS)).forEach((t=>{e.fetchAsset(t.id,d.default.course.id,!1,!0)}))),t},getPastDueAssignments:()=>e.assignments.filter((e=>e.state&&e.state===M.STATUS_DUE)).sort(Jt),getCompletedAndLateAssignments(){let t=null;return t=e.assignments.filter((e=>e.state&&e.state===M.STATUS_PAST)),t},isCompletedAndLateAssignments(){let t=null;return t=e.assignments.filter((e=>e.state&&e.state===M.STATUS_PAST)),t.length>0},getNextDueItems(t){const s=t.filter((e=>e.isImmediate));return ae.c.enableOptimisedApiIse5175?s.filter((e=>!(e.isAssetFetching||e.isAssetFetched||ae.c.getStateFetched(M.STATUS_UPCOMING)))):s.filter((e=>!(e.isAssetFetching||e.isAssetFetched))).forEach((t=>{e.fetchAsset(t.id,d.default.course.id,!1,!0)})),s},getOrderedAssignments(e){const t=new Map;return e.forEach((e=>{const s=_t.c.dateString(e.dueDate);if(t.has(s)){t.get(s).push(e)}else t.set(s,[e])})),[...t.values()]},getAssignmentAsset(t,s){if(e.assignments.length<=t||!e.assignments[t])return null;const n=e.assignments[t].id===s?e.assignments[t]:e.assignments.find((e=>e.id===s));return n&&n.children&&n.children.length?n.children:null}}))).actions((e=>({fetch(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const r=Array.isArray(t)?t.map((e=>ae.c.setStateFetched(e))):ae.c.setStateFetched(t),l=s||r,c=ae.c.getQuery(t,n||!0);f().publish(h.c.ASSIGNMENT_LIST_REQUESTED,{courseId:e,forceRefresh:l,assignmentId:n,isAssessmentComplete:i,query:c,isFetchWithAssignmentId:t===M.ASSIGNMENT_ID,state:t,fetchPlaylist:a,updateAssignmentPlayList:o})},fetchForSLP(t,s){e.isAssessmentComplete=s,Zt.getAssignments(t)},fetchHandle(t,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=s;const r=d.default.assignments.assignments.find((e=>e.id===i));r&&r.isImmediate&&r.state===M.STATUS_UPCOMING&&(o=M.STATUS_UPCOMING,Fe.c.enabled)?e.fetchForSLP(t,a):e.fetch(t,o,n,i,a,!1)},fetchAsset(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f().publish(M.ASSIGNMENT_ASSET_REQUESTED,{id:e,courseId:t,forceRefresh:s,isStatusFetchRequested:n,isAssessmentComplete:i})},fetchStatus(t,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;const o=e.getAssignment(t);(o&&!o.isStatusFetched||n)&&f().publish(M.ASSIGNMENT_STATUS_REQUESTED,{id:t,courseId:s,forceRefresh:n,isScoredAssignments:i,isAssessmentComplete:a})},setAsImmediateAssignment(e){e.isImmediate=!0},setData(t,s,n,i){let a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],r=t;!d.default.course.isStudent&&ae.c.isInIframe()||(r=t.filter((e=>e.dueDate)));const l=r.map(((t,n)=>e.assignmentDataMapper(t,n,s))),c=l.filter((e=>e.isImmediate));if(l.forEach((e=>{c.forEach((t=>{e.isImmediate=ae.c.conditionalOr(e.isImmediate,t.dueDate.toDateString()===e.dueDate.toDateString())}))})),ae.c.enableOptimisedApiIse5175&&i&&e.assignments.length){const t=e.assignments.findIndex((e=>e.id===s));ae.c.conditionalAnd(t>-1,l[0])&&(l[0].isImmediate=e.assignments[t].isImmediate,l[0].assetStatus=e.assignments[t].assetStatus),e.assignments[t]=l&&ae.c.conditionalArg(l[0],l[0],e.assignments[t])}else e.assignments=l;e.isListFetched=!0,e.isAssignmentAssetFetched(),e.loading=!1,r.forEach((t=>{if(t.assetsStatus&&t.assetsStatus.children&&t.assetsStatus.children.length&&t.assetsStatus.id){e.assignments.find((e=>e.id===t.id)).setAssetData(t.assetsStatus,!0,!1,!1,i&&n)}if(Fe.c.enabled&&!i){e.assignments.find((e=>e.id===t.id)).setAssetStatusData(t.assetsStatus,e.isAssessmentComplete),e.isAssessmentComplete=!1}})),e.overAllGradeSync(n,i,s),e.isAssignmentAssetFetched(!0),e.isAssignmentAssetFetchError(!1),f().publish(M.ASSIGNMENT_LIST_FETCHED,{assignmentId:s}),e.assignmentPlaylistRequest(i,a,o,s)},isAllAssignmentUnitExtendedBySameDuedateAndMessage(t,s){let n=null;if(t.isExtended&&t.status!==M.STATUS_COMPLETE){var i,a,o;let r=null!==(i=t.assetsStatus)&&void 0!==i&&i.children?t.assetsStatus.children:null;if(s&&(null===(a=t.assetsStatus)||void 0===a||null===(o=a.children)||void 0===o?void 0:o.length)>0&&(r=t.assetsStatus.children[0].children?t.assetsStatus.children[0].children:t.assetsStatus.children[0]),r)if(Array.isArray(r)){let t=null,s=null,i=!1;r.every(((n,a)=>{const o=ae.c.conditionalOr(e.removeEmptySpace(n.instructorMessages),[]),r=1===o.length&&o[0].trim()!==M.EMPTY_SPACE_HEX_CODE?o[0].trim():null;return 0===a&&(t=n.extendedDueDate,s=r),n.extendedDueDate&&n.status!==M.STATUS_COMPLETE&&(i=!0),n.extendedDueDate===t&&s===r}))?n={dueDate:t,message:s}:i&&(n={dueDate:null,message:d.default.language.getText("screens.assignments.DUE_DATE_EXTENSION_MESSAGE")})}else if(r.extendedDueDate&&r.instructorMessages){const t=ae.c.conditionalOr(e.removeEmptySpace(r.instructorMessages),[]);n={dueDate:r.extendedDueDate,message:1===t.length&&t[0].trim()!==M.EMPTY_SPACE_HEX_CODE?t[0]:null}}}return n},assignmentDataMapper:(t,s,n)=>({id:t.id,title:t.title,dueDate:new Date(t.dueDate?t.dueDate:""),availabilityDate:void 0===t.controlledAccess||t.controlledAccess?new Date(t.availabilityDate):_t.c.currentDate,acceptedTillDate:t.acceptedTillDate?new Date(t.acceptedTillDate):null,lastUpdateTime:new Date(t.lastUpdatedTime),types:[],status:t.status,state:t.state,isImmediate:ae.c.conditionalOr(t.isImmediate,!1),instructorMessages:ae.c.conditionalOr(e.removeEmptySpace(t.instructorMessages),[]),instructorName:d.default.course.instructorName,points:t.points,pointsEarned:t.pointsEarned,percentage:ae.c.conditionalArg(t.percentage,Math.round(t.percentage),0),assetTypes:e.assetTypesMapper(t.assetTypes),latePenalty:ae.c.conditionalOr(t.latePenalty,!1),isOverridden:ae.c.conditionalOr(t.isOverridden,!1),isExtended:ae.c.conditionalOr(t.isExtended,!1),showScores:ae.c.conditionalOr(t.showScores,!1),showPenaltyMsg:t.showPenaltyMsg,showPenalty:ae.c.conditionalOr(t.showPenalty,!1),children:e.getAssignmentAsset(s,t.id),overallAssignmentStatus:t.assetsStatus,extension:e.isAllAssignmentUnitExtendedBySameDuedateAndMessage(t,n)}),assignmentPlaylistRequest(e,t,s,n){Fe.c.enabled&&e&&(t||s)&&n&&f().publish(M.ASSIGNMENT_PLAYLIST_REQUEST,{assignmentId:n,isAssignmentChanged:t,updateAssignmentPlayList:s})},overAllGradeSync(t,s,n){if(ae.c.enableOptimisedApiIse5175&&t&&!s||!ae.c.enableOptimisedApiIse5175&&t){e.fetchAsset(n,d.default.course.id,!0,!1,t);const s=e.getAssignment(n);s&&s.status===M.STATUS_COMPLETE&&f().publish(M.OVERALL_GRADE_SYNC_REQUESTED,{courseId:d.default.course.id,forceRefresh:!0})}},removeEmptySpace:e=>e?e.filter((e=>e!==M.EMPTY_SPACE)):[],isAssignmentAssetFetched(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.isAssetFetched=t},isAssignmentAssetFetchError(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e.isAssetFetchError=t},isSLPAssignmentFetched(){e.isSLPListFetched=!0},isDueDatePast:e=>e.dueDate-new Date<0,assetTypesMapper(e){if(e){const t=[];return Object.keys(e).forEach((s=>{const n=e[s];t.push({type:s,count:n,label:d.default.assessmentTypes.getAssetTypeLabel(s,n)})})),t}return null},setLoading(){e.loading=!0,e.isError=!1},setError(t){t.response&&t.response.status?(e.isError=!0,e.errorCode=t.response.status,e.loading=!1):t.message&&(e.isError=!0,t.networkError?e.errorCode=t.networkError&&t.networkError.statusCode:t.graphQLErrors&&t.graphQLErrors.length&&(e.errorCode=t.graphQLErrors[0].statusCode),e.loading=!1),f().publish(M.ASSIGNMENT_LIST_FETCHED_ERROR,{error:e.isError,errorCode:e.errorCode})},setAssetCompleted(){e.isFirstAUCompleted=!0}}))),es=$t,ts=Rt.i2.model("AssessmentType",{assessmentType:Rt.i2.maybeNull(Rt.i2.string),label:Rt.i2.maybeNull(Rt.i2.string),pluralLabel:Rt.i2.maybeNull(Rt.i2.string)}),ss=Rt.i2.model("AssessmentTypes",{list:Rt.i2.maybeNull(Rt.i2.array(ts)),isFetched:Rt.i2.boolean}).actions((e=>({fetch(t,s,n){e.isFetched&&!n||f().publish(M.ASSESSMENT_TYPES_REQUESTED,{productId:t,assignmentsArgs:s})},setData(t,s){const n=t.assessmentTypes.list.map((e=>({assessmentType:e.assessmentType,label:e.label,pluralLabel:e.pluralLabel})));e.list=n,e.isFetched=!0,f().publish(M.ASSESSMENT_TYPES_FETCHED,s)},getAssetTypeLabel(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=ae.c.capitalize(t.toLowerCase());if(e.list.length){const n=e.list.find((e=>e.assessmentType.toLowerCase()===t.toLowerCase()));if(n)return s>1?ae.c.capitalize(n.pluralLabel.toLowerCase()):ae.c.capitalize(n.label.toLowerCase())}return n?null:s>1?"".concat(i,"s"):i},setError(e,t){e.response&&e.response.status&&f().publish(M.ASSESSMENT_TYPES_FETCHED,t)}}))),ns=ss;(new class extends Xe{constructor(){super(M.ASSIGNMENT_LIST_REQUESTED),this.assessmentTypesSubscription=""}setAssignment(e,t){if(d.default.course.platform===M.COURSE_TYPE_GLP){const s={data:e.data,assignmentId:t.assignmentId,isAssessmentComplete:t.isAssessmentComplete,isFetchWithAssignmentId:t.isFetchWithAssignmentId,fetchPlaylist:t.fetchPlaylist,updateAssignmentPlayList:t.updateAssignmentPlayList};this.assessmentTypesSubscription||(this.assessmentTypesSubscription=f().on(M.ASSESSMENT_TYPES_FETCHED,(e=>{const{data:s,assignmentId:n,isAssessmentComplete:i,isFetchWithAssignmentId:a}=e;d.default.assignments.setData(s,n,i,a,t.state,e.fetchPlaylist,e.updateAssignmentPlayList)}))),d.default.assessmentTypes.isFetched?d.default.assignments.setData(e.data,t.assignmentId,t.isAssessmentComplete,t.isFetchWithAssignmentId,t.state,t.fetchPlaylist,t.updateAssignmentPlayList):d.default.assessmentTypes.fetch(d.default.course.productId,s,t.forceRefresh)}else d.default.assignments.setData(e.data,t.assignmentId,t.isAssessmentComplete,t.isFetchWithAssignmentId,t.state,t.fetchPlaylist,t.updateAssignmentPlayList)}setAssignmentError(e,t,s){Fe.c.enabled&&s.assignmentId&&t?(t.setAssetFetching(!1),t.setError(e),d.default.assignments.isAssignmentAssetFetchError(!0)):d.default.assignments.setError(e)}handleEvent(e,t){if(d.default.assignments.isListFetched&&!t.forceRefresh)return void f().publish(M.ASSIGNMENT_LIST_FETCHED);let s=null;if(Fe.c.enabled&&t.assignmentId){const e=d.default.assignments.assignments;if(s=e.find((e=>e.id===t.assignmentId)),s){if(s.isAssetFetching)return;d.default.assignments.isAssignmentAssetFetchError(!1),s.setAssetFetching(!0)}}else d.default.assignments.setLoading();let n="/courses/".concat(t.courseId,"/assignments");d.default.course.isGLP||(ae.c.enableOptimisedApiIse5175=!1),ae.c.enableOptimisedApiIse5175&&(n="".concat(n).concat(t.query||"")),He.c.tiburonApi.get(n).then((e=>{this.setAssignment(e,t)}),(e=>{this.setAssignmentError(e,s,t)}))}}).start(),(new class extends Xe{constructor(){super(M.ASSESSMENT_TYPES_REQUESTED)}handleEvent(e,t){He.c.tiburonApi.get("/product/".concat(t.productId,"/assessmentTypes")).then((e=>{d.default.assessmentTypes.setData(e.data,t.assignmentsArgs)}),(e=>{d.default.assessmentTypes.setError(e,t.assignmentsArgs)}))}}).start(),(new class extends Xe{constructor(){super(M.ASSIGNMENT_ASSET_REQUESTED)}handleEvent(e,t){const s=d.default.assignments.assignments;if(0===s.length)return;const n=s.find((e=>e.id===t.id));n&&(!n.children||t.forceRefresh?(n.setAssetFetching(!0),n.setShowShimmer(!0),He.c.tiburonApi.get("/courses/".concat(t.courseId,"/assignments/").concat(t.id,"/assets")).then((e=>{n.setAssetData(e.data,t.isStatusFetchRequested,t.isAssessmentComplete,t.forceRefresh)}),(e=>{f().publish(M.ASSIGNMENT_LIST_FETCHED_ERROR,{error:!0}),n.setError(e.message),n.setAssetFetching(!0),n.setShowShimmer(!1)}))):n.children&&f().publish(M.ASSIGNMENT_ASSET_FETCHED,{assignmentId:n.id}))}}).start(),(new class extends Xe{constructor(){super(M.ASSIGNMENT_STATUS_REQUESTED)}handleEvent(e,t){const s=t.id,n=d.default.assignments.assignments.find((e=>e.id===s));n&&(n.setFetchingStatus(!0),He.c.tiburonApi.get("/courses/".concat(t.courseId,"/assignments/").concat(s,"/status?detail=true")).then((e=>{n.setStatusData(n,e.data,t.isScoredAssignments,t.isAssessmentComplete),Fe.c.enabled&&d.default.materials.updateTocStatus(e.data)}),(e=>{n.setFetchingStatus(!0),f().publish(M.SERVICE_ERROR,e)})))}}).start(),kt.c.register("assignments",es.create({courseId:"",loading:!0,assignments:[],isError:!1,errorCode:0,isListFetched:!1,isSLPListFetched:!1,isAssetFetched:!1,isAssetFetchError:!1})),kt.c.register("assessmentTypes",ns.create({list:[],isFetched:!1}));const is=Rt.i2.model("PlaylistItem",{id:Rt.i2.identifier,parentItemId:Rt.i2.maybeNull(Rt.i2.string),assessmentId:Rt.i2.maybeNull(Rt.i2.string),assignmentId:Rt.i2.maybeNull(Rt.i2.string),slateId:Rt.i2.maybeNull(Rt.i2.string),title:Rt.i2.maybeNull(Rt.i2.string),chapterTitle:Rt.i2.maybeNull(Rt.i2.string),chapterId:Rt.i2.maybeNull(Rt.i2.string),uri:Rt.i2.maybeNull(Rt.i2.string),contentId:Rt.i2.maybeNull(Rt.i2.string),type:Rt.i2.string,usageType:Rt.i2.maybeNull(Rt.i2.string),provider:Rt.i2.maybeNull(Rt.i2.string),custom:Rt.i2.maybeNull(Rt.i2.string),href:Rt.i2.maybeNull(Rt.i2.string),playOrder:Rt.i2.maybeNull(Rt.i2.number),controlledAccess:Rt.i2.maybeNull(Rt.i2.boolean),hidden:Rt.i2.optional(Rt.i2.boolean,!1),isCustomPage:Rt.i2.optional(Rt.i2.boolean,!1),lockedAvailabilityDate:Rt.i2.maybeNull(Rt.i2.Date)}).actions((e=>({set(t){e.id=t.id,e.parentItemId=t.parentItemId,e.assessmentId=t.assessmentId,e.slateId=t.slateId,e.title=t.title,e.chapterTitle=t.string,e.uri=t.uri,e.type=t.type,e.usageType=t.usageType,e.provider=t.provider,e.custom=t.custom,e.href=t.href,e.playOrder=t.playOrder,e.controlledAccess=t.controlledAccess}}))),as=Rt.i2.model("PlaylistStore",{assignmentId:Rt.i2.string,courseId:Rt.i2.string,playlist:Rt.i2.array(is),refId:Rt.i2.maybeNull(Rt.i2.string),coursePlaylist:Rt.i2.array(is),assignmentPlayList:Rt.i2.array(is)}).actions((e=>({fetch(t,s,n){0===e.coursePlaylist.length&&(d.default.materials.fetching?f().on(M.MATERIAL_DATA_FETCHED,(()=>{f().publish(M.MATERIAL_PLAYLIST_REQUEST,{courseId:s,coursePlaylist:!0})})):d.default.materials.isTocLoaded&&f().publish(M.MATERIAL_PLAYLIST_REQUEST,{courseId:s,coursePlaylist:!0})),0!==e.playlist.length&&e.assignmentId===t||f().publish(M.ASSIGNMENT_PLAYLIST_REQUEST,{assignmentId:t,isAssignmentChanged:n})},fetchCoursePlayList(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];0===e.playlist.length||e.courseId!==t||s?(e.courseId=t,f().publish(M.MATERIAL_PLAYLIST_REQUEST,{courseId:t,coursePlaylist:!1})):f().publish(M.PLAYLIST_DATA_FETCHED)},clear(){e.playlist=[],e.courseId=""},setPlayList(t,s){e.courseId=s;const n=t.map((e=>(e.uri=e.href,e)));e.set(n),e.setcoursePlaylist(n)},set(t){e.playlist=t,f().publish(M.PLAYLIST_DATA_FETCHED)},pageRefId(t){e.refId="";let s=t;return-1===e.playlist.findIndex((e=>(e.parentItemId===t&&(s=e.id),e.id===t||e.parentItemId===t)))&&(s=e.getSlateId(t,d.default.materials.tocContent.list)),s},getSlateId:(t,s)=>(s.forEach((s=>{s.id===t&&"module"===s.type?s.href?e.refId=s.id:s.children&&s.children.length>0&&(e.refId=s.children[0].id):e.getSlateId(t,s.children)})),e.refId||t),getSlateIdForAutobahn(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.playlist.find((e=>e.id===t));return n&&d.default.course.platform===M.COURSE_TYPE_GLP&&n.usageType===M.TYPE_LEARNINGTOOL?"":n&&n.slateId&&!s?n.slateId:t},setcoursePlaylist(t){0===e.coursePlaylist.length&&(e.coursePlaylist=t)},setAssignmentPlayList(t){e.assignmentPlayList=t}}))),os=Rt.i2.model("Preference",{theme:Rt.i2.enumeration("theme",["White","Akaroa","Black"]),fontSize:Rt.i2.string,orientation:Rt.i2.enumeration("orientation",["horizontal","vertical"]),zoom:Rt.i2.number,isAnnotationHide:Rt.i2.boolean,enableShowHide:Rt.i2.boolean}).actions((e=>({set(t){e.theme=t.theme||"White",e.fontSize="".concat(t.fontSize||"16"),e.orientation=t.orientation||"horizontal",e.zoom=parseInt(t.zoom||0,10),e.isAnnotationHide=!!t.isAnnotationHide,e.enableShowHide=!!t.enableShowHide},fetch(e){f().publish(M.PREFERENCE_REQUESTED,{contextId:e,type:"GET"})},update(t,s){e.set(s),f().publish(M.PREFERENCE_REQUESTED,{contextId:t,type:"POST",val:s})},toPxePref:()=>({theme:e.theme,fontSize:Math.round(3.5*e.fontSize),isAnnotationHide:e.isAnnotationHide}),toCitePref:()=>({fontSize:e.fontSize}),toObject:()=>({theme:e.theme,fontSize:e.fontSize,zoom:e.zoom,orientation:e.orientation,isAnnotationHide:e.isAnnotationHide,enableShowHide:e.enableShowHide})})));class rs{}rs.getBookmarkInfo=(e,t)=>{const s=["chapterId","title","chapterTitle","assignmentId"],n={id:e.noteId,courseId:e.contextId,uri:e.pageId,createdTimestamp:parseInt(e.creationTime,10)};return t&&Object.keys(t).forEach((e=>{s.includes(e)&&(n[e]=t[e])})),n},rs.sortOrderByPage=(e,t)=>{const s=[],n=[];if(e&&t){const i=[];return t.forEach((t=>{const s=e.findIndex((e=>e.id===t.uri));if(-1===s)n.push(t);else{const e={pageIndex:s,bookmark:t};i.push(e)}})),i.sort(((e,t)=>e.pageIndex-t.pageIndex)).forEach((e=>s.push(e.bookmark))),n.length&&s.push(...n),s}return t};const ls=Rt.i2.model("BookmarkData",{id:Rt.i2.string,courseId:Rt.i2.maybeNull(Rt.i2.string),uri:Rt.i2.maybeNull(Rt.i2.string),createdTimestamp:Rt.i2.number,title:Rt.i2.maybeNull(Rt.i2.string),chapterId:Rt.i2.maybeNull(Rt.i2.string),chapterTitle:Rt.i2.maybeNull(Rt.i2.string),assignmentId:Rt.i2.maybeNull(Rt.i2.string),bookId:Rt.i2.maybeNull(Rt.i2.string)});class cs{static addPayload(e,t,s,n,i,a,o){return{notes:[{clientApp:h.c.CLIENT_APP,contextId:e,isBookMark:!0,pageId:t,bookId:o,userId:d.default.user.id,contextualInfo:{chapterId:n,title:s,chapterTitle:i,assignmentId:a},annotationType:"Bookmark",role:d.default.course.isStudentView()?M.PERSON_ROLE_CODE.STUDENT:M.PERSON_ROLE_CODE.INSTRUCTOR,courseId:e,status:"Active",productModel:"".concat(h.c.NOTES_PRODUCT_MODEL,"_").concat(d.default.course.contentType),updatedTime:"",noteId:"",creationTime:(new Date).getTime(),data:{title:s||""},shareable:!1,subContextId:""}]}}}const ds=Rt.i2.model("Bookmark",{isBookmarkLoaded:Rt.i2.boolean,isBookmarked:Rt.i2.boolean,bookmarks:Rt.i2.maybeNull(Rt.i2.array(ls))}).actions((e=>({fetch(e,t){f().publish(M.BOOKMARK_REQUESTED,{courseId:e,pageId:t,type:"GET"})},fetchCurrentPageBookmark(t){e.isBookmarked=Boolean(e.bookmarks.find((e=>e.uri===t)))},addBookmark(t,s,n,i,a,o,r){const l=cs.addPayload(t,s,n,i,a,o,r);e.isCurrentPageBookmarked(!0),f().publish(M.BOOKMARK_REQUESTED,{courseId:t,pageId:s,postVal:l,type:"POST"})},deleteBookmark(t,s,n,i){f().publish(M.BOOKMARK_REQUESTED,{courseId:t,pageId:s,currentBookmarkId:i,bookmarkId:n,type:"DELETE"}),i===n&&e.isCurrentPageBookmarked(!1)},setBookmarkDetails(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=[];t&&(t.forEach((e=>{if(e){const t=e.contextualInfo?e.contextualInfo:null;n.push(rs.getBookmarkInfo(e,t))}})),e.bookmarks=rs.sortOrderByPage(d.default.playlistStore.coursePlaylist,n),e.fetchCurrentPageBookmark(s),e.isBookmarkLoaded=!0)},addBookmarkDetails(t){if(t){const s=t.contextualInfo||null,n=rs.getBookmarkInfo(t,s),i=e.bookmarks;i.push(n),e.bookmarks=rs.sortOrderByPage(d.default.playlistStore.coursePlaylist,i),e.isCurrentPageBookmarked(!0)}},removeBookmarkDetails(t,s){const n=t.data&&t.data.successResults;if(n.length){const t=n[0]&&n[0].id,i=e.bookmarks.findIndex((e=>e.id===t));e.bookmarks.splice(i,1),s===t&&e.isCurrentPageBookmarked(!1)}},isCurrentPageBookmarked(t){e.isBookmarked=t}})));class ps{static getISODate(){return ae.c.getCurrentDate()?ae.c.getCurrentDate():(new Date).toISOString()}static getPayload(e,t,s,n,i,a,o,r,l,c,d){let p=null;switch(t){case M.CONTENT.ACTIONS.LOAD:p=this.getLoadTotPayload(e,t,n,i,a,o,r,l);break;case M.CONTENT.ACTIONS.UNLOAD:p=this.getUnloadTotPayload(e,t,n,i,a,o,r,l,c,d);break;case M.CONTENT.ACTIONS.FEEDBACK:p=this.getFeedbackTotPayload(e,t,n,i,a,o,s)}return p}static getLoadTotPayload(e,t,s,n,i,a,o,r){let l=null;return h.c.USE_AUTOBAHN?(f().publish(M.TELEMETRY_REQUEST,{event:M.USER_TELEMETRY,pageName:Tt.getPageTitle(s,d.default.playlistStore)}),l=this.getPageLoadPayload(M.TIME_ON_TASK.USER_LOADS_CONTENT,s,i,a)):e===M.CONTENT.TYPE.PAGE?l=this.getGtmAutobahnPayload(M.TIME_ON_TASK.CONTENT_LOAD,e,s,i,a,Tt.getPageTitle(s,d.default.playlistStore),"",n,r):e===M.STUDY_PAGE?l={...this.getGtmAutobahnPayload(M.TIME_ON_TASK.CONTENT_LOAD,e,s,i,a,o,"",n,r),...this.getStudyPayload(o)}:(l=this.getReqPayload(e,t,s,n,i,a),e===M.CONTENT.TYPE.LEARNINGTOOL&&(l=this.getLearningToolPayloadtoAutobahn(l,M.TIME_ON_TASK.LEARNING_TOOL.LOAD,s,n)),e===M.CONTENT.TYPE.QUIZ&&(l=this.getQuizToTPayload(e,t,s,n,i,a),l.type="onload")),l}static getUnloadTotPayload(e,t,s,n,i,a,o,r,l,c){let p=null;const u=this.getISODate(),g=ae.c.checkUnloadDate(a,u,l,c);if(h.c.USE_AUTOBAHN){const e=Tt.getUUID();p=this.getPageLoadPayload(M.TIME_ON_TASK.USER_UNLOADS_CONTENT,s,e,a,g),p.activities[0].payload.messageTypeCode=M.TIME_ON_TASK.USER_UNLOADS_CONTENT,p.activities[0].payload.unloadDt=g}else e===M.CONTENT.TYPE.PAGE?p=this.getGtmAutobahnPayload(M.TIME_ON_TASK.CONTENT_UN_LOAD,e,s,i,a,Tt.getPageTitle(s,d.default.playlistStore),g,n,r):e===M.STUDY_PAGE?p={...this.getGtmAutobahnPayload(M.TIME_ON_TASK.CONTENT_UN_LOAD,e,s,i,a,o,g,n,r),...this.getStudyPayload(o,a,g)}:(p=this.getReqPayload(e,t,s,n,i,a),p.context.extensions.Client_Side_Unload_Timestamp=this.getISODate(),p.context.extensions.Duration_In_Seconds=Tt.getDurationInSeconds(a,this.getISODate()),e===M.CONTENT.TYPE.LEARNINGTOOL&&(p=this.getLearningToolPayloadtoAutobahn(p,M.TIME_ON_TASK.LEARNING_TOOL.UNLOAD,s,n)),e===M.CONTENT.TYPE.QUIZ&&(p=this.getQuizToTPayload(e,t,s,n,i,a),p.type="onunload"));return p}static getLearningToolPayloadtoAutobahn(e,t,s,n){const i={};return i.event=t,e.context.extensions.Assessment_Item_Source_System_Code=M.TIME_ON_TASK.LEARNING_TOOL.ASSESSMENT_SYSTEM_CODE,e.context.extensions.Assessment_Item_Source_System_Record_Id=n,e.context.extensions.Assessment_Source_System_Code=M.TIME_ON_TASK.LEARNING_TOOL.ASSESSMENT_SYSTEM_CODE,e.context.extensions.Assessment_Source_System_Record_Id=s,e.Message_Type_Code=t,t===M.TIME_ON_TASK.LEARNING_TOOL.UNLOAD?(e.context.extensions.User_Activity_Causing_Unload=M.TIME_ON_TASK.LEARNING_TOOL.USER_ACTIVITY_CAUSING_UNLOAD,e.verb.display.verb=M.TIME_ON_TASK.LEARNING_TOOL.DISPLAY_VERB,e.verb.id=M.TIME_ON_TASK.LEARNING_TOOL.VERB_ID):e.context.extensions.Assessment_Item_Question_Type=M.TIME_ON_TASK.LEARNING_TOOL.ASSESSMENT_ITEM_QUESTION_TYPE,i.eventPayload=e,i.eventConfig={namespace:M.TIME_ON_TASK.NAMESPACE,messageVersion:M.TIME_ON_TASK.LEARNING_TOOL.MESSAGE_VERSION},i.interactionType=M.TIME_ON_TASK.LEARNING_TOOL.ACTIVITY,i}static getPageLoadPayload(e,t,s,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{originatingSystemCode:h.c.PRODUCT_MODEL.toUpperCase(),activities:[{messageTypeCode:e,messageVersion:M.TIME_ON_TASK.MESSAGE_VERSION,namespace:M.TIME_ON_TASK.NAMESPACE,payload:this.getAutobahnPayload(t,s,n,i)}]}}static getFeedbackTotPayload(e,t,s,n,i,a,o){const r=this.getQuizToTPayload(e,t,s,n,i,a);return r.type="onfeedback",r.submitId=o,r.transactionId=i,r}static getQuizToTPayload(e,t,s,n,i,a){return{activityBinding:"".concat(h.c.PAF_PREFIX).concat(s),assessmentEdit:!1,assignmentId:d.default.course.id,assignmentUrl:"".concat(h.c.PAF_PREFIX).concat(n),bookCategory:"published",clTimeStamp:"load"===t?a:this.getISODate(),containerContentId:s,contentId:s,courseId:d.default.course.id,flowType:"normal",lasAuthToken:d.default.user.token,transactionId:i,userId:d.default.user.id}}static getReqPayload(e,t,s,n,i,a){return{actor:{account:{homePage:"https://piapi.openclass.com",Person_Source_System_Record_Id:d.default.user.id},objectType:"Agent"},context:{extensions:{appId:h.c.PRODUCT_MODEL,Client_Side_Load_Timestamp:a,Course_Section_Source_System_Record_Id:d.default.course.id,Course_Section_Source_System_Code:"Registrar",Person_Source_System_Code:"PI",Person_Role_Code:"Student",Time_On_Task_UUID:i,URL_Prefix_For_Context_Fields:"http://schema.pearson.com/daalt/"}},id:Tt.getUUID(),Message_Transfer_Type:"LiveStream",Message_Type_Code:"",Message_Version:"2.0",Originating_System_Code:Tt.getPlatform(d.default.course.platform),Transaction_Datetime:a,object:{definition:{type:"learningTool"===e?"http://adlnet.gov/expapi/activities/question":"http://adlnet.gov/expapi/activities/media"},id:"learningTool"===e?"https://repo.paf.pearsoncmg.com/itemId/".concat(n):"http://schema.pearson.com/daalt/contentId/".concat(s),objectType:"Activity"},verb:{display:{language:"en-US",verb:"load"===t?"accessed":"completed"},id:"load"===t?"http://activitystrea.ms/schema/1.0/access":"http://activitystrea.ms/schema/1.0/complete"}}}static getAutobahnPayload(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{environmentCode:h.c.NAME.toUpperCase(),messageTypeCode:"UserLoadsContent",originatingSystemCode:h.c.PRODUCT_MODEL.toUpperCase(),namespaceCode:"Common",messageVersion:"1.0.0",transactionDt:n||s,messageTransferType:"LiveStream",messageId:t,appId:h.c.PRODUCT_MODEL,accessedUsingAppId:"WebApp",appActivityAreaCode:"Learning",personId:d.default.course.userId,personIdType:"PI",personRoleCode:Tt.capitalize(d.default.course.authGroupType),organizationId:d.default.course.institutionId,organizationIdType:"Organization",courseId:d.default.course.registrarCourseId,courseIdType:"Registrar",courseSectionId:d.default.course.id,courseSectionIdType:"Registrar",timeCategorization:"Learning",contentId:e,contentIdType:h.c.PRODUCT_MODEL,timeOnTaskUuid:t,loadDt:s,datetimeSourceCode:"Client",userAgent:window.navigator.userAgent,deviceType:"Desktop",operatingSystemCode:window.navigator.platform}}static getGtmAutobahnPayload(e,t,s,n,i,a,o,r,l){const c=i,p=Tt.getPageTitle(s,d.default.playlistStore,!0),u={assignmentId:r||"NA",event:e,contentId:s,contentIdType:d.default.course.contentType===M.VIEWER_CONTENT_TYPE_CITE?M.VIEWER_CONTENT_TYPE_CITE:M.VIEWER_CONTENT_TYPE_PXE,contentName:a,chapterTitle:p?p.substr(0,200):p,messageId:Tt.getUUID(),timeOnTaskUuid:n,loadDt:_t.c.getISODateToUTC(c),transactionDt:_t.c.getISODateToUTC(o||i),organizationId:d.default.course.organizationId,courseSectionId:d.default.course.id,personRoleCode:Tt.personRoleCode||Tt.capitalize(d.default.course.authGroupType.toLowerCase()),personId:d.default.user.id,productPlatformCode:Tt.getPlatform(d.default.course.platform),productModelName:h.c.PRODUCT_MODEL.toUpperCase(),appComponentVersionId:M.APP_VERSION,userLocalLoadDt:c.slice(0,23),transactionLocalDt:(o||c).slice(0,23),courseIdType:M.AUTOBAHN_ATTRIBUTE_REGISTRAR,courseSectionIdType:M.AUTOBAHN_ATTRIBUTE_REGISTRAR,originatingSystemCode:Tt.getPlatform(d.default.course.platform),appId:h.c.PRODUCT_MODEL.toUpperCase(),correlationId:Tt.getUUID(),contentType:"NA",pageUrn:l,productId:d.default.course.productId,contentLearningMode:"NA"};if(i&&o){const e=new Date(i).getTime(),t=new Date(o).getTime();return{...u,contentLoadReasonCode:"NA",durationInSeconds:Math.ceil((t-e)/1e3)||1}}return u}static getStudyPayload(e,t,s){const n={originatingSystemCode:M.REVEL_STUDY_GUIDE,appId:M.REVEL_STUDY_GUIDE,correlationId:Tt.getUUID(),contentType:M.REVEL_STUDY,productId:d.default.course.productId,contentLearningMode:M.REVEL_STUDY.toUpperCase(),chapterTitle:e};if(t&&s){const e=new Date(t).getTime(),i=new Date(s).getTime();return{...n,contentLoadReasonCode:M.REVEL_STUDY_SESSION,durationInSeconds:Math.ceil((i-e)/1e3)||1}}return n}}const hs=Rt.i2.model("TimeOnTask",{fromDate:Rt.i2.maybeNull(Rt.i2.string),fromDateTime:Rt.i2.maybeNull(Rt.i2.string),fromDateInterval:Rt.i2.maybeNull(Rt.i2.string),id:Rt.i2.maybeNull(Rt.i2.string),itemId:Rt.i2.maybeNull(Rt.i2.string),uuid:Rt.i2.maybeNull(Rt.i2.string),title:Rt.i2.maybeNull(Rt.i2.string),pageUrn:Rt.i2.maybeNull(Rt.i2.string),embeddedBrix:Rt.i2.maybeNull(Rt.i2.array(Rt.i2.model("EmbeddedBrix",{fromDate:Rt.i2.maybeNull(Rt.i2.string),fromDateTime:Rt.i2.maybeNull(Rt.i2.string),fromDateInterval:Rt.i2.maybeNull(Rt.i2.string),id:Rt.i2.maybeNull(Rt.i2.string),itemId:Rt.i2.maybeNull(Rt.i2.string),uuid:Rt.i2.maybeNull(Rt.i2.string),title:Rt.i2.maybeNull(Rt.i2.string),pageUrn:Rt.i2.maybeNull(Rt.i2.string)})))}).views((e=>({getCurrentPageId:()=>e.id}))).actions((e=>({setInitialData(t,s,n){const i=ae.c.getCurrentTimeDiffAndInterval();e.fromDate=ae.c.getCurrentDate()?ae.c.getCurrentDate():(new Date).toISOString(),e.fromDateTime=null!==i&&void 0!==i&&i.currentDateDiff?i.currentDateDiff.toString():"",e.fromDateInterval=null!==i&&void 0!==i&&i.currentInterval?i.currentInterval.toString():"",e.uuid=Tt.getUUID(),e.id=t,e.itemId=s,e.title=n,e.pageUrn=window.location.href},setInitialBrix(t,s,n){const i=ae.c.getCurrentTimeDiffAndInterval();e.embeddedBrix.push({fromDate:ae.c.getCurrentDate()?ae.c.getCurrentDate():(new Date).toISOString(),fromDateTime:i.currentDateDiff?i.currentDateDiff.toString():"",fromDateInterval:i.currentInterval?i.currentInterval.toString():"",uuid:Tt.getUUID(),id:t,itemId:s,title:n,pageUrn:window.location.href})},unloadBrixOnPageChange(t,s){e.embeddedBrix.length&&(e.embeddedBrix.forEach((e=>{f().publish(h.c.TIME_ON_TASK_REQUEST,{pageType:t,payload:ps.getPayload(t,s,"",e.id,e.itemId,e.uuid,e.fromDate,e.title,e.pageUrn,e.fromDateTime,e.fromDateInterval)})})),e.embeddedBrix=[])},calcTimeOnTaskForBrix(t,s,n,i){const a=e.embeddedBrix.find((e=>e.id===n));a&&(f().publish(h.c.TIME_ON_TASK_REQUEST,{pageType:t,payload:ps.getPayload(t,s,i,a.id,a.itemId,a.uuid,a.fromDate,a.title,a.pageUrn,a.fromDateTime,a.fromDateInterval)}),s!==M.CONTENT.ACTIONS.UNLOAD&&s!==M.CONTENT.ACTIONS.FEEDBACK||e.embeddedBrix.splice(e.embeddedBrix.findIndex((e=>e.id===n)),1))},calcTimeOnTask(t,s,n){e.id&&(f().publish(h.c.TIME_ON_TASK_REQUEST,{pageType:t,payload:ps.getPayload(t,s,n,e.id,e.itemId,e.uuid,e.fromDate,e.title,e.pageUrn,e.fromDateTime,e.fromDateInterval)}),s===M.CONTENT.ACTIONS.UNLOAD?(this.setInitialData(""),Tt.removeUnLoadEventListner(this.unloadCallback)):(this.unloadCallback=e=>{window.piSession.currentSessionExpiry()||Tt.setPersonRoleCode(M.PERSON_ROLE_CODE_SYSTEM),this.calcTimeOnTask(t,M.CONTENT.ACTIONS.UNLOAD,n),Tt.removeUnLoadEventListner(this.unloadCallback)},Tt.addUnLoadEventListner(this.unloadCallback)))}}))),us=Rt.i2.model("GlossaryItemData",{id:Rt.i2.maybeNull(Rt.i2.string),termDataType:Rt.i2.optional(Rt.i2.string,"string"),defDataType:Rt.i2.optional(Rt.i2.string,"string"),term:Rt.i2.maybeNull(Rt.i2.string),meaning:Rt.i2.maybeNull(Rt.i2.string),definition:Rt.i2.maybeNull(Rt.i2.string)}),gs=Rt.i2.model("glossaryData",{indexId:Rt.i2.maybeNull(Rt.i2.string),glossary:Rt.i2.maybeNull(Rt.i2.array(us)),isGlossaryLoaded:Rt.i2.boolean}).actions((e=>({fetch(e){f().publish(M.GLOSSARY_REQUESTED,{indexId:e,type:"GET"})},fetchGlossaryItem(t){const s=e.glossary.find((e=>e.id===t));return s?{id:s.id,meaning:s.meaning,term:"string"===s.termDataType?s.term:JSON.parse(s.term),definition:"string"===s.defDataType?s.definition:JSON.parse(s.definition)}:null},setData(t){if(e.indexId=t.indexId,t&&t.glossary&&t.glossary.length>0){if(d.default.course.contentType===M.VIEWER_CONTENT_TYPE_CITE){const s=t.glossary.map((e=>{let t,s="",n="string",i="string";e.term&&("string"===typeof e.term?t=e.term:(n="object",t=JSON.stringify(e.term))),e.definition&&("string"===typeof e.definition?s=e.definition:(i="object",s=JSON.stringify(e.definition)));return{id:e.id,meaning:e.type,term:t,termDataType:n,defDataType:i,definition:s}}));e.glossary=s}else e.glossary=t.glossary;e.isGlossaryLoaded=!0}f().publish(M.GLOSSARY_DATA_FETCHED,{glossaryData:t.glossary})}}))),ms=Rt.i2.model("FootnoteItemData",{id:Rt.i2.maybeNull(Rt.i2.string),type:Rt.i2.maybeNull(Rt.i2.string),dataType:Rt.i2.optional(Rt.i2.string,"string"),text:Rt.i2.maybeNull(Rt.i2.string)}),Es=Rt.i2.model("footnoteData",{footnote:Rt.i2.maybeNull(Rt.i2.array(ms))}).actions((e=>({fetchFootnoteIndex:t=>e.footnote.findIndex((e=>e.id===t)),fetchFootnoteByIndex(t){const s=e.footnote[t];return s?{id:s.id,type:s.type,text:"string"===s.dataType?s.text:JSON.parse(s.text)}:null},setData(t){if(t&&t.footnotes&&t.footnotes.length>0)if(d.default.course.contentType===M.VIEWER_CONTENT_TYPE_CITE){const s=t.footnotes.map((e=>{const t=e.definition?"object":"string",s="object"===t?JSON.stringify(e.definition):e.text;return{id:e.id,type:e.type,dataType:t,text:s}}));e.footnote=s}else e.footnote=t.footnotes;f().publish(M.FOOTNOTES_DATA_FETCHED,{footnoteData:t.footnote})}}))),Ts=Rt.i2.model("referenceData",{reference:Rt.i2.maybeNull(Rt.i2.array(us))}).actions((e=>({fetch(e){f().publish(M.REFERENCE_REQUESTED,{referenceUrl:e})},fetchReferenceItem:t=>e.reference.find((e=>e.id===t)),setData(t){e.reference=t.reference}}))),Ss=Rt.i2.model("location",{id:Rt.i2.maybeNull(Rt.i2.string),displayTitle:Rt.i2.maybeNull(Rt.i2.string),activity:Rt.i2.maybeNull(Rt.i2.string),type:Rt.i2.maybeNull(Rt.i2.string),audioIndex:Rt.i2.maybeNull(Rt.i2.string),offset:Rt.i2.maybeNull(Rt.i2.string),navigationFrom:Rt.i2.maybeNull(Rt.i2.string),assignmentId:Rt.i2.maybeNull(Rt.i2.string),duration:Rt.i2.maybeNull(Rt.i2.string)}),_s=Rt.i2.model("UserLastLocation",{id:Rt.i2.string,contextId:Rt.i2.string,contentUrn:Rt.i2.string,lastActivity:Rt.i2.string,locations:Rt.i2.maybeNull(Rt.i2.array(Ss)),loaded:Rt.i2.boolean,fetched:Rt.i2.optional(Rt.i2.boolean,!1),isError:Rt.i2.optional(Rt.i2.boolean,!1)}).actions((e=>({fetch(t){e.loaded||f().publish(M.USER_LAST_LOCATION_REQUESTED,{type:"GET",courseId:t})},setUserLastLocation(t){e.id=t.id,e.lastActivity=t.lastActivity;const s=t.locations;e.contextId=t.courseId||"";const n=t.locations.find((e=>e.activity===t.lastActivity));e.contentUrn=n?n.id:"",e.locations=s,e.loaded=!0,e.fetched=!0},post(t,s,n,i){let a="";const o=[];if(arguments.length>4&&void 0!==arguments[4]&&arguments[4]&&e.locations)a=M.ACTIVITY_AUDIO,e.locations.forEach((e=>{o.push({id:e.id,displayTitle:e.displayTitle,activity:e.activity,type:e.type,navigationFrom:e.navigationFrom,assignmentId:e.assignmentId,offset:e.offset,audioIndex:e.audioIndex,duration:e.duration})}));else if(n){a=n.assignmentId||i?M.ACTIVITY_ASSIGNMENT:M.ACTIVITY_READ,o.push({id:s,activity:a,type:"page",navigationFrom:e.getNavigationFrom(n&&n.navigationFrom),displayTitle:e.getPageDetails(s,!0),assignmentId:n&&n.assignmentId||i});const t=e.locations&&e.locations.find((e=>e.activity===M.ACTIVITY_AUDIO));t&&o.push({id:t.id,displayTitle:t.displayTitle,activity:t.activity,type:t.type,navigationFrom:t.navigationFrom,offset:t.offset,audioIndex:t.audioIndex,duration:t.duration})}const r={userId:d.default.user.id,bookId:d.default.course.productId,lastActivity:a,courseId:t,locations:o,tenantId:h.c.X_TENANT_ID,tenantKey:h.c.X_TENANT_KEY};e.id&&(r.id=e.id),f().publish(M.USER_LAST_LOCATION_REQUESTED,{type:"POST",payload:r})},getAudioSourcePath(){let e=new URL(document.location).searchParams.get("source");return e=e&&e.split("/")[0],e===M.ASSIGNMENTS||e===M.SCORES?M.ASSIGNMENTS:M.CONTENTS},getNavigationFrom:e=>e&&e.indexOf(M.ASSIGNMENTS)>-1||e&&e.indexOf(M.SCHEDULED)>-1?h.c.CONTENT_PATH:e&&e.indexOf(M.SCORES)>-1?M.SCORES:e&&e.indexOf(M.DASHBOARD)>-1?M.DASHBOARD:"contents",getPageDetails(e,t){const s=d.default.playlistStore.playlist.find((t=>t.id===e));return s?t?s.title:s.chapterTitle:this.getDefaultPageDetails(t)},getDefaultPageDetails(t){const s=e.locations&&e.locations.find((e=>e.activity===M.ACTIVITY_READ||e.activity===M.ACTIVITY_ASSIGNMENT)),n=s&&s.displayTitle;return n?n.value:d.default.materials.tocContent.list.length&&d.default.materials.tocContent.list[0].title},setAudioData(t){const s={activity:"audio",type:"audio",id:t.id,displayTitle:t.title,offset:t.startTime&&t.startTime.toString()||"0",audioIndex:t.audioIndex,navigationFrom:e.getAudioSourcePath(),duration:t.duration&&t.duration.toString()||null},n=e.locations&&e.locations.findIndex((e=>e.activity===M.ACTIVITY_AUDIO));-1!==n?e.locations.splice(n,1,s):e.locations.push(s);let i=e.contextId,a=e.contentUrn;e.contextId&&e.contentUrn||(i=d.default.course.id,a=d.default.materials.tocContent.list.length&&d.default.materials.tocContent.list[0].id);const o=e.locations&&e.locations.find((e=>e.activity===M.ACTIVITY_ASSIGNMENT))||{};e.contentUrn=t.id,e.post(i,a,"",o.assignmentId,!0)},setError(){e.isError=!0,e.fetched=!0},getLastVisitedPage(e,t,s){let n;const i=s&&s.length&&s.find((e=>e.activity===M.ACTIVITY_ASSIGNMENT));if(i&&i.assignmentId){const t=i.navigationFrom?i.navigationFrom:"assignments";n="/courses/".concat(e,"/assignments/").concat(i.assignmentId,"/pages/").concat(i.id,"?").concat(M.SOURCE,"=").concat(t)}else n=t?"/courses/".concat(e,"/pages/").concat(t,"?").concat(M.SOURCE,"=").concat(M.DASHBOARD):"/courses/".concat(e,"/pages/").concat(t,"?").concat(M.SOURCE,"=contents");return n}}))),As=_s,Is=Rt.i2.model("PageNumbers",{}).actions((()=>({fetch(e,t,s){f().publish(M.PAGE_NUMBER_REQUESTED,{pageId:e,versionId:t,handleResponse:s,type:"GET"})}})));var Cs=s(71760),fs=s.n(Cs);var xs=s(54840);const ys=Rt.i2.model("HelpItemData",{title:Rt.i2.maybeNull(Rt.i2.string),excerpt:Rt.i2.maybeNull(Rt.i2.string),content:Rt.i2.maybeNull(Rt.i2.string)}),Ns=Rt.i2.model("helpData",{helpData:Rt.i2.maybeNull(ys),helpEmptyState:Rt.i2.maybeNull(Rt.i2.boolean)}).actions((e=>({setData(t){t&&(e.helpData=t),f().publish(M.HELP_DATA_FETCHED,{helpData:t})},setHelpEmptyState(t){e.helpEmptyState=t},setNavigationPath(t){e.navigationPath=t}})));var Ps=s(20192);(new class{constructor(){this.createCoursePlayList=e=>{let t=[];const s=this;if(d.default.materials.tocContent.id===e.courseId){if(function e(n,i){n.map((n=>{if(!h.c.RESTRICT_DUPLICATE_PAGE||!s.isDuplicatePage(n)){let s,a,o,r,l=!1;switch(n.assessmentId&&(r=n.assessmentId),n.type){case M.ASSESSMENT:s=M.TYPE_QUIZ;break;case M.TYPE_TDX:case M.GLOSSARY:case M.FOOTNOTES:s=n.type;break;case M.TYPE_CITE_ASSESSMENT:case M.TYPE_TDX_ASSESSMENT:s=n.type,o=n.assessmentId;break;default:s=M.TYPE_PAGE,r=null}n.ltiProvider&&(o=n.href,a=M.TYPE_LEARNINGTOOL),d.default.course.isGLP&&d.default.course.isStudentView()&&n.type===M.TYPE_CITE_ASSESSMENT&&r&&!n.assignmentId&&(l=!0);const c=!l&&d.default.course.isInstructorView&&n.availabilityDate&&n.availabilityDate>(new Date).getTime()?n.availabilityDate:null;c&&(l=!0);const p=r&&n.assignmentId?n.title:i||n.title,h={assessmentId:r,uri:o,id:n.id,parentItemId:n.parentItemId,chapterId:n.chapterId,type:s,title:n.title,urn:n.urn,playOrder:n.playOrder,href:n.href,chapterTitle:p,hidden:n.hidden,assignmentId:n.assignmentId,isCustomPage:l,lockedAvailabilityDate:c,usageType:a};n.href&&t.push(h);const u=n.children;u.length>0&&e(u,n.title)}return!0}))}(d.default.materials.tocContent.list),h.c.ENABLE_OPTIONAL_MATERIALS){const e=t.filter((e=>!e.hidden)),s=t.filter((e=>e.hidden));t=[...e,...s]}e.coursePlaylist||d.default.playlistStore.set(t),d.default.playlistStore.setcoursePlaylist(t)}}}start(){f().on(M.ASSIGNMENT_PLAYLIST_REQUEST,(e=>{(d.default.assignments.isListFetched||e.isAssignmentChanged||e.updateAssignmentPlayList)&&this.createPlaylist(e)})),f().on(M.MATERIAL_PLAYLIST_REQUEST,(e=>{this.createCoursePlayList(e)}))}isDuplicatePage(e){return e.parentItemId&&e.chapterId!==e.parentItemId&&e.id.includes(e.parentItemId.split(/-|_/)[0])}isModuleOpener(e){return!!(d.default.course.contentType===M.VIEWER_CONTENT_TYPE_CITE&&e.children&&e.children.length&&e.children[0].itemHref&&e.usageType!==M.TYPE_WRITING_SPACE)}getAssignmentPlaylist(e,t){const s=[];let n="",i="",a="",o="";return t.forEach((t=>{Gt.treeWalk(t,"children",(r=>{const l=!!h.c.ENABLE_CHAPTER||r.type!==M.TYPE_CHAPTER,c=r.parentTitle||r.title,p=r.chapterId||null;if(a=r.itemHref,o=r.id,this.isModuleOpener(r)&&(a=r.children[0].itemHref,o=r.children[0].id),(!this.isModuleOpener(r)||this.isModuleOpener(r)&&r.children[0].type!==M.TYPE_CITE_ASSESSMENT)&&!(r.children&&r.children.length&&r.children.find((e=>e.itemHref===r.itemHref)))&&!r.part&&n!==a&&i!==r.id&&1!==r.level&&l){if(a)if(r.assessmentId)s.push({id:o,assessmentId:r.assessmentId,assignmentId:Fe.c.enabled?t.assignmentId:e.assignmentId,uri:a,href:r.href,title:r.title,chapterTitle:c,type:r.usageType===M.TYPE_LEARNINGTOOL?M.TYPE_QUIZ:r.type.toLowerCase(),usageType:r.usageType,controlledAccess:r.controlledAccess,chapterId:p,contentId:r.contentId});else if(r.type===M.TYPE_CITE_ASSESSMENT)s.push({id:r.id,assessmentId:r.itemHref,assignmentId:Fe.c.enabled?t.assignmentId:e.assignmentId,uri:r.itemHref,title:r.title,type:M.TYPE_CITE_ASSESSMENT,usageType:r.usageType,controlledAccess:r.controlledAccess,chapterId:p,isCustomPage:d.default.course.isInstructorView&&r.locked,lockedAvailabilityDate:r.availabilityDate,contentId:r.contentId}),n=r.uri;else{let i=null;r.type===M.TYPE_MODULE&&(i=r.children&&r.children.length>0&&r.children.find((e=>e.type===M.TYPE_PAGE))?r.children[0].id:r.id),s.push({id:o,uri:a,assignmentId:Fe.c.enabled?t.assignmentId:e.assignmentId,title:r.title,chapterTitle:c,type:M.TYPE_PAGE,slateId:i,chapterId:p,contentId:r.contentId}),n=a}else r.assessmentId&&d.default.course.contentType===M.VIEWER_CONTENT_TYPE_CITE&&s.push({id:r.id,assessmentId:r.assessmentId,assignmentId:Fe.c.enabled?t.assignmentId:e.assignmentId,uri:r.assessmentId,title:r.title,chapterTitle:c,type:M.TYPE_CITE_ASSESSMENT,usageType:r.usageType,controlledAccess:r.controlledAccess,chapterId:p,contentId:r.contentId});i=r.id}return!0}),20)})),s}getAssginmentTree(e,t){const s=[];if(e[t].children&&e[t].children.length>1)e[t].children.forEach(((n,i)=>{const a=e[t].children[i];a.assignmentId=e[t].id,s.push(a)}));else if(e[t].children){const n=e[t].children[0];n.assignmentId=e[t].id,s.push(n)}return s}generateAssignmentPlaylist(e){let t=[],s=[];t=d.default.assignments.assignments;for(let n=0;n<t.length;n+=1)if(Fe.c.enabled)s=[...s,...this.getAssginmentTree(t,n)];else if(t[n].id===e.assignmentId){s=this.getAssginmentTree(t,n);break}return s}createPlaylist(e){const t=this.generateAssignmentPlaylist(e),s=this.getAssignmentPlaylist(e,t);e.isAssignmentChanged?(d.default.playlistStore.set(s),d.default.playlistStore.setAssignmentPlayList(s)):d.default.playlistStore.setAssignmentPlayList(s)}}).start(),(new class extends Xe{constructor(){super(M.PREFERENCE_REQUESTED),this.handleGet=e=>{He.c.erpsApi.get("/nextext/users/".concat(d.default.user.id,"/preferences/?bookId=").concat(e.contextId)).then((e=>{e.data&&d.default.preference.set(e.data)}),(e=>{f().publish(M.SERVICE_ERROR,e)}))},this.handlePost=e=>{He.c.erpsApi.post("/nextext/users/".concat(d.default.user.id,"/preferences/?bookId=").concat(e.contextId),e.val).then((e=>{m.EventProvider.getEventManager().dispatch({category:"Service Response",action:"response",data:e})}),(e=>{f().publish(M.SERVICE_ERROR,e)}))}}handleEvent(e,t){if("POST"===t.type)this.handlePost(t);else this.handleGet(t)}}).start(),(new class extends Xe{constructor(){super(M.BOOKMARK_REQUESTED),this.handleGet=e=>{He.c.spectrumApi.get("annotations/courseId/".concat(e.courseId,"?&annotationType=Bookmark")).then((t=>{d.default.bookmark.setBookmarkDetails(t.data.response,e.pageId)}),(e=>{e.response&&e.response.data&&404!==e.response.data.status&&f().publish(M.SERVICE_ERROR,e),d.default.bookmark.setBookmarkDetails([])}))},this.handleDelete=e=>{He.c.spectrumApi.delete("/annotations?noteId=".concat(e.bookmarkId)).then((t=>{d.default.bookmark.removeBookmarkDetails(t,e.currentBookmarkId)}),(e=>e))},this.handlePost=e=>{He.c.spectrumApi.post("/annotations",{...e.postVal}).then((t=>{if(t.data&&t.data.successResults&&t.data.successResults.length){const s=t.data.successResults[0]&&t.data.successResults[0].id,n=e.postVal.notes[0];n.noteId=s,d.default.bookmark.addBookmarkDetails(n)}}),(e=>e))}}handleEvent(e,t){switch(t.type){case"POST":this.handlePost(t);break;case"DELETE":this.handleDelete(t);break;default:this.handleGet(t)}}}).start(),(new class extends Xe{constructor(){super(M.TIMEONTASK)}initTelemetryEventOnPageLoad(){f().publish(M.TELEMETRY_REQUEST,{event:M.INIT_TELEMETRY})}handleEvent(e,t){t.payload&&t.payload.event!==M.TIME_ON_TASK.CONTENT_UN_LOAD&&this.initTelemetryEventOnPageLoad(),t.pageType===M.CONTENT.TYPE.QUIZ?He.c.lasUserLogsApi.post("/las-paf/sd/userinteractionlogs/quiz",t.payload):f().publish(M.PUSH_TO_DATALAYER,t.payload)}}).start(),(new class extends Xe{constructor(){super(M.GLOSSARY_REQUESTED),this.getCITEGlossaryData=(e,t)=>({id:t[e].itemid,term:t[e].term,type:t[e].type,definition:t[e].definition}),this.getPXEGlossaryData=(e,t)=>({id:e,term:t[e].term,meaning:t[e].meaning}),this.fetchGlossary=e=>new Promise((t=>{const s=[],n={};He.c.csgApi.get("v3/cm/glossary?source=ISE-".concat(h.c.NAME,"&indexId=").concat(e)).then((e=>{if(e.data&&(e.data.glossary||e.data.items)){const t=e.data.glossary||e.data.items;Object.keys(t).forEach((n=>{e.data.contentModel===M.VIEWER_CONTENT_TYPE_PXE?s.push(this.getPXEGlossaryData(n,t)):e.data.contentModel===M.VIEWER_CONTENT_TYPE_CITE&&s.push(this.getCITEGlossaryData(n,t))}))}n.indexId=e.data.indexId,n.glossary=s,d.default.glossaryData.setData(n)}),(e=>{e.response&&e.response.data&&404===e.response.data.status&&(d.default.glossaryData.setData(n),t([]))}))}))}handleEvent(e,t){"GET"===t.type&&this.fetchGlossary(t.indexId)}}).start(),(new class extends Xe{constructor(){super(M.REFERENCE_REQUESTED)}fetchReference(e){He.c.contentApi.get(e).then((e=>{const t=[],s={};if(e.data){const s=(new window.DOMParser).parseFromString(e.data,"text/xml").querySelectorAll("li,aside");for(let e=0;e<s.length;e+=1)t.push({id:s[e].id,term:"",meaning:s[e].innerHTML})}s.reference=t,d.default.referenceData.setData(s)}),(e=>e))}handleEvent(e,t){this.fetchReference(t.referenceUrl)}}).start(),(new class extends Xe{constructor(){super(M.USER_LAST_LOCATION_REQUESTED),this.handleGet=()=>{const e={headers:{UserId:d.default.user.id}},t={bookIds:[d.default.course.productId]};He.c.spectrumUserLocationApi.post("/user/location/search",t,e).then((e=>{e.data&&e.data.userLocation&&e.data.userLocation.length&&d.default.userLastLocation.setUserLastLocation(e.data.userLocation[0])}),(e=>{d.default.userLastLocation.setError(e)}))},this.handlePost=e=>{e.payload&&e.payload.id?He.c.spectrumUserLocationApi.put("/user/location",e.payload).then((()=>{d.default.userLastLocation.setUserLastLocation(e.payload)}),(e=>e)):He.c.spectrumUserLocationApi.post("/user/location",e.payload).then((t=>{let{data:s}=t;s&&s.id&&(e.payload.id=s.id),d.default.userLastLocation.setUserLastLocation(e.payload)}),(e=>{e.response&&400===e.response.status&&e.response.data.message===M.LOCATION_EXIST_ERROR_MSG&&this.handleGet()}))}}handleEvent(e,t){switch(t.type){case"GET":this.handleGet();break;case"POST":this.handlePost(t)}}}).start(),(new class extends Xe{constructor(){super(M.PAGE_NUMBER_REQUESTED)}handleGet(e){He.c.pageNumberApi.get("/".concat(e.versionId,"/containers/").concat(e.pageId,"/pagenumbers")).then((t=>{e.handleResponse(t.data)}),(e=>{f().publish(M.SERVICE_ERROR,e)}))}handleEvent(e,t){"GET"===t.type&&this.handleGet(t)}}).start(),(new class extends Xe{constructor(){super(M.FOOTNOTES_REQUESTED),this.fetchFootnote=e=>new Promise((t=>{const s=[],n={};fs().get(e).then((e=>{if(e.data&&e.data.items){e.data.items.forEach((e=>{const t={id:e.footnoteid,type:M.FOOTNOTES,definition:e.footnotecontent&&e.footnotecontent[0].elementdata};s.push(t)}))}n.footnotes=s,d.default.footnoteData.setData(n)}),(e=>{e.response&&e.response.data&&404===e.response.data.status&&(d.default.footnoteData.setData(n),t([]))}))}))}handleEvent(e,t){"GET"===t.type&&this.fetchFootnote(t.url)}}).start(),(new class extends Xe{constructor(){super(M.HELP_REQUESTED),this.fetchHelp=e=>new Promise((t=>{const s={};fs().get(e).then((e=>{e.data&&d.default.helpData.setData(e.data)}),(e=>{e.response&&e.response.data&&404===e.response.data.status&&(d.default.helpData.setData(s),t([]))}))}))}handleEvent(e,t){"GET"===t.type&&(d.default.helpData.setData({}),this.fetchHelp("".concat(xs.c.HELP_MENU_SAMPLE_TOPIC,"/csh/en-us/glp/").concat(t.role,"/").concat(t.url)))}}).start(),kt.c.register("playlistStore",as.create({assignmentId:"",courseId:"",playlist:[]})),kt.c.register("preference",os.create({theme:"White",fontSize:"16",orientation:"horizontal",zoom:0,isAnnotationHide:!1,enableShowHide:!1})),kt.c.register("bookmark",ds.create({isBookmarkLoaded:!1,bookmarks:[],isBookmarked:!1})),kt.c.register("timeontask",hs.create({uuid:"",id:"",itemId:"",fromDate:"",embeddedBrix:[]})),kt.c.register("glossaryData",gs.create({indexId:"",glossary:[],isGlossaryLoaded:!1})),kt.c.register("footnoteData",Es.create({footnote:[]})),kt.c.register("referenceData",Ts.create({reference:[]})),kt.c.register("userLastLocation",As.create({id:"",contextId:"",contentUrn:"",lastActivity:"",loaded:!1})),kt.c.register("pageNumbers",Is.create({})),kt.c.register("helpData",Ns.create({})),kt.c.register("historyStore",Ps.c.create(bt.c.createLocalStore(Ps.c,M.RECENT_HISTORY_STORAGE_NAME,{items:[]})));const vs="SEQ_NODE_CALL_COMPLETE";class Ls{static getItems(e,t,s){return He.c.lasApi.get("/coursebooks/".concat(e,"/assessment/items"),{params:{bookCategory:s,assessmentId:t}})}static getTdxActivity(e,t,s,n,i){const a="source/".concat(e,"/course/").concat(t,"/assignment/").concat(s),o="student/".concat(n,"/user/").concat(n,"/viewassignment");return He.c.lasApi.get("/las-lti/".concat(a,"/").concat(o,"?startQuestion=").concat(i))}static getSequenceNode(e){return new Promise(((t,s)=>{if(Ls.isCallInProgress){const n=f().on(vs,(()=>{n(),Ls.getSequenceNodeCall(e).then((e=>t(e)),(e=>s(e)))}))}else Ls.isCallInProgress=!0,Ls.getSequenceNodeCall(e).then((e=>t(e)),(e=>s(e))).finally((()=>{Ls.isCallInProgress=!1,f().publish(vs,{})}))}))}static getSequenceNodeCall(e){return He.c.assessmentCompositeApi.get("/paf-service/lti/sequencenode",{params:{actvityBinding:e.activityId,assignmentId:e.assessmentId,courseId:e.courseId,lasApiKey:h.c.LAS_API_KEY,environment:h.c.NAME,identityId:e.studentId,contentId:e.pageId,containerContentId:e.pageId,timezone:e.timezone,assessmentEdit:!1,bookCategory:e.contentStatus||"published",productId:e.productId,source:e.source,studentId:e.studentId,flowType:"normal"}})}static getTdxScore(e,t,s,n){return He.c.lasApi.get("/source/".concat(e,"/course/").concat(t,"/assignment/").concat(s,"/student/").concat(n))}static getActivityScore(e,t,s){return He.c.lasAsm.get("/score",{params:{assessmentEdit:!1,courseId:e,assessmentId:"".concat(h.c.PAF_PREFIX).concat(t),activityId:"".concat(h.c.PAF_PREFIX).concat(s)}})}}Ls.isCallInProgress=!1;const Os=Rt.i2.model("ActivityStatus",{attempts:Rt.i2.maybeNull(Rt.i2.number),attemptTime:Rt.i2.maybeNull(Rt.i2.Date),closed:Rt.i2.maybeNull(Rt.i2.boolean),closedBy:Rt.i2.maybeNull(Rt.i2.string),closedCount:Rt.i2.maybeNull(Rt.i2.number),id:Rt.i2.maybeNull(Rt.i2.string),maxAttempts:Rt.i2.maybeNull(Rt.i2.number),points:Rt.i2.maybeNull(Rt.i2.number),pointsEarned:Rt.i2.maybeNull(Rt.i2.number),scoreDate:Rt.i2.maybeNull(Rt.i2.Date),seqNumber:Rt.i2.maybeNull(Rt.i2.number),status:Rt.i2.maybeNull(Rt.i2.enumeration("ActivityState",["CORRECT","Submitted","PARTIAL_CORRECT","INCORRECT","NOT_ATTEMPTED","IN_PROGRESS","COMPLETED"])),state:Rt.i2.maybeNull(Rt.i2.string),title:Rt.i2.maybeNull(Rt.i2.string),type:Rt.i2.maybeNull(Rt.i2.string)}).views((e=>({get realId(){if(e.id){const t=e.id.lastIndexOf("/");return t>=0?e.id.substr(t+1):e.id}return null}}))).actions((e=>({incrementAttempts(t){e.attempts?e.attempts+=1:e.attempts=1,t>0&&e.attempts!==t&&e.status===M.STATUS_NOT_ATTEMPTED&&(e.status=M.STATUS_IN_PROGRESS)}})));class Rs{}Rs.isDuePassedOrCompleted=(e,t,s)=>e||t!==M.CATEGORY_FORMATIVE&&s===M.STATUS_COMPLETE,Rs.isStatusLateOrPenalty=(e,t)=>!e&&t.assessmentType===M.LT&&t.status===M.STATUS_LATE&&(t.isSharedMediaOrWritingAssignment||t.isshowPenalty()),Rs.isAssessmentContinue=(e,t,s)=>e.includes(t)||s===M.CATEGORY_FORMATIVE&&t===M.STATUS_COMPLETE,Rs.isAssessmentReview=(e,t)=>e&&t;const Ds=Rt.i2.model("AssessmentStatusStore",{id:Rt.i2.maybeNull(Rt.i2.string),assignmentId:Rt.i2.maybeNull(Rt.i2.string),title:Rt.i2.maybeNull(Rt.i2.string),category:Rt.i2.maybeNull(Rt.i2.enumeration("QuizCategory",[M.CATEGORY_FORMATIVE,M.CATEGORY_SUMMATIVE])),type:Rt.i2.enumeration("QuizType",["Practice","Homework","Quiz","Test","None","Unknown"]),subtype:Rt.i2.maybeNull(Rt.i2.string),usageType:Rt.i2.maybeNull(Rt.i2.string),status:Rt.i2.enumeration("Status",[M.STATUS_NOT_STARTED,M.STATUS_NOT_AVAILABLE,M.STATUS_NOT_ATTEMPTED,M.STATUS_STARTED,M.STATUS_IN_PROGRESS,M.STATUS_COMPLETE,M.STATUS_INCOMPLETE,M.STATUS_COMPLETE_WORKED,M.COMPLETE_PAST_DUE_LATE,M.STATUS_COMPLETE_OVERRIDE,M.STATUS_COMPLETE_PAST_DUE,M.STATUS_COMPLETE_LATE,M.STATUS_LATE]),closed:Rt.i2.optional(Rt.i2.boolean,!1),openAccess:Rt.i2.optional(Rt.i2.boolean,!1),closedActivitiesCount:Rt.i2.maybeNull(Rt.i2.number),totalActivitiesCount:Rt.i2.maybeNull(Rt.i2.number),maxAttempts:Rt.i2.maybeNull(Rt.i2.number),penaltyPerAttempt:Rt.i2.maybeNull(Rt.i2.number),pointsPerItem:Rt.i2.maybeNull(Rt.i2.number),points:Rt.i2.maybeNull(Rt.i2.number),pointsEarned:Rt.i2.maybeNull(Rt.i2.number),postDuePoints:Rt.i2.maybeNull(Rt.i2.number),percentagePoints:Rt.i2.maybeNull(Rt.i2.number),pointsAdjusted:Rt.i2.maybeNull(Rt.i2.number),overrideComments:Rt.i2.maybeNull(Rt.i2.string),scoreOverrideMessage:Rt.i2.maybeNull(Rt.i2.string),dueDate:Rt.i2.maybeNull(Rt.i2.Date),availabilityDate:Rt.i2.maybeNull(Rt.i2.Date),acceptedTillDate:Rt.i2.maybeNull(Rt.i2.Date),dueDatePassed:Rt.i2.optional(Rt.i2.boolean,!1),quizAvailable:Rt.i2.optional(Rt.i2.boolean,!1),isOverridden:Rt.i2.optional(Rt.i2.boolean,!1),activities:Rt.i2.array(Os),loading:Rt.i2.optional(Rt.i2.boolean,!1),failed:Rt.i2.optional(Rt.i2.boolean,!1),dirty:Rt.i2.optional(Rt.i2.boolean,!1),isWritingAssignment:Rt.i2.optional(Rt.i2.boolean,!0),isMediaActivityOrVQuiz:Rt.i2.optional(Rt.i2.boolean,!1),showScores:Rt.i2.optional(Rt.i2.boolean,!1),assessmentType:Rt.i2.maybeNull(Rt.i2.string),latePenaltyPercentage:Rt.i2.maybeNull(Rt.i2.number),locked:Rt.i2.optional(Rt.i2.boolean,!1),isMediaActivityOrEssay:Rt.i2.optional(Rt.i2.boolean,!1),isSharedMediaOrWritingAssignment:Rt.i2.optional(Rt.i2.boolean,!1),completionPercent:Rt.i2.maybeNull(Rt.i2.number)}).views((e=>({isQuizType:e=>["Practice","Homework","Quiz","Test","None","Unknown"].includes(e),isSummative:()=>e.category===M.CATEGORY_SUMMATIVE}))).actions((e=>({fetch(t,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",r=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(d.default.course.isGLP&&!o)return void e.clear();let l=0===s.indexOf("http")?s:"".concat(h.c.PAF_PREFIX).concat(s);i&&(l=s),e.setDirty(n);const c=l.substr(l.lastIndexOf("/")+1);if(Pt.c.setCustomAttribute(M.NR_ASSESSMENT_ID,c),e.id!==l||n||e.failed||r){const n=e.getAssessmentAssetContentId(o,s);e.clear(),e.loading=!0,e.id=l,f().publish(M.ASSESSMENT_STATUS_REQUEST,{courseId:t,assessmentId:l,controlledAccess:a,assignmentId:o,contentId:n})}},saveLtiSubmission(){f().publish(M.SUBMISSION_SAVE_REQUEST,{type:e.subtype,assessmentId:e.id,activityId:e.activities[0]&&e.activities[0].id})},incrementAttempts(t){const s=e.activities.find((e=>e.realId===t)),n=[M.STATUS_NOT_STARTED,M.STATUS_AVAILABLE,M.STATUS_NOT_ATTEMPTED];s&&s.incrementAttempts(e.maxAttempts),n.includes(e.status)&&(e.status=M.STATUS_IN_PROGRESS)},isLockedAssessment:()=>e.status===M.STATUS_NOT_AVAILABLE&&e.activities&&0===e.activities.length,setDirty(t){e.dirty=t},clear(){e.title="",e.type="None",e.category=null,e.id="",e.activities=[],e.isOverridden=!1,e.postDuePoints=0,e.failed=!1,e.percentagePoints=0,e.closed=!1,e.points=0,e.pointsEarned=0,e.status=M.STATUS_NOT_ATTEMPTED,e.quizAvailable=!1,e.acceptedTillDate=null,e.dueDatePassed=!1,e.availabilityDate=null,e.dueDate=null,e.subtype=null,e.latePenaltyPercentage=null,e.completionPercentage=null,e.latePenaltyPercentToApply=null,e.partialPointsAfterDue=null},setError(){e.failed=!0,e.loading=!1,f().publish(M.ASSESSMENT_STATUS_COMPLETED,{})},setModalHeaderOption(){const t=[M.ASSESSMENT_TYPE_MEDIACTIVITY,M.ASSESSMENT_TYPE_VQUIZ],s=[M.ASSESSMENT_TYPE_MEDIACTIVITY,M.ASSESSMENT_TYPE_ESSAY];e.isWritingAssignment=e.subtype!==M.ASSESSMENT_TYPE_ESSAY,e.isMediaActivityOrVQuiz=t.includes(e.subtype),e.isMediaActivityOrEssay=s.includes(e.subtype)},getFilteredActivitesByStatus:t=>t.length>0?e.activities.filter((e=>t.indexOf(e.status)>-1)):e.activities,getStatusList(){const t=[];return e.activities.forEach((e=>{-1===t.indexOf(e.status)&&M.FILTER_STATUS.indexOf(e.status)>-1&&t.push(e.status)})),t.sort()},getAssignmentAsset(){let t=null;const s=d.default.assignments.assignments.find((t=>t.id===e.assignmentId));return s&&s.children&&(t=s.children.find((t=>t.id===e.id))),{assignment:s,asset:t}},isshowPenalty(){const{assignment:t,asset:s}=e.getAssignmentAsset();return t&&t.showPenalty||s&&(s.showPenalty||s.assetShowPenaltyMsg)},getActionType(t){const s=[M.STATUS_STARTED,M.STATUS_IN_PROGRESS];let n=M.ASSESSMENT_ACTION_START;if(Rs.isDuePassedOrCompleted(e.dueDatePassed,e.category,e.status))n=Rs.isStatusLateOrPenalty(t,e)?M.ASSESSMENT_ACTION_CONTINUE:M.ASSESSMENT_ACTION_REVIEW;else if(Rs.isAssessmentContinue(s,e.status,e.category))n=M.ASSESSMENT_ACTION_CONTINUE;else if(Rs.isAssessmentReview(t,e.isMediaActivityOrEssay)){const t=e.activities&&e.activities[0]?e.activities[0]:null;t&&t.state===M.ASSESSMENT_ACTIVITY_CLOSED&&(n=M.ASSESSMENT_ACTION_REVIEW)}return n},hideReview:()=>e.isSummative()&&!e.dueDatePassed&&e.status===M.STATUS_COMPLETE,assessmentStatusConditionalMapper(t,s){const n=t.pointsEarned,i=parseFloat(n||0);return{dueDate:t.dueDate?new Date(t.dueDate):null,availabilityDate:t.availabilityDate?new Date(t.availabilityDate):null,acceptedTillDate:t.acceptedTillDate?new Date(t.acceptedTillDate):null,pointsEarned:null!==n?i:null,percentagePoints:t.percentagePoints?Math.round(t.percentagePoints):0,openAccess:!(null===s||void 0===s||s),closed:t.closedActivitiesCount>=t.totalActivitiesCount&&t.status!==M.STATUS_NOT_AVAILABLE,locked:t.locked||!1,showScores:void 0===t.showScores||t.showScores,type:e.isQuizType(t.usageType)?t.usageType:"None"}},setData(t,s){const n=this.assessmentStatusConditionalMapper(t,s);e.id=t.id,e.assignmentId=t.assignmentId,e.title=t.title,e.dueDate=n.dueDate,e.availabilityDate=n.availabilityDate,e.acceptedTillDate=n.acceptedTillDate;const i=e.acceptedTillDate?e.acceptedTillDate:e.dueDate;e.dueDatePassed=Boolean(i&&i.getTime()<Date.now()),e.closedActivitiesCount=t.closedActivitiesCount,e.points=t.points,e.pointsEarned=n.pointsEarned,e.isOverridden=t.isOverridden,e.pointsAdjusted=t.pointsAdjusted,e.postDuePoints=t.postDuePoints,e.partialPointsAfterDue=t.partialPointsAfterDue,e.latePenaltyPercentToApply=t.latePenaltyPercentToApply,e.overrideComments=t.overrideComments,e.scoreOverrideMessage=t.scoreOverrideMessage,e.percentagePoints=n.percentagePoints,e.openAccess=n.openAccess,e.status=t.status,e.closed=n.closed;[M.CATEGORY_FORMATIVE,M.CATEGORY_SUMMATIVE].includes(t.type)?(e.subtype=t.type,e.category=e.subtype):e.subtype=t.usageType;[M.CHAPTER_QUIZ,M.MODULE_QUIZ].includes(t.type)?(e.type=M.QUIZ,e.subtype=t.type):e.type=n.type,t.policy&&e.setAssessmentPolicy(t.policy),t.activities&&t.activities.length>0&&e.setActivities(t.activities),e.quizAvailable=e.availabilityDate&&Date.now()>=e.availabilityDate||!d.default.course.isStudentView()||e.openAccess,e.showScores=n.showScores,e.assessmentType=t.type,e.usageType=t.usageType,e.failed=!1,e.loading=!1,e.latePenaltyPercentage=t.latePenaltyPercentage,e.locked=n.locked,e.totalActivitiesCount=t.totalActivitiesCount;const a=[M.ASSESSMENT_TYPE_WRITINGSOLUTIONS,M.ASSESSMENT_TYPE_SHAREDMEDIA];e.isSharedMediaOrWritingAssignment=a.includes(t.usageType),e.completionPercent=t.completionPercent,f().publish(M.ASSESSMENT_STATUS_COMPLETED,{})},isActivityClosed(t,s){let n=t===M.ASSESSMENT_ACTIVITY_CLOSED;return e.dueDatePassed?n=!0:e.isSummative()?n=!1:e.category===M.CATEGORY_FORMATIVE&&(n=s!==M.STATUS_NOT_ATTEMPTED),n},isDSM:()=>"dsm"===e.subtype,getLinearProgressPercent(){if(e.isDSM())return e.completionPercent;let t=!1;const s=[M.CHAPTER_QUIZ,M.MODULE_QUIZ],n=e.activities.filter((n=>(t=s.includes(e.subtype)?n.state===M.ASSESSMENT_ACTIVITY_CLOSED:n.status!==M.STATUS_NOT_ATTEMPTED,ae.c.conditionalArg(t,n,t)))).map((e=>e.points)).reduce(((e,t)=>e+t),0),i=Number(parseFloat(n/e.points*100).toFixed(1));return Number.isNaN(i)?0:i},setActivities(t){e.setModalHeaderOption(),e.activities=t.map(((t,s)=>{let n=t.status;e.isSummative()&&!e.dueDatePassed&&(t.status===M.STATUS_PARTIAL_CORRECT?n=M.STATUS_IN_PROGRESS:t.status!==M.STATUS_NOT_ATTEMPTED&&(n=M.STATUS_COMPLETED));const i={id:t.id,title:t.title||"",closed:e.isActivityClosed(t.state,t.status),state:t.state,seqNumber:s+1,attempts:t.attemptNbr,points:t.points,pointsEarned:t.pointsEarned,status:n,maxAttempts:t.maxNbrOfAttempts},a=[M.ASSESSMENT_TYPE_WRITINGSOLUTIONS,M.ASSESSMENT_TYPE_SHAREDMEDIA].includes(e.subtype),o=t.state===M.ASSESSMENT_ACTIVITY_OPEN&&t.status===M.STATUS_INCORRECT,r=e.dueDatePassed&&e.maxAttempts>0&&t.attemptNbr!==e.maxAttempts&&t.status===M.STATUS_INCORRECT;return a&&(o||r)&&(i.status=M.STATUS_IN_PROGRESS),i}))},setAssessmentPolicy(t){e.maxAttempts=t.max_attempt_num,e.penaltyPerAttempt=t.penalty_per_attempt,e.pointsPerItem=t.points_per_item},getAssessmentAssetContentId(e,t){if(e&&t){const s=d.default.assignments.assignments.find((t=>t.id===e));if(s&&s.children){let e=null;return Gt.treeWalk(s,"children",(s=>s.id!==t||(e=s.contentId,!1)),2),e}}return null}}))),bs=Ds,ws=Rt.i2.model("tdxQuizStore",{html:Rt.i2.string,launchScript:Rt.i2.string,loading:Rt.i2.boolean,failed:Rt.i2.boolean}).views((e=>({get statusEnum(){return e.avlDatePast?M.STATUS_NOT_AVAILABLE:e.state}}))).actions((e=>({fetch(t,s,n){e.failed=!1,e.loading=!0,f().publish(M.TDX_QUIZ_REQUEST,{courseId:t,assessmentId:s,startQuestion:n})},clear(){e.status=null,e.id="",e.activities=[]},setError(){e.failed=!0,e.loading=!1},setTdxQuizData(t){e.html=t.data.html,e.launchScript=t.data.launchScript,e.loading=!1,e.failed=!1}})));var Ms;(new class extends Xe{constructor(){super(M.ASSESSMENT_STATUS_REQUEST)}handleEvent(e,t){const s=t.assessmentId.substr(t.assessmentId.lastIndexOf("/")+1),n=d.default.course.source?"&sourceType=".concat(d.default.course.source):"",i=t.contentId?"&contentId=".concat(t.contentId):"";He.c.tiburonApi.get("/courses/".concat(t.courseId,"/assessments/").concat(s,"/status?assignmentId=").concat(t.assignmentId).concat(i).concat(n)).then((e=>{d.default.assessmentStatusStore.setData(e.data,t.controlledAccess)}),(e=>{d.default.assessmentStatusStore.setError(e)}))}}).start(),(new class extends Xe{constructor(){super(M.TDX_QUIZ_REQUEST)}handleEvent(e,t){Ls.getTdxActivity(d.default.course.source,t.courseId,t.assessmentId,d.default.user.id,t.startQuestion).then((e=>{d.default.tdxQuizStore.setTdxQuizData(e)}),(e=>{d.default.tdxQuizStore.setError(e)}))}}).start(),(new class extends Xe{constructor(){super(M.ACTIVITY_DATA_REQUEST)}handleEvent(e,t){Ls.getItems(t.courseId,t.assessmentId,t.contentStatus).then((e=>{const s=e.data.data[0].assessments[0].activities.find((e=>e.activityId==="".concat(h.c.PAF_PREFIX).concat(t.activityId)));f().publish(M.SEND_TO_PXE_FRAME,{type:"QuizStatus",data:{action:"title-response",assignmentId:t.assignmentId,activityId:t.activityId,title:s?s.title:""}})}),(e=>{f().publish(M.SERVICE_ERROR,e)}))}}).start(),(new class extends Xe{constructor(){super(M.ACTIVITY_STATUS_REQUEST)}handleEvent(e,t){Ls.getActivityScore(t.courseId,t.assessmentId,t.activityId).then((e=>{const s=e.data.data;let n="";if(s.points>0){const e=d.default.language.getIntl();n=s.closed?e.formatMessage({id:t.activityId,defaultMessage:d.default.language.getText("common.EARNED_POINTS")},{points:s.points}):e.formatMessage({id:t.activityId,defaultMessage:d.default.language.getText("common.WORTH_POINTS")},{points:s.points})}f().publish(M.SEND_TO_PXE_FRAME,{type:"QuizStatus",data:{action:"subtitle-response",assignmentId:t.assignmentId,activityId:t.activityId,closed:s.closed,subtitle:n}})}))}}).start(),(new class extends Xe{constructor(){super(M.TDX_SEQUENCE_NODE_REQUEST)}scoreRequest(e,t){Ls.getTdxScore(t.source,t.courseId,t.assessmentId,t.studentId).then((s=>{const n=s.data.result,i=[];if(n&&n.itemMetadata&&n.itemMetadata.length)if(n.assignmentAttempts&&n.assignmentAttempts.length)n.assignmentAttempts[0].itemAttempts.map(((e,t)=>(e.itemId===n.itemMetadata[t].itemId&&(e.pointsPossible=n.itemMetadata[t].pointsPossible),i.push(e),0)));else{const t=n.itemMetadata.find((t=>t.itemId===e));t&&i.push({itemId:e,seqNumber:t.seqNumber,status:"NotAttempted",pointsPossible:t.pointsPossible,pointsEarned:0})}f().publish(M.SEND_TO_PXE_FRAME,{type:M.TDX_SEQUENCE_NODE_MESSAGE,data:{action:M.TDX_SCORE_RESPONSE,assignmentId:t.assessmentId,activityId:t.activityId,response:i}})}),(e=>{f().publish(M.SERVICE_ERROR,e)}))}handleEvent(e,t){t.action===M.TDX_SEQUENCE_NODE_ACTION_REQUEST?Ls.getSequenceNode(t).then((e=>{f().publish(M.SEND_TO_PXE_FRAME,{type:M.TDX_SEQUENCE_NODE_MESSAGE,data:{action:M.TDX_SEQUENCE_NODE_ACTION_RESPONSE,assignmentId:t.assessmentId,activityId:t.activityId,response:e.data}});const s=e.data.itemId;this.scoreRequest(s,t)}),(e=>{f().publish(M.SERVICE_ERROR,e)})):t.action===M.TDX_SCORE_REQUEST&&this.scoreRequest(null,t)}}).start(),(new class extends Xe{constructor(){super(M.SUBMISSION_SAVE_REQUEST)}createSubmissionData(e,t){const s={assignmentId:t.assessmentId,activityId:t.activityId};return"v2"===e?s.callContext={courseId:d.default.course.id,lasAuthToken:d.default.user.token}:(s.courseId=d.default.course.id,s.authToken=d.default.user.token),s}handleEvent(e,t){let s=null,n="v4";switch(t.type){case"writing_assignments":case"essay":s="writingspace",n="v2";break;case"MediaActivity":s="mediashare";break;case"vquiz":s="videoquiz";break;case"itsims":case"soundbytes":case"helpdesk":s="KnowdlIT";break;case"minisims":s="KnowdlSims";break;default:s=t.type}He.c.lasPaf.post("/scoring/events/".concat(s,"/").concat(n),this.createSubmissionData(n,t)).then((()=>{}),(()=>{}))}}).start(),kt.c.register("assessmentStatusStore",bs.create({id:"",assignmentId:"",title:"",type:"None",closedActivitiesCount:0,points:0,pointsEarned:0,percentagePoints:0,postDuePoints:0,pointsAdjusted:0,overrideComments:"",status:"NOT_ATTEMPTED",activities:[]})),kt.c.register("tdxQuizStore",ws.create({html:"",launchScript:"",loading:!1,failed:!1}));class Us{static tocData(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=d.default.course.isStudentView(),i=[],a=[];let o=null,r="";function l(e,t){const a=e,c=a.href||a.uri||"";let p="";a.ltiProvider&&a.assignableUnitId?p=a.assignableUnitId:-1!==["assessment","tdx","cite-assessment"].indexOf(a.type)&&(p=a.uri);const u=c?c.indexOf("/OPS/"):-1,g=u>=0?c.substr(u,c.length):c;s&&s.mediaRef.length>0&&(o=Us.setAudioUrl(a.id,s,r,t));let m=null;if(Fe.c.enabled){let e,t=!1;if(a.type&&a.usageType){const s=Us.isReading(a.type,a.usageType,a.points);e=s?d.default.language.getText("screens.assignments.values.READING"):d.default.language.getText("screens.assignments.values.".concat(a.usageType.toUpperCase()))||a.usageType,t=!!n&&(!s&&_t.c.isFutureDate(a.availabilityDate))}m={points:a.points,status:a.status,pointsEarned:a.pointsEarned,dueDate:a.dueDate,locked:a.locked||!1,isLocked:a.locked||t||!1,usageType:e||d.default.language.getText("screens.assignments.values.READING"),assignedItems:a.assignedItems,assignmentIdsList:a.assignmentIdsList,subType:e,inProgressStatus:a.inProgressStatus,scorePending:!1}}const E={id:a.id,title:a.title||a.label,type:a.type||"",urn:a.id||a.path,href:g,chapterId:t,coPage:"true"===a.coPage,playOrder:a.playOrder,assessmentId:p,ltiProvider:a.ltiProvider||"",audio:o,parentItemId:r,children:[],label:a.level?String(a.level):"",display:!1!==a.display,hidden:a.hidden,assignmentId:a.assignmentId,availabilityDate:a.availabilityDate,assetStatus:m};1===a.level&&a.optional&&(E.optional=a.optional);const T={...o,isPlaying:!1,parentId:r};o&&i.push(T);const S=a.items||a.children||a.content;return S&&S.forEach((e=>{r=E.id,e.level=a.level+1,"revel"===h.c.PRODUCT_MODEL?(e.uri||e.children)&&E.children.push(l(e,t)):E.children.push(l(e,t))})),r="",o=null,E}e&&e.forEach((e=>{if(!e.part){e.level=1;const t=Us.isAudioAvailableInChapter(l(e,e.id));a.push(t)}}));const c=[];let p=a.filter((e=>(e.optional&&c.push(e),!e.optional)));p=Array.prototype.concat.apply(p,c);return{tocData:{id:t,list:p},audioContents:i}}static isReading(e,t,s){return e&&((e===M.TYPE_MODULE||e===M.TYPE_SLATE)&&!s||e===M.TYPE_QUIZ&&t===M.TYPE_MODULE_QUIZ)}static getSubTypeAndIsLocked(e,t,s,n,i){let a,o=!1;if(t&&e.usageType){const t=Us.isReading(e.type,s,n);a=t?d.default.language.getText("screens.assignments.values.READING"):d.default.language.getText("screens.assignments.values.".concat(e.usageType.toUpperCase()))||e.usageType,o=!!i&&(!t&&_t.c.isFutureDate(e.availabilityDate))}return{subType:a,isLockedQuiz:o}}static updateTocStatus(e,t){const s=d.default.course.isStudentView(),n=t.children,i=this;return function e(t,a){if(t<a.length&&a[t]){const o=a[t],r=n&&n.findIndex((e=>e.id===o.id||e.contentId&&e.contentId===o.id));if(null!==r&&-1!==r){const e=o.assetStatus||{},t=i.getSubTypeAndIsLocked(e,e.type,e.usageType,e.points,s),a=t.subType,l=t.isLockedQuiz;e.status=n[r].status,e.points=n[r].points,e.pointsEarned=n[r].pointsEarned,e.locked=n[r].locked||!1,e.isLocked=n[r].locked||l||!1,e.subType=a,e.inProgressStatus=n[r].inProgressStatus}o.children&&e(0,o.children);e(t+1,a)}}(0,e.list),e}static updateAssignmentStatus(e,t){let{assignments:s}=t;const n=d.default.course.isStudentView(),i=this;return function e(t,a){if(t<a.length&&a[t]){const o=a[t],r=s.find((e=>e.id===o.assignmentId)),l=r&&r.assetStatus&&r.assetStatus.find((e=>e.contentId===o.id));if(l){const e=o.assetStatus||{},t=i.getSubTypeAndIsLocked(e,o.type,l.usageType,l.points,n),s=t.subType,a=t.isLockedQuiz;e.status=l.status,e.points=l.points,e.pointsEarned=l.pointsEarned,e.locked=l.locked||!1,e.isLocked=l.locked||a||!1,e.subType=s,e.inProgressStatus=l.inProgressStatus,e.dueDate=r.dueDate,e.scorePending=l.scorePending,o.availabilityDate=l.availabilityDate}o.children&&e(0,o.children);e(t+1,a)}}(0,e.list),e}static updateAssignmentTocStatus(e,t){const s=t.children;return function e(t,n){if(t<n.length&&n[t]){const i=n[t],a=s&&s.findIndex((e=>e.id===i.id||e.contentId&&e.contentId===i.id));if(null!==a&&-1!==a){(i.assetStatus||{}).scorePending=s[a].scorePending}i.children&&e(0,i.children);e(t+1,n)}}(0,e.list),e}static getPage(e,t){let s=null;return function e(n,i){if(n<i.length&&i[n]){const a=i[n];if(a.id!==t&&a.assessmentId!==t||(s=a),!s&&a.children&&e(0,a.children),!s){e(n+1,i)}}return s}(0,e.list)}static getFirstPageId(e){const t=e.list[0];if(t&&t.href)return t.urn;let s=null;return function e(t){return t.find((t=>t.href?(s=t.urn,!0):!!(t.children&&t.children.length>0)&&e(t.children)))}(t.children),s||t.urn}}Ms=Us,Us.setAudioUrl=(e,t,s,n)=>{let i=null;return t.mediaRef.forEach((t=>{t.pageData&&t.pageData.forEach((t=>{t.pageId===e&&(i={id:t.pageId,title:t.title,parentId:s,chapterId:n},t.mediaUrls.forEach(((e,t)=>{i.src=e,i.audioIndex=t.toString()})))}))})),i},Us.isAudioAvailableInChapter=e=>{const t=e.children&&Ms.findAudioInChapter(e);return e.isAudioAvailableInChapter=Boolean(t),e},Us.findAudioInChapter=e=>{const t=e.children&&e.children.find((e=>!!e.audio||!!e.children&&Ms.findAudioInChapter(e)));return Boolean(t)};var ks,js=s(32880),Hs=s.n(js);class Bs{static getStructuredNotesChapterData(e){const t=[];return e&&e.forEach((e=>{!e.part&&e.type&&(e.type.toLowerCase()!==M.TYPE_CHAPTER&&e.type.toLowerCase()!==M.TYPE_SLATE||t.push({chapterId:e.id,chapterTitle:m.Utilities.unescapeHtmlStr(Hs().renderToString(m.Utilities.textFromContent(e.title)))}))})),{chapterList:t}}}const Fs=Rt.i2.model("Audio",{id:Rt.i2.maybeNull(Rt.i2.string),title:Rt.i2.maybeNull(Rt.i2.string),src:Rt.i2.maybeNull(Rt.i2.string),chapterId:Rt.i2.maybeNull(Rt.i2.string),parentId:Rt.i2.maybeNull(Rt.i2.string),audioIndex:Rt.i2.maybeNull(Rt.i2.string)}),Gs=Rt.i2.model("Container",{points:Rt.i2.maybeNull(Rt.i2.number),status:Rt.i2.maybeNull(Rt.i2.string),pointsEarned:Rt.i2.maybeNull(Rt.i2.number),dueDate:Rt.i2.maybeNull(Rt.i2.Date),locked:Rt.i2.optional(Rt.i2.boolean,!1),usageType:Rt.i2.maybeNull(Rt.i2.string),assignedItems:Rt.i2.maybeNull(Rt.i2.number),assignmentIdsList:Rt.i2.maybeNull(Rt.i2.array(Rt.i2.string)),subType:Rt.i2.maybeNull(Rt.i2.string),isLocked:Rt.i2.optional(Rt.i2.boolean,!1),inProgressStatus:Rt.i2.optional(Rt.i2.boolean,!1),scorePending:Rt.i2.optional(Rt.i2.boolean,!1)}),Ys=Rt.i2.model("Container",{id:Rt.i2.string,parentItemId:Rt.i2.maybeNull(Rt.i2.string),prefix:Rt.i2.maybeNull(Rt.i2.string),title:Rt.i2.maybeNull(Rt.i2.string),type:Rt.i2.maybeNull(Rt.i2.string),chapterId:Rt.i2.maybeNull(Rt.i2.string),urn:Rt.i2.string,coPage:Rt.i2.maybeNull(Rt.i2.boolean),playOrder:Rt.i2.maybeNull(Rt.i2.number),href:Rt.i2.maybeNull(Rt.i2.string),assessmentId:Rt.i2.maybeNull(Rt.i2.string),optional:Rt.i2.maybeNull(Rt.i2.boolean),hidden:Rt.i2.optional(Rt.i2.boolean,!1),audio:Rt.i2.maybeNull(Fs),label:Rt.i2.maybeNull(Rt.i2.string),isAudioAvailableInChapter:Rt.i2.optional(Rt.i2.boolean,!1),children:Rt.i2.maybeNull(Rt.i2.array(Rt.i2.late((()=>Ys)))),display:Rt.i2.maybeNull(Rt.i2.boolean),assignmentId:Rt.i2.maybeNull(Rt.i2.string),ltiProvider:Rt.i2.maybeNull(Rt.i2.string),availabilityDate:Rt.i2.maybeNull(Rt.i2.Date),assetStatus:Rt.i2.maybeNull(Gs)}),Vs=Ys,Ws=Rt.i2.model("Content",{id:Rt.i2.string,list:Rt.i2.maybeNull(Rt.i2.array(Vs))}),zs=Rt.i2.model("AudioPlaylist",{id:Rt.i2.string,title:Rt.i2.string,src:Rt.i2.maybeNull(Rt.i2.string),parentId:Rt.i2.maybeNull(Rt.i2.string),chapterId:Rt.i2.maybeNull(Rt.i2.string),isPlaying:Rt.i2.boolean,audioIndex:Rt.i2.maybeNull(Rt.i2.string)}),Qs=Rt.i2.model("NotesChapterItem",{chapterTitle:Rt.i2.string,chapterId:Rt.i2.string}),Ks=Rt.i2.model("NotesChapterList",{chapterList:Rt.i2.array(Qs)}),qs=Rt.i2.model("Materials",{courseId:Rt.i2.string,audioContents:Rt.i2.array(zs),isTocLoaded:Rt.i2.boolean,indexId:Rt.i2.maybeNull(Rt.i2.string),tocContent:Rt.i2.maybeNull(Ws),provider:Rt.i2.maybeNull(Rt.i2.string),isError:Rt.i2.boolean,errorCode:Rt.i2.maybeNull(Rt.i2.number),fetching:Rt.i2.optional(Rt.i2.boolean,!1),versionUrn:Rt.i2.maybeNull(Rt.i2.string),notesChapterList:Rt.i2.maybeNull(Ks)}).actions((e=>({fetch(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.fetching||(d.default.materials.isTocLoaded&&!s?f().publish(M.MATERIAL_DATA_FETCHED,{}):(e.fetching=!0,f().publish(h.c.MATERIAL_DATA_REQUEST,{requestParams:t,type:"GET"})))},handlePublish(e,t){f().publish(h.c.MATERIAL_DATA_REQUEST,{type:"PUT",data:e,courseId:t})},handleReset(e){f().publish(h.c.MATERIAL_DATA_REQUEST,{type:"DELETE",requestParams:e})},setTocData(t,s,n,i,a){e.tocContent=t.tocData,e.audioContents=t.audioContents,e.courseId=s,e.indexId=n,e.isTocLoaded=!0,e.fetching=!1,e.versionUrn=a,e.notesChapterList=i,f().publish(M.MATERIAL_DATA_FETCHED,{})},setError(t){e.isError=!0,t.response&&t.response.status&&(e.errorCode=t.response.status)},updateTocStatus(t){const s=Us.updateTocStatus(e.tocContent,t);e.tocContent={...s}},updateAssignmentStatus(){const t=Us.updateAssignmentStatus(e.tocContent,d.default.assignments);e.tocContent={...t}},updateAssignmentTocStatus(t){if(e.tocContent&&e.tocContent.list){const s=Us.updateAssignmentTocStatus(e.tocContent,t);s&&s.list&&(e.tocContent={...s})}},getPage:t=>!(!e.tocContent||!e.tocContent.list)&&Us.getPage(e.tocContent,t),getFirstPageId:()=>!(!e.tocContent||!e.tocContent.list)&&Us.getFirstPageId(e.tocContent)}))),Xs=qs;(new class extends Xe{constructor(){super(M.MATERIAL_DATA_REQUEST)}handleEvent(e,t){const s=t.requestParams.contentType===M.VIEWER_CONTENT_TYPE_CITE;let n="";!d.default.course.isStudent&&d.default.course.platform!==M.COURSE_TYPE_GLP?n="?show=all":d.default.course.isInstructorView&&(n="?assignments=true");let i=null;i=Fe.c.enabled?ae.c.graphQLClient.mutate({mutation:(0,Lt.Ip)(ks||(ks=(0,vt.c)(["\n          ","\n        "])),Ot.c.getCourseAssetsQuery(t.requestParams.courseId,!1))}):He.c.tiburonApi.get("/courses/".concat(t.requestParams.courseId,"/assets").concat(n)),i.then((e=>{const n=e;if(Fe.c.enabled&&(n.data=n.data.courseAssets),n.data&&n.data.children){const e=n.data.children,i=t.requestParams.courseId,a=t.requestParams.indexId,o=t.requestParams.version,r=d.default.language.getIntl();this.triggerRequestToGlossary(e,r,a),this.triggerRequestToFootnotes(e,r),He.c.csgApi.get("/3.0/cm/navigation-xref?indexId=".concat(a,"&type=audio")).then((t=>{this.audioItemsSuccessCallback(t,e,i,a,o,s)}),(t=>{this.setTocDataInStore(e,i,a,o,null,s),f().publish(M.SERVICE_ERROR,t)}))}}),(e=>{d.default.materials.setError(e)}))}triggerRequestToGlossary(e,t,s){const n=e.find((e=>e.type===M.GLOSSARY));n&&n.type&&(n.title=n.title||t.formatMessage({id:"screens.search.GLOSSARY",defaultMessage:d.default.language.getText("screens.search.GLOSSARY")}),f().publish(M.GLOSSARY_REQUESTED,{indexId:s,type:"GET"}))}triggerRequestToFootnotes(e,t){const s=e.find((e=>e.type===M.FOOTNOTES));if(s&&s.uri){s.title=s.title||t.formatMessage({id:"screens.search.FOOTNOTES",defaultMessage:d.default.language.getText("screens.search.FOOTNOTES")});const e="".concat(d.default.course.prefix,"/").concat(s.uri);f().publish(M.FOOTNOTES_REQUESTED,{url:e,type:"GET"})}}audioItemsSuccessCallback(e,t,s,n,i,a){if(e.data){const o=e.data||null;this.setTocDataInStore(t,s,n,i,o,a)}}setTocDataInStore(e,t,s,n,i,a){const o=Bs.getStructuredNotesChapterData(e);a?(d.default.materials.setTocData(Us.tocData(e,t,i),t,s,o,n),Fe.c.enabled&&d.default.assignments.isSLPListFetched&&d.default.assignments.assignments&&d.default.assignments.assignments.length&&d.default.materials.updateAssignmentStatus()):d.default.materials.setTocData(Us.tocData(e,t,i),t,s,o)}}).start(),kt.c.register("materials",Xs.create({courseId:"",isTocLoaded:!1,isError:!1,playList:[],audioContents:[],versionUrn:""}));const Zs=Rt.i2.model("DiscreteAssetCategory",{type:Rt.i2.maybeNull(Rt.i2.identifier),title:Rt.i2.maybeNull(Rt.i2.string),percentScore:Rt.i2.maybeNull(Rt.i2.number),weight:Rt.i2.maybeNull(Rt.i2.number),points:Rt.i2.maybeNull(Rt.i2.number),pointsEarned:Rt.i2.maybeNull(Rt.i2.number)}),Js=Rt.i2.model("OverallGrade",{overallScore:Rt.i2.maybeNull(Rt.i2.number),categories:Rt.i2.maybeNull(Rt.i2.array(Zs)),overallGradeFetched:Rt.i2.maybeNull(Rt.i2.boolean),isSumatra:Rt.i2.maybeNull(Rt.i2.boolean),showScoreWidget:Rt.i2.maybeNull(Rt.i2.boolean,!1),loading:Rt.i2.optional(Rt.i2.boolean,!0),isError:Rt.i2.optional(Rt.i2.boolean,!1),errorMsg:Rt.i2.maybeNull(Rt.i2.string),errorCode:Rt.i2.maybeNull(Rt.i2.number)}).views((e=>({get isApiFailed(){return e.isError},sortAssignments:(e,t)=>e.sort(((e,s)=>e[t]>s[t]?-1:e[t]<s[t]))}))).actions((e=>({setError(t){e.isError=!0,e.loading=!1,e.errorMsg=t.message,e.errorCode=t.response?t.response.status:0},fetch(t){e.loading?f().publish(M.OVERALL_GRADE_SYNC_REQUESTED,{courseId:t}):f().publish(M.OVERALL_GRADE_FETCHED,{})},setDiscreteAssetCategory(e){if(e){const t=null!==e.percentScore&&void 0!==e.percentScore?e.percentScore:null;return{type:e.type||e.categoryKey,title:e.title,percentScore:t,weight:e.weight,points:e.points,pointsEarned:e.pointsEarned}}return null},setOverallGradeData(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(e.overallScore=null!==t.overallScore&&void 0!==t.overallScore?Math.round(t.overallScore):null,e.isSumatra=s,e.categories=t.categories?t.categories.map((t=>e.setDiscreteAssetCategory(t))):[],e.assignmentGroup=[],e.overallGradeFetched=!0,e.loading=!1,void 0!==t.showOverallScore&&null!==t.showOverallScore&&(e.showScoreWidget=t.showOverallScore),f().publish(M.OVERALL_GRADE_FETCHED))},setLoading(){e.loading=!0,e.isError=!1}}))),$s=Js;(new class extends Xe{constructor(){super(M.OVERALL_GRADE_SYNC_REQUESTED)}handleEvent(e,t){d.default.overallgrade.overallGradeFetched&&!t.forceRefresh||(d.default.overallgrade.setLoading(),He.c.tiburonApi.get("courses/".concat(t.courseId,"/source/").concat(d.default.course.source,"/grade")).then((e=>{d.default.overallgrade.setOverallGradeData(e.data,d.default.course.isSumatraCourse)}),(e=>{d.default.overallgrade.setError(e)})))}}).start(),kt.c.register("overallgrade",$s.create({assignmentGroup:[],overallScore:-1,overallGradeFetched:!1,isError:!1,loading:!0,errorMsg:"",errorCode:0,isApiFailed:!1,showScoreWidget:!0})),(new Ze).start();var en=s(28744),tn=s(28072),sn=s(39388);const nn=e=>({root:{backgroundColor:$.c.scheduleBorderColor,width:"auto",boxShadow:"none",border:"solid 1.5px ".concat(e.palette.action.disabledBackground),"&:hover":{backgroundColor:e.palette.common.white,cursor:"pointer",boxShadow:"0 5px 22px 4px rgba(0, 0, 0, 0.03), 0 7px 8px -4px rgba(0, 0, 0, 0.05)"}},contentRoot:{position:"relative",paddingBottom:"2px","&:last-child":{paddingBottom:"16px"}},shimmerContainer:{display:"flex",justifyContent:"space-between",alignItems:"flex-end","& .horizontalStepper":{width:"84%","@media screen and (max-width: 550px)":{width:"100%"}}},worthPoint:{width:"16%",textAlign:"right",height:"17px",marginBottom:"17px","@media screen and (max-width: 550px)":{width:"100%"}},worthPointText:{lineHeight:"normal",letterSpacing:"0.17px",color:e.colors.defaultButtonTextColor},assignmentWrapper:{marginBottom:"32px","&:focus":{outlineStyle:"solid",outlineOffset:"5px",outlineWidth:"2px",outlineColor:e.colors.blueOutlineColor,"& > div":{backgroundColor:e.palette.common.white,cursor:"pointer",boxShadow:"0 5px 22px 4px rgba(0, 0, 0, 0.03), 0 7px 8px -4px rgba(0, 0, 0, 0.05)"}}}});var an;let on=(0,o.uU)("language")(an=(0,o.QT)(an=class extends n.Component{render(){const{classes:e,language:t,assignmentPoints:s,customTabIndex:n}=this.props;return(0,P.jsx)("div",{className:e.worthPoint,tabIndex:n,children:(0,P.jsx)(L.c,{variant:"caption",classes:{root:e.worthPointText},children:(0,P.jsx)(u.FormattedMessage,{id:"worthPoint",defaultMessage:t.getText("screens.assignments.WORTH_POINT"),values:{points:s}})})})}})||an)||an;on.defaultProps={customTabIndex:-1};const rn=(0,N.c)(nn)(on),ln=e=>({typographyRoot:{fontFamily:e.typography.fontFamily,fontSize:"20px",fontWeight:600,fontStretch:"normal",fontStyle:"normal",lineHeight:1.4,letterSpacing:"normal"},categoryAndCount:{fontSize:"14px",fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.58",letterSpacing:"0.2px",color:e.palette.text.secondary,"& + span":{color:e.palette.text.secondary}}}),cn=(0,o.uU)("language")((0,N.c)(ln)((0,o.QT)((e=>{let{titles:t,assetTypes:s,points:n,isShowPoints:i,classes:a}=e;let o="";const r={joiner:(0,P.jsx)("span",{children:","})};if(s&&s.length){const e="statement";s.forEach(((t,s)=>{const n=t.count;n&&(o=""===o?"{".concat(e+s,"}"):"".concat(o,"{joiner} {").concat(e+s,"}"),r[e+s]=((e,t)=>(0,P.jsxs)(L.c,{component:"span",classes:{root:a.categoryAndCount},children:[t,"\xa0",e.toLowerCase()]}))(t.label,n))}))}return(0,P.jsxs)("div",{className:"titleContainer",tabIndex:"0",children:[(0,P.jsxs)("div",{className:"worthPoints",children:[(0,P.jsx)(L.c,{variant:"span",classes:{root:a.typographyRoot},children:t}),Boolean(i)&&(0,P.jsx)(rn,{assignmentPoints:n})]}),o&&(0,P.jsx)("div",{children:(0,P.jsx)(u.FormattedMessage,{id:"categoryAndCount",defaultMessage:o,values:r})})]})}))));var dn,pn=s(47944),hn=s(36484);let un=(0,o.QT)(dn=class extends n.Component{constructor(e){super(e),this.handleCardClick=e=>{e.defaultPrevented||this.props.history.push("/courses/".concat(this.props.courseId,"/assignments/").concat(this.props.id))},this.handleKeyPress=e=>{"Enter"===e.key&&this.handleCardClick(e)},this.handleScroll=()=>{this.cardScrollAnimation()},this.cardScrollAnimation=()=>{if(this.divRef){const{top:e}=this.divRef.current.getBoundingClientRect();window.innerHeight-e>0&&this.setState({flag:!0})}},this.isShowStepper=e=>e.status===M.STATUS_IN_PROGRESS||e.isImmediate||e.status===M.STATUS_LATE&&e.state===M.STATUS_UPCOMING,this.divRef=n.createRef(),this.state={flag:!1}}componentDidMount(){this.cardScrollAnimation(),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){const{assignment:e,titles:t,classes:s,fadeSequence:i}=this.props,a=this.isShowStepper(e),o=e.getChapterList();return(0,n.createElement)(en.c,{in:this.state.flag,style:{transformOrigin:"0 0 0"},timeout:i?500*i:500,key:e.id},(0,P.jsx)("div",{onClick:this.handleCardClick,onKeyPress:this.handleKeyPress,className:s.assignmentWrapper,ref:this.divRef,role:"complementary",tabIndex:"0",children:(0,P.jsx)(tn.c,{classes:{root:s.root},children:(0,P.jsxs)(sn.c,{classes:{root:s.contentRoot},children:[(0,P.jsxs)("div",{className:"cardContentHeader",children:[(0,P.jsx)("h2",{className:"dateTimeDisplay",children:(0,P.jsx)(pn.c,{date:e.dueDate,showProgress:!e.showProgress,id:e.dateIdentifier})}),(0,P.jsx)(cn,{titles:t,assetTypes:e.assetTypes,points:e.points}),(0,P.jsx)(hn.c,{assignment:e,showDate:!0})]}),(ae.c.enableOptimisedApiIse5175||a)&&(0,P.jsx)("div",{className:"horizontalStepperContainer singleCard",children:o.length||!e.isShowShimmer?(0,P.jsxs)("div",{className:"".concat(s.shimmerContainer," mobileStyle"),children:[(0,P.jsx)("div",{className:"horizontalStepper",children:(0,P.jsx)(pe.HorizontalStepperComponent,{assignment:o})}),ae.c.conditionalArg(e.points,(0,P.jsx)(rn,{assignmentPoints:e.points,customTabIndex:0}),null)]}):(0,P.jsx)("div",{className:"shimmer"})})]})})}))}})||dn;const gn=(0,N.c)(nn)((0,g.Ak)(un)),mn=e=>({root:{backgroundColor:$.c.scheduleBorderColor,width:"auto",boxShadow:"none",border:"solid 1.5px ".concat(e.palette.action.disabledBackground),marginBottom:"32px"},contentRoot:{position:"relative",borderBottom:"solid 1px ".concat($.c.gainsboroGrey),padding:"12px 12px 16px 12px",borderTop:"solid 2px transparent",borderRight:"solid 2px transparent",borderLeft:"solid 2px transparent","&:last-child":{paddingBottom:"16px"}},shimmerContainer:{display:"flex",justifyContent:"space-between",alignItems:"flex-end","& .horizontalStepper":{maxWidth:"670px"}},worthPoint:{minWidth:"116px",textAlign:"right",height:"17px",marginBottom:"13px"},worthPointText:{lineHeight:"normal",letterSpacing:"0.17px"},multipleAssignmentWrapper:{padding:"2px 2px 0px 2px","&:hover":{backgroundColor:e.palette.secondary.main,boxShadow:"0 5px 22px 4px rgba(0, 0, 0, 0.03), 0 7px 8px -4px rgba(0, 0, 0, 0.05)",cursor:"pointer"},"&:focus":{backgroundColor:e.palette.secondary.main,boxShadow:"0 5px 22px 4px rgba(0, 0, 0, 0.03), 0 7px 8px -4px rgba(0, 0, 0, 0.05)",outline:"none",paddingBottom:"2px","& > div":{paddingBottom:"13px",borderRadius:"5px",borderWidth:"2px",borderColor:e.colors.blueOutlineColor,borderStyle:"solid"}}}});var En;let Tn=(0,o.QT)(En=class extends n.Component{constructor(e){super(e),this.handleScroll=()=>{this.cardScrollAnimation()},this.cardScrollAnimation=()=>{if(this.cardRef){const{top:e}=this.cardRef.current.getBoundingClientRect();window.innerHeight-e>0&&this.setState({flag:!0})}},this.handleCardClick=(e,t)=>{e.defaultPrevented||this.props.history.push("/courses/".concat(this.props.courseId,"/assignments/").concat(t.id))},this.handleKeyPress=(e,t)=>{"Enter"===e.key&&this.handleCardClick(e,t)},this.findAssignmentWithSameDate=e=>this.props.assignments.filter((t=>t.dueDate.getTime()===e.getTime())),this.isShowStepper=e=>e.status===M.STATUS_IN_PROGRESS||e.isImmediate||e.status===M.STATUS_LATE&&e.state===M.STATUS_UPCOMING,this.cardRef=n.createRef(),this.state={flag:!1}}componentDidMount(){this.cardScrollAnimation(),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){const{assignments:e,classes:t,fadeSequence:s}=this.props,n=e=>{const s=e.getChapterList();return s.length||!e.isShowShimmer?(0,P.jsxs)("div",{className:t.shimmerContainer,children:[(0,P.jsx)("div",{className:"horizontalStepper",children:(0,P.jsx)(pe.HorizontalStepperComponent,{assignment:s})}),e.points?(0,P.jsx)(rn,{assignmentPoints:e.points,customTabIndex:0}):null]}):(0,P.jsx)("div",{className:"shimmer"})};return(0,P.jsx)(en.c,{in:this.state.flag,style:{transformOrigin:"0 0 0"},timeout:s?500*s:500,children:(0,P.jsx)("div",{ref:this.cardRef,children:(0,P.jsx)(tn.c,{classes:{root:t.root},children:e.map(((e,s)=>(0,P.jsx)("div",{onClick:t=>this.handleCardClick(t,e),onKeyPress:t=>this.handleKeyPress(t,e),className:t.multipleAssignmentWrapper,role:"complementary",tabIndex:"0",children:(0,P.jsxs)(sn.c,{classes:{root:t.contentRoot},children:[(0,P.jsxs)("div",{className:"cardContentHeader multi",children:[(0,P.jsx)("h2",{className:"dateTimeDisplay",children:(!s||this.findAssignmentWithSameDate(e.dueDate).length<=1)&&(0,P.jsx)(pn.c,{date:e.dueDate,showProgress:!e.showProgress,id:e.dateIdentifier,showDate:0===s})}),(0,P.jsx)(cn,{titles:m.Utilities.textFromContent(e.title),assetTypes:e.assetTypes,points:e.points}),(0,P.jsx)(hn.c,{assignment:e,showDate:!0})]}),(ae.c.enableOptimisedApiIse5175||this.isShowStepper(e))&&(0,P.jsx)("div",{className:"horizontalStepperContainer",children:n(e)})]})},e.id)))})})})}})||En;const Sn=(0,N.c)(mn)((0,g.Ak)(Tn));var _n=s(28660);var An;let In=(0,o.uU)("course","promo","assignments","language","user")(An=(0,o.QT)(An=class extends n.Component{constructor(){super(...arguments),this.handleCardClick=e=>{if(e.defaultPrevented)return;const t=this.props.assignment.getAssignmentDetailPage();if(t){const e="/courses/".concat(this.props.courseId,"/assignments/").concat(this.props.id,"/pages/").concat(t);this.props.history.push("".concat(e,"?").concat(M.SOURCE,"=").concat(this.props.sourcePath))}},this.handleKeyPress=e=>{"Enter"===e.key&&this.handleCardClick()},this.getRemainingDays=e=>{const t=(e.getTime()-Date.now())/864e5;return t>0?t:0},this.renderLateAssignment=()=>{const{language:e,isOnlyPastDueAssignments:t}=this.props;return(0,P.jsx)("div",{className:"highlightsContainer",children:(0,P.jsx)("div",{className:"nextDueAssignment",children:(0,P.jsxs)("div",{className:"welcomeContainer",children:[(0,P.jsx)(L.c,{component:"h2",variant:"h1",color:"secondary",className:"welcomeMsg",children:e.getText("screens.assignments.GOT_MORE_TIME")}),(0,P.jsx)(L.c,{variant:"body1",color:"secondary",className:"nextDueMsg",children:t?e.getText("screens.assignments.LOOK_FOR_LATE_ASSIGNMENT"):e.getText("screens.assignments.LOOK_FOR_LAST_ASSIGNMENT")}),(0,P.jsx)("div",{className:"startBtn",children:(0,P.jsx)(H.c,{variant:"outlined",color:"secondary",size:"medium",onClick:this.handleCardClick,onKeyPress:this.handleKeyPress,children:e.getText("screens.assignments.START_ASSIGNMENT")})})]})})})}}render(){const{user:e,language:t,assignment:s,totalAssignments:n}=this.props,{dueDate:i}=s,a=this.getRemainingDays(i);if(a<=0)return this.renderLateAssignment();const o=a<=5&&a>0,r=o?"screens.assignments.NEXT_ASSIGNMENT_DUE_DATE":"screens.assignments.NEXT_ASSIGNMENT_DUE_DAYS";return(0,P.jsx)("div",{className:"highlightsContainer",children:(0,P.jsxs)("div",{className:"nextDueAssignment",children:[o&&(0,P.jsx)(_n.c,{className:"gaugeContainer",children:(0,P.jsx)(pe.DaysRemainingProgressComponent,{total:5,remaining:Math.ceil(a)})}),(0,P.jsxs)("div",{className:"welcomeContainer",children:[(0,P.jsx)(L.c,{component:"h2",variant:"h1",color:"secondary",className:"welcomeMsg",children:(0,P.jsx)(u.FormattedMessage,{id:"welcomeMessage",defaultMessage:t.getText("screens.assignments.WELCOME_BACK"),values:{name:e.name}})}),(0,P.jsx)(L.c,{variant:"body1",color:"secondary",className:"nextDueMsg",children:(0,P.jsx)(u.FormattedMessage,{id:"nextDueDateMessage",defaultMessage:t.getText(r),values:{assignmentTitle:(0,P.jsx)("b",{children:m.Utilities.textFromContent(s.title)}),dueDate:(0,P.jsx)(u.FormattedDate,{value:i,weekday:"long"}),dueTime:(0,P.jsx)(u.FormattedTime,{value:i,time:"short"}),remainingDays:Math.ceil(a)}})}),(0,P.jsx)("div",{className:"startBtn",children:(0,P.jsx)(H.c,{variant:"outlined",color:"secondary",size:"medium",onClick:this.handleCardClick,onKeyPress:this.handleKeyPress,children:t.getText("screens.assignments.".concat(n>1?"START_NEXT_ASSIGNMENT":"START_ASSIGNMENT"))})})]})]})})}})||An)||An;const Cn=(0,g.Ak)(In),fn=e=>{let{isBackLink:t,count:s,handlePastDueClick:n,language:i,classes:a}=e;return(0,P.jsx)(R.c,{component:"button",variant:"body2",onClick:()=>{n(!t)},color:"inherit",underline:"none",classes:{focusVisible:a.linkFocusVisible},children:(0,P.jsx)(L.c,{variant:"h4",className:"".concat(t?"pastDueBackLinkLabel":"pastDueLinkLabel"),children:t?i.getText("screens.assignments.PAST_DUE_BACK_TO_ASSIGNMENT"):(0,P.jsx)(u.FormattedMessage,{id:"pastDueAssignmentLabel",defaultMessage:i.getText("screens.assignments.PAST_DUE_ASSIGNMENTS"),values:{count:s}})})})};fn.defaultProps={count:0};const xn=(0,o.uU)("language")((0,N.c)((e=>({linkFocusVisible:{outlineColor:"".concat(e.colors.blueOutlineColor," !important")}})))((0,o.QT)(fn))),yn=(0,o.uU)("language")((0,o.QT)((e=>{let{assignmentsToRender:t,handlePastDueClick:s,isShowLink:n,language:i,classes:a}=e;return(0,P.jsx)("div",{className:a.nextDueItems,children:(0,P.jsxs)("div",{className:"paperContainer",children:[(0,P.jsxs)("div",{className:"upcomingTitle",children:[(0,P.jsx)(L.c,{variant:"h3",className:"pastDue",children:i.getText("screens.assignments.PAST_DUE")}),n&&(0,P.jsx)(xn,{isBackLink:!0,handlePastDueClick:s})]}),t]})})})));var Nn=s(94872),Pn=s(97464);const vn=e=>({"& .dueNextTitle, .upcomingTitle":{display:"flex",justifyContent:"space-between",paddingBottom:"34px",color:e.palette.text.primary,"&.placeholder":{width:"236px",height:"44px",borderRadius:"8px",marginBottom:"34px"},"& .pastDueLinkLabel":{textDecoration:"none",fontSize:"17px",fontWeight:"600",color:e.palette.primary.light},"& .pastDueBackLinkLabel":{textDecoration:"underline",fontSize:"16px",fontWeight:"600",linHeight:"1.2",color:e.palette.primary.light},"& .dueNext , .upcoming , .pastDue":{fontWeight:"300",fontSize:"24px",lineHeight:"1.25",fontStretch:"normal",fontStyle:"normal",letterSpacing:"normal"}},"& .paperContainer":{maxWidth:"941px",margin:"0 auto","@media screen and (max-width: 650px)":{margin:"0 10px"},"& .cardContentHeader":{display:"flex",paddingTop:"11px",margin:"0 12px","& .titleContainer":{"@media screen and (max-width: 390px)":{paddingLeft:"14px",wordBreak:"break-word"},width:"100%",paddingLeft:"24px",flex:1,"& h5":{overflow:"hidden",textOverflow:"ellipsis","-webkitBoxOrient":"vertical",display:"-webkit-box","-webkitLineClamp":2},"& .worthPoints":{display:"flex",justifyContent:"space-between","& > div":{paddingTop:"5px"}}},"& .dateTimeDisplay":{minWidth:"100px","@media screen and (max-width: 390px)":{minWidth:"auto"}},"&.multi":{paddingBottom:"12px"}},"& .cardBottomLine":{borderBottom:"solid 1px ".concat($.c.gainsboroGrey),paddingTop:"16px"},"& .shimmer":{"&:empty":{position:"relative",overflow:"hidden",width:"100%",height:"20px",borderRadius:"5px",marginTop:"5px",marginBottom:"2px",background:"#eeeeee","&::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(90deg, #eeeeee, ".concat(e.palette.action.disabledBackground,", #eeeeee)"),animation:"progress 1s ease-in-out infinite"}}},"& .horizontalStepperContainer":{paddingLeft:"132px","@media screen and (max-width: 550px)":{paddingLeft:"0%"},"& .mobileStyle":{"@media screen and (max-width: 550px)":{display:"flex",flexDirection:"column",alignItems:"normal"}},"&.singleCard":{marginTop:"24px",paddingTop:"11px",borderTop:"solid 1px ".concat($.c.gainsboroGrey)}},"& .cardPlaceholder":{height:"168px",borderRadius:"8px",marginBottom:"34px"}}}),Ln=e=>({width:e,height:"40px",borderRadius:"21px",backgroundColor:"rgba(0, 68, 112, 0.3)"}),On=e=>({nextDueItems:{padding:"48px 0 25px",...vn(e),"& #mobileAppPromoCard":{maxWidth:"940px",margin:"0 auto 40px",padding:"12px",borderRadius:"7px","& .revelLogo":{width:"78px"},"& .text":{"& span":{maxWidth:"300px"}}}},upcomingItems:{paddingBottom:"25px",...vn(e)},progressPlaceholder:{width:"140px",height:"140px",borderRadius:"50%",objectFit:"contain"},welcomePlaceholder:{marginLeft:"34px"},line1:{...Ln("239px"),marginBottom:"12px"},line2:{...Ln("461px"),marginBottom:"12px"},line3:{...Ln("220px")}});var Rn=s(93752),Dn=s(24540);const bn=e=>{let{productModel:t,onClose:s,language:n,classes:i}=e;return(0,P.jsxs)(Rn.c,{id:"mobileAppPromoCard",className:i.root,children:[(0,P.jsx)("div",{children:(0,P.jsx)(Ne.LazyLoadImage,{className:"".concat(t,"Logo"),alt:n.getText("a11y.".concat(t,".LOGO")),src:"/images/".concat(t,"_icon.png")})}),(0,P.jsxs)("div",{className:"text",children:[(0,P.jsx)(u.FormattedMessage,{id:"mobileAppPromoText",defaultMessage:n.getText("common.banner.MOBLE_PROMO_TEXT"),values:{app:n.getText("common.banner.product.".concat(t,".ANDROID"))}}),(0,P.jsxs)("div",{className:"action",children:[(0,P.jsxs)(D.c,{component:"a",id:"mobileAppPromoAppstoreLink",target:"_blank",rel:"noopener noreferrer",href:h.c.IOS_STORE_LINK,role:"link",classes:{root:i.appButtonRoot},children:[(0,P.jsx)(Ne.LazyLoadImage,{alt:"",src:"/images/apple-logo.svg"}),(0,P.jsx)("span",{children:"iPhone"})]}),(0,P.jsxs)(D.c,{component:"a",id:"mobileAppPromoPlayStoreLink",target:"_blank",rel:"noopener noreferrer",href:h.c.PLAY_STORE_LINK,role:"link",classes:{root:i.appButtonRoot},children:[(0,P.jsx)(Ne.LazyLoadImage,{alt:"",src:"/images/android-logo.svg"}),(0,P.jsx)("span",{children:"Android"})]})]})]}),(0,P.jsx)(Dn.c,{id:"mobileAppPromoCancel",label:n.getText("common.CLOSE"),onClick:s,"aria-label":n.getText("common.CLOSE")})]})};bn.defaultProps={onClose:()=>{}};const wn=(0,N.c)((e=>({root:{borderRadius:4,boxShadow:"0 2px 4px 0 ".concat(e.colors.paperShadow)},appButtonRoot:{fontSize:"inherit",padding:"inherit"}})))(bn);var Mn;let Un=(0,o.uU)("course","promo","assignments","language")(Mn=(0,o.QT)(Mn=class extends n.Component{constructor(){super(),this.getEmptyMsg=e=>e.getText("emptyMsg.UPCOMING"),this.handleReload=()=>{this.props.assignments.fetch(this.props.courseId,M.STATUS_UPCOMING)},this.assignmentsToRender=e=>{const{courseId:t}=this.props,s=this.props.assignments.getOrderedAssignments(e).map(((e,s)=>{let n="";if(e.length>1)n=(0,P.jsx)(Sn,{fadeSequence:s,assignments:e,courseId:t},s);else{const i=e[0];n=(0,P.jsx)(gn,{fadeSequence:s,id:i.id,courseId:t,assignment:i,titles:m.Utilities.textFromContent(i.title),courseType:d.default.course.isSumatraCourse,sourcePath:this.props.sourcePath},s)}return n}));return s},this.renderEmptyStateMessage=(e,t)=>(0,P.jsx)(Pn.c,{courseId:this.props.courseId,history:this.props.history,statusCode:t,type:e,reload:this.handleReload}),this.getAssignmentState=(e,t,s,n)=>{let i=null;const a=e.assignments&&0===e.assignments.length||!t.length&&!s.length&&!n.length&&!e.getCompletedAndLateAssignments().length,o=!t.length&&!s.length&&!n.length&&e.getCompletedAndLateAssignments().length;return e.isError?i=this.renderEmptyStateMessage(M.ASSIGNMENT_EMPTY_STATE,e.errorCode):e.loading?i=(0,P.jsx)(m.Progress,{style:this.props.theme.progress.material.style}):a?i=this.renderEmptyStateMessage(M.ASSIGNMENT_EMPTY_STATE):o&&(i=this.renderEmptyStateMessage(M.IMMEDIATE_ASSIGNMENT_EMPTY_STATE)),i},this.renderNextDueAssignment=(e,t,s,n)=>{const{courseId:i}=this.props;let a;if(e.length){a=e.find((e=>e.status!==M.STATUS_LATE))||e[0]}else s.length&&(a=s[0]);if(a){const e=(0,P.jsx)(Cn,{id:a.id,assignment:a,courseId:i,sourcePath:this.props.sourcePath,totalAssignments:t||s.length,isOnlyPastDueAssignments:n});f().publish(M.HEADER_HIGHLIGHTS,{data:e})}},this.renderShimmer=()=>{const{classes:e}=this.props,t=(0,P.jsx)("div",{className:"highlightsContainer",children:(0,P.jsxs)("div",{className:"nextDueAssignment",children:[(0,P.jsx)("div",{className:"".concat(e.progressPlaceholder," shimmerBlue step3")}),(0,P.jsxs)("div",{className:"".concat(e.welcomePlaceholder),children:[(0,P.jsx)("div",{className:"".concat(e.line1," shimmerBlue")}),(0,P.jsx)("div",{className:"".concat(e.line2," shimmerBlue step1")}),(0,P.jsx)("div",{className:"".concat(e.line3," shimmerBlue step2")})]})]})});return f().publish(M.HEADER_HIGHLIGHTS,{data:t}),(0,P.jsx)("div",{className:"page assignmentsPage",children:(0,P.jsx)("div",{className:"".concat(e.nextDueItems),children:(0,P.jsxs)("div",{className:"paperContainer",children:[(0,P.jsx)("div",{className:"dueNextTitle placeholder shimmerGrey step4"}),(0,P.jsx)("div",{className:"cardPlaceholder shimmerGrey step4"}),(0,P.jsx)("div",{className:"dueNextTitle placeholder shimmerGrey step5"}),(0,P.jsx)("div",{className:"cardPlaceholder shimmerGrey step5"}),(0,P.jsx)("div",{className:"cardPlaceholder shimmerGrey step5"})]})})})},this.handlePastDueClick=e=>{this.setState({switchToPastDue:e}),e&&this.props.assignments.fetch(this.props.courseId,M.STATUS_DUE)},this.isPastDueAssignment=(e,t,s)=>e||!t.length&&!s.length,this.isUpcomingAssignment=(e,t)=>!e&&t.length,this.isImmediateAssignment=(e,t)=>!e&&t.length,this.isOnlyPastDueAssignments=(e,t,s)=>!e.length&&!t.length&&s.length,this.state={switchToPastDue:!1},this.showAnimation=!1}UNSAFE_componentWillMount(){this.props.assignments.fetch(this.props.courseId,M.STATUS_UPCOMING)}componentDidMount(){this.showAnimation=!0,Pt.c.clearAssignmentAttributes()}render(){const{assignments:e,promo:t,language:s,classes:n}=this.props,{switchToPastDue:i}=this.state;document.title=Nn.c.setPageTitle(s.getText("tabs.ASSIGNMENTS"));const a=e.getPastDueAssignments();let o=e.getUpcomingAssignment();const r=o.length,l=o.length?e.getNextDueItems(o):[];o=o.filter((e=>!e.isImmediate));const c=this.isOnlyPastDueAssignments(o,l,a);c&&this.props.assignments.fetch(this.props.courseId,M.STATUS_DUE);const d=this.getAssignmentState(e,o,l,a);return d?e.loading?this.renderShimmer():(0,P.jsx)("div",{className:"page assignmentsPage",children:d}):(this.renderNextDueAssignment(l,r,a,c),(0,P.jsxs)("div",{className:"page assignmentsPage ".concat(this.props.course.isStudentView()?"":"preview"),children:[this.isImmediateAssignment(i,l)?(0,P.jsxs)("div",{className:n.nextDueItems,children:[t.isDesktopMobilePromoShown&&(0,P.jsx)(wn,{productModel:h.c.PRODUCT_MODEL,language:s,onClose:t.dismissMobilePromo}),(0,P.jsxs)("div",{className:"paperContainer",children:[(0,P.jsxs)("div",{className:"dueNextTitle",children:[(0,P.jsx)(L.c,{variant:"h3",className:"dueNext",children:s.getText("screens.assignments.DUE_NEXT")}),ae.c.conditionalArg(a.length,(0,P.jsx)(xn,{count:a.length,handlePastDueClick:this.handlePastDueClick}),null)]}),this.assignmentsToRender(l,!0)]})]}):null,this.isUpcomingAssignment(i,o)?(0,P.jsx)("div",{className:n.upcomingItems,children:(0,P.jsxs)("div",{className:"paperContainer",children:[(0,P.jsxs)("div",{className:"upcomingTitle",children:[(0,P.jsx)(L.c,{variant:"h3",className:"upcoming",children:s.getText("screens.assignments.UPCOMING")}),ae.c.conditionalArg(a.length&&!l.length,(0,P.jsx)(xn,{count:a.length,handlePastDueClick:this.handlePastDueClick}),null)]}),this.assignmentsToRender(o,!0)]})}):null,this.isPastDueAssignment(i,o,l)?(0,P.jsx)(yn,{assignmentsToRender:this.assignmentsToRender(a),handlePastDueClick:this.handlePastDueClick,isShowLink:!c,classes:n}):null]}))}})||Mn)||Mn;const kn=(0,N.c)(On)((0,le.c)((0,g.Ak)(Un)));var jn;let Hn=(0,o.uU)("assignments","language")(jn=(0,o.QT)(jn=class extends n.Component{constructor(e){super(e),this.setDeeplinkInstructorView=e=>{e&&!d.default.course.isStudent&&d.default.course.setDeeplinkInstructorView()},this.fetchAssignments=()=>{if(this.props.assignments.isSLPListFetched){const e=this.getAssignment(this.props.id);e&&e.isAssetFetched?this.handleRedirection(this.props.id):this.props.assignments.fetch(this.props.courseId,M.ASSIGNMENT_ID,!0,this.props.id)}else this.props.assignments.fetchForSLP(this.props.courseId)},this.assignmentListFetchedCallback=e=>{e&&e.assignmentId?e.assignmentId===this.props.id&&(d.default.course.isGLP||this.getAssignment(this.props.id)?this.handleRedirection(e.assignmentId):this.errorHandle(!0)):this.props.assignments.fetch(this.props.courseId,M.ASSIGNMENT_ID,!0,this.props.id)},this.handleRedirection=e=>{const t=this.getAssignment(e);let s=this.props.sourcePath;if(t){const e=t.getAssignmentDetailPage();let n="/courses/".concat(this.props.courseId,"/assignments/").concat(this.props.id,"/pages/").concat(e,"?");if(Be.c.isDeepLink()){const i={courseSectionId:this.props.courseId,learningModuleId:this.props.id,assignableUnitId:e};Be.c.pushTelemetryEvent(i),n=d.default.course.isStudent?"".concat(n).concat(M.DEEPLINK_VIEW_QUERY_PARAM,"=true&"):"".concat(n).concat(M.INSTRUCTOR_VIEW_QUERY_PARAM,"=true&").concat(M.DEEPLINK_VIEW_QUERY_PARAM,"=true&"),s=t.state===M.STATUS_PAST?M.SCORES:s}this.props.history.replace("".concat(n).concat(M.SOURCE,"=").concat(s))}},this.getAssignment=e=>this.props.assignments.assignments.find((t=>t.id===e)),this.errorHandle=e=>{if(Be.c.isDeepLink()&&e){const e={courseSectionId:this.props.courseId,learningModuleId:this.props.id,assignableUnitId:this.props.language.getText("deepLink.ASSIGNABLEUNITID_DOES_NOT_EXIST")},t=[this.intl.formatMessage({id:"deepLink.ASSIGNMENT_DOES_NOT_EXIST",defaultMessage:this.props.language.getText("deepLink.ASSIGNMENT_DOES_NOT_EXIST")},{courseId:this.props.courseId,assignmentId:this.props.id})];Be.c.pushTelemetryEvent(e,!1,t)}this.setState({error:e})},this.state={error:!1},this.intl=e.language.getIntl()}UNSAFE_componentWillMount(){const e=Be.c.isDeepLink();this.setDeeplinkInstructorView(e),Fe.c.enabled?(this.fetchAssignments(),this.assignmentSubscription=f().on(M.ASSIGNMENT_LIST_FETCHED,(e=>{this.assignmentListFetchedCallback(e)})),this.assignmentErrorSubscription=f().on(M.ASSIGNMENT_LIST_FETCHED_ERROR,(e=>{let{error:t}=e;this.errorHandle(t)}))):this.props.assignments.isListFetched?(this.assignmentAssetSubscription=f().on(M.ASSIGNMENT_ASSET_FETCHED,(e=>{e.assignmentId===this.props.id&&(this.props.assignments.fetchStatus(this.props.id,this.props.courseId),this.handleRedirection(e.assignmentId))})),this.props.assignments.fetchAsset(this.props.id,this.props.courseId)):(this.props.assignments.fetch(this.props.courseId,M.ASSIGNMENT_ID,!0,this.props.id),this.assignmentErrorSubscription=f().on(M.ASSIGNMENT_LIST_FETCHED_ERROR,(e=>{let{error:t}=e;this.errorHandle(t)})),this.assignmentSubscription=f().on(M.ASSIGNMENT_LIST_FETCHED,(()=>{this.getAssignment(this.props.id)||this.errorHandle(!0),this.assignmentAssetSubscription=f().on(M.ASSIGNMENT_ASSET_FETCHED,(e=>{e.assignmentId===this.props.id&&(this.props.assignments.fetchStatus(this.props.id,this.props.courseId),this.handleRedirection(e.assignmentId))})),this.props.assignments.fetchAsset(this.props.id,this.props.courseId)})))}componentWillUnmount(){this.assignmentAssetSubscription&&this.assignmentAssetSubscription(),this.assignmentSubscription&&this.assignmentSubscription(),this.assignmentErrorSubscription&&this.assignmentErrorSubscription()}render(){const{theme:e,language:t}=this.props,{error:s}=this.state;return s?(0,P.jsx)(v,{language:t,prefix:"errors.general"}):(0,P.jsx)(m.Progress,{style:e.progress.material.style})}})||jn)||jn;const Bn=(0,le.c)((0,g.Ak)(Hn));class Fn{constructor(){this.type="",De.register(this)}getType(){return this.type}render(){return null}}const Gn=(0,n.lazy)((()=>Promise.all([s.e(524),s.e(56),s.e(27),s.e(460),s.e(344),s.e(650),s.e(176),s.e(956),s.e(64),s.e(336),s.e(456)]).then(s.bind(s,96812)))),Yn=(0,n.lazy)((()=>Promise.all([s.e(524),s.e(56),s.e(27),s.e(460),s.e(344),s.e(650),s.e(176),s.e(956),s.e(936),s.e(604)]).then(s.bind(s,40724)))),Vn=(0,n.lazy)((()=>s.e(524).then(s.bind(s,47584)))),Wn=(0,n.lazy)((()=>s.e(524).then(s.bind(s,484)))),zn=(0,n.lazy)((()=>Promise.all([s.e(524),s.e(56),s.e(27),s.e(460),s.e(344),s.e(650),s.e(176),s.e(956),s.e(64),s.e(500)]).then(s.bind(s,42616)))),Qn=(0,n.lazy)((()=>Promise.all([s.e(524),s.e(56),s.e(27),s.e(460),s.e(176),s.e(228)]).then(s.bind(s,61988)))),Kn=(0,n.lazy)((()=>s.e(524).then(s.bind(s,82584)))),qn=(0,n.lazy)((()=>Promise.all([s.e(524),s.e(56)]).then(s.bind(s,85996))));class Xn extends Fn{getType(){return"Route"}sendPostMessage(e,t){const s={action:e,...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},itemId:""},n=(new Date).getTime(),i={messageId:n,timestamp:n,type:t,source:"ise",data:s};if(!ae.c.isInIframe())return;window.parent.postMessage(JSON.stringify(i),"*")}redirectToLastLocation(e){const{location:t}=e;return Fe.c.enabled&&t&&t.search&&be.c.isRedirectToViewer(t.search)}render(){return(0,P.jsxs)(n.Suspense,{fallback:(0,P.jsx)(m.Progress,{}),children:[(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/dashboard",render:e=>Fe.c.enabled?(0,P.jsx)(qn,{courseId:e.match.params.courseId}):(0,P.jsx)(g.YJ,{to:{pathname:"/courses/".concat(e.match.params.courseId,"/assignments")}})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/assignments",render:e=>Fe.c.enabled&&!this.redirectToLastLocation(e)?(0,P.jsx)(g.YJ,{to:{pathname:"/courses/".concat(e.match.params.courseId,"/dashboard")}}):(0,P.jsx)(kn,{id:e.match.params.assignmentId,courseId:e.match.params.courseId,sourcePath:M.ASSIGNMENTS})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/assignments/:assignmentId/(from)?/:from?",render:e=>(0,P.jsx)(Bn,{id:e.match.params.assignmentId,courseId:e.match.params.courseId,sourcePath:M.ASSIGNMENTS})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/pages/:pageId?",render:e=>(0,P.jsx)(Gn,{sendPostMessage:this.sendPostMessage,courseId:e.match.params.courseId,pageId:e.match.params.pageId})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/assignments/:assignmentId/pages/:pageId?",render:e=>(0,P.jsx)(Gn,{sendPostMessage:this.sendPostMessage,courseId:e.match.params.courseId,assignmentId:e.match.params.assignmentId,pageId:e.match.params.pageId})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/assignments/:assignmentId/pages/:pageId/items/:assessmentItemId?",render:e=>(0,P.jsx)(Gn,{sendPostMessage:this.sendPostMessage,courseId:e.match.params.courseId,assignmentId:e.match.params.assignmentId,pageId:e.match.params.pageId,assessmentItemId:e.match.params.assessmentItemId})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/assessments/:assessmentId/activities/:activityId",render:e=>(0,P.jsx)(Qn,{sendPostMessage:this.sendPostMessage,courseId:e.match.params.courseId,assignmentId:e.match.params.assignmentId,assessmentId:e.match.params.assessmentId,activityId:e.match.params.activityId})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/pages/:pageId/items/:assessmentItemId",render:e=>(0,P.jsx)(Gn,{sendPostMessage:this.sendPostMessage,courseId:e.match.params.courseId,assignmentId:e.match.params.assignmentId,pageId:e.match.params.pageId,assessmentId:e.match.params.assessmentId,assessmentItemId:e.match.params.assessmentItemId})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/tdxassessments/:assessmentId/activities/:activityId/startQuestion/:startQuestion",render:e=>(0,P.jsx)(Kn,{sendPostMessage:this.sendPostMessage,courseId:e.match.params.courseId,assignmentId:e.match.params.assignmentId,assessmentId:e.match.params.assessmentId,activityId:e.match.params.activityId,startQuestion:e.match.params.startQuestion})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/contents",render:e=>Fe.c.enabled?(0,P.jsx)(g.YJ,{to:{pathname:"/courses/".concat(e.match.params.courseId,"/dashboard")}}):(0,P.jsx)(Vn,{courseId:e.match.params.courseId})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/materials",render:e=>(0,P.jsx)(Vn,{courseId:e.match.params.courseId})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/notes",render:e=>(0,P.jsx)(Wn,{courseId:e.match.params.courseId})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/scores",render:e=>(0,P.jsx)(zn,{courseId:e.match.params.courseId,sourcePath:M.SCORES})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/scores/:assignmentId",render:e=>(0,P.jsx)(Bn,{id:e.match.params.assignmentId,courseId:e.match.params.courseId,sourcePath:M.SCORES})}),(0,P.jsx)(g.kX,{exact:!0,path:"/courses/:courseId/study/",render:e=>(0,P.jsx)(Yn,{courseId:e.match.params.courseId})})]})}}if("revel"===h.c.PRODUCT_MODEL)try{new Xn}catch(ni){console.log("Error::",ni)}const Zn={key:h.c.LD_ANONYMOUS_USER_ID,anonymous:!0},Jn={hash:h.c.LD_ANONYMOUS_HASH},$n=r.ii(h.c.LD_CLIENT_SIDE_ID,Zn,Jn);function ei(){p.c.init();const e={gtmId:h.c.GTM_CONTAINER_ID,auth:h.c.GTM_AUTH,preview:h.c.GTM_PREVIEW};c().initialize(e);const t=(0,P.jsx)(a.kn,{children:(0,P.jsx)(o.C_,{...d.default,children:(0,P.jsx)(ot,{})})});h.c.INSTALL_APPCUES&&yt.init(),h.c.NEWRELIC_ON&&Pt.c.init(),(window.dataLayer||[]).push(At.getBrowserAndDeviceDetails()),(new Ct).start(),h.c.TELEMETRY_ON&&(new It).start(),J.c.init($n),J.c.isZoominEnabled()&&J.c.loadZoominScript(),(0,i.render)(t,document.getElementById("root"))}const ti=e=>e.variation(h.c.LD_ENABLE_DOWNTIME_MAINTENANCE,!1),si=()=>{document.title=d.default.language.getText("errors.maintenance.pageTitle"),(0,i.render)((0,P.jsx)(Ue,{language:d.default.language}),document.getElementById("root"))};$n.on("ready",(()=>{ti($n)?si():ei()})),$n.on("change",(()=>{ti($n)?si():window.location.reload()}))},13068:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(584);class i{constructor(e){this.sessionHandlerIframe=()=>{(this.iframeContainer===n.IFRAME_CONTAINER.TDX&&!this.assessmentContext.isClosing||this.iframeContainer===n.IFRAME_CONTAINER.ASSESSMENT&&this.assessmentContext.state.isLtiOpen||this.iframeContainer===n.IFRAME_CONTAINER.QUIZ)&&this.piSession.recordUserActivity()},this.removeSessionHandlerIframe=()=>{this.piSession.off(this.piSession.SessionTimingOutEvent,this.sessionHandlerIframe),this.piSession.setOptions({useDefaultIdleTimoutWarningPopup:!0})},this.initsessionHandlerIframe=e=>{this.iframeContainer=e,this.piSession.on(this.piSession.SessionTimingOutEvent,this.sessionHandlerIframe),this.piSession.setOptions({useDefaultIdleTimoutWarningPopup:!1})},this.handleReload=()=>{const{props:e}=this.assessmentContext;e.assessmentStatusStore.fetch(this.assessmentContext.context.learningContext.contextId,e.assessmentId,!1,e.usageType===n.TYPE_LEARNINGTOOL,e.controlledAccess,e.assignmentId,!0)},this.isInstructorEditing=()=>{const{course:e,assessmentStatusStore:t}=this.assessmentContext.props;return e.platform===n.COURSE_TYPE_GLP&&(t.assessmentType===n.LT||t.assessmentType===n.LA)&&t.locked},this.getAssignableUnits=(e,t)=>{let s=e;return e&&!e.assetsShowPenaltyMsg&&e.children&&e.children.forEach((n=>{const i=e.parseChildAsset(n).find((e=>e.child&&e.child.id===t.id)),a=i&&i.child;a&&(a.assetShowPenaltyMsg||a.extendedDueDate||a.acceptedTillDate)&&(s=a)})),s},this.isLT=()=>{const{assessmentStatusStore:e,course:t}=this.assessmentContext.props,s=e.usageType.toLowerCase();return t.isGLP?n.GLP_LEARNING_TOOLS.find((e=>e===s)):n.ILP_LEARNING_TOOLS.find((e=>e===s))},this.getLtiUri=(e,t,s)=>{if(this.isLT()){const i=e.indexOf("?")>-1?"&":"?",a="".concat(e).concat(i).concat(n.ACTOR_PARAM,"=").concat(t);return s?"".concat(a,"&").concat(n.CUSTOM_MODE_PARAM,"=").concat(n.STUDENT_PREVIEW):a}return e},this.assessmentContext=e,this.piSession=window.piSession,this.iframeContainer=null}}},61988:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var n=s(99584),i=s(66429),a=s(40208),o=s.n(a),r=s(32308),l=s(60200),c=s(49623),d=s(584),p=s(13068),h=s(45452),u=s(65405),g=s(97884);class m extends n.Component{constructor(){super(...arguments),this.fixFrameHeightRecursively=()=>{if(this.frame&&this.props.autosize){let e=0;const t=()=>{if(this.fixFrameHeight(),e<5){e+=1;const s=300*e;setTimeout(t,s<3e3?s:3e3)}};t()}}}shouldComponentUpdate(e){return e.src!==this.props.src?(this.frame.height="400px",this.frame.contentWindow.location.replace(e.src)):e.refreshCount!==this.props.refreshCount&&this.fixFrameHeightRecursively(),!1}fixFrameHeight(){if(!this.frame)return;const e=this.frame.height.split("px")[0];if(this.frame.contentWindow&&this.frame.contentWindow.document.body){e<this.frame.contentWindow.document.body.scrollHeight&&(this.frame.height="".concat(this.frame.contentWindow.document.body.scrollHeight+25,"px"))}}handleLoad(){this.fixFrameHeightRecursively()}render(){const{id:e,src:t,title:s,width:n,autosize:i,style:a}=this.props;return(0,g.jsx)("iframe",{ref:e=>{this.frame=e},id:e,src:t,title:s,width:n,height:i?400:"",style:a,onLoad:()=>this.handleLoad()})}}var E=s(91536),T=s(19480);s(65652);const S=e=>{let{closed:t,isLastQuiz:s,language:n,onNextQuestionClick:i,onSummaryClick:a}=e;return t?(0,g.jsx)("div",{className:"assessmentNavigation",children:s?(0,g.jsx)(E.c,{onClick:a,variant:"outlined",color:"primary",size:"medium",children:n.getText("common.SUMMARY")}):(0,g.jsx)(E.c,{onClick:i,variant:"outlined",color:"primary",size:"medium",children:n.getText("screens.assessments.NEXT_QUESTION")})}):null};S.defaultProps={onNextQuestionClick:()=>{},onSummaryClick:()=>{}};const _=(0,T.c)((e=>({btnRoot:{borderRadius:"2px",backgroundColor:e.colors.raisedButtonColor,fontWeight:"600"},label:{textTransform:"none",letterSpacing:"1px",borderRadius:"2px",backgroundColor:e.colors.raisedButtonColor,color:e.colors.primaryBackground,fontWeight:"400"}})))((0,r.uU)("language")((0,r.QT)(S)));var A=s(61272);const I=(0,r.uU)("language")((0,r.QT)((e=>{let{env:t,language:s,activityCount:n,messageCount:i,currentActivityIndex:a,courseId:o,assessmentId:r,activityId:c,assessmentStatus:d,userId:p,contentStatus:E,flowType:T,lasUrl:S,assessmentComposite:I,onPrev:C,onNext:f,onClose:x}=e;const y=A.c.conditionalArg(n>1,"".concat(a+1," / ").concat(n||1),""),N="Question ".concat(y),P=0===a;let v=0,L=0,O=!1;const R=d.activities,D=R.length===a+1;if(R&&R.length>a&&R[a]&&(L=R[a].points,v=R[a].pointsEarned,O=R[a].closed),p){const e="".concat(t.THIN_CLIENT_URL,"?courseId=").concat(o,"&env=").concat(t.NAME,"&assignmentId=").concat(r),d="&activityId=".concat(c,"&userId=").concat(p,"&las=").concat(S,"&contentStatus=").concat(E),A="&assessmentComposite=".concat(I,"&flowType=").concat(T),y="".concat(e).concat(d).concat(A,"&lbw=").concat(t.RANDOM_KEY),R=L>0?(0,g.jsx)(h.FormattedMessage,{id:"points",defaultMessage:s.getText("common.WORTH_POINTS"),values:{points:L}}):"";return(0,g.jsx)("div",{className:"survey-container",children:(0,g.jsxs)("div",{className:"survey-content",children:[(0,g.jsx)(l.Header,{title:N,isFixedHeader:!0,onClose:x,children:(0,g.jsx)(u.NavigationBar,{onMovePrev:C,onMoveNext:f,disableNavLeft:P,disableNavRight:D})}),(0,g.jsxs)("div",{className:"lightBrixWrapper",children:[(0,g.jsxs)("div",{className:"assessmentBody",children:[(0,g.jsx)("div",{className:"assessmentPoints",children:O?(0,g.jsx)(h.FormattedMessage,{id:"points",defaultMessage:s.getText("common.PLUS_POINTS"),values:{points:v}}):R}),(0,g.jsx)(m,{id:"test-brix",title:N,src:y,refreshCount:i,autosize:!0,style:{border:"0px solid #ffffff"},width:"100%"})]}),(0,g.jsx)(_,{points:v,isLastQuiz:n===a+1,closed:O,onNextQuestionClick:f,onSummaryClick:x})]})]})})}return null})));var C,f=s(17435),x=s(31640);let y=(0,r.uU)("assessmentStatusStore","user","appState","timeontask","language")(C=(0,r.QT)(C=class extends n.Component{constructor(e){super(e),this.logQuizLoad=(e,t)=>{this.props.timeontask.setInitialData(e,t),this.props.timeontask.calcTimeOnTask(d.CONTENT.TYPE.QUIZ,d.CONTENT.ACTIONS.LOAD)},this.logQuizUnLoad=()=>{this.props.timeontask.calcTimeOnTask(d.CONTENT.TYPE.QUIZ,d.CONTENT.ACTIONS.UNLOAD)},this.logQuizFeedback=e=>{this.props.timeontask.calcTimeOnTask(d.CONTENT.TYPE.QUIZ,d.CONTENT.ACTIONS.FEEDBACK,e)},this.handlePrev=()=>{const{courseId:e,assessmentId:t,assessmentStatusStore:s,history:n}=this.props,i=s.activities.findIndex((e=>e.realId===this.props.activityId));if(i>0){const a=s.activities[i-1].realId;l.EventProvider.getEventManager().dispatch({category:"PrevQuiz",action:"Click",data:{course:e,assessment:t,activity:a}}),x.c.setCustomAttributes({[d.NR_ASSESSMENT_ID]:t,[d.NR_ACTIVITY_ID]:a}),n.push("/courses/".concat(e,"/assessments/").concat(t,"/activities/").concat(a).concat(n.location.search)),this.logQuizUnLoad(),this.logQuizLoad(a,t)}},this.handleNext=()=>{const{courseId:e,assessmentId:t,assessmentStatusStore:s,history:n}=this.props,i=s.activities.findIndex((e=>e.realId===this.props.activityId));if(i<s.activities.length-1){const a=s.activities[i+1].realId;x.c.setCustomAttributes({[d.NR_ASSESSMENT_ID]:t,[d.NR_ACTIVITY_ID]:a}),n.push("/courses/".concat(e,"/assessments/").concat(t,"/activities/").concat(a)),this.logQuizUnLoad(),this.logQuizLoad(a,t),l.EventProvider.getEventManager().dispatch({category:"NextQuiz",action:"Click",data:{course:e,assessment:t,activity:a}})}},this.handleMessages=e=>{if(e.origin===window.location.origin&&"string"===typeof e.data&&0===e.data.indexOf("{")){const t=JSON.parse(e.data);if("brix"===t.type&&"feedback"===t.data.action){this.logQuizFeedback(t.data.response&&t.data.response.payload.data.timestamp),this.logQuizLoad(this.props.activityId,this.props.assessmentId);const{messageCount:e}=this.state;this.setState({messageCount:e+1}),t.data.response&&t.data.response.doScoreProcessing?this.props.assessmentStatusStore.fetch(this.props.courseId,this.props.assessmentId,!0):(this.props.assessmentStatusStore.setDirty(!0),this.props.assessmentStatusStore.incrementAttempts(this.props.activityId))}}},this.handleClose=()=>{l.EventProvider.getEventManager().dispatch({category:"Quiz-Brix",action:"close",data:this.props.match.params}),o().getItem(d.LAST_VIEWED_PAGE_KEY).then((e=>{x.c.setCustomAttributes({[d.NR_ASSESSMENT_ID]:"",[d.NR_ACTIVITY_ID]:""}),this.props.history.push(e||"/courses/".concat(this.props.courseId,"/").concat(f.c.getContentPath()))})),this.logQuizUnLoad(),this.contextPlugin.removeSessionHandlerIframe()},this.state={messageCount:0},this.contextPlugin=new p.c(this)}componentDidMount(){this.props.assessmentStatusStore.fetch(this.props.courseId,this.props.assessmentId),window.addEventListener("message",this.handleMessages),this.props.sendPostMessage("onload","quiz",this.props.match.params),this.logQuizLoad(this.props.activityId,this.props.assessmentId),this.contextPlugin.initsessionHandlerIframe(d.IFRAME_CONTAINER.QUIZ)}componentDidUpdate(){this.props.sendPostMessage("onload","quiz",this.props.match.params)}UNSAFE_componentWillMount(){window.removeEventListener("message",this.handleMessages)}componentWillUnmount(){window.removeEventListener("message",this.handleMessages),this.contextPlugin.removeSessionHandlerIframe()}render(){const{assessmentStatusStore:e,user:t,activityId:s}=this.props,n=e.activities.findIndex((e=>e.realId===s));return(0,g.jsx)(I,{env:c.c,activityCount:e.activities.length,currentActivityIndex:n,courseId:this.props.courseId,assessmentId:this.props.assessmentId,assessmentStatus:e,messageCount:this.state.messageCount,activityId:this.props.activityId,userId:t.id,contentStatus:"published",flowType:"normal",lasUrl:"".concat(c.c.LAS_API_BASE_URL,"/las-paf"),assessmentComposite:c.c.ASSESSMENT_COMPOSITE_API_BASE_URL,onClose:this.handleClose,onPrev:this.handlePrev,onNext:this.handleNext})}})||C)||C;const N=(0,i.Ak)(y)},82584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n,i=s(99584),a=s(66429),o=s(40208),r=s.n(o),l=s(32308),c=s(60200),d=s(13068),p=s(584),h=(s(65652),s(17435)),u=s(97884);let g=(0,l.uU)("tdxQuizStore","assessmentStatusStore","appState","language")(n=(0,l.QT)(n=class extends i.Component{constructor(e){super(e),this.handleMessage=e=>{let t;try{t=JSON.parse(e.data)}catch(s){return}"Close"===t["@type"]&&this.handleClose()},this.handleClose=()=>{this.isClosing||(this.props.assessmentStatusStore.fetch(this.props.courseId,this.props.assessmentId,!0),c.EventProvider.getEventManager().dispatch({category:"Quiz-Tdx",action:"close",data:this.props.match.params}),r().getItem(p.LAST_VIEWED_PAGE_KEY).then((e=>{this.props.history.push(e||"/courses/".concat(this.props.courseId,"/").concat(h.c.getContentPath()))}))),this.contextPlugin.removeSessionHandlerIframe(),this.isClosing=!0},this.iframeLoaded=()=>{if(!this.isClosing&&!this.isFrameLoaded){const e=document.getElementById("tdx-assessment-frame").contentWindow.document;e.open(),e.write(this.props.tdxQuizStore.html);const t=e.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.innerHTML=this.props.tdxQuizStore.launchScript,t.appendChild(s),e.close(),this.isFrameLoaded=!0,this.contextPlugin.initsessionHandlerIframe(p.IFRAME_CONTAINER.TDX)}},this.isClosing=!1,this.isFrameLoaded=!1,this.contextPlugin=new d.c(this)}UNSAFE_componentWillMount(){this.props.tdxQuizStore.fetch(this.props.courseId,this.props.assessmentId,this.props.startQuestion),window.addEventListener("message",this.handleMessage)}componentWillUnmount(){window.removeEventListener("message",this.handleMessage),this.contextPlugin.removeSessionHandlerIframe(),this.isClosing=!0}componentDidUpdate(){this.props.sendPostMessage("onload","quiz",this.props.match.params)}render(){const{tdxQuizStore:e,language:t}=this.props;return e.failed?(0,u.jsx)("div",{style:{padding:"50px"},children:(0,u.jsx)("h3",{children:t.getText("screens.assignments.FAILED_TO_LOAD_QUIZ")})}):e.loading||!e.html||this.isClosing?null:(0,u.jsx)("iframe",{ref:e=>{this.frame=e,this.iframeLoaded()},id:"tdx-assessment-frame",title:"Tdx Assessment",style:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0",height:"100%",width:"100%"}})}})||n)||n;const m=(0,a.Ak)(g)},6632:(e,t,s)=>{"use strict";s.d(t,{c:()=>C});var n=s(99584),i=s(32308),a=s(45452),o=s(58688),r=s(19480),l=s(93752),c=s(17604),d=s(96216),p=s(60200),h=s(19104),u=s(584),g=s(92016),m=s(61272);s(65652);const E=()=>({root:{boxShadow:"none",background:"transparent","& .scoreHeader,& .instructorHeader":{letterSpacing:"-0.17px",fontWeight:"600",paddingBottom:"10px"},"& .scoreContainer, & .instructorContainer":{letterSpacing:"0.06px"},"& .scoreContainer":{padding:"5px 0px 15px 0px"}}});var T=s(97884);const S=(0,r.c)(E)((e=>{let{pointsAdjusted:t,overrideComments:s,postDuePoints:i,scoreOverrideMessage:a,language:o,classes:r}=e;return(0,T.jsxs)(l.c,{className:r.root,children:[t&&(0,T.jsxs)(n.Fragment,{children:[(0,T.jsx)(c.c,{variant:"body2",className:"scoreHeader",children:o.getText("screens.assessments.SCORE_INFO_GRADE_TITLE_OPENED")}),(0,T.jsx)(c.c,{variant:"body2",className:"scoreContainer",children:a})]}),s&&(i||t)?(0,T.jsxs)(n.Fragment,{children:[(0,T.jsx)(c.c,{variant:"body2",className:"instructorHeader",children:o.getText("screens.instructorMessage.instructorHeader")}),(0,T.jsx)(c.c,{variant:"body2",className:"instructorContainer",children:s&&p.Utilities.textFromContent(s)})]}):null]})})),_=()=>({root:{"& .assetMsg":{"& .messagingContent":{"& span":{marginLeft:0}}}},summaryMsg:{lineHeight:"1.29",letterSpacing:"0.1px",paddingLeft:"5px"},latePenaltyLine:{display:"flex",gap:12,"&:nth-of-type(2)":{marginTop:10}},nonMultiClasses:{fontWeight:"600"},multiMessageContainer:{paddingTop:"10px"},innerTextContainer:{display:"inline-flex",flexWrap:"wrap",alignItems:"center",boxShadow:"none",background:"transparent",borderRadius:"unset","& svg":{paddingLeft:"3px",margin:"7px 5px 5px 5px"}},assessmentMessageWrapper:{paddingBottom:"20px"},paperElevation:{minHeight:"0px"}});var A;let I=(0,i.uU)("language")(A=(0,i.QT)(A=class extends n.Component{constructor(e){var t;super(e),t=this,this.messageWithDate=(e,t)=>(0,T.jsx)(a.FormattedMessage,{id:"dateDisplay",defaultMessage:this.props.language.getText(e),values:{date:(0,T.jsx)(a.FormattedDate,{value:t,day:"2-digit",month:"long",year:"numeric"}),time:(0,T.jsx)(a.FormattedTime,{value:t}),zone:g.c.getTimeZone()}}),this.handleClick=(e,t)=>{this.setState({isArrow:!t})},this.getInnerHtml=(e,t,s)=>{const{classes:n}=this.props,{isArrow:i}=this.state;return(0,T.jsxs)(l.c,{className:n.innerTextContainer,classes:{elevation1:n.paperElevation},children:[(0,T.jsx)(c.c,{variant:"body2",className:t,children:e}),i&&!s&&(0,T.jsx)(d.Icon,{name:"ChevronRight",fontSize:"small"})]})},this.getMessageComponentForSummary=(e,t,s,n,i)=>{const{classes:a,isSLP:r}=this.props,l=(0,T.jsx)("div",{className:this.props.classes.multiMessageContainer,children:(0,T.jsx)(o.MessagingComponent,{iconType:e,innerHtml:this.getInnerHtml(s||t,a.summaryMsg,i),shape:"none",fixedContainer:!0,handleClick:this.handleClick,isSLP:r})}),d=(0,T.jsx)(o.MessagingComponent,{iconType:e,iconText:n,innerHtml:this.getInnerHtml(t,"".concat(a.summaryMsg," ").concat(a.nonMultiClasses),i),message:s&&(0,T.jsx)(c.c,{variant:"body2",children:s}),popperPlacement:"bottom-start",shape:"circle",fixedContainer:!0,handleClick:this.handleClick,isSLP:r});return this.isMultiMessageIcon&&"flag"!==e?l:d},this.getMessageComponent=function(e,s,n,i,a){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const{isSLP:l}=t.props,c=l&&null!==r?r:s,d=(!l||null!==r)&&s;return(0,T.jsx)("div",{className:"assetMsg",children:t.props.isSummary?t.getMessageComponentForSummary(e,s,n,i,a):(0,T.jsx)(o.MessagingComponent,{iconType:e,type:"detail",message:m.c.conditionalArg(c!==d,d,!1),title:l&&c,isSLP:l})})},this.getMessages=(e,t,s,n)=>{const{language:i,classes:o}=this.props;return{penaltyMsg:i.getText("screens.assignments.".concat(e)),popperMessage:s?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:o.latePenaltyLine,children:[(0,T.jsx)(d.Icon,{name:"ClockOutlined"}),(0,T.jsx)(a.FormattedMessage,{id:"latePenalty",defaultMessage:i.getText("screens.assessments.".concat(e)),values:{latePenaltyPercentage:t}})]}),n>0&&(0,T.jsxs)("div",{className:o.latePenaltyLine,children:[(0,T.jsx)(d.Icon,{name:"ScoreOutlined"}),(0,T.jsx)(a.FormattedMessage,{id:"pointsAfterDue",defaultMessage:i.getText("screens.assessments.POINTS_AFTER_DUE_DATE"),values:{pointsAfterDueDate:(0,T.jsx)("b",{children:Number(Math.round(n+"e+2")+"e-2")})}})]})]}):i.getText("screens.assessments.".concat(e))}},this.getPenalty=()=>{const{child:e,assessmentStatus:t}=this.props,s=e.latePenaltyPercent||t.latePenaltyPercentage||t.latePenaltyPercentToApply,n=e.assetsShowPenaltyMsg||e.assetShowPenaltyMsg;let i={penaltyMsg:"",popperMessage:""};const a=[u.ACCEPTED_LATE_WITH_PENALTY,u.LATE_PENALTY_APPLIED,u.ACCEPTED_LATE];if(a.includes(n)){const e=a.slice(0,-1).includes(n),o=e?s:"";i=this.getMessages(n,o,e,t.partialPointsAfterDue)}return i},this.getPenaltyMessages=()=>{const e=this.getPenalty(),t=e.penaltyMsg;return t?this.getMessageComponent("clock",t,e.popperMessage):null},this.isExtendedMessage=()=>{const{child:e,isAssetLevel:t}=this.props,s=[u.STATUS_UPCOMING,u.STATUS_DUE],n=[u.STATUS_LATE,u.STATUS_COMPLETE],i=!t&&e.acceptedTillDate&&e.state&&s.includes(e.state),a=e.extendedDueDate&&e.status&&!n.includes(e.status);return i||a},this.getExtendedMessages=()=>{if(!this.props.hideExtendedMessageInAssetLevel&&this.isExtendedMessage()){const{child:e,isSLP:t}=this.props,s=this.messageWithDate(t?"screens.assignments.SLP_DUE_DATE_EXTENDED_PART_MSG":"screens.assignments.DUE_DATE_EXTENDED_PART_MSG",e.acceptedTillDate||e.extendedDueDate),n=e.instructorMessages&&e.instructorMessages.length>0?e.instructorMessages:null;return this.getMessageComponent("date",t&&null!==n?p.Utilities.textFromContent(n[0]):s,"","",!0,t?s:null)}return null},this.assignmentMessagesListUtil=()=>({isLockedAsset:(e,t)=>"module"!==e&&g.c.isFutureDate(t),instructorMessagesLength:e=>e.instructorMessages&&e.instructorMessages.length||0,isScoreOverride:(e,t,s,n)=>e&&t.isOverridden&&t.pointsAdjusted||s&&n.isOverridden&&n.pointsAdjusted,isHideInstructorMsg:(e,t,s)=>e&&(t||s),displayComponentMsg:(e,t)=>!e&&t.instructorMessages&&t.instructorMessages.length}),this.assignmentMessagesList=e=>{const{isAssetLevel:t,type:s,child:i,language:a,availabilityDate:o,isSummary:r,assessmentStatus:l,isSLP:c}=this.props,d=this.assignmentMessagesListUtil(),u=d.isLockedAsset(s,o),g=d.instructorMessagesLength(i),E=(0,T.jsx)(h.c,{instructorMessages:i.instructorMessages,language:a,isAssetLevel:t}),_=(0,T.jsx)(S,{overrideComments:l.overrideComments,pointsAdjusted:l.pointsAdjusted,postDuePoints:l.postDuePoints,scoreOverrideMessage:l.scoreOverrideMessage,language:a});this.isMultiMessageIcon=e;let A=!1;const I=this.getExtendedMessages(),C=d.isScoreOverride(t,i,r,l);return d.isHideInstructorMsg(c,I,C)&&(A=c),(0,T.jsxs)(n.Fragment,{children:[this.getPenaltyMessages(),this.getExtendedMessages(),!this.props.hideExtendedMessageInAssetLevel&&d.displayComponentMsg(A,i)?this.getMessageComponent("instructor",m.c.conditionalArg(r,a.getText("screens.assessments.INSTRUCTOR_MESSAGE"),E),m.c.conditionalArg(r,E,""),m.c.conditionalArg(g>1,null===g||void 0===g?void 0:g.toString(),"")):null,C?this.getMessageComponent("score",m.c.conditionalArg(c,g>0&&p.Utilities.textFromContent(i.instructorMessages[0]),a.getText("screens.assignments.SCORE_OVERRIDE")),m.c.conditionalArg(r,_,""),null,null,m.c.conditionalArg(c,a.getText("screens.assignments.SCORE_OVERRIDE"),null)):null,r||c||!t||!i.locked&&!u?null:this.getMessageComponent("none",this.messageWithDate("screens.assignments.AVAILABLE_ON",i.availabilityDate||o))]})},this.isMultiMessaging=()=>{const{child:e,assessmentStatus:t}=this.props;return(this.getPenalty().penaltyMsg?1:0)+(this.isExtendedMessage()?1:0)+(e.instructorMessages&&e.instructorMessages.length?1:0)+(t.isOverridden&&t.pointsAdjusted?1:0)},this.getMultiMessagingComponent=e=>{const{language:t}=this.props;return this.getMessageComponent("flag",t.getText("screens.assessments.FLAG_MESSAGE"),this.assignmentMessagesList(e))},this.state={isArrow:!0},this.isMultiMessageIcon=!1}render(){const{classes:e,isAssetLevel:t,isSummary:s,isSLP:n}=this.props,i=this.isMultiMessaging(),a=s&&i>1,o=!n&&"".concat(e.root," ").concat(!t&&e.topLevel," ").concat(i>0&&e.assessmentMessageWrapper);return(0,T.jsx)("div",{className:o,children:a?this.getMultiMessagingComponent(a):this.assignmentMessagesList()})}})||A)||A;I.defaultProps={isAssetLevel:!1,isSLP:!1,assessmentStatus:{},hideExtendedMessageInAssetLevel:!1};const C=(0,r.c)(_)((0,a.injectIntl)(I))},75680:(e,t,s)=>{"use strict";s.d(t,{c:()=>E});var n,i=s(99584),a=s(44092),o=s.n(a),r=s(76925),l=s(54299),c=s(32308),d=s(23700),p=s(584),h=s(49623),u=s(61272),g=s(97884);const m=Object.freeze(["ise-audio-icon","vega-app-bar-audio"]);let E=(0,c.uU)("materials","userLastLocation","course")(n=(0,c.QT)(n=class extends i.Component{constructor(e){var t;super(e),t=this,this.handleExpand=e=>{this.setState({expanded:e})},this.isNotAudioIcon=e=>e.currentTarget&&e.currentTarget.activeElement&&e.currentTarget.activeElement.id?-1===m.indexOf(e.currentTarget.activeElement.id):e.target&&!this.getClosestAudioIconId(e.target),this.getClosestAudioIconId=e=>{const t=e.closest("#".concat(m[0]))||e.closest("#".concat(m[1]));return t&&t.id},this.handleClickAway=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e&&t.isNotAudioIcon(e)||s)&&(t.isPlaying?t.setState((e=>({expanded:!1,show:e.show}))):(t.setState({show:!1}),window.sessionStorage.getItem(p.AUDIO_PLAYER)&&window.sessionStorage.removeItem(p.AUDIO_PLAYER)))},this.hidePlayer=()=>{this.setState({show:!1})},this.getLastPlayedAudio=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const s={},n=t.props.materials.toJSON().audioContents.length?t.props.materials.toJSON().audioContents[0]:null;if(e&&e.length){const t=e.find((e=>"audio"===e.activity));t&&(s.audioId=t.id,s.audioTitle=t.displayTitle,s.audioOffset=t.offset,s.audioIndex=t.audioIndex)}if(Object.keys(s).length){const e=t.props.materials.toJSON().audioContents.find((e=>e.id===s.audioId)),n=e?Object.assign({},e):null;if(n)return n.startTime=s.audioOffset,n}return n},this.getTocContents=()=>{const e={separateToggleIcon:!0,data:{content:this.props.materials.toJSON().tocContent},depth:h.c.AUDIO_TOC_DEPTH,childField:"children",isTocWrapperRequired:!1,clickTocHandler:()=>{}};return(0,g.jsx)(d.TableOfContentsComponent,{separateToggleIcon:e.separateToggleIcon,data:e.data,depth:e.depth,childField:e.childField,clickTocHandler:e.clickTocHandler,isTocWrapperRequired:e.isTocWrapperRequired,isAudioBook:!0,showAll:!0})},this.handleFocus=e=>{this.setAudioFocus=e},this.state={show:!1,expanded:!0},this.isPlaying=!1}UNSAFE_componentWillMount(){this.audioBookOpenSubscription=o().on(p.AUDIOBOOK_OPEN,(e=>{let{handleTab:t}=e;this.setState({show:!0},(()=>{t&&t(this.setAudioFocus)})),this.audioBookCloseSubscription=o().on(p.AUDIOBOOK_CLOSE,(e=>{let{hide:t}=e;t?this.hidePlayer():this.handleClickAway(!1,!0)}))})),this.playerOpenSubscription=o().on(l.PlaylistEvents.Open,(e=>{if(this.isPlaying=e.isPlaying,this.props.userLastLocation.setAudioData(e),u.c.isStorageSupported){const t={audioId:e.id,isPlaying:e.isPlaying};window.sessionStorage.setItem(p.AUDIO_PLAYER,JSON.stringify(t))}})),this.playerCloseSubscription=o().on(l.PlaylistEvents.Close,(()=>{this.setState({show:!1})}))}componentWillUnmount(){this.audioBookOpenSubscription&&this.audioBookOpenSubscription(),this.audioBookCloseSubscription&&this.audioBookCloseSubscription(),this.playerOpenSubscription&&this.playerOpenSubscription(),this.playerCloseSubscription&&this.playerCloseSubscription()}render(){if(this.props.materials.audioContents.length&&this.props.userLastLocation.fetched){const e=(this.props.isViewer?p.AUDIOBOOK_TOP_VIEWER:p.AUDIOBOOK_TOP)+(this.props.course.isInstructorView?58:0);return(0,g.jsx)(r.c,{onClickAway:this.handleClickAway,children:(0,g.jsx)("div",{children:(0,g.jsx)(l.PlaylistAudioPlayerComponent,{showPlayer:this.state.show,expanded:this.state.expanded,handleExpand:this.handleExpand,playlistContent:this.getTocContents(),lastPlayed:this.getLastPlayedAudio(this.props.userLastLocation.locations),top:e,handleFocus:this.handleFocus,customProgressBar:!0})})})}return null}})||n)||n},85996:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Y});var n=s(99584),i=s(32308),a=s(19480),o=s(39532),r=s(58688),l=s(44092),c=s.n(l),d=s(60200),p=s(23700),h=s(66429),u=s(97392),g=s(49623),m=s(94872),E=(s(65652),s(8704)),T=s(5704),S=s(97884);const _=(0,E.c)((e=>({header:{borderRadius:"8px",backgroundColor:e.palette.action.disabledBackground,display:"flex",padding:"16px 24px",marginBottom:"8px","& .title":{fontSize:"18px",fontWeight:"normal",lineHeight:"1.44",height:"26px",color:e.colors.graniteGrayColor,"@media screen and (max-width: 450px)":{height:"auto"}},"& .dashboard-toc-divider":{width:"1px",height:"24px",backgroundColor:e.palette.text.disabled,margin:"0 8px"}}}))),A=(0,i.uU)("language")((e=>{const t=_(),{language:s,viewChange:n,isShowAssignments:i}=e;return(0,S.jsxs)("div",{className:t.header,children:[(0,S.jsx)("div",{className:"title",children:s.getText("screens.slpTOC.COURSE_CONTENT")}),(0,S.jsx)("div",{className:"dashboard-toc-divider"}),(0,S.jsx)(T.c,{viewChange:n,isShowAssignments:i})]})}));var I=s(584),C=s(17435),f=s(92220),x=s(61272),y=s(24284);class N{constructor(e){this.continueReading=()=>{const{props:e}=this.dashboardContext,t=e.materials.toJSON();let s=t.tocContent;g.c.ENABLE_OPTIONAL_MATERIALS&&(s=t.tocContent?y.c.getOriginalToc(t):{});const n=e.userLastLocation.loaded&&e.userLastLocation.contentUrn?e.userLastLocation.contentUrn:this.getFirstPageId(s);if(d.EventProvider.getEventManager().dispatch({category:"Dashboard",action:"Continue Reading",data:{course:e.courseId}}),!C.c.redirectToViewer(e.courseId,n)){const t=e.playlistStore.pageRefId(n),s=e.userLastLocation.getLastVisitedPage(e.courseId,t,e.userLastLocation.locations);e.history.push(s)}},this.isShowAssignments=()=>{const{props:e}=this.dashboardContext,t=e.assignments.assignments;return!(0===t.length||!t.find((e=>e.state===I.STATUS_DUE||e.state===I.STATUS_UPCOMING)))},this.dashboardContext=e,this.refId=""}getFirstPageId(e){const t=e.list[0];return t&&t.href?t.urn:(this.getSlateId(t.children),this.refId||t.urn)}getSlateId(e){return e.find((e=>e.href?(this.refId=e.urn,!0):!!(e.children&&e.children.length>0)&&this.getSlateId(e.children)))}}var P=s(36484),v=s(93752),L=s(28660),O=s(17604),R=s(91536),D=s(45452),b=s(7352),w=s(81160);const M=e=>(0,S.jsxs)(w.c,{...e,width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("circle",{cx:"25",cy:"25",r:"25",fill:"white"}),(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.9971 17.2854C32.9943 17.2828 32.9915 17.2801 32.9888 17.2774C31.8917 16.2276 30.2064 16.0907 28.9557 16.8646C28.7264 16.9947 28.5098 17.1534 28.3115 17.3407L25.4331 20.0607L30.0092 24.4219L30.813 23.6499L31.9799 24.7706L30.813 25.8911L29.6461 24.7706L29.6507 24.7662L21.8469 17.3432C21.4824 16.9964 21.0538 16.7497 20.5983 16.6021C19.7392 16.3105 18.7789 16.3757 17.9657 16.7968C17.5869 16.957 17.2328 17.1865 16.9251 17.4857L11.5323 22.727C10.3112 23.9138 10.3168 25.8247 11.5448 27.005L17.0675 32.2719C17.0675 32.2719 17.073 32.2772 17.0758 32.2799C18.1729 33.3296 19.8582 33.4667 21.1088 32.6927C21.3381 32.5627 21.5547 32.4039 21.753 32.2165L24.6315 29.4966L20.0865 25.165L19.2616 25.9572L18.0947 24.8366L19.2616 23.716L19.355 23.8058L19.3664 23.7948L28.2177 32.2141C28.5823 32.5609 29.0108 32.8077 29.4663 32.9552C30.3253 33.2468 31.2856 33.1816 32.0988 32.7605C32.4776 32.6004 32.8317 32.3708 33.1395 32.0717L38.5322 26.8304C39.7533 25.6435 39.7477 23.7326 38.5197 22.5524L32.9971 17.2854Z",fill:"#05A2B1"}),(0,S.jsx)("mask",{id:"mask0_79_1055",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"10",y:"16",width:"30",height:"18",children:(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.9971 17.2854C32.9943 17.2828 32.9915 17.2801 32.9888 17.2774C31.8917 16.2276 30.2064 16.0907 28.9557 16.8646C28.7264 16.9947 28.5098 17.1534 28.3115 17.3407L25.4331 20.0607L30.0092 24.4219L30.813 23.6499L31.9799 24.7706L30.813 25.8911L29.6461 24.7706L29.6507 24.7662L21.8469 17.3432C21.4824 16.9964 21.0538 16.7497 20.5983 16.6021C19.7392 16.3105 18.7789 16.3757 17.9657 16.7968C17.5869 16.957 17.2328 17.1865 16.9251 17.4857L11.5323 22.727C10.3112 23.9138 10.3168 25.8247 11.5448 27.005L17.0675 32.2719C17.0675 32.2719 17.073 32.2772 17.0758 32.2799C18.1729 33.3296 19.8582 33.4667 21.1088 32.6927C21.3381 32.5627 21.5547 32.4039 21.753 32.2165L24.6315 29.4966L20.0865 25.165L19.2616 25.9572L18.0947 24.8366L19.2616 23.716L19.355 23.8058L19.3664 23.7948L28.2177 32.2141C28.5823 32.5609 29.0108 32.8077 29.4663 32.9552C30.3253 33.2468 31.2856 33.1816 32.0988 32.7605C32.4776 32.6004 32.8317 32.3708 33.1395 32.0717L38.5322 26.8304C39.7533 25.6435 39.7477 23.7326 38.5197 22.5524L32.9971 17.2854Z",fill:"white"})}),(0,S.jsxs)("g",{mask:"url(#mask0_79_1055)",children:[(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1334 22.7347C10.7923 23.9351 10.7218 25.9546 11.976 27.2455L16.6152 32.0206C16.7335 32.1907 16.8709 32.3522 17.0273 32.5023C17.3696 32.8309 17.7681 33.0716 18.1927 33.225C19.3596 33.6898 20.7505 33.4938 21.7325 32.6149C22.0158 32.3613 22.2425 32.0711 22.4119 31.759L24.6307 29.4966L20.2501 24.8623L19.4784 25.622L16.8325 22.8987C15.5784 21.6078 13.4745 21.5344 12.1334 22.7347Z",fill:"#046F97"}),(0,S.jsx)("rect",{width:"7.00367",height:"14.9978",rx:"3.50184",transform:"matrix(0.721451 0.692465 -0.721451 0.692465 18.9248 15.1245)",fill:"url(#paint0_linear_79_1055)"}),(0,S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.5441 21.5149L25.8607 11.1357L25.5002 20.6657L21.8842 17.314C20.5384 16.0666 18.3923 16.104 17.0908 17.3976C15.7893 18.6912 15.8252 20.7511 17.171 21.9986L25.3112 29.5436C25.4691 30.1349 25.7898 30.6812 26.2482 31.1212L27.6437 32.4606C29.0508 33.8111 31.335 33.802 32.7303 32.4402L38.774 26.5418C40.2313 25.1195 40.1257 22.8092 38.5441 21.5149Z",fill:"url(#paint1_linear_79_1055)"})]}),(0,S.jsxs)("defs",{children:[(0,S.jsxs)("linearGradient",{id:"paint0_linear_79_1055",x1:"0",y1:"0",x2:"0",y2:"14.9978",gradientUnits:"userSpaceOnUse",children:[(0,S.jsx)("stop",{stopColor:"#04729C"}),(0,S.jsx)("stop",{offset:"1",stopColor:"#046E95"})]}),(0,S.jsxs)("linearGradient",{id:"paint1_linear_79_1055",x1:"43.9981",y1:"24.8856",x2:"29.1437",y2:"10.7214",gradientUnits:"userSpaceOnUse",children:[(0,S.jsx)("stop",{stopColor:"#04AFB2"}),(0,S.jsx)("stop",{offset:"0.25381",stopColor:"#04AFB2"}),(0,S.jsx)("stop",{offset:"0.902474",stopColor:"#04729A"}),(0,S.jsx)("stop",{offset:"1",stopColor:"#047099"})]})]})]}),U=s.p+"static/media/background.0daa219ed052e57e5e28.png";var k=s(84424);const j=(0,E.c)((e=>({bannerCard:{height:100,display:"flex",flexDirection:"row",alignItems:"center",position:"relative",backgroundImage:"url(".concat(U,")"),backgroundSize:"100% 100%","@media (max-width: 450px)":{height:"auto",backgroundImage:"url(".concat(U,")"),backgroundSize:"100% 100%",flexDirection:"column"}},bannerCardContent:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",background:"none",justifyContent:"space-around","@media (max-width: 450px)":{flexWrap:"wrap"}},textTitle:{color:e.palette.primary.contrastText,fontSize:24,fontWeight:800,textAlign:"center",lineHeight:"29px"},descText:{width:275,color:e.palette.primary.contrastText,fontStyle:"normal",fontWeight:"600",lineHeight:"17px",textAlign:"center"},getAppBtn:{backgroundColor:e.palette.primary.contrastText,width:118,height:32,borderRadius:40,fontStyle:"normal",fontSize:14,fontWeight:"bold",lineHeight:"18px","&:hover":{background:"rgba(255, 255, 255, 0.8)",color:"rgba(37, 37, 37, 0.9)"}},mobileText:{color:e.palette.primary.contrastText,fontWeight:"normal",fontSize:8,lineHeight:"9px",letterSpacing:"0.01em",paddingLeft:8,marginTop:10,"@media (max-width: 450px)":{marginTop:6}},revelLogo:{width:50,height:50},logoContainer:{marginRight:26,marginTop:4,"@media (max-width: 620px)":{marginRight:0,marginTop:0},"@media (max-width: 450px)":{marginTop:10}},textContainer:{marginRight:109,"@media (max-width: 620px)":{marginRight:0},"@media (max-width: 450px)":{paddingTop:7}},buttonContainer:{marginRight:36,marginTop:18,"@media (max-width: 620px)":{marginRight:0,marginTop:0},"@media (max-width: 450px)":{paddingTop:17,paddingBottom:10}},bannerClose:{top:10,right:10,position:"absolute","& svg":{color:"#fff",width:14,height:14},"@media (max-width: 620px)":{top:1,right:1}}}))),H=(0,i.uU)("language","promo")((0,i.QT)((0,D.injectIntl)((e=>{const t=j(),{language:s,promo:i}=e,[a,o]=(0,n.useState)(!1);return(0,S.jsxs)(n.Fragment,{children:[(0,S.jsxs)(v.c,{elevation:0,component:"div",className:t.bannerCard,children:[(0,S.jsxs)(v.c,{elevation:0,component:"div",className:t.bannerCardContent,children:[(0,S.jsx)(L.c,{className:t.logoContainer,children:(0,S.jsx)(M,{className:t.revelLogo})}),(0,S.jsxs)(L.c,{className:t.textContainer,children:[(0,S.jsx)(O.c,{variant:"h3",className:t.textTitle,children:s.getText("mobileBanner.textTitle")}),(0,S.jsx)(O.c,{variant:"body2",component:"div",className:t.descText,children:s.getText("mobileBanner.descText")})]}),(0,S.jsxs)(L.c,{className:t.buttonContainer,children:[(0,S.jsx)(R.c,{className:t.getAppBtn,onClick:()=>{o(!0)},children:s.getText("mobileBanner.getAppText")}),(0,S.jsx)(O.c,{variant:"body2",component:"div",className:t.mobileText,children:s.getText("mobileBanner.platformText")})]})]}),(0,S.jsx)(L.c,{className:t.bannerClose,children:(0,S.jsx)(b.c,{onClick:()=>{i.dismissGetAppPromo()},"aria-label":s.getText("common.CLOSE")})})]}),a&&(0,S.jsx)(k.c,{onClose:()=>{o(!1)},isDialogOpen:!0})]})}))));var B;const F=e=>({width:e,borderRadius:"4px",backgroundColor:"rgba(233,233,233,1)"});let G=(0,i.uU)("assignments","course","language","materials","userLastLocation","playlistStore","user","assessmentTypes","helpData","promo")(B=(0,i.QT)(B=class extends n.Component{constructor(e){super(e),this.handleChange=e=>{this.setState({viewValue:e});const{assignments:t}=this.props;e!==I.SLP_TOC_ASSIGNMENTS||t.isSLPListFetched||this.handleAssignmentReload()},this.handleAssignmentReload=()=>{this.props.assignments.fetchForSLP(this.props.course.id),this.props.assessmentTypes.fetch(this.props.course.productId)},this.handleErrorMsg=e=>{let t="emptyMsg.SERVER_ERROR";return 404===e&&(t="emptyMsg.CONTENTS"),(0,S.jsx)("div",{className:"emptyMessage",children:(0,S.jsx)("span",{children:this.props.language.getText(t)})})},this.renderShimmer=()=>{const{classes:e}=this.props;return c().publish(I.HEADER_HIGHLIGHTS,{data:""}),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:e.dashboardOverviewPlaceholder,children:(0,S.jsx)("div",{className:e.dashboardPlaceholder,children:(0,S.jsx)("div",{className:e.line1})})}),(0,S.jsx)("div",{className:e.container,children:(0,S.jsx)(A,{viewChange:this.handleChange,isShowAssignments:this.contextPlugin.isShowAssignments()})}),(0,S.jsxs)("div",{className:e.assignmentRenderLoad,children:[(0,S.jsx)("div",{className:e.line2}),(0,S.jsx)("div",{className:e.line3}),(0,S.jsx)(o.c,{className:e.ItemDivider}),(0,S.jsx)("div",{className:e.line4}),(0,S.jsx)(o.c,{className:e.ItemDivider}),(0,S.jsx)("div",{className:e.line5})]})]})},this.vegaViewerPush=e=>{const t="/courses/".concat(this.props.courseId,"/pages/").concat(e,"?").concat(I.SOURCE,"=dashboard");this.props.history.push(t)},this.goToPageCallback=e=>{const t=e.id;if(d.EventProvider.getEventManager().dispatch({category:"Contents",action:"TOC Click",data:{page:t}}),!C.c.redirectToViewer(this.props.courseId,t)){const e=this.props.playlistStore.pageRefId(t);this.vegaViewerPush(e)}},this.renderMessages=e=>(0,S.jsx)(P.c,{assignment:e,isSLP:!0}),this.handleExpandedItems=(e,t)=>{const s=x.c.dashboardStatus.expandedIds;if(t)s.push(e.id);else{const t=s.indexOf(e.id);-1!==t&&s.splice(t,1)}},this.handleTocExpand=(e,t)=>{this.handleExpandedItems(e,t)},this.handleAssignmentTocClick=e=>{const t=e.assignmentId,s=e.id;if(d.EventProvider.getEventManager().dispatch({category:"Assignments",action:"Assignment Click",data:{page:s}}),t){const e="/courses/".concat(this.props.courseId,"/assignments/").concat(t,"/pages/").concat(s);this.props.history.push("".concat(e,"?").concat(I.SOURCE,"=","dashboard"))}},this.handleAssignmentTOCExpand=(e,t)=>{t&&!t.children&&this.props.assignments.fetch(this.props.course.id,I.ASSIGNMENT_ID,!0,t.id),this.handleExpandedItems(t,e)},this.renderAssignmentTOC=()=>{const{assignments:e,classes:t,language:s}=this.props;let n=null;return this.state.viewValue!==I.SLP_TOC_ASSIGNMENTS||(e.loading?n=(0,S.jsx)(d.Progress,{}):e.isError?n=(0,S.jsx)("div",{className:"emptyMessage",children:(0,S.jsx)(f.c,{language:s,reload:this.handleAssignmentReload})}):e.isSLPListFetched&&(n=(0,S.jsx)("div",{className:t.assignmentTOC,children:(0,S.jsx)(r.AssignmentTOCComponent,{assignmentList:e.assignments,onClickHandler:this.handleAssignmentTocClick,onTOCExpand:this.handleAssignmentTOCExpand,expandDetails:x.c.dashboardStatus.expandedIds,showMessages:this.renderMessages,isAssetListFetched:e.isAssetFetched,isAssetListFetchError:e.isAssetFetchError})}))),n},this.getWhereYouLeftOff=()=>{const{userLastLocation:e,language:t,materials:s}=this.props,n={},i={data:s.toJSON().tocContent.list},a=e.locations&&e.lastActivity,o=e.locations&&e.locations.find((e=>e.activity===I.ACTIVITY_READ||e.activity===I.ACTIVITY_ASSIGNMENT)),r=e.loaded&&a&&o,l=r?o.displayTitle:i.data[0].title;return n.title=d.Utilities.textFromContent(l),n.titleText=l,n.btnText=r?t.getText("screens.schedule.CONTINUE_READING"):t.getText("screens.schedule.START_READING"),n.text=t.getText("screens.schedule.WHERE_YOU_LEFT_OFF"),n.loaded=r,n},this.state={viewValue:x.c.dashboardStatus.courseContentView},this.contextPlugin=new N(this)}UNSAFE_componentWillMount(){this.handleAssignmentReload()}componentDidMount(){this.props.promo.fetchGetAppPromo(),c().on(I.ASSIGNMENT_LIST_FETCHED,(()=>{this.contextPlugin.isShowAssignments()||(x.c.dashboardStatus.courseContentView=I.SLP_TOC_VIEW_CHAPTERS,this.setState({viewValue:x.c.dashboardStatus.courseContentView})),0===this.props.assignments.assignments.length&&this.props.helpData.setHelpEmptyState(!0)}))}UNSAFE_componentWillReceiveProps(e){e.assignments.isSLPListFetched&&0===e.assignments.assignments.length&&this.props.helpData.setHelpEmptyState(!0)}render(){const{course:e,materials:t,language:s,classes:i,user:a,flags:o,promo:l}=this.props;if(document.title=m.c.setPageTitle(s.getText("tabs.DASHBOARD")),t.isError)return this.handleErrorMsg(t.errorCode);if(!t.isTocLoaded)return this.renderShimmer();c().publish(I.HEADER_HIGHLIGHTS,{data:null});const d={data:t.toJSON().tocContent.list,childField:"children",clickTocHandler:this.goToPageCallback,handleTocExpand:this.handleTocExpand},h=g.c.ENABLE_LAST_LEFT_OFF?{whereYouLeftOff:this.getWhereYouLeftOff(),continueReading:this.contextPlugin.continueReading}:{};return(0,S.jsxs)(n.Fragment,{children:[(0,S.jsx)("div",{className:i.welcomeHeader,children:(0,S.jsx)(p.MaterialsOverviewComponent,{viewTitle:this.viewTitle,courseData:e,userName:x.c.capitalize(a.name),cardHeader:g.c.CARD_HEADER,...h,isSLP:!0})}),!o.hideMobileBannerRevel5416&&!l.getAppPromoDismissed&&(0,S.jsx)("div",{className:i.banner,children:(0,S.jsx)(H,{})}),(0,S.jsxs)("div",{className:i.container,children:[(0,S.jsx)(A,{viewChange:this.handleChange,isShowAssignments:this.contextPlugin.isShowAssignments()}),this.renderAssignmentTOC(),this.state.viewValue===I.SLP_TOC_VIEW_CHAPTERS&&t.isTocLoaded?(0,S.jsx)("div",{className:i.chapterTOC,children:(0,S.jsx)(r.ChapterListComponent,{data:d.data,childField:d.childField,clickTocHandler:d.clickTocHandler,handleTocExpand:d.handleTocExpand,expandDetails:x.c.dashboardStatus.expandedIds})}):(0,S.jsx)(n.Fragment,{})]})]})}})||B)||B;const Y=(0,u.withLDConsumer)()((0,a.c)((()=>({container:{maxWidth:"744px",margin:"0 auto",padding:"32px 0 0 0","@media screen and (max-width: 450px)":{padding:"32px 0 55px 0"}},assignmentTOC:{maxWidth:"728px",margin:"32px auto"},assignmentRenderLoad:{maxWidth:"694px",margin:"32px auto"},chapterTOC:{paddingBottom:"100px",maxWidth:"728px",margin:"0 0 0 8px"},dashboardOverviewPlaceholder:{maxWidth:"744px",maxHeight:"172px",borderRadius:"8px",display:"flex",margin:"0 auto",position:"relative",marginTop:"-63px",backgroundColor:"rgba(255,255,255,1)"},dashboardPlaceholder:{Width:"744px",margin:"70px auto",height:"172px",borderRadius:"8px"},welcomeHeader:{position:"relative",marginTop:"-63px"},line1:{width:"696px",marginBottom:"12px",height:"124px",position:"relative",marginTop:"-47px",borderRadius:"8px",background:"rgba(245,245,245,1)","-webkit-animation":"fadeinout 1.2s linear infinite",animation:"fadeinout 1.2s linear infinite"},line2:{...F("67px"),height:"21px",opacity:"0.04","-webkit-animation":"fadeinout 1.2s linear infinite",animation:"fadeinout 1.2s linear infinite"},line3:{...F("696px"),height:"48px",marginTop:"16px",opacity:"0.03","-webkit-animation":"fadeinout 1.2s linear infinite",animation:"fadeinout 1.2s linear infinite"},line4:{...F("696px"),height:"48px",marginTop:"16px",opacity:"0.02","-webkit-animation":"fadeinout 1.2s linear infinite",animation:"fadeinout 1.2s linear infinite"},line5:{...F("696px"),height:"48px",marginTop:"16px",opacity:"0.01","-webkit-animation":"fadeinout 1.2s linear infinite",animation:"fadeinout 1.2s linear infinite"},ItemDivider:{opacity:"0.75",background:"rgba(217,217,217,1)","-webkit-animation":"fadeinout 1.2s linear infinite",animation:"fadeinout 1.2s linear infinite"},banner:{margin:"0 auto",maxWidth:745,marginTop:20}})))((0,h.Ak)(n.memo(G))))},5704:(e,t,s)=>{"use strict";s.d(t,{c:()=>I});var n=s(99584),i=s(32308),a=s(8704),o=s(42400),r=s(27688),l=s(67436),c=s(17604),d=s(45452),p=s(98312),h=s(81160),u=s(97884);const g=()=>(0,u.jsx)(h.c,{width:"18",height:"19",viewBox:"0 0 18 12",children:(0,u.jsx)("path",{fill:"#6A7070",fillRule:"evenodd",d:"M6.707 14.194l-2.455-2.618c-.35-.374-.333-.961.04-1.313.371-.351.957-.334 1.307.04l1.69 1.8 5.027-7.207c.293-.42.87-.522 1.29-.228.418.294.52.873.227 1.293l-5.68 8.143c-.294.42-.87.522-1.29.228-.058-.041-.11-.088-.156-.138z"})});s(65652);var m=s(584),E=s(61272);const T=e=>({fontSize:e.typography.fontSize,fontWeight:"600",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.71",letterSpacing:"normal",color:e.palette.text.primary,paddingTop:"0px",paddingBottom:"0px","&:focus":{backgroundColor:"transparent"},"&.focus-visible:after":{top:"0px",left:"-4px",width:"100%",border:"2px solid ".concat(e.colors.blueOutlineColor),height:"100%",content:'""',position:"absolute",boxSizing:"border-box",borderRadius:"4px"}}),S={border:0,"&:hover":{backgroundColor:"transparent"}},_=(0,a.c)((e=>({content:{display:"flex","& .label":{fontSize:e.typography.fontSize,fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.71",letterSpacing:"normal",color:e.colors.graniteGrayColor,marginRight:"6px"}},optionSpace:{marginRight:"22px"},viewSelectClosed:T(e),viewSelectOpened:{...T(e),color:e.palette.primary.main},menuOption:{fontSize:e.typography.fontSize,lineHeight:"1.29",letterSpacing:"normal",color:e.palette.text.primary},menuList:{width:"220px",borderRadius:"8px",boxShadow:"0 6px 26px -2px rgba(0, 0, 0, 0.05), 0 4px 16px -2px rgba(0, 0, 0, 0.08)"},selectIcon:{fontSize:"25px"},selectIconOpen:{color:e.palette.primary.main},menuItem:{border:0,"&:hover":{backgroundColor:"transparent"}},menuItemFirst:{...S,paddingBottom:"4px"},menuItemNext:{...S,paddingTop:"4px"},menuItemSelected:{backgroundColor:"transparent !important","&:hover":{backgroundColor:"transparent"}},listItemParent:{padding:"8px 0"},popoverRoot:{marginTop:0},popoverPaper:{marginTop:"5px"},allChaptersText:{fontSize:e.typography.fontSize,fontWeight:"600",lineHeight:"1.71",color:e.palette.text.primary},viewRoot:{paddingLeft:2,"&:focus":{outline:"2px solid #1977D4"}}}))),A=e=>{const t=_(),{language:s,viewChange:i,isShowAssignments:a}=e,[h,T]=(0,n.useState)(E.c.dashboardStatus.courseContentView),[S,A]=(0,n.useState)(E.c.dashboardStatus.courseContentView),[I,C]=(0,n.useState)(!1),f=()=>{C(!I)};return(0,u.jsxs)("div",{className:t.content,children:[(0,u.jsx)("div",{className:"label",children:"View"}),a?(0,u.jsx)(r.c,{className:t.formControl,children:(0,u.jsx)(l.c,{value:h,disableUnderline:!0,onChange:e=>{const t=e.target.value;T(t),A(t),i(t),E.c.dashboardStatus.courseContentView=t,E.c.dashboardStatus.expandedIds=[]},SelectDisplayProps:{"aria-expanded":I},MenuProps:{MenuListProps:{"aria-expanded":I},classes:{paper:t.menuList,list:t.listItemParent},PopoverClasses:{root:t.popoverRoot,paper:t.popoverPaper},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},renderValue:()=>S,onOpen:f,onClose:f,classes:{root:t.viewRoot,select:I?t.viewSelectOpened:t.viewSelectClosed,icon:t.selectIcon,iconOpen:t.selectIconOpen},IconComponent:p.c,children:m.SLP_TOC_VIEW_BY.map(((e,n)=>(0,u.jsx)(o.c,{classes:{root:0===n?t.menuItemFirst:t.menuItemNext,selected:t.menuItemSelected},value:e.value,selected:!0,disableRipple:!0,children:(0,u.jsxs)("div",{className:t.menuOption,children:[S===e.value?(0,u.jsx)(g,{}):(0,u.jsx)("span",{className:t.optionSpace})," ",s.getText("screens.slpTOC.".concat(e.label))]})},e.value)))})}):(0,u.jsx)("div",{children:(0,u.jsx)(c.c,{variant:"body2",inline:!0,className:t.allChaptersText,children:(0,u.jsx)(d.FormattedMessage,{id:"allChaptersText",defaultMessage:s.getText("screens.slpTOC.ALL_CHAPTERS")})})})]})};A.defaultProps={isShowAssignments:!0};const I=(0,i.uU)("language")(A)},18288:(e,t,s)=>{"use strict";s.d(t,{c:()=>c});var n,i=s(44092),a=s.n(i),o=s(7170),r=s(61272),l=s(584);class c{static getParams(){const e={courseSectionId:o.default.language.getText("deepLink.COURSEID_DOES_NOT_EXIST"),learningModuleId:o.default.language.getText("deepLink.ASSIGNMENTID_DOES_NOT_EXIST"),assignableUnitId:o.default.language.getText("deepLink.ASSIGNABLEUNITID_DOES_NOT_EXIST")},{pathname:t}=window.location;if(t){const s=t.split("/");Object.keys(e).forEach((t=>{let n=-1;"courseSectionId"===t&&(n=s.indexOf(l.COURSES)),"learningModuleId"===t&&(n=s.indexOf(l.ASSIGNMENTS)),"assignableUnitId"===t&&(n=s.indexOf("pages")),-1!==n&&(e[t]=s[n+1])}))}return e}static isDeepLink(){return r.c.enableDeeplinkRevel1407&&window.location.search.includes("".concat(l.DEEPLINK_VIEW_QUERY_PARAM,"=true"))}}n=c,c.setEnableDeeplink=e=>{r.c.enableDeeplinkRevel1407=e},c.assessmentTelemetryEvent=()=>{if(n.isDeepLink()){const{learningModuleId:e,assignableUnitId:t}=n.getParams(),s=o.default.course.id;n.pushTelemetryEvent({courseSectionId:s,learningModuleId:e,assignableUnitId:t},!0)}},c.assessmentPageTelemetryEvent=(e,t)=>{if(n.isDeepLink()){const s=e.find((e=>{let{id:s}=e;return s===t}));if(s&&s.type===l.TYPE_PAGE){const{learningModuleId:e,assignableUnitId:t}=n.getParams(),s=o.default.course.id;n.pushTelemetryEvent({courseSectionId:s,learningModuleId:e,assignableUnitId:t},!0)}}},c.pushTelemetryEvent=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const s=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?l.DEEPLINK_ASSESSMENT_LAUNCH_TELEMETRY:l.DEEPLINK_LAUNCH_TELEMETRY;a().publish(l.TELEMETRY_REQUEST,{event:s,errors:t,...e})},c.handleError=()=>{if(n.isDeepLink()){const e=o.default.language.getIntl(),{courseSectionId:t,learningModuleId:s,assignableUnitId:i}=n.getParams(),a={courseSectionId:t,learningModuleId:s,assignableUnitId:i},r=[e.formatMessage({id:"deepLink.COURSE_DOES_NOT_EXIST",defaultMessage:o.default.language.getText("deepLink.COURSE_DOES_NOT_EXIST")},{courseId:t})];n.pushTelemetryEvent(a,!1,r)}}},28592:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});var n=s(58340),i=s(10012),a=s(36372),o=s(49623);class r{}r.getGraphQLClient=e=>new n.u({link:new i.P({headers:{authorization:"Bearer ".concat(e)},uri:o.c.TIBURON_GQL_URL}),cache:new a.Y}),r.getCourseAssetsQuery=(e,t)=>'\n        {\n          courseAssets(sectionId: "'.concat(e,'", assignments: ').concat(t,") {\n            id,\n            title,\n            type,\n            children\n          }\n        }\n      "),r.getAssignmentsQuery=e=>'{\n        assignments(sectionId: "'.concat(e,'", detail: true) {\n          showScores,\n          id,\n          pointsEarned,\n          dueDate,\n          isExtended,\n          title,\n          points,\n          lastUpdatedTime,\n          latePenalty,\n          locked,\n          status,\n          isOverridden,\n          state,\n          isImmediate,\n          instructorMessages,\n          showPenalty,\n          showPenaltyMsg,\n          assetTypes,\n          assetsStatus\n        }\n      }\n      '),r.getCourseTokenQuery=(e,t)=>'{\n        course(sectionId: "'.concat(e,'", token: ').concat(t,", basePath: true) {\n          id,\n          title,\n          token,\n          code,\n          courseId,\n          endDate,\n          institutionId,\n          instructors,\n          isStudent,\n          key,\n          metadata,\n          organizationId,\n          platform,\n          products,\n          role,\n          source,\n          startDate,\n          status          \n        }\n      }\n      ")},47584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var n=s(99584),i=s(44092),a=s.n(i),o=s(32308),r=s(60200),l=s(66429),c=s(93752),d=s(17604),p=s(19480),h=s(23700),u=s(49623),g=s(17435),m=s(94872),E=s(584),T=(s(65652),s(40208)),S=s.n(T);class _{static getData(e){return S().getItem(e)}static setData(e,t,s){S().getItem(e).then((n=>{const i=n||{};i[t]=s,S().setItem(e,i)}))}}var A=s(24284);const I=e=>({width:e,height:"40px",borderRadius:"21px",backgroundColor:"rgba(0, 68, 112, 0.3)"}),C=()=>({page:{margin:"0px auto",maxWidth:"645px",paddingBottom:"80px",paddingTop:"53px",borderRadius:"0px",background:"transparent",boxShadow:"none"},contentText:{lineHeight:2,paddingLeft:"25px",paddingBottom:"10px"},materialOverviewPlaceholder:{width:"680px",display:"flex",margin:"0 auto"},coverPlaceholder:{width:"127px",height:"160px",borderRadius:"8px",backgroundColor:"rgba(0, 68, 112, 0.3)",marginRight:"20px"},tocPlaceholder:{maxWidth:"620px",margin:"70px auto",height:"377px",borderRadius:"8px",backgroundColor:"rgba(0, 68, 112, 0.3)"},line1:{...I("500px"),marginBottom:"12px"},line2:{...I("480px"),marginBottom:"12px"},line3:{...I("160px")}});var f,x=s(31640),y=s(97884);let N=(0,o.uU)("materials","course","language","userLastLocation","playlistStore")(f=(0,o.QT)(f=class extends n.Component{constructor(){super(...arguments),this.goToPageCallback=e=>{if(r.EventProvider.getEventManager().dispatch({category:"Contents",action:"TOC Click",data:{page:e}}),!g.c.redirectToViewer(this.props.courseId,e)){const t=this.props.playlistStore.pageRefId(e);this.vegaViewerPush(t)}},this.getTOCItem=(e,t)=>(t.forEach((t=>{t.id===e?this.item=t:t.children&&this.getTOCItem(e,t.children)})),this.item),this.handleTocExpand=(e,t,s,n)=>{"getData"===e?_.getData(E.MATERIAL_TAB).then((e=>{const s=e&&e[t]||!1;n(s)})):_.setData(E.MATERIAL_TAB,t,s)},this.viewTitle=()=>{if(r.EventProvider.getEventManager().dispatch({category:"Material",action:"Title Click",data:{course:this.props.courseId}}),this.tocCompData.data.content.list&&this.tocCompData.data.content.list.length>0){let e=this.tocCompData.data.content.list[0];for(;e&&e.content&&e.content.length>0;)e=e.content[0];const t=this.tocCompData.data.content.list[0].urn.split("-")[0]===e.urn.split("-")[0]?e.urn:this.tocCompData.data.content.list[0].urn;if(!g.c.redirectToViewer(this.props.courseId,t)){const e=this.props.playlistStore.pageRefId(t);this.vegaViewerPush(e)}}},this.vegaViewerPush=e=>{const t="/courses/".concat(this.props.courseId,"/pages/").concat(e,"?").concat(E.SOURCE,"=contents");this.props.history.push(t)},this.continueReading=()=>{const{loaded:e,contentUrn:t}=this.props.userLastLocation,s=e&&t?t:this.tocCompData.data.content.list[0].urn;if(r.EventProvider.getEventManager().dispatch({category:"Contents",action:"Continue Reading",data:{course:this.props.courseId}}),!g.c.redirectToViewer(this.props.courseId,s)){const e=this.props.playlistStore.pageRefId(s),t=this.props.userLastLocation.getLastVisitedPage(this.props.courseId,e,this.props.userLastLocation.locations);this.props.history.push(t)}},this.getWhereYouLeftOff=()=>{const{userLastLocation:e,language:t}=this.props,s={},n=(e.contextualPlace&&e.contextualPlace.find((e=>e.key===E.MODULE_SECTION)),e.locations&&e.lastActivity),i=e.locations&&e.locations.find((e=>e.activity===n)),a=e.loaded&&n&&i,o=a?i.displayTitle:this.tocCompData.data.content.list[0].title;return s.title=r.Utilities.textFromContent(o),s.titleText=o,s.btnText=a?t.getText("screens.schedule.CONTINUE_READING"):t.getText("screens.schedule.START_READING"),s.text=t.getText("screens.schedule.WHERE_YOU_LEFT_OFF"),s.loaded=a,s},this.handleErrorMsg=e=>{let t="emptyMsg.SERVER_ERROR";return 404===e&&(t="emptyMsg.CONTENTS"),(0,y.jsx)("div",{className:"emptyMessage",children:(0,y.jsx)("span",{children:this.props.language.getText(t)})})},this.renderShimmer=()=>{const{classes:e}=this.props,t=(0,y.jsxs)("div",{className:e.materialOverviewPlaceholder,children:[(0,y.jsx)("div",{className:"".concat(e.coverPlaceholder," shimmerBlue step4")}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"".concat(e.line1," shimmerBlue")}),(0,y.jsx)("div",{className:"".concat(e.line2," shimmerBlue step2")}),(0,y.jsx)("div",{className:"".concat(e.line3," shimmerBlue step3")})]})]});return a().publish(E.HEADER_HIGHLIGHTS,{data:t}),(0,y.jsx)("div",{className:"".concat(e.tocPlaceholder," shimmerGrey step2")})}}UNSAFE_componentWillMount(){const e={courseId:this.props.courseId,productId:this.props.course.productId,indexId:this.props.course.indexId,contentType:this.props.course.contentType};this.props.materials.fetch(e),x.c.clearAssignmentAttributes()}render(){const{materials:e,course:t,language:s,classes:n}=this.props;if(document.title=m.c.setPageTitle(s.getText("tabs.CONTENTS")),e.isError)return this.handleErrorMsg(e.errorCode);if(!e.isTocLoaded)return this.renderShimmer();const i=e.toJSON();let o=i.tocContent;u.c.ENABLE_OPTIONAL_MATERIALS&&(o=i.tocContent?A.c.getOriginalToc(i):{});const r=this.props.course.contentType===E.VIEWER_CONTENT_TYPE_CITE?u.c.TOC_DEPTH_CITE:u.c.TOC_DEPTH;if(this.tocCompData={separateToggleIcon:!0,data:{content:o},depth:r,childField:"children",isTocWrapperRequired:!1,clickTocHandler:this.goToPageCallback,handleTocExpand:this.handleTocExpand},u.c.ENABLE_OPTIONAL_MATERIALS){const e=i.tocContent?A.c.getOptionalToc(i):{};e&&e.list.length&&(this.tocCompData.optionalData={content:e})}const l=u.c.ENABLE_LAST_LEFT_OFF?{whereYouLeftOff:this.getWhereYouLeftOff(),continueReading:this.continueReading}:{},p=(0,y.jsx)(h.MaterialsOverviewComponent,{viewTitle:this.viewTitle,courseData:t,cardHeader:u.c.CARD_HEADER,isShowWhereYouLeftOff:u.c.ENABLE_LAST_LEFT_OFF,tocData:this.tocCompData,...l});return a().publish(E.HEADER_HIGHLIGHTS,{data:p}),(0,y.jsxs)(c.c,{classes:{root:n.page},children:[(0,y.jsx)(d.c,{color:"initial",variant:"h1",classes:{root:n.contentText},children:s.getText("tabs.CONTENTS")}),(0,y.jsx)(h.MaterialsComponent,{viewTitle:this.viewTitle,courseData:t,cardHeader:u.c.CARD_HEADER,isShowWhereYouLeftOff:u.c.ENABLE_LAST_LEFT_OFF,tocData:this.tocCompData,...l})]})}})||f)||f;const P=(0,p.c)(C)((0,l.Ak)(N))},31640:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var n=s(49623),i=s(584);class a{static init(){const e=document.createElement("script");e.type="text/javascript",e.src="".concat(n.c.NEWRELIC_URL,"?env=").concat(JSON.stringify(n.c.newRelicConfig)),e.async=!0,e.defer=!0,document.getElementsByTagName("head")[0].appendChild(e)}static setCustomAttribute(e,t){window.newrelic&&(window.newrelic.interaction().setAttribute(e,t),window.newrelic.setCustomAttribute(e,t))}static setCustomAttributes(e){window.newrelic&&Object.keys(e).forEach((t=>{window.newrelic.interaction().setAttribute(t,e[t]),window.newrelic.setCustomAttribute(t,e[t])}))}static clearAssignmentAttributes(){this.setCustomAttributes({[i.NR_ASSIGNMENT_ID]:"",[i.NR_ASSESSMENT_ID]:"",[i.NR_ACTIVITY_ID]:""})}static saveInteraction(){window.newrelic&&window.newrelic.interaction().save()}}},38336:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var n=s(22220),i=s(99752);const a={...n.NotebookStyleConstants.revel.default,bgColor:i.c.colors.progressBackColor,closeIconColor:"#6A7070",textColor:i.c.colors.defaultFontColor,bgBtnColor:i.c.palette.primary.main,barColorPrimary:"#ff0000",bg:i.c.colors.progressBackColor,btnPrimary:i.c.palette.primary.main,btnSecondary:i.c.colors.secondaryBorderColor,btnColor:i.c.colors.primaryBackground,btnBorder:"#C7C7C7",textInputOutline:i.c.colors.primaryBackground,checkboxFill:i.c.colors.raisedButtonColor,headerDiv:"1px solid #E9E9E9",textBg:i.c.colors.primaryBackground,text:i.c.colors.defaultFontColor,disabledText:i.c.colors.raisedButtonColor,disabledBg:"rgba(217, 217, 217, 0.6)",disabledSaveBg:"#e9e9e9",filter:"unset",tagLabel:i.c.colors.primaryBackground,tagLabelSelected:i.c.colors.primaryBackground,tagBg:i.c.colors.primaryBackground,tagBgSelected:i.c.colors.raisedButtonColor,resetBtnBorder:"1px solid #6A7070",addButtonBg:i.c.palette.primary.main,colorPlaceholder:i.c.colors.defaultFontColor,popupBg:i.c.colors.primaryBackground,menuItemDisabled:"#FAFAFA",menuItemHover:"#F7F9FD",iconButtonBg:"transparent",downloadButtonBg:"rgba(255, 255, 255, 0.88)",downloadButtonColor:i.c.colors.defaultFontColor,toastHeaderColor:i.c.colors.primaryBackground,toastSubHeaderColor:i.c.colors.progressBackColor,fontFamily:i.c.fontFamily,fontSize14:"14px",fontSize16:"16px",fontSize18:"18px"}},484:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var n=s(99584),i=s(44092),a=s.n(i),o=s(66429),r=s(32308),l=s(22220),c=s(17604),d=s(83440),p=s(19480),h=s(96325),u=(s(65652),s(94872)),g=s(17435),m=s(584),E=s(49623),T=s(98992);const S=()=>({noteBookStyles:{margin:"0px auto",maxWidth:1280,paddingBottom:60,"& .noteLoader":{top:"55%"},"& .headerContainerInner":{"@media screen and (max-width: 500px)":{padding:"35px 10px 18px 5px !important"},"@media screen and (max-width: 400px)":{paddingTop:"20px !important",paddingLeft:"8px !important",paddingRight:"0px !important"},"& #note-filter-chapters":{"@media screen and (min-width: 600px)":{minWidth:166,maxHeight:36,"& span":{justifyContent:"flex-start","& span:nth-child(2)":{paddingLeft:45},"& span:first-child":{paddingRight:5},"& .filterCountStyle":{paddingRight:30}}},"@media screen and (max-width: 500px)":{width:"100%",maxWidth:104,padding:"11px 0px","& span":{"& span:nth-child(3)":{marginLeft:0}}},"@media screen and (max-width: 300px)":{width:"80px"}},"& #note-filter-colors":{"@media screen and (min-width: 600px)":{minWidth:166,maxHeight:36,"& span":{justifyContent:"flex-start","& span:nth-child(2)":{paddingLeft:60},"& span:first-child":{paddingRight:5}}}},"& .filterCountStyle":{"@media screen and (min-width: 600px)":{paddingLeft:"0px !important",paddingRight:45},"@media screen and (max-width: 600px)":{paddingLeft:2}}},"& .noteCardItem":{"& div:only-child":{width:"100% !important",minWidth:328,maxWidth:360,"@media screen and (max-width: 400px)":{minWidth:"170px",maxWidth:"300px"},"@media screen and (max-width: 300px)":{maxWidth:"200px"}}},"& .headerContainer":{"@media screen and (max-width: 500px)":{"& hr":{display:"none"}}}},notesHeaderTextWrapper:{fontSize:18,padding:"8px 12px 0px 0px",whiteSpace:"nowrap","@media screen and (max-width: 600px)":{padding:"8px 4px 0px 0px"},"@media screen and (max-width: 500px)":{fontSize:16,position:"absolute",marginTop:"-35px"},"@media screen and (max-width: 400px)":{padding:0,fontSize:14,marginTop:"-20px"}}});var _,A=s(38336),I=s(39784),C=s(48152),f=s(97884);let x=(0,r.uU)("course","language","materials","user")(_=(0,r.QT)(_=class extends n.Component{constructor(e){super(e),this.handleScroll=()=>{if(this.noteContainer){const e=this.noteContainer.offsetParent.offsetHeight;window.innerHeight+window.scrollY>=e-m.NOTES_PAGE_END&&this.setState({isFetchNotes:!0}),this.noteHeader&&(window.scrollY>this.noteHeaderTop?(this.noteContainer.style.paddingTop="".concat(this.noteHeader.offsetHeight,"px"),this.noteHeader.classList.add("noteStickyHeader")):(this.noteHeader.classList.remove("noteStickyHeader"),this.noteContainer.removeAttribute("style")))}},this.handleRedirection=(e,t)=>{if(!g.c.redirectToViewer(this.props.courseId,e)){const s="/courses/".concat(this.props.courseId,"/pages/").concat(e,"?").concat(m.SOURCE,"=notes&").concat(m.ANNOTATION_ID,"=").concat(t);this.props.history.push(s)}},this.fetchNotesOnscroll=()=>{this.setState({isFetchNotes:!1})},this.getNoteRef=e=>{this.noteContainer=e,this.noteHeader=this.noteContainer.querySelector(".headerContainer"),this.noteHeader&&(this.noteHeaderTop=this.noteHeader.offsetTop)},this.renderNotesHeader=()=>{const{language:e}=this.props,t=(0,f.jsx)(d.c,{theme:h.g5,children:(0,f.jsx)("div",{className:"highlightsContainer",children:(0,f.jsx)("div",{className:"nextDueAssignment",children:(0,f.jsxs)("div",{className:"welcomeContainer",children:[(0,f.jsx)(c.c,{variant:"h1",color:"secondary",children:e.getText("screens.notes.YOUR_BOOK_AND_NOTES")}),(0,f.jsx)(c.c,{variant:"body1",color:"secondary",children:e.getText("screens.notes.HIGHLIGHT_TEXT")})]})})})});a().publish(m.HEADER_HIGHLIGHTS,{data:t})},this.myNotesElement=(0,f.jsx)(c.c,{variant:"body1",className:this.props.classes.notesHeaderTextWrapper,component:"h2",children:this.props.language.getText("screens.notes.MY_NOTES")}),this.onCloseTagPopup=()=>{I.c.setShowExportTagPopupVal(this.props.user.id)},this.state={isFetchNotes:!1,isDialogOpen:!1},this.noteClient=new l.NoteBookAPI(T.c.spectrumApi,this.props.courseId,"".concat(E.c.NOTES_PRODUCT_MODEL,"_").concat(this.props.course.contentType),E.c.CLIENT_APP,m.NOTES_LIMIT,"",this.props.course.productId),this.noteContainer=null,this.noteHeader=null,this.noteHeaderTop=0}UNSAFE_componentWillMount(){window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){const{language:e}=this.props,{isFetchNotes:t}=this.state;return document.title=u.c.setPageTitle(e.getText("tabs.NOTES")),this.renderNotesHeader(),(0,f.jsx)("div",{className:this.props.classes.noteBookStyles,children:(0,f.jsx)(l.NotebookComponent,{noteClient:this.noteClient,isStudent:this.props.course.isStudentView(),isFetchNotes:t,fetchNotesOnscroll:this.fetchNotesOnscroll,handleRedirection:this.handleRedirection,getNoteRef:this.getNoteRef,isDialogOpen:this.state.isDialogOpen,chapterContent:this.props.materials.notesChapterList,masterTheme:E.c.PRODUCT_MODEL,themeProps:A.c,headerTextElement:this.myNotesElement,showExportTagPopup:I.c.getShowExportTagPopupVal(this.props.user.id),onCloseTagPopup:this.onCloseTagPopup,childIcons:C.c})})}})||_)||_;const y=(0,p.c)(S)((0,o.Ak)(x))},42616:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ee});var n=s(99584),i=s(40308),a=s.n(i),o=s(66429),r=s(32308),l=s(44092),c=s.n(l),d=s(60200),p=s(66064),h=s(17604),u=s(83440),g=s(19480),m=s(96325),E=s(97884);const T=(e,t)=>s=>(0,E.jsx)(u.c,{theme:e,children:(0,E.jsx)(t,{...s})});s(65652);var S=s(584),_=s(7170),A=s(45452),I=s(84028);const C=e=>({overAllScorePlaceHolder:{width:"198px",height:"186px",objectFit:"contain",borderRadius:e.shape.borderRadiusSmall},weightedScorePlaceHolder:{width:"518px",height:"186px",objectFit:"contain",borderRadius:e.shape.borderRadiusSmall}});var f=s(61272),x=s(93908);const y=(0,s(8704).c)((e=>({shimmerLine:{backgroundColor:t=>"heading"===t.type?e.palette.common.shimmerHeader:e.palette.common.shimmerBody,borderRadius:e=>e.borderRadius||e.height/2}}))),N=e=>{let{type:t,width:s="100%",height:n=40,borderRadius:i,className:a="shimmerLine"}=e;const o=y({type:t,height:n,borderRadius:i});return(0,E.jsx)(x.c,{variant:"rect",width:s,height:n,animation:"wave",className:"".concat(o.shimmerLine," ").concat(a)})},P=(0,g.c)(C)((0,r.uU)("language","user")((0,r.QT)((e=>{let{overallGrade:t,classes:s,language:i,isAssignmentWithPastDue:a,user:o,assignments:r}=e;const l=t.overallScore;if(t.loading||r.loading)return(0,E.jsx)("div",{className:"nextDueItems",children:(0,E.jsx)("div",{className:"paperContainer",children:(0,E.jsx)("div",{className:"highlightsContainer",children:(0,E.jsx)("div",{className:"nextDueAssignment",children:!t.isSumatra&&(0,E.jsxs)(n.Fragment,{children:[(0,E.jsx)(N,{type:"heading",width:140,height:140,borderRadius:"50%"}),(0,E.jsxs)("div",{className:"scoreOverallContainer ".concat(f.c.conditionalAnd(t.isSumatra,"sumathra")),children:[(0,E.jsx)(N,{type:"heading",width:240}),(0,E.jsx)(N,{type:"heading",width:460})]})]})})})})});const c=(e,t)=>{const s=f.c.conditionalArg(t,{width:"140px",height:"140px"},{width:"131px",height:"131px",margin:0}),n=e&&e>=0,a=f.c.conditionalArg(t,{mode:"light"},{mode:"dark",label:f.c.conditionalArg(n,i.getText("screens.scores.REVEL_SCORE"),null)});return(0,E.jsx)(I.c,{...a,percent:e,styles:{root:s}})},d=()=>(0,E.jsx)("div",{className:"nextDueItems",children:(0,E.jsx)("div",{className:"paperContainer",children:(0,E.jsx)("div",{className:"highlightsContainer",children:(0,E.jsxs)("div",{className:"nextDueAssignment",children:[c(null,t.isSumatra),(0,E.jsxs)("div",{className:"scoreOverallContainer",children:[(0,E.jsx)(h.c,{component:"h2",variant:"h1",color:"secondary",children:(0,E.jsx)(A.FormattedMessage,{id:"goodLuckMessage",defaultMessage:i.getText("screens.scores.CHECK_BACK"),values:{name:o.name}})}),(0,E.jsx)(h.c,{variant:"body2",color:"secondary",children:i.getText("screens.scores.YOUR_SCORE_PENDING")})]})]})})})}),p=()=>{let e="";switch(!0){case l>=S.FANTASTIC_MESSAGE_SCORE:e="screens.assignments.FANTASTIC";break;case l>=S.GOODJOB_MESSAGE_SCORE:e="screens.assignments.GOOD_JOB";break;default:e="screens.assignments.KEEP_STUDYING"}return e};return f.c.conditionalAnd(!t.showScoreWidget,t.isError)?a?(0,E.jsxs)("div",{className:"highlightsContainer noScoreContainer",children:[(0,E.jsx)(h.c,{component:"h2",variant:"h1",color:"secondary",children:(0,E.jsx)(A.FormattedMessage,{id:"checkBackMessage",defaultMessage:i.getText("screens.scores.CHECK_YOUR_SCORES"),values:{name:o.name}})}),(0,E.jsx)(h.c,{variant:"body2",color:"secondary",children:i.getText("screens.scores.LOOK_AT_EACH_ASSIGNMENT")})]}):d():f.c.conditionalAnd(!t.isSumatra,!a)?d():(0,E.jsxs)(n.Fragment,{children:[!t.isSumatra&&(0,E.jsx)("div",{className:"nextDueItems",children:(0,E.jsx)("div",{className:"paperContainer",children:(0,E.jsx)("div",{className:"highlightsContainer",children:(0,E.jsxs)("div",{className:"nextDueAssignment",children:[c(l,t.isSumatra),(0,E.jsxs)("div",{className:"scoreOverallContainer",children:[(0,E.jsx)(h.c,{component:"h2",variant:"h1",color:"secondary",children:(0,E.jsx)(A.FormattedMessage,{id:"goodLuckMessage",defaultMessage:i.getText(p()),values:{name:o.name}})}),(0,E.jsx)(h.c,{variant:"body2",color:"secondary",children:i.getText("screens.assignments.REVEL_SCORE_CHANGE")})]})]})})})}),t.isSumatra&&(0,E.jsx)("div",{className:"nextDueItems",children:(0,E.jsx)("div",{className:"paperContainer",children:(0,E.jsx)(n.Fragment,{children:(0,E.jsx)("div",{className:"highlightsContainer scoreTab",children:(0,E.jsx)("div",{className:"nextDueAssignment",children:(0,E.jsxs)("div",{className:"scoreOverallContainer ".concat(t.isSumatra&&"sumathra"),children:[(0,E.jsx)(h.c,{component:"h2",variant:"h1",color:"secondary",children:(0,E.jsx)(A.FormattedMessage,{id:"goodLuckMessage",defaultMessage:i.getText(p()),values:{name:o.name}})}),(0,E.jsx)(h.c,{variant:"body2",color:"secondary",children:(0,E.jsx)(A.FormattedMessage,{id:"revelScoreMsg",defaultMessage:i.getText("screens.assignments.WEIGHTED_REVEL_SCORE"),values:{percent:(0,E.jsx)("b",{children:"".concat(l,"%")})}})})]})})})})})})]})}))));var v=s(94872),L=s(28744),O=s(28072),R=s(39388),D=s(58688),b=s(14864),w=s(29648);const M=e=>({root:{backgroundColor:e.palette.common.scheduleBorderColor,width:"auto",boxShadow:e.shadows[0],border:"solid 1.5px ".concat(e.palette.action.disabledBackground),"&:hover":{backgroundColor:e.palette.secondary.main,cursor:"pointer",boxShadow:e.shadows[25]}},contentRoot:{position:"relative",paddingBottom:"2px","&:last-child":{paddingBottom:"16px"},"& .horizontalStepperContainer":{paddingLeft:"132px",[e.breakpoints.down("sm")]:{paddingLeft:"0%"},"& .mobileStyle":{display:"flex",alignItems:"flex-end",justifyContent:"space-between",[e.breakpoints.down("sm")]:{display:"flex",flexDirection:"column",alignItems:"normal"}},"&.singleCard":{marginTop:"24px",paddingTop:"11px",borderTop:"solid 1px ".concat(e.palette.common.revelGrey)},"& .horizontalStepper":{width:"84%",[e.breakpoints.down("sm")]:{width:"100%"}}}},scoresCardWrapper:{marginBottom:"32px","&:focus":{outlineStyle:"solid",outlineOffset:"5px",outlineWidth:"2px",outlineColor:e.palette.common.focusRing,"& > div":{backgroundColor:e.palette.common.white,cursor:"pointer",boxShadow:e.shadows[25]}}}}),U=e=>({typographyRoot:{fontSize:"20px",fontWeight:e.typography.fontWeightSemiBold},statusLabel:{fontSize:e.typography.fontSize,color:e.palette.text.secondary}}),k=(0,r.uU)("language")((0,g.c)(U)((0,r.QT)((e=>{let{titles:t,statusLabel:s,classes:n}=e;return(0,E.jsxs)("div",{className:"titleContainer",children:[(0,E.jsx)(h.c,{variant:"body1",classes:{root:n.typographyRoot},children:t}),s&&(0,E.jsx)(h.c,{variant:"body1",classes:{root:n.statusLabel},children:f.c.capitalize(s.toLowerCase())})]})}))));var j,H,B=s(47944),F=s(36484);let G=(j=(0,r.uU)("course"),(0,r.QT)(H=j(H=(0,r.QT)(H=class extends n.Component{constructor(e){super(e),this.handleCardClick=e=>{e.defaultPrevented||this.props.history.push("/courses/".concat(this.props.courseId,"/scores/").concat(this.props.id))},this.handleKeyPress=e=>{"Enter"===e.key&&this.handleCardClick(e)},this.handleScroll=()=>{this.cardScrollAnimation()},this.cardScrollAnimation=()=>{if(this.divContainerRef){const{top:e}=this.divContainerRef.current.getBoundingClientRect();window.innerHeight-e>0&&this.setState({flag:!0})}},this.divContainerRef=n.createRef(),this.state={flag:!1}}componentDidMount(){this.cardScrollAnimation(),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){const{assignment:e,titles:t,course:s,classes:i,fadeSequence:a}=this.props,o=e.status===S.STATUS_LATE||e.status===S.STATUS_NA?S.STATUS_INCOMPLETE:e.status,r=e.getChapterList(),l=S.IS_SHOW_STEPPER;return(0,n.createElement)(L.c,{in:this.state.flag,style:{transformOrigin:"0 0 0"},timeout:a?500*a:500,key:e.id},(0,E.jsx)("div",{onClick:this.handleCardClick,onKeyPress:this.handleKeyPress,className:i.scoresCardWrapper,ref:this.divContainerRef,children:(0,E.jsx)(O.c,{classes:{root:i.root},children:(0,E.jsxs)(R.c,{classes:{root:i.contentRoot},children:[(0,E.jsxs)("div",{className:"cardContentHeader",children:[(0,E.jsx)("div",{className:"dateTimeDisplay",children:(0,E.jsx)(B.c,{date:e.dueDate,showProgress:!e.showProgress,id:e.dateIdentifier,past:!0,disableTabIndex:!0})}),(0,E.jsxs)("div",{className:"contentTitle",tabIndex:0,role:"link",children:[(0,E.jsx)(k,{titles:t,statusLabel:o}),!s.isSumatraCourse&&Boolean(e.points)&&(0,E.jsx)(b.c,{showScores:e.showScores,pointsEarned:e.pointsEarned,points:e.points,platform:s.platform})]}),(0,E.jsx)(F.c,{assignment:e})]}),l&&(0,E.jsx)("div",{className:"horizontalStepperContainer singleCard",children:r.length||!e.isShowShimmer?(0,E.jsx)("div",{className:"".concat(i.shimmerContainer," mobileStyle"),children:(0,E.jsx)("div",{className:"horizontalStepper",children:(0,E.jsx)(D.HorizontalStepperComponent,{assignment:r})})}):(0,E.jsx)("div",{className:"shimmer"})})]})})}))}})||H)||H)||H);const Y=(0,g.c)(M)((0,o.Ak)(G)),V=e=>({root:{backgroundColor:w.c.scheduleBorderColor,width:"auto",boxShadow:"none",border:"solid 1.5px ".concat(e.palette.action.disabledBackground),marginBottom:"32px"},contentRoot:{position:"relative",borderBottom:"solid 1px ".concat(w.c.gainsboroGrey),padding:"12px 12px 16px 12px",borderTop:"solid 2px transparent",borderRight:"solid 2px transparent",borderLeft:"solid 2px transparent","&:last-child":{paddingBottom:"16px"},"& .horizontalStepperContainer":{paddingLeft:"132px","@media screen and (max-width: 550px)":{paddingLeft:"0%"},"& .mobileStyle":{display:"flex",alignItems:"flex-end",justifyContent:"space-between","@media screen and (max-width: 550px)":{display:"flex",flexDirection:"column",alignItems:"normal"}},"&.singleCard":{marginTop:"24px",paddingTop:"11px",borderTop:"solid 1px ".concat(w.c.gainsboroGrey)},"& .horizontalStepper":{width:"84%","@media screen and (max-width: 550px)":{width:"100%"}}}},actionAreaRoot:{padding:"2px 2px 0px 2px","&:last-of-type > div":{borderBottomColor:"transparent"},"&:hover":{backgroundColor:e.palette.secondary.main,boxShadow:"0 5px 22px 4px rgba(0, 0, 0, 0.03), 0 7px 8px -4px rgba(0, 0, 0, 0.05)"},"&:focus":{backgroundColor:e.palette.secondary.main,boxShadow:"0 5px 22px 4px rgba(0, 0, 0, 0.03), 0 7px 8px -4px rgba(0, 0, 0, 0.05)",outline:"none",paddingBottom:"2px","& > div":{paddingBottom:"13px",borderRadius:"5px",borderWidth:"2px",borderColor:e.colors.blueOutlineColor,borderStyle:"solid"}}}});var W;let z=(0,r.uU)("course")(W=(0,r.QT)(W=class extends n.Component{constructor(e){super(e),this.handleCardClick=(e,t)=>{e.defaultPrevented||this.props.history.push("/courses/".concat(this.props.courseId,"/scores/").concat(t.id))},this.handleKeyPress=(e,t)=>{"Enter"===e.key&&this.handleCardClick(e,t)},this.findAssignmentWithSameDate=e=>this.props.assignments.filter((t=>t.dueDate.getTime()===e.getTime())),this.statusLabel=e=>e===S.STATUS_LATE?S.STATUS_INCOMPLETE:e,this.handleScroll=()=>{this.cardScrollAnimation()},this.cardScrollAnimation=()=>{if(this.buttonRef){const{top:e}=this.buttonRef.current.getBoundingClientRect();window.innerHeight-e>0&&this.setState({flag:!0})}},this.buttonRef=n.createRef(),this.state={flag:!1}}componentDidMount(){this.cardScrollAnimation(),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){const{assignments:e,course:t,classes:s,fadeSequence:n}=this.props;return(0,E.jsx)(L.c,{in:this.state.flag,style:{transformOrigin:"0 0 0"},timeout:n?500*n:500,children:(0,E.jsx)("div",{ref:this.buttonRef,children:(0,E.jsx)(O.c,{classes:{root:s.root},children:e.map(((e,n)=>{const i=e.getChapterList(),a=S.IS_SHOW_STEPPER;return(0,E.jsx)("div",{className:s.actionAreaRoot,onClick:t=>this.handleCardClick(t,e),onKeyPress:t=>this.handleKeyPress(t,e),children:(0,E.jsxs)(R.c,{classes:{root:s.contentRoot},children:[(0,E.jsxs)("div",{className:"cardContentHeader multi",children:[(0,E.jsx)("div",{className:"dateTimeDisplay",children:(!n||this.findAssignmentWithSameDate(e.dueDate).length<=1)&&(0,E.jsx)(B.c,{date:e.dueDate,showProgress:!e.showProgress,id:e.dateIdentifier,showDate:0===n,past:!0,disableTabIndex:!0})}),(0,E.jsxs)("div",{className:"contentTitle",tabIndex:0,role:"link",children:[(0,E.jsx)(k,{titles:d.Utilities.textFromContent(e.title),statusLabel:this.statusLabel(e.status),cardIndex:n}),!t.isSumatraCourse&&Boolean(e.points)&&(0,E.jsx)(b.c,{showScores:e.showScores,pointsEarned:e.pointsEarned,points:e.points,platform:t.platform})]}),(0,E.jsx)(F.c,{assignment:e})]}),a&&(0,E.jsx)("div",{className:"horizontalStepperContainer singleCard",children:i.length||!e.isShowShimmer?(0,E.jsx)("div",{className:"".concat(s.shimmerContainer," mobileStyle"),children:(0,E.jsx)("div",{className:"horizontalStepper",children:(0,E.jsx)(D.HorizontalStepperComponent,{assignment:i})})}):(0,E.jsx)("div",{className:"shimmer"})})]})},e.id)}))})})})}})||W)||W;const Q=(0,g.c)(V)((0,o.Ak)(z));var K=s(97464);const q=e=>({paper:e.paper,contentContainer:{display:"flex",paddingTop:"20px",paddingBottom:"32px",maxWidth:"941px",margin:"0 auto"},listHeading:{flex:1,marginTop:e.spacing(2)},otherItems:{maxWidth:"941px",margin:"0 auto",paddingBottom:"25px",[e.breakpoints.down("sm")]:{margin:"0 10px"},"& .cardContentHeader":{display:"flex",paddingTop:"11px",margin:"0 12px","& .contentTitle":{display:"flex",width:"100%",[e.breakpoints.down("sm")]:{display:"initial","& .scoredpointsContainer":{paddingLeft:"14px","& > p, & > h6":{textAlign:"initial",wordBreak:"break-word"}}},"& .titleContainer":{paddingLeft:"24px",[e.breakpoints.down("sm")]:{paddingLeft:"14px","& p:first-child":{wordBreak:"break-word"}},flex:1}},"& .dateTimeDisplay":{minWidth:"100px",[e.breakpoints.down("sm")]:{minWidth:"auto"}},"&.multi":{paddingBottom:"12px"}},"& .cardBottomLine":{borderBottom:"solid 1px ".concat(e.palette.common.revelGrey),paddingTop:"16px"},"& .cardPlaceholder":{marginBottom:"34px"}},titlePlaceholder:{marginTop:"32px"}});var X,Z=s(31640),J=s(17384);let $=(0,r.uU)("course","overallgrade","language","assignments","assessmentTypes")(X=(0,r.QT)(X=class extends n.Component{constructor(){super(...arguments),this.state={sortSelected:S.ASSIGNMENTS_SORT_DUE_DATE},this.handleFetch=()=>{c().publish(S.OVERALL_GRADE_SYNC_REQUESTED,{courseId:this.props.courseId,forceRefersh:!1}),J.c.enabled?(this.props.assignments.fetchForSLP(this.props.courseId),this.props.assessmentTypes.fetch(this.props.course.productId)):this.props.assignments.fetch(this.props.courseId,S.STATUS_PAST)},this.renderEmptyStateMessage=(e,t)=>(0,E.jsx)(K.c,{courseId:this.props.courseId,history:this.props.history,statusCode:t,type:e,reload:this.handleFetch}),this.getAssignmentState=(e,t)=>{let s=null;return _.default.overallgrade.loading||e.loading?s=!1:e.isError?s=this.renderEmptyStateMessage(S.SCORE_EMPTY_NO_ASSIGNMENT_STATE,e.errorCode):e.assignments&&0===e.assignments.length?s=(0,E.jsx)("div",{className:"page scorePage",children:this.renderEmptyStateMessage(S.SCORE_EMPTY_NO_ASSIGNMENT_STATE)}):_.default.overallgrade.isError&&0===t.length?s=this.renderEmptyStateMessage(S.SCORE_EMPTY_STATE,_.default.overallgrade.errorCode):0===t.length&&(s=(0,E.jsx)("div",{className:"page scorePage",children:this.renderEmptyStateMessage(S.SCORE_EMPTY_STATE)})),s},this.assignmentsToRender=e=>{const{courseId:t}=this.props;return this.props.assignments.getOrderedAssignments(e).map(((e,s)=>{let n="";if(e.length>1)n=(0,E.jsx)(Q,{assignments:e,courseId:t,fadeSequence:s},s);else{const i=e[0];n=(0,E.jsx)(Y,{id:i.id,courseId:t,assignment:i,titles:d.Utilities.textFromContent(i.title),courseType:_.default.course.isSumatraCourse,sourcePath:this.props.sourcePath,fadeSequence:s},s)}return n}))},this.isAssignmentWithPastDue=e=>{let t=null;return e.length&&(t=e.find((e=>e.showScores))),!!t},this.renderShimmer=()=>(0,E.jsx)(n.Fragment,{children:[1,2,3,4].map((e=>(0,E.jsx)(N,{type:"body",height:104,borderRadius:8,className:"cardPlaceholder"},"loading-line-".concat(e))))})}UNSAFE_componentWillMount(){c().publish(S.HEADER_HIGHLIGHTS,{data:null}),this.handleFetch(),Z.c.clearAssignmentAttributes()}render(){const{assignments:e,language:t,classes:s,course:i,overallgrade:a}=this.props,{sortSelected:o}=this.state;document.title=v.c.setPageTitle(t.getText("tabs.SCORES"));const r=e.getCompletedAndLateAssignments(),l=this.getAssignmentState(e,r);if(l)return l;const d={overallScore:a.overallScore,categories:a.categories,isError:a.isApiFailed,isSumatra:i.isSumatraCourse,loading:a.loading,showScoreWidget:a.showScoreWidget},p=a.sortAssignments(r,o);return c().publish(S.HEADER_HIGHLIGHTS,{data:(0,E.jsx)(u.c,{theme:m.g5,children:(0,E.jsx)(P,{language:t,overallGrade:d,updateWidgetState:this.updateWidgetState,isAssignmentWithPastDue:this.isAssignmentWithPastDue(p),assignments:e})})}),(0,E.jsxs)("div",{className:"page scorePage",children:[(0,E.jsx)("div",{className:s.contentContainer,children:e.loading?(0,E.jsx)(N,{className:s.titlePlaceholder,width:260}):(0,E.jsx)(n.Fragment,{children:(0,E.jsx)(h.c,{variant:"h2",component:"h3",classes:{root:s.listHeading},children:t.getText("screens.scores.ASSIGNMENT_SCORE")})})}),(0,E.jsx)("div",{className:"".concat(this.props.classes.otherItems," ").concat(i.isSumatraCourse&&"sumatra"),children:e.loading?this.renderShimmer():this.assignmentsToRender(p)})]})}})||X)||X;$.contextTypes={learningContext:a().shape(p.learningContextShape).isRequired};const ee=T(m.g5,(0,g.c)(q)((0,o.Ak)($)))},84028:(e,t,s)=>{"use strict";s.d(t,{c:()=>c});var n=s(99584),i=s(19480),a=s(96325);const o=e=>({ScoreProgress:{width:"131px",height:"131px",margin:"22px",fontFamily:e.typography.fontFamily,"& .text":{fontSize:e.typography.fontSizeExtraLarge4,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeight,textAlign:"center"},"& .textLabel":{fontSize:e.typography.fontSize,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeight,textAlign:"center"},"& .percentText":{fontSize:e.typography.fontSizeExtraLarge4}},ScoreProgressLight:{"& .path":{stroke:e.palette.common.indicatorStrokeLight},"& .progress, & .progressShadow":{stroke:e.palette.common.helpMenuLink},"& .text, & .textLabel, & .percentText":{fill:e.palette.text.secondary}},ScoreProgressDark:{"& .path":{stroke:e.palette.common.indicatorStrokeDark},"& .progress, & .progressShadow":{stroke:e.palette.common.white},"& .text, & .textLabel, & .percentText":{fill:e.palette.common.white}}});var r=s(97884);const l=e=>{let{percent:t,anticlockwise:s,className:i,classes:o,styles:l,label:c,mode:d}=e;const p=390,h=null!==t&&t>=0,u=h?t/100*p:0,g=s?u-p:0;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 131 131",style:l.root,className:"".concat(o.ScoreProgress,"\n        ").concat("dark"===d?o.ScoreProgressDark:o.ScoreProgressLight,"\n        ").concat(i),alignmentBaseline:"middle",textAnchor:"middle",children:[(0,r.jsxs)("defs",{children:[(0,r.jsx)("circle",{id:"score-a",cx:"83.1",cy:"83.15",r:"62"}),(0,r.jsx)("mask",{id:"score-b",width:"128",height:"128",x:"0",y:"0",fill:a.g5.palette.common.white,children:(0,r.jsx)("use",{xlinkHref:"#score-a"})})]}),(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",transform:"translate(-18 -18)",children:[(0,r.jsx)("circle",{cx:"83.1",cy:"83.15",r:"62",strokeWidth:"6",transform:"rotate(69 83.1 83.15)",style:l.path,className:"path"}),(0,r.jsx)("use",{strokeDasharray:"".concat(u,",").concat(p),strokeOpacity:".4",strokeWidth:"6",mask:"url(#score-b)",strokeDashoffset:g,transform:"rotate(-90 83.1 83.15)",xlinkHref:"#score-a",style:l.progressShadow,className:"progressShadow"}),(0,r.jsx)("use",{strokeDasharray:"".concat(u,",").concat(p),strokeDashoffset:g,strokeWidth:"6",transform:"rotate(-90 83.1 83.15)",xlinkHref:"#score-a",style:l.progress,className:"progress"}),(0,r.jsxs)("svg",{children:[c&&(0,r.jsx)("text",{x:"62.5%",y:"48%",alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",style:l.textLabel,className:"textLabel",children:c}),(0,r.jsx)("text",{x:"62.5%",y:"".concat(c?"74%":"66.2%"),alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",style:l.text,className:"text",children:(0,r.jsxs)(n.Fragment,{children:[h?t:"\u2014","%"]})})]})]})]})};l.defaultProps={percent:0,anticlockwise:!1,className:"",label:"",styles:{root:{},path:{},progress:{},progressShadow:{},text:{},textLabel:{},percentText:{}},mode:"light"};const c=(0,i.c)(o(a.g5))(l)},40724:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var n=s(99584),i=s(32308),a=s(66429),o=s(45452),r=s(19480),l=s(16920),c=s(28072),d=s(39388),p=s(40219),h=s(17604),u=s(44092),g=s.n(u),m=s(91536),E=s(97392),T=s(49623),S=s(584),_=(s(65652),s(98992)),A=s(94872),I=s(61272);const C=e=>({cardRoot:{maxWidth:744,height:214,padding:"32px 24px",borderRadius:"8px",position:"absolute",top:22,zIndex:1,left:"calc(100%/2 - 372px)","@media screen and (max-width: 450px)":{left:"calc(100%/2 - 200px)",height:240}},cardContent:{padding:0},cardHeader:{fontWeight:"normal",lineHeight:1.3,textAlign:"center"},nextDueAssignment:{position:"relative",padding:60,display:"block","&.iseStudyHeader":{display:"block !important"}},cardActions:{margin:"2px auto"},dueNextMsg:{lineHeight:1.5,color:e.palette.text.secondary,fontWeight:"normal",textAlign:"center",margin:"16px 40px"},wrapper:{paddingBottom:"40px",marginTop:-188,position:"relative","&.studyILP":{paddingTop:50,marginTop:0},"&.studyLoading, &.showChapters":{paddingTop:100,marginTop:0,position:"relative"},"&.showChapters":{"& .studyGuide":{position:"relative",marginTop:"-110px",overflow:"hidden"}}},line1:{width:"450px",height:"40px",borderRadius:"21px",backgroundColor:"rgba(0, 68, 112, 0.3)",marginBottom:"12px"},line2:{width:"620px",height:"40px",borderRadius:"21px",backgroundColor:"rgba(0, 68, 112, 0.3)",marginBottom:"12px"},line3:{width:"190px",height:"40px",borderRadius:"21px",backgroundColor:"rgba(0, 68, 112, 0.3)"},studyPlaceholder:{maxWidth:"620px",margin:"0px auto",height:"377px",borderRadius:"8px",backgroundColor:"rgba(0, 68, 112, 0.3)"}});var f,x=s(33096),y=s(17435),N=s(51784),P=s(56604),v=s(7170),L=s(97884);let O=(0,i.uU)("course","language","user","timeontask")(f=(0,i.QT)(f=class extends n.Component{constructor(e){super(e),this.isGLP=()=>{const{course:e}=this.props;return e.isGLP},this.openNoteBook=()=>{this.props.history.push("/courses/".concat(this.props.course.id,"/notes"))},this.renderEmptyHeader=e=>{const{language:t,user:s,classes:n}=this.props,i=(0,L.jsx)("div",{className:"".concat(n.nextDueAssignment," iseStudyHeader"),children:(0,L.jsxs)(c.c,{className:n.cardRoot,children:[(0,L.jsxs)(d.c,{className:n.cardContent,children:[(0,L.jsx)(h.c,{variant:"h3",component:"div",className:n.cardHeader,children:(0,L.jsx)(o.FormattedMessage,{id:"weGotYouCovered",defaultMessage:t.getText(e),values:{name:s.name}})}),(0,L.jsx)(h.c,{variant:"body1",className:n.dueNextMsg,children:(0,L.jsx)(o.FormattedMessage,{id:"recentlyFinishedStudy",defaultMessage:t.getText("screens.studyTools.YOU_CAN_STILL_STUDY")})})]}),(0,L.jsx)(p.c,{children:(0,L.jsx)(m.c,{variant:"outlined",color:"primary",size:"medium",onClick:this.openNoteBook,className:n.cardActions,children:t.getText("screens.studyTools.VIEW_NOTEBOOK")})})]})});g().publish(S.HEADER_HIGHLIGHTS,{data:i})},this.handleAPIResponse=(e,t,s)=>{if(e||null==s){const t=e||null!=s?"screens.studyTools.WE_GOT_YOU_COVERED":"screens.studyTools.SKIP";this.isGLP()||(this.setState({isEmpty:!0}),this.renderEmptyHeader(t))}else this.getChapterData=t,this.firstChapterTitle=s,this.isGLP()||this.renderStudyHeader();this.setState({fetched:!0}),this.isGLP()&&e&&v.default.course.setStudyError(!0)},this.pageUnloads=()=>{this.isGLP()&&this.props.timeontask.calcTimeOnTask(S.STUDY_PAGE,S.CONTENT.ACTIONS.UNLOAD)},this.handlePageLoadEvents=(e,t,s)=>{this.isGLP()&&(this.props.timeontask.setInitialData("".concat(e,"_").concat(t),"",s),this.props.timeontask.calcTimeOnTask(S.STUDY_PAGE,S.CONTENT.ACTIONS.LOAD))},this.handleBack=()=>{this.pageUnloads(),this.setState((e=>({showChapters:!1,chapterIndex:null,chapterCardFocusId:e.chapterIndex+1})))},this.handlePrev=()=>{this.pageUnloads(),this.setState((e=>({isPrev:!0,chapterIndex:e.chapterIndex-1})))},this.handleNext=()=>{this.pageUnloads(),this.setState((e=>({isPrev:!1,chapterIndex:e.chapterIndex+1})))},this.setHandler=(e,t,s,n,i)=>{e&&(setTimeout((()=>{this.setState({showChapters:!0,chapterIndex:s,isPrev:null})}),300),this.handlePageLoadEvents(this.props.course.indexId,s,e),g().publish("SET_STUDY_HANDLERS",{handleBack:this.handleBack,handlePrev:this.handlePrev,handleNext:this.handleNext,chapterTitle:e,isFirstChapter:n,isLastChapter:i}),window.scrollTo(0,0))},this.openFirstChapter=()=>{this.getChapterData&&this.getChapterData()},this.getCopyRightContent=()=>({copyRight:this.props.language.getText("copyRightText.COPY_RIGHT"),accecibility:{name:this.props.language.getText("copyRightText.ACCESSIBILITY"),url:T.c.ACCESSIBILITY},privacyPolicy:{name:this.props.language.getText("copyRightText.PRIVACY_POLICY"),url:"".concat(T.c.CONSOLE_URL,"/account/manage/privacy")},termsCondition:{name:this.props.language.getText("copyRightText.TERMS"),url:"".concat(T.c.CONSOLE_URL,"/account/manage/tos")}}),this.renderStudyHeader=()=>{const{language:e,user:t,classes:s}=this.props,n=(0,L.jsx)("div",{className:"".concat(s.nextDueAssignment," iseStudyHeader"),children:(0,L.jsxs)(c.c,{className:s.cardRoot,children:[(0,L.jsxs)(d.c,{className:s.cardContent,children:[(0,L.jsx)(h.c,{variant:"h3",component:"div",className:s.cardHeader,children:(0,L.jsx)(o.FormattedMessage,{id:"readyToStudy",defaultMessage:e.getText("screens.studyTools.READY_TO_STUDY"),values:{name:I.c.capitalize(t.name||"")}})}),(0,L.jsx)(h.c,{variant:"body1",className:s.dueNextMsg,children:(0,L.jsx)(o.FormattedMessage,{id:"recentlyFinishedStudy",defaultMessage:e.getText("screens.studyTools.START_YOUR_REVIEW")})})]}),(0,L.jsx)(p.c,{children:(0,L.jsx)(m.c,{variant:"outlined",color:"primary",size:"medium",onClick:this.openFirstChapter,className:s.cardActions,children:(0,L.jsx)(o.FormattedMessage,{id:"studyChapter",defaultMessage:e.getText("screens.studyTools.STUDY_CHAPTER")})})})]})});g().publish(S.HEADER_HIGHLIGHTS,{data:n})},this.renderShimmer=()=>{const{classes:e}=this.props,t=(0,L.jsx)("div",{className:"highlightsContainer",children:(0,L.jsx)("div",{className:"nextDueAssignment",children:(0,L.jsxs)("div",{className:"welcomeContainer",children:[(0,L.jsx)("div",{className:"".concat(e.line1," shimmerBlue")}),(0,L.jsx)("div",{className:"".concat(e.line2," shimmerBlue step2")}),(0,L.jsx)("div",{className:"startBtn",children:(0,L.jsx)("div",{className:"".concat(e.line3," shimmerBlue step3")})})]})})});g().publish(S.HEADER_HIGHLIGHTS,{data:t})},this.handleRedirection=(e,t,s)=>{let n="";if(t?(n=e.topicId,t.retainHistory=t.id,t.isFromRapidReview=s,I.c.setRapidData(t)):(n=e.pageUrn,N.c.setMultimedia(e)),!y.c.redirectToViewer(this.props.course.id,n)){const e="/courses/".concat(this.props.course.id,"/pages/").concat(n,"?").concat(S.SOURCE,"=").concat(S.STUDY);this.props.history.push(e)}},this.getAssessmentConfig=()=>{const e={},t={},s="".concat(T.c.GLP_PLA_CONFIG_URL,"/products/").concat(T.c.PRODUCT_MODEL,"/")+"course_sections/".concat(this.props.course.id,"/assessments/assessment_id/sourceId/").concat(S.REVEL_STUDY_GUIDE,"/policy"),n=T.c.GLP_CITE_ASSESSMENT_CLIENT_URL;return t.metadata={environment:T.c.NAME,policyUrl:"".concat(s),userId:this.props.user.id,contextId:this.props.course.id,acsBaseUrl:"".concat(n),onEvent:()=>{},sourceId:S.REVEL_STUDY_GUIDE},t.gtmGenericData={product:T.c.PRODUCT_TITLE,productId:this.props.course.productId,appVersion:P.WU},e.acsConfig=t,e.maxCount=10,e.isGLP=this.isGLP(),e.handleRedirection=this.handleRedirection,e},this.renderAdjustableHeader=()=>{const e=(0,L.jsx)("div",{className:"highlightsContainer"});g().publish(S.HEADER_HIGHLIGHTS,{data:e})};const t=I.c.getRapidData(),s={isGLP:this.isGLP(),tibronClient:I.c.graphQLClient,maxCount:10,sectionId:this.props.course.id,productId:this.props.course.productId,reStorageData:{...t}};Object.keys(t).length&&I.c.clearRapidData(),this.studyGuideClient=new l.StudyGuideServices(_.c.csgApi,this.props.course.indexId,T.c.NAME,T.c.CLIENT_APP,T.c.APPLICATION_ID,10,s),this.plaClient=new l.PlaServices(_.c.plaApi,this.props.course.indexId),this.rapidReviewSummaryServices=new l.RapidReviewSummaryServices(I.c.graphQLClient),_.c.citeContentApi.defaults.baseURL=this.props.course.prefix,this.interactiveClient=new x.c(_.c.citeContentApi),this.state={showChapters:!1,chapterIndex:null,fetched:!1,isEmpty:!1,isPrev:null,chapterCardFocusId:null},this.firstChapterTitle="",this.isAssignmentListFetched=v.default.assignments.isListFetched||v.default.assignments.isSLPListFetched,this.assignmentsItemCount=v.default.assignments.assignments.length}componentDidMount(){this.studyAccessTokenSubscription=g().on(S.REFRESH_STUDY_ACCESS_TOKEN_EVENT,(()=>{this.studyGuideClient.refreshGraphQLClientToken(I.c.graphQLClient),this.rapidReviewSummaryServices.refreshGraphQLClientToken(I.c.graphQLClient)}))}componentWillUnmount(){this.pageUnloads(),this.studyAccessTokenSubscription&&this.studyAccessTokenSubscription()}render(){const{language:e,classes:t,intl:s,user:n}=this.props,{isPrev:i}=this.state,a={isPrev:i,transitionDuration:300};return document.title=A.c.setPageTitle(e.getText("tabs.TOOLS")),this.getChapterData&&!this.isGLP()?this.renderStudyHeader():this.renderAdjustableHeader(),this.state.fetched||this.renderShimmer(),(0,L.jsxs)("div",{className:"".concat(t.wrapper," ").concat(this.isGLP()||this.state.isEmpty?"":"studyILP"," ").concat(this.state.fetched?"":"studyLoading"," ").concat(this.state.showChapters?"showChapters":""),children:[this.state.fetched?null:(0,L.jsx)("div",{className:"".concat(t.studyPlaceholder," shimmerGrey step2")}),(0,L.jsx)(l.StudyGuideComponent,{studyGuideClient:this.studyGuideClient,plaClient:this.plaClient,getAssessmentClient:this.rapidReviewSummaryServices,locale:s.locale,interactiveClient:this.interactiveClient,getChapterDetails:this.setHandler,handleAPIResponse:this.handleAPIResponse,showChapters:this.state.showChapters,chapterIndex:this.state.chapterIndex,onMediaClick:this.handleRedirection,baseURL:T.c.REVEL_CONTENT_HOST,copyRightContent:this.getCopyRightContent(),userName:n.name,isListView:!0,animationContext:a,...this.getAssessmentConfig(),openNoteBook:this.openNoteBook,assignmentsItemCount:this.assignmentsItemCount,isAssignmentListFetched:this.isAssignmentListFetched,chapterCardFocusId:this.state.chapterCardFocusId})]})}})||f)||f;O.defaultProps={intl:{}};const R=(0,E.withLDConsumer)()((0,r.c)(C)((0,a.Ak)((0,o.injectIntl)(O))))},33096:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});class n{constructor(e){this.get=e=>this.client.get(e.uri),this.client=e}}},96812:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>an});var n=s(99584),i=s(40308),a=s.n(i),o=s(66429),r=s(32308),l=s(44092),c=s.n(l),d=s(85524),p=s(83440),h=s(19480),u=s(47164),g=s(60200),m=s(84804),E=s(54299),T=s(66064),S=s(22220),_=s(95240),A=s(59808),I=s(584),C=s(49623),f=s(97884);const x=n.lazy((()=>Promise.resolve().then(s.t.bind(s,53428,23)).then((e=>({default:e.SingleCardFlashcard}))))),y=(0,u.c)((e=>{let t,{pagePlaylist:s,pageIdRequested:n,assessmentItemId:i,handleFilmStripOpen:a,onPageRequest:o,annotationId:r,isCiteContent:l,handlePageLoad:c,onPageClick:d,currentPageLoaded:p,chapterPlaylist:h,handleCiteAssessmentEvent:u,versionId:m,pageAudioResource:E,preferencesTheme:S,hideFilmstripOpener:_,isFilmstripInteraction:y,updateFilmstripInteraction:N,fromSearchInteraction:P,isFilmstripClose:v,pageLoaded:L,forceRefresh:O,theme:R,childComponents:D}=e;const b={flashcards:x};return t=l&&C.c.ENABLE_QUICK_VIEW?h&&h.length>0?(0,f.jsx)(A.SenseOfPlacePreviewComponent,{standAloneMode:!0,data:{pages:h,pagePlayList:s},currentPageId:n,assessmentItemId:i,viewerContentType:I.VIEWER_CONTENT_TYPE_CITE,onFilmStripOpen:a,onPageRequest:o,onPageLoad:c,currentPageLoaded:p,onEvent:u,annotationId:r,versionId:m,preferencesTheme:S,hideFilmstripOpener:_,pageAudioResource:E,isFilmstripInteraction:y,updateFilmstripInteraction:N,fromSearchInteraction:P,isFilmstripClose:v,pageLoaded:L,forceRefresh:O,componentConfig:b,childComponents:D}):(0,f.jsx)(g.Progress,{style:R.progress.material.style}):(0,f.jsx)(T.VegaViewPager,{pagePlayList:s,onPageClick:d,currentPageId:n,assessmentItemId:i,onPageLoad:c,currentPageLoaded:p,onEvent:u,onScroll:()=>{},annotationId:r,versionId:m,pageAudioResource:E,pageLoaded:L,forceRefresh:O,componentConfig:b,childComponents:D}),t}));var N=s(41228);const P=e=>{let{preference:t,isPreferencesOpen:s,onPreferenceChange:i,anchorEl:a}=e;const o=(0,n.useRef)(),r=e=>{(e.shiftKey&&"Tab"===e.key||"Tab"===e.key)&&e.preventDefault()};return(0,n.useEffect)((()=>(o.current.addEventListener("keydown",r),()=>{o.current.removeEventListener("keydown",r)})),[]),(0,f.jsx)("div",{ref:o,children:(0,f.jsx)(N.OldPreferencesComponent,{min:I.PREFERENCE_MIN_FONTSIZE,max:I.PREFERENCE_MAX_FONTSIZE,open:s,theme:t.theme,fontSize:t.fontSize,onPreferenceChange:i,disableBackgroundColor:!C.c.ENABLE_THEME,annotationsHidden:!1,anchorEl:a,placement:"bottom-end"})})};var v=s(17435),L=s(94872);s(65652);const O=()=>({headerRoot:{"& #vega-app-bar":{position:"relative"},"& #vega-app-bar-title":{zIndex:1100},"&.filmStripOpen":{marginLeft:"184px",width:"calc(100% - 184px)"},"&.filmstripExpand":{marginLeft:"300px",width:"calc(100% - 300px)"}}});var R=s(17384);const D=R.c.enabled?I.SLP_HEADER_HEIGHT:50,b="transparent";class w extends n.Component{constructor(e){var t;super(e),t=this,this.getAppBarColor=()=>{let e=this.props.color;return this.props.isChapterOpener&&this.getCurrentScrollPosition()<this.getChapterOpenerHeight()-D&&(e=this.state.color),this.props.isAssessmentPage&&this.getCurrentScrollPosition()<35&&(e=b),(this.props.isAssessmentPage||this.props.isChapterOpener)&&this.isMobileView()&&(e=this.state.color),e},this.isMobileView=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props.drawerOpen;return window.innerWidth<695&&e},this.getChapterOpenerHeight=()=>{const{chapterOpenerSelector:e}=this.props;return document.querySelector(e)&&document.querySelector(e).clientHeight},this.getCurrentScrollPosition=()=>{let e=window.pageYOffset;return this.filmStrip&&this.element&&(e=this.element.scrollTop),e},this.handleContentLoaded=()=>{this.filmStrip=document.querySelector(".filmstrip-wrapper-viewer"),this.slateHeader=document.querySelector(".container .heading1NummerEins"),this.element=this.filmStrip?document.querySelectorAll(".filmstrip-wrapper-viewer .page-content")[0]:window;const{isChapterOpener:e,isAssessmentPage:t,titleData:s}=this.props;this.element.addEventListener("scroll",this.handleScroll,!1),window.addEventListener("resize",this.handleResize,!1),e||t?this.isMobileView()?this.setState({headerTitle:s.pageTitle}):this.setState({headerTitle:"",color:b}):this.setState({headerTitle:s.chapterTitle})},this.handleResize=()=>{(this.props.isChapterOpener||this.props.isAssessmentPage)&&(this.isMobileView()?this.setData(this.props.titleData.pageTitle,this.props.color):this.setData("",b))},this.handleScroll=()=>{const{pageTitle:e,chapterTitle:t}=this.props.titleData;!this.slateHeader||this.props.isChapterOpener||this.props.isAssessmentPage?this.getCurrentScrollPosition()>this.getChapterOpenerHeight()-D||(this.props.isChapterOpener||this.props.isAssessmentPage)&&this.isMobileView()?this.setData(this.props.isAssessmentPage?"":e,this.props.color):this.setData("",b):this.getCurrentScrollPosition()>this.slateHeader.clientHeight+30?this.setData(e):this.setData(t),R.c.enabled&&this.props.onPageScroll(this.state.color,this.props.isAssessmentPage)},this.setData=(e,t)=>{this.setState((s=>({headerTitle:e,color:t||s.color})))},this.handleDrawerClick=()=>{this.props.onDrawerClick(this.props.isSLP?this.getAppBarColor():"")},this.state={headerTitle:e.titleData.chapterTitle,headerClasses:e.titleData.classname,isFilmStripOpen:e.isFilmStripOpen,isfilmstripExpand:e.isfilmstripExpand}}UNSAFE_componentWillReceiveProps(e){const{isAssessmentPage:t,isChapterOpener:s,drawerOpen:n,titleData:i}=e;if(i.params.pageId!==this.props.titleData.params.pageId&&((t||s)&&this.isMobileView(n)?this.setState({headerTitle:i.pageTitle,headerClasses:i.classname,color:e.color}):this.setState({headerTitle:t?"":i.chapterTitle,headerClasses:i.classname}),this.hasNavigated=!0),i.classname!==this.props.titleData.classname&&this.setState({headerClasses:i.classname}),t&&!this.isMobileView(n)&&this.setState({headerTitle:""}),this.setState({isFilmStripOpen:e.isFilmStripOpen,isfilmstripExpand:e.isfilmstripExpand}),this.props.drawerOpen!==n&&(s||t)){const{pageTitle:t}=i;this.isMobileView(n)?this.setData(t,e.color):this.setData("",b)}}componentDidMount(){document.body.addEventListener("contentLoaded",this.handleContentLoaded),window.addEventListener("resize",this.handleResize,!1)}componentWillUnmount(){this.element&&this.element.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleResize,!1),document.body.removeEventListener("contentLoaded",this.handleContentLoaded)}render(){const{bookmarkOn:e,drawerOpen:t,classes:s,onBackClick:n,onSearchClick:i,onPrefClick:a,onBookmarkClick:o,onAudioClick:r,onAudioAction:l,onKeyDown:c,onInAppHelpClick:d,config:p,handleRemoveBookmark:h,showUndo:u,backToolTip:g,isSLP:E}=this.props,T=this.state.isFilmStripOpen?"filmStripOpen ":"",S=this.state.isFilmStripOpen&&this.state.isfilmstripExpand?"filmstripExpand ":"",_=this.state.headerTitle;return(0,f.jsxs)("div",{className:"".concat(s.headerRoot," ").concat(this.state.headerClasses," ").concat(T," ").concat(S),children:[(0,f.jsx)(m.VegaAppBarComponent,{bookmarkOn:e,color:this.getAppBarColor(),drawerOpen:t,onBackClick:n,onDrawerClick:this.handleDrawerClick,onSearchClick:i,onPrefClick:a,onBookmarkClick:o,onInAppHelpClick:d,onAudioClick:r,onAudioAction:l,onKeyDown:c,title:_,backToolTip:g,config:p,isSLP:E,backIconName:E?"Remove":"ArrowBack",isAudioOpen:this.props.isAudioOpen,isHelpOpen:this.props.isHelpOpen,isPreferencesOpen:this.props.isPreferencesOpen,isSearchOpen:this.props.isSearchOpen}),u&&(0,f.jsx)(m.UndoOption,{isOpen:u,handleRemoveBookmark:h,waitTime:3e3,undoText:this.props.language.getText("bookmarkToolTip.UNDO"),removeMessage:this.props.language.getText("bookmarkToolTip.REMOVED_MESSAGE")})]})}}w.defaultProps={bookmarkOn:!1,chapterOpenerSelector:"header.alt, header#header",color:"default",drawerOpen:!1,isChapterOpener:!1,onBackClick:()=>{},onDrawerClick:()=>{},onSearchClick:()=>{},onPrefClick:()=>{},onBookmarkClick:()=>{},onAudioClick:()=>{},onAudioAction:()=>{},onKeyDown:()=>{},onInAppHelpClick:()=>{},titleData:{},isFilmStripOpen:!1,isfilmstripExpand:!1,handleRemoveBookmark:()=>{},showUndo:!1,language:a().object,backToolTip:{},onPageScroll:()=>{},isSLP:!1};const M=(0,h.c)(O)(w);var U=s(91536),k=s(57520),j=s(80704),H=s(36104),B=s(24540),F=s(81160),G=s(99644);const Y=e=>(0,f.jsx)(F.c,{...e,children:(0,f.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,f.jsx)("path",{d:"M1 1h22v22H1z"}),(0,f.jsx)("path",{fill:"#038238",fillRule:"nonzero",d:"M12 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11-4.925 11-11 11z"}),(0,f.jsx)("path",{fill:"#038238",fillRule:"nonzero",d:"M12 19.333a7.333 7.333 0 1 1 0-14.666 7.333 7.333 0 0 1 0 14.666z"}),(0,f.jsx)("path",{fill:"#FFF",d:"M10.882 15.591a.847.847 0 0 0 .031-.033l4.995-5.828a.834.834 0 1 0-1.233-1.121l-4.411\n         5.185-1.883-1.882a.834.834 0 1 0-1.179 1.179l2.501 2.5a.834.834 0 0 0 1.179 0z"})]})}),V=e=>(0,f.jsx)(Y,{...e,style:G.c,viewBox:"0 0 24 24"}),W=e=>{let{openDialog:t,arrangeContents:s,handlePopUpClose:n,handleCancel:i,handleOk:a,language:o}=e;const r={modal:!0,open:t},l={closeIcon:{float:"right",padding:"0px",margin:"5px 5px 0px 0px",width:"24px",height:"24px"},correctIcon:{padding:"0px",width:"18px",height:"18px"}},c={height:"100px",padding:"0px",margin:"0px"},d={padding:"34px 34px 34px 34px"},p={width:"580px",transform:"none"};let h,u=null;if(s)r.bodyStyle=c,r.contentStyle=p,r.style=d,h=(0,f.jsxs)("div",{className:"popupChildren",children:[(0,f.jsx)("div",{children:(0,f.jsx)("span",{children:(0,f.jsx)(B.c,{style:l.closeIcon,onClick:n})})}),(0,f.jsxs)("div",{className:"popupContent",children:[(0,f.jsx)("div",{className:"popupCorrectIcon",children:(0,f.jsx)(V,{style:l.correctIcon})}),(0,f.jsxs)("div",{className:"text",children:[(0,f.jsx)("p",{className:"textBold",children:o.getText("tocSuccessStatus")}),(0,f.jsx)("p",{className:"textNormal",children:o.getText("tocPublishMessage")})]})]})]}),u=(0,f.jsx)(k.c,{...r,children:h});else{const e=[(0,f.jsx)(U.c,{variant:"flat",onClick:i,children:"Cancel"}),(0,f.jsx)(U.c,{variant:"flat",keyboardFocused:!0,onClick:a,children:"OK"})];h=(0,f.jsx)("div",{className:"popupContent",children:o.getText("tocCancelMessage")}),u=(0,f.jsxs)(k.c,{bodyStyle:c,...r,children:[(0,f.jsx)(j.c,{classes:p,children:h}),(0,f.jsx)(H.c,{children:e})]})}return u};class z{constructor(e){this.unSubscriptionEvents=()=>{["pxeFrameSubscription","assignmentSubscription","materialSubscription","courseSubscription","trackOpenSubscription","trackCloseSubscription","scheduledSubscription","playListSubscription","assignmentListSubscription","assignmentAssetSubscription","updatedTocSubscription","pageNumberSubscription","assessmentLaunchSubscription"].forEach((e=>{const t=this.viewerContext[e];t&&t()}))},this.viewerContext=e}}class Q{constructor(e){var t=this;this.setSourcePath=()=>this.getQueryParamsValue(I.SOURCE)||C.c.CONTENT_PATH,this.getQueryParamsValue=e=>{const t=v.c.parseSource(this.viewerContext.props.history.location.search);return t.has(e)?t.get(e):""},this.fetchAssignmentStatus=()=>{if(!R.c.enabled){const e=this.viewerContext.props.assignmentId;e&&this.viewerContext.props.assignments.fetchStatus(e,this.viewerContext.props.courseId,!0)}},this.handleBacklinkClick=()=>{!this.viewerContext.props.course.isStudentView()&&this.viewerContext.props.course.platform===I.COURSE_TYPE_GLP?this.viewerContext.props.sendPostMessage("onBackButtonClick","page"):v.c.redirectToParent()||(this.fetchAssignmentStatus(),this.viewerContext.props.history.push("/courses/".concat(this.viewerContext.props.courseId,"/").concat(this.viewerContext.sourcePath)),g.EventProvider.getEventManager().dispatch({category:"BackIcon",action:"Click",data:{backLinkPage:"/courses/".concat(this.viewerContext.props.courseId,"/").concat(this.viewerContext.sourcePath)}}))},this.handleAssignmentTocClick=function(e,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.viewerContext.tocClicked=!0,t.viewerContext.isNext=null,t.viewerContext.setState({forceRefresh:!1});const i=e.assignmentId,a=e.id,o=t.getAssignmentPath(i,a);s&&(t.viewerContext.annotationId=s,t.viewerContext.updateFromSearchInteraction(!0)),t.viewerContext.openPage(o,n)},this.getAssignmentPath=(e,t)=>{const{playlistStore:s,userLastLocation:n,courseId:i}=this.viewerContext.props;this.viewerContext.searchHits=[],this.viewerContext.pageIdRequested=s.pageRefId(this.viewerContext.props.pageId)||this.viewerContext.pagePlaylist[0].id;const a=this.viewerContext.pagePlaylist.find((t=>t.id===this.viewerContext.pageIdRequested||t.id===e));return a&&"page"!==a.type&&(n.post(i,t,this.getLastVisitedPageInfo()),this.viewerContext.logPageUnLoad()),"/courses/".concat(i,"/assignments/").concat(e,"/pages/").concat(t,"?").concat(I.SOURCE,"=").concat(this.viewerContext.sourcePath)},this.getLastVisitedPageInfo=()=>({navigationFrom:this.viewerContext.sourcePath,assignmentId:this.viewerContext.props.assignmentId||null}),this.handleDashboardRedirection=()=>{let e="/courses/".concat(this.viewerContext.props.courseId,"/contents");this.viewerContext.props.assignmentId&&(e="/courses/".concat(this.viewerContext.props.courseId,"/").concat(v.c.getContentPath())),this.viewerContext.props.history.push(e)},this.viewerContext=e}}var K=s(39784);class q{constructor(e){var t=this;this.logPageLoad=e=>{this.viewerContext.props.timeontask.setInitialData(e,this.viewerContext.props.assignmentId||""),this.viewerContext.props.timeontask.calcTimeOnTask(I.CONTENT.TYPE.PAGE,I.CONTENT.ACTIONS.LOAD)},this.logBrixLoad=(e,t)=>{this.viewerContext.props.timeontask.setInitialBrix(e,t),this.viewerContext.props.timeontask.calcTimeOnTaskForBrix(I.CONTENT.TYPE.QUIZ,I.CONTENT.ACTIONS.LOAD,e)},this.logBrixUnLoad=e=>{this.viewerContext.props.timeontask.calcTimeOnTaskForBrix(I.CONTENT.TYPE.QUIZ,I.CONTENT.ACTIONS.UNLOAD,e)},this.logQuizFeedback=(e,t)=>{this.viewerContext.props.timeontask.calcTimeOnTaskForBrix(I.CONTENT.TYPE.QUIZ,I.CONTENT.ACTIONS.FEEDBACK,e,t)},this.handleFocusOnPageLoad=()=>{window.scrollTo(0,0),this.viewerContext.container&&this.viewerContext.container.childNodes&&this.viewerContext.container.childNodes.length&&this.viewerContext.container.childNodes[0].focus()},this.closest=(e,t,s)=>{let n,i=e;for(;i;){if(n=i.parentElement,n&&n.matches(t)||n&&n.matches(s))return n;i=n}return null},this.fetchHeaderTitle=(e,t,s)=>{if(e&&t){const n=e.find((e=>e.id===t));if(n)return s&&n.chapterTitle||n.title}return""},this.getHeaderIcons=()=>{const e={hideBack:!1,hideDrawerMenu:!0,hideSearch:!1,hideBookmark:R.c.enabled,hidePref:!1,hideAudio:Boolean(!this.viewerContext.props.materials.audioContents.length),hideOverflowMenu:!0,hideMediaOverlay:!0,hideISEDrawerMenu:!1},t=document.querySelector(".vega-pxe-viewer .viewer-body, .page-content .viewer-body");return C.c.HIDE_HEADER_ICONS&&!this.viewerContext.props.course.isStudentView()&&this.viewerContext.props.course.platform!==I.COURSE_TYPE_GLP&&(e.hideBack=!0,e.hideDrawerMenu=!0,e.hideISEDrawerMenu=!0,e.hideSearch=!0,e.hideBookmark=!0,e.hideInAppHelp=!0),t||(e.hidePref=!0,e.hideAudio=!0),this.viewerContext.state.isAssessmentPage&&(e.hideSearch=!0,e.hideBookmark=!0,e.hideInAppHelp=!0,e.hideAudio=!0,e.hidePref=!0),e},this.getHeaderTitle=()=>({params:this.viewerContext.props,classname:this.getHeaderClassname(),chapterTitle:this.fetchHeaderTitle(this.viewerContext.pagePlaylist,this.viewerContext.pageIdRequested,!0),pageTitle:this.fetchHeaderTitle(this.viewerContext.pagePlaylist,this.viewerContext.pageIdRequested,!1),isChapterOpener:this.viewerContext.state.isChapterOpener}),this.getHeaderClassname=()=>{let e="headerBar";return this.viewerContext.state.isChapterOpener?e="".concat(e," chapterOpenerPg"):this.viewerContext.state.isAssessmentPage&&(e="".concat(e," assessmentPg")),e},this.handleTheme=()=>{const e=this.viewerContext.pagePlaylist.find((e=>e.id===this.viewerContext.pageIdRequested));this.viewerContext.isApplyTheme=e&&-1!==["page","glossary","footnotes"].indexOf(e.type)},this.setChapterPlaylist=()=>{if(this.viewerContext.isCiteContent&&C.c.ENABLE_QUICK_VIEW){const e=this.viewerContext.pagePlaylist.find((e=>e.id===this.viewerContext.pageIdRequested)),t=e?e.chapterId:this.viewerContext.pageIdRequested;this.viewerContext.chapterPlaylist=this.viewerContext.pagePlaylist.filter((e=>e.chapterId===t))}},this.setChapterDetails=(e,t)=>{if(e&&t){const s=e.find((e=>e.id===t));if(s){let e="";const t=this.viewerContext.props.materials.toJSON().tocContent.list.find((e=>e.id===s.chapterId));e=t?t.title:"",this.viewerContext.noteClient.setChapterDetails(s.chapterId,e,s.title)}}},this.handleViewerWidgets=()=>{this.viewerContext.setPlaylistData(),this.setChapterPlaylist(),this.setChapterDetails(this.viewerContext.pagePlaylist,this.viewerContext.pageIdRequested),this.viewerContext.isCurrentPageBookmarked(),this.handleTheme();const e=this.viewerContext.handlePageAudio();return{headerTitle:this.getHeaderTitle(),hideIcons:this.getHeaderIcons(),callbacks:this.widgetCallbacks(),toc:this.viewerContext.materialPlugin.getTocData(),bookmarks:this.viewerContext.bookmarkPlugin.bookmarks(),audio:e}},this.widgetCallbacks=()=>({drawerCallbacks:{getToggleStatus:this.viewerContext.getToggleStatus,goToPageCallback:this.viewerContext.goToPageCallback,addBookmarkHandler:this.viewerContext.addBookmarkHandler,removeBookmarkHandler:this.viewerContext.removeBookmarkHandler,isCurrentPageBookmarked:this.viewerContext.isCurrentPageBookmarked,bookmarkHandler:this.viewerContext.bookMarkHandler,recentlyVisitedHandler:this.viewerContext.recentlyVisitedHandler},bookmarkCallbacks:{addBookmarkHandler:this.viewerContext.addBookmarkHandler,removeBookmarkHandler:this.viewerContext.removeBookmarkHandler,isBookmarked:this.viewerContext.props.bookmark.isBookmarked,classname:""}}),this.tocTraverse=(e,t)=>{e.forEach((e=>(e.id===t?e.id===this.viewerContext.pageIdRequested?this.viewerContext.isExpanded=!0:e.children&&e.children.length>0&&this.tocTraverse(e.children,this.viewerContext.pageIdRequested):e.children&&e.children.length>0&&this.tocTraverse(e.children,t),this.viewerContext.isExpanded)))},this.getColorPreferences=e=>({[I.COLOR_PREFERENCES.AKAROA]:I.COLOR_PREFERENCES.SEPHIA,[I.COLOR_PREFERENCES.BLACK]:I.COLOR_PREFERENCES.NIGHT,[I.COLOR_PREFERENCES.SECONDARY]:I.COLOR_PREFERENCES.SECONDARY}[e.toLowerCase()]||I.COLOR_PREFERENCES.DEFAULT),this.setLastLocationInHistory=()=>{const e=this.viewerContext.pagePlaylist.find((e=>e.id===this.viewerContext.pageIdRequested)),t={};if(e){const{chapterTitle:s,id:n,title:i}=e;t.contextId=this.viewerContext.props.courseId,t.contentUrn=n,t.chapterTitle=s,t.moduleTitle=i,t.assignmentId=this.viewerContext.props.assignmentId,this.viewerContext.props.historyStore.set(t)}},this.setCurrentChapterId=()=>{const e=this.viewerContext.pagePlaylist.find((e=>e.id===this.viewerContext.pageIdRequested));e&&e.chapterId&&(this.viewerContext.currentChapterId=e.chapterId)},this.handleNavonPageRequest=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];t.viewerContext.onPageRequest.apply(t.viewerContext.onPageRequest,s),t.viewerContext.isNavHit=!0},this.handleUpdateDrawerScroll=()=>{var e,t;R.c.enabled&&this.viewerContext.isNavHit&&(null===(e=this.viewerContext.scrollBarRef)||void 0===e||null===(t=e.current)||void 0===t||t.updateScroll(),this.viewerContext.isNavHit=!1)},this.handleMessage=e=>{let{type:t,data:s}=e;const n={courseId:this.viewerContext.props.courseId,assessmentId:s.assignmentId,activityId:s.activityId,contentStatus:this.viewerContext.props.contentStatus,contentType:this.viewerContext.props.contentType},i={frameLoaded:()=>{this.viewerContext.loadSearchHighlightData()},TdxStatus:()=>{const e={...n,pageId:this.viewerContext.pageIdRequested,studentId:this.viewerContext.props.user.id,productId:this.viewerContext.props.course.productId,source:this.viewerContext.props.course.source,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,action:s.action};s.action!==I.TDX_SEQUENCE_NODE_ACTION_REQUEST&&s.action!==I.TDX_SCORE_REQUEST||(c().publish(I.TDX_SEQUENCE_NODE_REQUEST,e),s.dirty&&(this.viewerContext.props.assignments.fetchStatus(this.viewerContext.props.assignmentId,this.viewerContext.props.courseId,!0),c().publish(I.OVERALL_GRADE_SYNC_REQUESTED,{courseId:this.viewerContext.props.courseId,forceRefresh:!0})))},QuizStatus:()=>{"subtitle-request"===s.action&&"onfeedback"===s.type&&(this.logQuizFeedback(s&&s.activityId,s.payload&&s.payload.eventData.timestamp),this.logBrixLoad(s.activityId,s.assignmentId),this.viewerContext.props.assignments.fetchStatus(this.viewerContext.props.assignmentId,this.viewerContext.props.courseId,!0));const e=-1!==["title-request","subtitle-request"].indexOf(s.action)&&"title-request"===s.action?I.ACTIVITY_DATA_REQUEST:I.ACTIVITY_STATUS_REQUEST;e&&c().publish(e,n)},BrixView:()=>{"brix-in-view"===s.action?(this.viewerContext.setState({isEmbeddedQuizLoaded:!0}),this.viewerContext.embeddedActivityId=s.activityId,this.logBrixLoad(s.activityId,s.assignmentId)):"brix-out-view"===s.action&&(this.viewerContext.setState({isEmbeddedQuizLoaded:!1}),this.logBrixUnLoad(s.activityId))},init:()=>{if(this.viewerContext.state.isEmbeddedQuizLoaded&&""!==this.viewerContext.embeddedActivityId){const e=this.viewerContext.embeddedActivityId;this.viewerContext.embeddedActivityId="",this.viewerContext.setState({isEmbeddedQuizLoaded:!1}),this.logBrixUnLoad(e)}}}[t];i&&i()},this.onCloseTagPopup=()=>{K.c.setShowExportTagPopupVal(this.viewerContext.props.user.id)},this.setFocusTrap=function(e){let t=null;arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t="vega-app-bar-in-app-help":arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t="vega-app-bar-pref":e&&R.c.enabled&&(t="vega-app-bar-menu"),t&&document.getElementById(t)&&document.getElementById(t).focus()},this.viewerContext=e,this.chapterList={}}}var X=s(24284);class Z{constructor(e){var t=this;this.fetchMaterials=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const s={courseId:t.viewerContext.props.course.id,productId:t.viewerContext.props.course.productId,indexId:t.viewerContext.props.course.indexId,contentType:t.viewerContext.props.course.contentType};t.viewerContext.props.materials.fetch(s,e)},this.getTocData=()=>{const e=this.viewerContext.props.materials.toJSON();let t=e.tocContent;C.c.ENABLE_OPTIONAL_MATERIALS&&(t=e.tocContent?X.c.getOriginalToc(e):{});const s=this.viewerContext.pagePlaylist.find((e=>e.id===this.viewerContext.pageIdRequested)),n=this.viewerContext.isCiteContent?C.c.TOC_DEPTH_CITE:C.c.TOC_DEPTH,i={separateToggleIcon:!0,data:{content:t,playingIndex:this.viewerContext.state.playingIndex,currentPageParentId:s?s.parentItemId:""},depth:n,childField:"children",isTocWrapperRequired:!1,clickTocHandler:this.viewerContext.goToPageCallback,handleTocExpand:this.viewerContext.handleTocExpand};if(C.c.ENABLE_OPTIONAL_MATERIALS){const t=e.tocContent?X.c.getOptionalToc(e):{};t&&t.list.length&&(i.optionalData={content:t,playingIndex:this.viewerContext.state.playingIndex})}return{toc:i,configureToc:{dropLevelType:"WITH_IN_SAME_LEVEL",citeManifest:L.c.getCiteManifest(),tocContents:e.tocContent.list,tocLevel:4,dndType:"TableOfContents",tocHeight:385,onPublish:this.viewerContext.handlePublish,onResetTocContent:this.handleReset,handleDashBoard:()=>{},onTocChange:e=>{this.viewerContext.isTocUpdated=e},listenBrowserEvents:!0}}},this.handleReset=()=>{const e={courseId:this.viewerContext.props.course.id,productId:this.viewerContext.props.course.productId,contentType:this.viewerContext.props.course.contentType,tocProvider:this.viewerContext.props.course.tocProvider};this.viewerContext.props.materials.handleReset(e),this.viewerContext.updatedTocSubscription||(this.viewerContext.updatedTocSubscription=c().on(I.CUSTOMIZED_TOC_UPDATED,(()=>{this.viewerContext.isTocUpdated=!1,this.fetchMaterials(!0),c().on(I.MATERIAL_DATA_FETCHED,(()=>{this.viewerContext.setState({openPopup:!0,toggleToc:!0}),this.viewerContext.props.playlistStore.fetchCoursePlayList(this.viewerContext.props.courseId,!0)}))})))},this.getNavigationPageID=e=>{if(e.length>0){const t=e.find((e=>e.id===this.viewerContext.pageIdRequested||e.contentId&&e.contentId===this.viewerContext.pageIdRequested||e.assessmentId&&e.assessmentId===this.viewerContext.pageIdRequested));return t?t.id:I.STATUS_NOT_AVAILABLE}return this.viewerContext.pageIdRequested},this.getNavigationPlayList=()=>{let e=this.viewerContext.pagePlaylist,t=this.viewerContext.pageIdRequested;if(R.c.enabled){const{isChapterTOC:s}=this.viewerContext.state,{assignmentId:n,playlistStore:i}=this.viewerContext.props;n&&s?(e=i.coursePlaylist.toJSON(),t=this.getNavigationPageID(e),t===I.STATUS_NOT_AVAILABLE&&(e=[{id:I.STATUS_NOT_AVAILABLE,title:I.STATUS_NOT_AVAILABLE},...e])):void 0!==n||s||(e=i.assignmentPlayList&&i.assignmentPlayList.length>0?i.assignmentPlayList.toJSON():this.viewerContext.pagePlaylist,t=this.getNavigationPageID(e),t===I.STATUS_NOT_AVAILABLE&&(e=[{id:I.STATUS_NOT_AVAILABLE,title:I.STATUS_NOT_AVAILABLE},...e]))}return[e,t]},this.viewerContext=e}}var J=s(35872),$=s.n(J),ee=s(72728),te=s(98992);class se{static fetchSearchData(e,t,s,n,i){return te.c.csgApi.post("/v4/autoComplete",se.getSearchPayload(e,t,s,n,i))}static getSearchPayload(e,t,s,n,i){return{searchType:"FACET",queryString:t,filter:["indexId:".concat(e),"userId:".concat(n),"contextId:".concat(i)],groupSize:20,startIndex:s}}static recordSearchTerm(e,t,s){const n={};return n.queryString=t,n.indexId="indexId:".concat(s),n.requestId=e,te.c.csgApi.put("/v4/autoComplete?feedback=true",n)}static searchHistory(e,t){const s={params:{userId:e,indexId:"indexId:".concat(t),responseSize:I.SEARCH_HISTORY_RESPONSE_LIMIT}};return te.c.csgApi.get("/v3/searchHistory",s)}static clearSearchHistory(e,t){return te.c.csgApi.delete("/v3/searchHistory",{params:{indexId:"indexId:".concat(e),...t}})}}var ne=s(51784);class ie{constructor(e){var t=this;this.handleClearInput=()=>{this.searchText=""},this.handleSearchClose=()=>{this.viewerContext.state.searchText!==this.searchText&&this.viewerContext.setState({searchText:this.searchText})},this.handleSearch=(e,t)=>(this.searchText=e,this.viewerContext.indexId=this.viewerContext.indexId||this.viewerContext.getIndexId(),new Promise(((s,n)=>{se.fetchSearchData(this.viewerContext.indexId,e,t,this.viewerContext.props.user.id,this.viewerContext.props.courseId).then((e=>{this.viewerContext.searchHits=e.data.wordHits;const t={requestId:e.data.requestId,searchResults:e.data.searchResults,count:e.data.count,wordHits:e.data.wordHits},n=m.Utilities.formatFacetData(t,C.c.REVEL_CONTENT_HOST);s(n)}),(e=>{n(e.response.data)}))}))),this.handleSearchHistory=()=>new Promise(((e,t)=>{const s=this.viewerContext.indexId||this.viewerContext.getIndexId(),n={term:"source.Search_Query_Terms",searchResults:"searchResults"};se.searchHistory(this.viewerContext.props.user.id,s).then((t=>{const s=m.Utilities.formatSearchData(t.data,n);e(s)}),(e=>{t(e.response&&e.response.data)}))})),this.searchWithLabel=(e,t,s,n)=>{t&&s&&n-60<=0&&(this.viewerContext.searchHits=s.label||"",this.highlightSearchKeyWord(e,t))},this.scrollDelay=(e,t,s)=>{setTimeout((()=>{const n=e.body.scrollTop||e.querySelector("html").scrollTop;this.searchWithLabel(e,t,s,n)}),500)},this.highlightSearchKeyWord=(e,t,s)=>{const n=this.isParticularWordSearch?this.pageAndGlossaryData:this.viewerContext.searchHits,i=new($())(e),a=t?"noHighlight":"searchHighlight";i.unmark();const o={element:"span",className:a,separateWordSearch:!this.isParticularWordSearch,exclude:this.isParticularWordSearch?["p",".filmstrip-content",".searchResultContainer",".definition"]:[],done:()=>{if(n.length){let n=0;if(this.viewerContext.isCiteContent){const i=e.getElementsByClassName(a)[0];n=i&&i.getBoundingClientRect().top+e.scrollTop,C.c.ENABLE_QUICK_VIEW?e.scrollTo(0,n-60):window.scrollTo(0,n-60),this.searchWithLabel(e,t,s,n)}else{this.isContentIframeScrolled(".".concat(a))&&this.scrollDelay(e,t,s)}}}};t&&(o.separateWordSearch=!1,o.acrossElements=!0),i.mark(n,o)},this.handleSearchPageClick=(e,t,s)=>{if(s&&"CustomNote"!==e.annotationType){ne.c.clearData();const s=!1,n=e&&e.type.toLowerCase(),i=this.viewerContext.isCiteContent&&n===I.CHAPTER.toLowerCase()?e.pageURL:e.glossaryUrn||e.pageUrn,a=i&&i.indexOf(C.c.OPS_PREFIX),o=a>=0&&!this.viewerContext.isCiteContent?i.substr(a,i.length):i;if(this.viewerContext.determinePageIndex(o),this.isParticularWordSearch=!1,n===I.MULTI_MEDIA_TYPE.INTERACTIVE?ne.c.setMultimedia({...e,isFromSearch:!0}):n===I.PAGENUMBER||n===I.GLOSSARY?(this.pageAndGlossaryData=e.exactPageNo&&e.exactPageNo.toString()||e.glossaryTerm,this.isParticularWordSearch=!0):n===I.NOTE&&(this.viewerContext.annotationId=e.noteId),this.viewerContext.updateFromSearchInteraction(!0),n===I.MULTI_MEDIA_TYPE.FIGURE){ne.c.setMultimedia({...e,isFromSearch:!0});const t=ne.c.getMultimedia();this.setHighlightData(t)}if(this.viewerContext.requestedPageId===this.viewerContext.pageIdRequested&&this.viewerContext.searchHits&&this.viewerContext.searchHits.length){const e=ne.c.getMultimedia();this.setHighlightData(e)}this.handleSearchState(s,t,!1)}const n=this.viewerContext.indexId||this.viewerContext.getIndexId();se.recordSearchTerm(e.requestId,t,n)},this.getSearchHits=e=>{const t=ee.SearchCache.getCachedResults(e);return t.searchResults&&t.searchResults.wordHits||[]},this.getDocument=()=>document,this.findInElement=(e,t)=>e.querySelector(t),this.scrollToElement=(e,t,s,n)=>{const i=e,a=this.findInElement(i,t),o=Array.isArray(a)?a[0]:a,r=o&&s?o.closest(s):o;if(this.viewerContext.isCiteContent){const t=(r&&(r.offsetTop||0))-100;C.c.ENABLE_QUICK_VIEW?e.scrollTo(0,t):window.scrollTo(0,t),t<=0&&n&&this.highlightSearchKeyWord(e,n.searchKeyword)}else this.isContentIframeScrolled(r)},this.searchByMethod=(e,t)=>{t&&Object.keys(t).length?this.viewerContext.isCiteContent||t.type!==I.MULTI_MEDIA_TYPE.VIDEO?t.path?this.scrollToElement(e,'[src^="'.concat(t.path,'"]'),I.MULTI_MEDIA_TYPE.FIGURE,t):t.interactiveId?this.scrollToElement(e,'[data-uri="'.concat(t.interactiveId,'"]'),I.MULTI_MEDIA_TYPE.FIGURE):t.searchKeyword&&this.highlightSearchKeyWord(e,t.searchKeyword):this.highlightSearchKeyWord(e,t.searchKeyword,t):this.highlightSearchKeyWord(e)},this.setHighlightData=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s={};const n=t.getDocument();if(t.viewerContext.isCiteContent)s=C.c.ENABLE_QUICK_VIEW?t.findInElement(n,".page-content"):t.findInElement(n,".viewer-container");else{const e=n.getElementById("contentIframe");e&&e.contentWindow&&(s=e.contentWindow.document)}t.searchByMethod(s,e)},this.handleClearSearchHistory=e=>{const t=this.viewerContext.indexId||this.viewerContext.getIndexId(),s={};return e&&e.term&&(s.queryString=e.term),new Promise(((e,n)=>{se.clearSearchHistory(t,s).then((t=>{e(t)}),(e=>{n(e)}))}))},this.isContentIframeScrolled=e=>{const t=document.getElementById("contentIframe");if(t&&t.contentWindow){const{pearsoned:s}=t.contentWindow;if(s&&s.Vega&&s.Vega.Util)return s.Vega.Util.scrollToElement(e),!0}return!1},this.handleSearchState=function(e,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.viewerContext.setState({isSearchOpen:e,searchText:s,isSelectedContent:n})},this.setSearchTextFromViewer=e=>{if(e){const{highlight:t}=e.payload,s=ee.Utilities.highlightedContent(t);s&&s.trim().length>0&&this.handleSearchState(!0,s,!0)}},this.viewerContext=e,this.pageAndGlossaryData="",this.searchText=""}}class ae{constructor(e){var t=this;this.isPageHasAudio=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=null;const n=t.viewerContext.props.materials.audioContents.toJSON();return Object.keys(n).forEach(((e,i)=>{const a=n[i].id;a===t.viewerContext.pageIdRequested&&(s=Object.assign({},n[i]),s.pageId=a,s.isPage=!0)})),e||(t.viewerContext.audioInfo=s),s},this.getAudioTrackInfo=()=>{let e=null;return window.sessionStorage.getItem(I.AUDIO_PLAYER)&&(e=JSON.parse(window.sessionStorage.getItem(I.AUDIO_PLAYER))),e},this.viewerContext=e}}class oe{constructor(e){this.bookmarks=()=>({bookmarksArr:this.viewerContext.props.bookmark.bookmarks.toJSON().slice(),isBookmarkLoaded:this.viewerContext.props.bookmark.isBookmarkLoaded}),this.viewerContext=e}}var re=s(7170);class le{get(){return{id:re.default.user.id,token:re.default.user.token}}}var ce=s(45452),de=s(17604),pe=s(39592),he=s(28660),ue=s(28072),ge=s(39388),me=s(40208),Ee=s.n(me),Te=s(10360),Se=s(92016);const _e=(0,r.uU)("language")((0,r.QT)((e=>{let{date:t,language:s}=e;return(0,f.jsx)("div",{className:"datezoneDisplay",children:Number.isNaN(t&&t.getTime())?s.getText("screens.assignments.NO_DUE"):(0,f.jsx)(ce.FormattedMessage,{id:"typesAndPoints",defaultMessage:s.getText("screens.assignments.DUE"),values:{date:(0,f.jsx)(ce.FormattedDate,{value:t,day:"2-digit",month:"long",year:"numeric"}),time:(0,f.jsx)(ce.FormattedTime,{value:t}),zone:Se.c.getTimeZone()}})})})));var Ae=s(4260),Ie=s(34952);const Ce=e=>(0,f.jsx)(F.c,{...e,children:(0,f.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,f.jsx)("path",{d:"M0 0h24v24H0z"}),(0,f.jsx)("circle",{cx:"12",cy:"12",r:"4",stroke:"#979797",strokeWidth:"2"})]})}),fe=e=>(0,f.jsx)(Ce,{...e,style:G.c,viewBox:"0 0 24 24"}),xe=e=>(0,f.jsx)(F.c,{...e,children:(0,f.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,f.jsx)("path",{stroke:"#D9D9D9",strokeLinecap:"round",strokeWidth:"1.833",d:"M19.414 5.275L4.257 18.914"}),(0,f.jsx)("path",{d:"M2.417 2.417h9.167v9.167H2.417z"}),(0,f.jsx)("path",{fill:"#038238",fillRule:"nonzero",d:"M7 11.583a4.583 4.583 0 1 1 0-9.166 4.583 4.583 0 0 1 0 9.166z"}),(0,f.jsx)("path",{fill:"#038238",fillRule:"nonzero",d:"M7 10.056a3.056 3.056 0 1 1 0-6.112 3.056 3.056 0 0 1 0 6.112z"}),(0,f.jsx)("path",{fill:"#FFF",d:"M6.534 8.496a.353.353 0 0 0 .013-.014l2.081-2.428a.347.347 0 0 0-.514-.467l-1.837 2.16-.785-.784a.347.347\n         0 0 0-.491.491l1.042 1.042a.347.347 0 0 0 .491 0z"}),(0,f.jsx)("path",{fill:"#FFF",d:"M6.568 8.837a.56.56 0 0 0 .02-.022l3.27-3.885a.563.563 0 0 0-.037-.785.539.539 0 0 0-.77.037L6.163\n         7.639 4.931 6.384a.539.539 0 0 0-.771 0 .563.563 0 0 0 0 .786l1.637 1.667a.539.539 0 0 0 .771 0z"}),(0,f.jsxs)("g",{children:[(0,f.jsx)("path",{d:"M12.417 12.417h9.167v9.167h-9.167z"}),(0,f.jsx)("path",{fill:"#CC4E4C",fillRule:"nonzero",d:"M17 21.583a4.583 4.583 0 1 1 0-9.166 4.583 4.583 0 0 1 0 9.166z"}),(0,f.jsx)("path",{fill:"#CC4E4C",fillRule:"nonzero",d:"M17 20.056a3.056 3.056 0 1 1 0-6.112 3.056 3.056 0 0 1 0 6.112z"}),(0,f.jsx)("path",{fill:"#FFF",d:"M17 16.46l-1.067-1.067a.382.382 0 0 0-.54.54L16.46 17l-1.067 1.067a.382.382 0 0 0 .54.54L17 17.54l1.067\n           1.067a.382.382 0 1 0 .54-.54L17.54 17l1.067-1.067a.382.382 0 1 0-.54-.54L17 16.46z"})]}),(0,f.jsx)("path",{fill:"#FFF",d:"M17 16.371l-1.241-1.24a.444.444 0 1 0-.629.628L16.371 17l-1.24 1.241a.444.444 0 1 0 .628.629L17 17.629l1.241\n         1.24a.444.444 0 1 0 .629-.628L17.629 17l1.24-1.241a.444.444 0 1 0-.628-.629L17 16.371z"})]})}),ye=e=>(0,f.jsx)(xe,{...e,style:G.c,viewBox:"0 0 24 24"}),Ne=e=>(0,f.jsx)(F.c,{...e,children:(0,f.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,f.jsx)("path",{d:"M1 1h22v22H1z"}),(0,f.jsx)("path",{fill:"#CC4E4C",fillRule:"nonzero",d:"M12 23C5.925 23 1 18.075 1 12S5.925 1 12 1s11 4.925 11 11-4.925 11-11 11z"}),(0,f.jsx)("path",{fill:"#CC4E4C",fillRule:"nonzero",d:"M12 19.333a7.333 7.333 0 1 1 0-14.666 7.333 7.333 0 0 1 0 14.666z"}),(0,f.jsx)("path",{fill:"#FFF",d:"M12 10.704l-2.56-2.56A.917.917 0 0 0 8.143 9.44l2.56 2.56-2.56 2.56a.917.917 0 0 0 1.297 1.297l2.56-2.56 2.56 2.56a.917.917 0 0 0 1.297-1.297L13.297 12l2.56-2.56a.917.917 0 1 0-1.297-1.297L12 10.703z"})]})}),Pe=e=>(0,f.jsx)(Ne,{...e,style:G.c,viewBox:"0 0 24 24"}),ve=e=>(0,f.jsx)(F.c,{...e,children:(0,f.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,f.jsx)("path",{fillRule:"nonzero",d:"M0 0h24v24H0z"}),(0,f.jsxs)("g",{fill:"#002E60",children:[(0,f.jsx)("path",{fillRule:"nonzero",d:"M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"}),(0,f.jsx)("path",{d:"M9 8h3.2v8H9z"})]})]})}),Le=e=>(0,f.jsx)(ve,{...e,style:G.c,viewBox:"0 0 24 24"}),Oe=e=>(0,f.jsx)(F.c,{...e,children:(0,f.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,f.jsx)("path",{fillRule:"nonzero",d:"M0 0h24v24H0z"}),(0,f.jsx)("path",{fill:"#FFB81C",d:"M17.663 7.763L21 12l-3.337 4.237a2 2 0 0 1-1.571.763H6a3 3 0 0\n         1-3-3v-4a3 3 0 0 1 3-3h10.092a2 2 0 0 1 1.571.763z"})]})}),Re=e=>(0,f.jsx)(Oe,{...e,style:G.c,viewBox:"0 0 24 24"}),De=e=>(0,f.jsx)(F.c,{...e,children:(0,f.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,f.jsx)("path",{fillRule:"nonzero",d:"M0 0h24v24H0z"}),(0,f.jsx)("circle",{cx:"12",cy:"12",r:"4",fill:"#002E60",stroke:"#002E60",strokeWidth:"2"})]})}),be=e=>(0,f.jsx)(De,{...e,style:G.c,viewBox:"0 0 24 24"}),we=e=>({activity:{width:"100%",paddingLeft:"15px",paddingRight:"14px",display:"flex",justifyContent:"space-between"},activityDescWithImg:{display:"inline-block","& .activityDescription":{display:"inline-block"}},listItemIcon:{verticalAlign:"top"},pointDisplay:{fontSize:"16px",fontWeight:"normal",lineHeight:"1.38",letterSpacing:"-0.19px",color:e.palette.text.secondary,width:"18%",display:"inline-block",textAlign:"right"},questionCount:{fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",fontSize:"16px",lineHeight:"1.38",letterSpacing:"normal"}}),Me=e=>{let{language:t,title:s,number:n,status:i,closed:a,points:o,pointsEarned:r,onClick:l,isQuiz:c,classes:d}=e,p=null;switch(i){case I.STATUS_PARTIAL_CORRECT:p=(0,f.jsx)(ye,{});break;case I.STATUS_INCORRECT:p=(0,f.jsx)(Pe,{});break;case I.STATUS_CORRECT:p=(0,f.jsx)(V,{});break;case I.STATUS_IN_PROGRESS:p=(0,f.jsx)(Le,{});break;case I.STATUS_CURRENT_QUESTION:p=(0,f.jsx)(Re,{});break;case I.STATUS_COMPLETED:p=(0,f.jsx)(be,{});break;default:p=(0,f.jsx)(fe,{})}const h=(0,f.jsx)(de.c,{variant:"h3",classes:{root:d.pointDisplay},children:(0,f.jsx)(ce.FormattedMessage,{id:"points",defaultMessage:t.getText("common.TDX_POINTS"),values:{scored:a,points:o,pointsEarned:r}})});return(0,f.jsxs)("div",{className:d.activity,onClick:()=>l(),children:[(0,f.jsxs)("div",{className:d.activityDescWithImg,children:[(0,f.jsx)(Ie.c,{classes:{root:d.listItemIcon},children:p}),(0,f.jsx)("div",{className:"activityDescription",children:!s||c?(0,f.jsx)(de.c,{variant:"h3",classes:{root:d.questionCount},children:(0,f.jsx)(ce.FormattedMessage,{id:"questionNumber",defaultMessage:t.getText("screens.assessments.QUESTION_NUMBER"),values:{number:n}})}):(0,f.jsx)(de.c,{variant:"h3",classes:{root:d.questionCount},children:s})})]}),h]})};Me.defaultProps={title:"",status:"",isQuiz:!1};const Ue=(0,h.c)(we)((0,r.uU)("language")((0,r.QT)(Me))),ke=e=>({listItem:{borderBottom:"solid 1px rgba(199, 199, 199, 0.2)",padding:"16px 0"},listItemButton:{"&:hover":{objectFit:"contain",cursor:"default",borderRadius:"8px",boxShadow:"0 2.5px 11px 2px rgba(0, 0, 0, 0.03), 0 3.5px 4px -2px rgba(0, 0, 0, 0.05)",border:"solid 1.5px ".concat(e.palette.action.disabledBackground),backgroundColor:e.palette.secondary.main}}}),je=(0,h.c)(ke)((e=>{let{activities:t,onClick:s,isQuiz:n,currentActivity:i,isSummative:a,classes:o}=e;const r=t.map(((e,t)=>(0,f.jsx)(Ae.c,{button:!a,classes:{root:o.listItem,button:o.listItemButton},children:(0,f.jsx)(Ue,{number:e.seqNumber||t+1,points:e.points,pointsEarned:e.pointsEarned,title:e.title||"",status:i&&i.id===e.id?I.STATUS_CURRENT_QUESTION:e.status,closed:e.closed,onClick:()=>s(e),isQuiz:n})},t)));return t.length>0?r:null})),He=(0,h.c)((()=>({topSpace:{marginTop:"30px"}})))((0,u.c)((0,r.uU)("language")((e=>{let{language:t,type:s,onClick:n,classes:i,isSubmitted:a}=e;const o=["REVIEW","CONTINUE"].includes(s)?t.getText("common.".concat(s)):t.getText("common.START"),r=(0,f.jsx)(U.c,{variant:"contained",color:"default",size:"medium",id:"btnViewAssessment",onClick:n,"aria-label":o,children:o}),l=a?"tdxActionButton ".concat(i.topSpace):"tdxActionButton";return(0,f.jsx)("div",{className:l,children:r})}))));var Be=s(33972);const Fe=e=>({scoreCard:{display:"flex",flexDirection:"column","& > span:first-child":{margin:"150px auto auto"},"& .progressCircleContainer":{minHeight:"125px",position:"relative",textAlign:"center",marginBottom:"20px"},"& .progressLinearContainer":{fontFamily:e.typography.fontFamily,fontSize:"16px",fontWeight:"normal",fontStyle:"normal",fontStretch:"normal",lineHeight:"normal",letterSpacing:"normal",color:"#7e7f80",margin:"89px 28px 50px 29px",display:"flex",flexDirection:"column","& .status":{display:"flex",justifyContent:"space-between",marginBottom:"20px",fontSize:"14px","& > span:first-child":{color:e.palette.text.secondary},"& > span:last-child":{fontWeight:600,color:e.palette.text.primary}},"& > span":{fontSize:"13px",fontWeight:"normal",fontStyle:"normal",fontStretch:"normal",lineHeight:1.38,letterSpacing:"-0.1px",textAlign:"right",color:e.palette.text.secondary,marginTop:"12px",minHeight:"17px"}},"& .worthPointContainer":{fontFamily:e.typography.fontFamily,fontSize:"15px",fontStyle:"normal",fontStretch:"normal",lineHeight:"normal",letterSpacing:"normal",color:"#7e7f80",margin:"70px auto 30px","& > span:first-child":{fontWeight:600,color:e.palette.text.primary}},"& .scorePending":{fontSize:"20px",fontWeight:300,textAlign:"center",color:"#7e7f80"}},root:{"&::before":{content:'""',position:"absolute",top:0,left:0,bottom:0,right:0,backgroundImage:"linear-gradient(-45deg, #f5f5f5 25%, transparent 25%, transparent 50%, #f5f5f5 50%, #f5f5f5 75%, transparent 75%, transparent )",backgroundSize:"50px 50px",overflow:"hidden"}},linearProgressColorPrimary:{backgroundColor:"#eaeaea"},linearProgressBarColorPrimary:{backgroundColor:"#002e60"},progress:{style:{height:10,borderRadius:"4px"}}}),Ge=(e,t)=>e?(0,f.jsx)(ce.FormattedMessage,{id:"points",defaultMessage:t,values:{points:e}}):"",Ye=(0,h.c)(Fe)((0,u.c)((e=>{let{points:t,pointsEarned:s,showPointsEarned:n,progressPercent:i,isLearningTool:a,state:o,assessmentType:r,language:l,theme:c,classes:d,isDSM:p}=e;const h="screens.assessments.".concat(a?I.STATUS_SUBMITTED:o),u=r===I.LT||r===I.LA,g=!!I.ILP_LA_LT.find((e=>e===r.toUpperCase())),m=u||g,E=I.SHARED_WRITING_ENTRIES===r.toUpperCase(),T=a?100:Math.round(i),S=a?(0,f.jsx)("span",{}):(0,f.jsx)(ce.FormattedMessage,{id:"progress",defaultMessage:l.getText("common.PERCENT_COMPLETED"),values:{percentage:Math.round(i)}});return m&&!p||E?(0,f.jsx)("div",{className:"worthPointContainer",children:Ge(t,l.getText("common.WORTH_POINTS"))}):(0,f.jsxs)("div",{className:"progressLinearContainer",children:[(0,f.jsxs)("div",{className:"status",children:[(0,f.jsx)("span",{children:p&&"screens.assessments.late"===h.toLowerCase()?l.getText("screens.assessments.PAST_DUE"):l.getText(h)}),n?(0,f.jsx)(ce.FormattedMessage,{id:"earnedPoints",defaultMessage:l.getText("common.EARNED_POINTS_OF"),values:{pointsEarned:s,points:t}}):Ge(t,l.getText("common.WORTH_POINTS"))]}),(0,f.jsx)(Be.c,{variant:"determinate",value:T,classes:{root:d.root,colorPrimary:d.linearProgressColorPrimary,barColorPrimary:d.linearProgressBarColorPrimary},style:Fe(c).progress.style}),S]})})));var Ve=s(52404),We=s(58688),ze=s(26812);const Qe={root:{cursor:"pointer",border:0,background:"none",margin:2,padding:3,borderRadius:"50%"},dot:{backgroundColor:"#d8d8d8",height:8,width:8,borderRadius:"50%"},active:{backgroundColor:"#6a7070"}};class Ke extends n.Component{constructor(){super(...arguments),this.handleClick=e=>{this.props.onClick(e,this.props.index)}}render(){const{active:e,language:t}=this.props;let s;return s=e?Object.assign({},Qe.dot,Qe.active):Qe.dot,(0,f.jsx)(ze.c,{onClick:e=>{this.handleClick(e)},"aria-label":this.props.index?t.getText("common.PERCENTAGE_EARNED"):t.getText("common.POINT_EARNED"),style:Qe.root,children:(0,f.jsx)("div",{style:s})})}}const qe=(0,r.uU)("language")(Ke),Xe={root:{textAlign:"center"}};class Ze extends n.Component{constructor(){super(...arguments),this.handleClick=(e,t)=>{this.props.onChangeIndex(t)}}render(){const{index:e,dots:t}=this.props,s=[];for(let n=0;n<t;n+=1)s.push((0,f.jsx)(qe,{index:n,active:n===e,onClick:this.handleClick},n));return(0,f.jsx)("div",{style:Xe.root,children:s})}}const Je=Ze,$e={root:{width:"167px",height:"167px",margin:"10px"},progress:{stroke:"#002e60"},text:{fontSize:"18px",fontWeight:"600",fill:"#252525"}},et={minHeight:"192px"};class tt extends n.Component{constructor(e){super(e),this.handleChangeIndex=e=>{this.setState({index:e})},this.state={index:0}}render(){const{points:e,pointsEarned:t,percentage:s}=this.props,{index:i}=this.state;return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsxs)(Ve.c,{index:i,containerStyle:et,children:[(0,f.jsx)(We.PointsEarnedProgressComponent,{total:e,earned:t}),(0,f.jsx)(We.ScoreProgressComponent,{percent:s,styles:$e})]}),(0,f.jsx)(Je,{dots:2,index:i,onChangeIndex:this.handleChangeIndex})]})}}const st=tt,nt=e=>{let{points:t,pointsEarned:s,quizAvailable:i,state:a,percentage:o,language:r,type:l,hideReview:c,isStudent:d,classes:p,progressPercent:h,assessmentType:u,showScores:g,queryParams:m,isLTNotSubmittedAfterDueDate:E,isDSM:T}=e;const S=u===I.LT&&v.c.getSourcePath(m)===I.SCORES&&a===I.STATUS_COMPLETE,_=T&&a===I.STATUS_LATE;return(0,f.jsx)("div",{className:p.scoreCard,children:i&&(()=>{let e=null;return E&&!T?e=(0,f.jsx)("div",{className:"worthPointContainer",children:(0,f.jsx)(ce.FormattedMessage,{id:"points",defaultMessage:r.getText("common.WORTH_POINTS"),values:{points:t}})}):(S?g:"REVIEW"===l&&!c)&&null!==s?e=(0,f.jsx)(n.Fragment,{children:(0,f.jsx)("div",{className:"progressCircleContainer",children:(0,f.jsx)(st,{points:t,pointsEarned:s,percentage:Math.round(o)})})}):(S?g:"REVIEW"===l&&!c)&&null!==s||(e=(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(Ye,{points:t,pointsEarned:s,showPointsEarned:_,progressPercent:h,isLearningTool:S,state:a,assessmentType:u,language:r,isDSM:T}),d&&(c||S&&!g||"REVIEW"===l&&null===s)?(0,f.jsx)("div",{className:"scorePending",children:(0,f.jsx)(ce.FormattedMessage,{id:"scorePending",defaultMessage:r.getText("common.TDX_DISCRETE")})}):null]})),e})()})};nt.defaultProps={pointsEarned:0};const it=(0,h.c)(Fe)((0,u.c)(nt));var at=s(26008),ot=s(67104);const rt=e=>{let{openDialog:t,handleCancel:s,handleOk:n,language:i}=e;return(0,f.jsxs)(k.c,{modal:!0,open:t,className:"modelContent",children:[(0,f.jsxs)(ot.c,{id:"alert-dialog-title",classes:{root:"cautionTextHeading"},children:[i.getText("common.TDX_ALERT.CAPTION"),(0,f.jsx)(B.c,{style:{float:"right",padding:"0px",width:"24px",height:"24px"},onClick:s})]}),(0,f.jsx)(j.c,{children:(0,f.jsx)(at.c,{id:"alert-dialog-description",classes:{root:"cautionTextContent"},children:i.getText("common.TDX_ALERT.MSG")})}),(0,f.jsxs)(H.c,{children:[(0,f.jsx)(U.c,{onClick:s,children:i.getText("common.CANCEL")}),(0,f.jsx)(U.c,{keyboardFocused:!0,onClick:n,children:"Continue to Assessment"})]})]})},lt=e=>{let{language:t,maxAttempts:s,penaltyPerAttempt:n}=e;return(0,f.jsx)(ce.FormattedMessage,{id:"assessmentPolicyDescription",defaultMessage:t.getText("common.JOIN_TWO"),values:{statement1:s>0?(0,f.jsx)(ce.FormattedMessage,{id:"attemptsLeft",defaultMessage:t.getText("screens.assessments.LIMITED_ATTEMPT_POLICY"),values:{maxAttempts:s}}):t.getText("screens.assessments.UNLIMITED_ATTEMPT_POLICY"),statement2:n>0?(0,f.jsx)(ce.FormattedMessage,{id:"penaltyPolicy",defaultMessage:t.getText("screens.assessments.PENALTY_POLICY"),values:{penaltyPerAttempt:n}}):null,joiner:""}})},ct=e=>{let{language:t,type:s,maxAttempts:n,penaltyPerAttempt:i,isSubmit:a}=e,o=null;switch(s){case"chapter_quiz":case"module_quiz":o=(0,f.jsx)(lt,{language:t,maxAttempts:n,penaltyPerAttempt:i});break;case"SharedWritingQuestion":o=t.getText("screens.assessments.SHARED_WRITING_INSTRUCTIONS");break;case"MediaActivity":o=t.getText("screens.assessments.MEDIA_SHARE_INSTRUCTIONS");break;case"tdx_continuous":o=t.getText("screens.assessments.TDX_FORMATIVE_INSTRUCTIONS");break;case"tdx_discrete":o=t.getText("screens.assessments.TDX_SUMMATIVE_INSTRUCTIONS");break;case"dsm":break;default:o=t.getText("screens.assessments.OTHER_ASSESSMENT_INSTRUCTIONS")}return a?I.DEFAULT_MESSAGE:(0,f.jsx)("div",{className:"assessmentPolicyDescription",children:o})},dt=e=>({assessementContainerBanner:{width:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",minHeight:"345px",backgroundImage:"radial-gradient(circle at 50% 65%, #007a98, #005d83 79%, #002e60 163%)"},cardRoot:{borderRadius:"8px",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.16), 0 0.5px 0.5px 0 rgba(0, 0, 0, 0.1), 0 1px 2.5px 0 rgba(0, 0, 0, 0.05)",border:"solid 0.5px #d9d9d9",width:"100%",minHeight:"320px"},headerButtonRoot:{marginTop:"55px",marginBottom:"-45px",width:"72%",marginLeft:"14%","&:hover":{cursor:"default"},fontWeight:600,fontSize:"16px",lineHeight:"1.25",textTransform:"none",position:"relative",outline:"none"},activitiesFilter:{display:"flex",justifyContent:"flex-end",alignItems:"baseline",flexWrap:"nowrap"},assessmentHeader:{display:"flex",flexDirection:"row","@media screen and (max-width: 700px)":{flexDirection:"column"},"& .progressLinearContainer":{"@media screen and (max-width: 700px)":{marginTop:"20px"}},"& .worthPointContainer":{"@media screen and (max-width: 700px)":{marginTop:"0px"}},width:"100%","& .column":{flexGrow:3,margin:"20px 0 0 15px","& .quizType":{fontSize:"14px",fontWeight:"600",lineHeight:"1.71",letterSpacing:"0.2px",marginBottom:"4px",color:e.palette.text.secondary,display:"inline-block"},"& .assessmentTitle":{fontSize:"24px",fontWeight:"normal",fontStyle:"normal",padding:"0 0 15px",fontStretch:"normal",lineHeight:"1.17",letterSpacing:"normal"},"& .dateAndStatusContainer":{display:"flex","& .dueDate":{fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",fontSize:"16px",padding:"0",margin:"0 0 18px",color:e.palette.text.primary,"& .time":{color:e.palette.text.primary}},"& .postDueDate":{margin:"0 0 2px"},"& .acceptLate":{fontWeight:600,marginLeft:"5px",color:e.palette.primary.light},"& .status":{fontWeight:600,marginLeft:"5px",color:"#cc4e4c"}},"& .assessmentPolicyDescription":{maxWidth:"362px",fontSize:"14px",fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.43",color:e.palette.text.secondary,paddingBottom:"49px"},"& .quizUnavailable":{fontSize:"15px",paddingTop:"16px",fontWeight:"bold",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.88",letterSpacing:"0.07px",color:e.palette.text.secondary}},"& .assessmentBadge":{flexGrow:1,borderRadius:"4px",backgroundColor:e.palette.secondary.main,"& .tdxActionButton":{display:"flex",justifyContent:"center"},"& .pointsAfterDueDate, .instructorOverride, .pointsAfterDueDateAndOverride":{fontSize:"14px",fontWeight:"600",lineHeight:"1.43",textAlign:"center",color:"#db0020",display:"block",textDecoration:"none"},"& .pointsAfterDueDateAndOverride":{"&:hover":{cursor:"pointer"}}}},activities:{margin:"116px auto 0 13%",paddingBottom:"60px",maxWidth:"74%"},questionList:{marginBottom:"20px",marginLeft:"17px",fontSize:"14px",fontWeight:600,fontStretch:"normal",fontStyle:"normal",lineHeight:1.71,letterSpacing:"normal",color:e.palette.text.secondary},questionListWithFilter:{width:"20%"},filterContainer:{width:"80%",textAlign:"right"},quizStatus:{width:"98px",height:"37px",borderRadius:"8px",backgroundColor:"rgba(208, 2, 27, 0.24)",marginLeft:"10px","&:hover":{cursor:"default",backgroundColor:"rgba(208, 2, 27, 0.4)"}},pageWrapper:{height:"100%",minHeight:"100vh",backgroundColor:e.palette.common.white,paddingBottom:"120px"},accessibilityHeading:{padding:0,margin:0,fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit"}});var pt=s(6632),ht=s(96216),ut=s(93752);const gt=e=>{let{classes:t,status:s,language:n,tagsCallback:i}=e;return(0,f.jsxs)(ut.c,{className:t.root,children:[(0,f.jsx)(de.c,{variant:"body2",inline:!0,classes:{root:t.tagText},children:n.getText("screens.assessments.FILTER.".concat(s))}),(0,f.jsx)(ze.c,{onClick:()=>i(s),classes:{root:t.tagCloseButton},children:(0,f.jsx)(ht.Icon,{name:"Remove",fontSize:"small"})})]})};gt.defaultProps={tagsCallback:()=>{}};const mt=(0,h.c)((e=>({root:{display:"flex",background:e.palette.error.contrastText,minWidth:"105px",borderRadius:"2.5px",justifyContent:"flex-start",alignItems:"center",padding:"5px 5px 5px 10px",height:"28px",boxShadow:"unset",marginRight:"20px",minHeight:"auto"},tagText:{fontWeight:"600",width:"90%",textTransform:"uppercase",textAlign:"left"},tagCloseButton:{width:"10%",paddingTop:"7px","& svg":{width:"7px",height:"7px","& path":{fill:e.palette.text.mediumGray}}}})))((0,r.uU)("language")((0,r.QT)(gt)));var Et=s(42400),Tt=s(560),St=s(11176),_t=s(76925),At=s(16728);const It=(e,t)=>(0,f.jsx)(Et.c,{classes:{root:e.menuStyle},children:(0,f.jsx)(de.c,{variant:"body2",inline:!0,classes:{root:e.filterText},children:t.getText("screens.assessments.FILTER.NO_FILTER")})},"noFilter"),Ct=e=>{let{language:t,open:s,status:n,classes:i,handleFilterEvents:a,anchorEl:o}=e;return(0,f.jsx)(Tt.c,{open:s,anchorEl:o,transition:!0,disablePortal:!0,placement:"bottom-end",children:e=>{let{TransitionProps:s,placement:o}=e;return(0,f.jsx)(St.c,{...s,id:"menu-list-grow",style:{transformOrigin:"bottom"===o?"center top":"center bottom",zIndex:10},children:(0,f.jsx)(ut.c,{classes:{root:i.paper},children:(0,f.jsx)(_t.c,{onClickAway:a,children:(0,f.jsx)(At.c,{classes:{root:i.menuListRoot},children:n.length>0?n.map((e=>e.show&&(0,f.jsx)(Et.c,{onClick:t=>a(t,e.status),classes:{root:i.menuStyle},children:(0,f.jsx)(de.c,{variant:"body2",inline:!0,classes:{root:i.filterText},children:t.getText("screens.assessments.FILTER.".concat(e.status))})},e.status))):It(i,t)})})})})}})};Ct.defaultProps={open:!1,status:[]};const ft=(0,h.c)((()=>({paper:{minHeight:"auto"},filterText:{letterSpacing:"0.16px"},menuStyle:{"& :hover":{fontWeight:"600"}},menuListRoot:{marginTop:"7px",width:"157px"},popperListContainer:{zIndex:10}})))((0,r.uU)("language")((0,r.QT)(Ct)));class xt extends n.Component{constructor(e){super(e),this.filterActivitiesByStatus=e=>{const{handleFilter:t}=this.props;t(e)},this.handleToggle=()=>{this.setState((e=>({open:!e.open})))},this.handleClose=(e,t)=>{const s=[];this.anchorEl.contains(e.target)||(t&&(s.push(t),this.filterActivitiesByStatus(s)),this.setState({open:!1,filterTags:s,statusList:this.getList(t,!1)},(()=>{const e=this.state.filterTags;e.length||this.filterActivitiesByStatus(e)})))},this.getList=(e,t)=>this.state.statusList.map((s=>(s.show=!0,s.status===e&&(s.show=t),s))),this.deleteTag=e=>{const{filterTags:t}=this.state,s=t.findIndex((t=>t===e));t.splice(s,1),this.setState({filterTags:t,statusList:this.getList(e,!0)}),this.filterActivitiesByStatus(t)},this.state={open:!1,filterTags:[],statusList:e.statusList}}UNSAFE_componentWillMount(){this.filterActivitiesByStatus(this.props.defaultFilterStatus)}render(){const{classes:e,language:t}=this.props,{open:s,filterTags:n,statusList:i}=this.state;return(0,f.jsxs)("div",{className:e.root,children:[(0,f.jsx)("div",{className:s?e.buttonStyle:e.defaultButtonStyle,children:(0,f.jsxs)(ze.c,{buttonRef:e=>{this.anchorEl=e},"aria-owns":s?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,disabled:n.length===i.length,children:[(0,f.jsx)(ht.Icon,{name:"Filter",fontSize:"small"}),(0,f.jsx)(de.c,{variant:"body2",inline:!0,classes:{root:e.filterText},className:"filterText",children:t.getText("screens.assessments.FILTER.FILTER_TEXT")})]})}),n.map((e=>(0,f.jsx)(mt,{status:e,tagsCallback:this.deleteTag}))),(0,f.jsx)(ft,{open:s,status:i,anchorEl:this.anchorEl,handleFilterEvents:this.handleClose})]})}}xt.defaultProps={defaultFilterStatus:"",statusList:[]};const yt=(0,h.c)((e=>({root:{display:"flex",float:"right",'& div[role="tooltip"]':{zIndex:10}},paper:{marginRight:36},filterText:{fontWeight:500,lineHeight:1.85,letterSpacing:"0.15px",paddingLeft:"10px",color:e.palette.text.mediumGray},buttonStyle:{"& button":{background:e.palette.error.contrastText,padding:"1px",borderRadius:"25px",width:"100px"},"& button:hover":{background:e.palette.error.contrastText},"& .filterText":{fontWeight:600}},defaultButtonStyle:{"& button":{padding:"1px",borderRadius:"25px",width:"100px"}}})))((0,r.uU)("language")((0,r.QT)(xt))),Nt=(0,h.c)((e=>({quizNotAssigned:{fontWeight:"bold",fontStretch:"normal",fontStyle:"normal",lineHeight:"normal",paddingTop:"15px",color:e.palette.text.secondary}})))((0,r.uU)("language")((0,r.QT)((e=>{let{availabilityDate:t,language:s,classes:n}=e;return t?(0,f.jsx)("div",{className:"quizUnavailable",children:(0,f.jsx)(ce.FormattedMessage,{id:"quizNotAvailable",defaultMessage:s.getText("screens.assessments.AVAILABLE_ON_DATE"),values:{availabilityDate:(0,f.jsx)(ce.FormattedDate,{value:t,day:"2-digit",month:"long",year:"numeric"}),time:(0,f.jsx)(ce.FormattedTime,{value:t}),zone:Se.c.getTimeZone()}})}):(0,f.jsx)(de.c,{variant:"h5",classes:{root:n.quizNotAssigned},children:s.getText("screens.assignments.QUIZ_NOTASSIGNED")})}))));var Pt=s(55960);const vt=(0,h.c)((e=>({quizNotAssignedContainer:{margin:"6% auto 0",paddingBottom:"7%",maxWidth:"517px","& img":{maxWidth:"440px",paddingBottom:"30px"},"& .quizNotAssigned, .quizNotAssignedMessage":{fontSize:"16px",fontWeight:"normal",lineHeight:"1.88",letterSpacing:"0.07px",textAlign:"center",color:e.palette.text.secondary}},quizNotAvailableContainer:{margin:"7% auto 0",maxWidth:"500px",paddingBottom:"7%","& img":{paddingBottom:"30px"},"& .quizNotAvailable, .quizNotAvailableMessage":{fontSize:"16px",fontWeight:"normal",lineHeight:"1.88",letterSpacing:"0.07px",textAlign:"center",color:e.palette.text.secondary}}})))((0,r.uU)("language")((0,r.QT)((e=>{let{availabilityDate:t,language:s,classes:n}=e;return t?(0,f.jsxs)("div",{className:n.quizNotAvailableContainer,children:[(0,f.jsx)(Pt.LazyLoadImage,{src:I.EMPTY_STATE_IMAGES.NO_ASSIGNMENT_LEFT,alt:s.getText("screens.assessments.QUIZ_NOTAVAILABLE_IMAGE")}),(0,f.jsx)(de.c,{variant:"h5",className:"quizNotAvailable",children:s.getText("screens.assignments.QUIZ_NOTAVAILABLE_HEADING")}),(0,f.jsx)(de.c,{variant:"h5",className:"quizNotAvailableMessage",children:(0,f.jsx)(ce.FormattedMessage,{id:"quizNotAvailableMessage",defaultMessage:s.getText("screens.assignments.QUIZ_NOTAVAILABLE_MESSAGE"),values:{availabilityDate:(0,f.jsx)(ce.FormattedDate,{value:t,day:"2-digit",month:"long",year:"numeric"}),time:(0,f.jsx)(ce.FormattedTime,{value:t}),zone:Se.c.getTimeZone()}})})]}):(0,f.jsxs)("div",{className:n.quizNotAssignedContainer,children:[(0,f.jsx)(Pt.LazyLoadImage,{src:I.EMPTY_STATE_IMAGES.SCORE_NO_WORK_DONE,alt:s.getText("screens.assessments.QUIZ_NOTASSIGNED_IMAGE")}),(0,f.jsx)(de.c,{variant:"h5",className:"quizNotAssigned",children:s.getText("screens.assignments.QUIZ_NOTASSIGNED_HEADING")}),(0,f.jsx)(de.c,{variant:"h5",className:"quizNotAssignedMessage",children:s.getText("screens.assignments.QUIZ_NOTASSIGNED_MESSAGE")})]})}))));var Lt=s(69056),Ot=s(29648);const Rt=e=>{return{arrow:{position:"absolute",fontSize:6,width:"3em",height:"3em","&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},bootstrapPopper:(t=e.palette.common.black,{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"2px",width:"3em",height:"1em","&::before":{borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent ".concat(t," transparent")}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.95em",width:"3em",height:"1em","&::before":{borderWidth:"1em 1em 0 1em",borderColor:"".concat(t," transparent transparent transparent")}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.95em",marginTop:"0.8em",height:"3em",width:"1em","&::before":{borderWidth:"1em 1em 1em 0",borderColor:"transparent ".concat(t," transparent transparent")}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.95em",height:"3em",width:"1em","&::before":{borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent ".concat(t)}},position:"absolute",top:0,left:0}),bootstrapTooltip:{backgroundColor:e.palette.common.black,fontFamily:Ot.c.fontFamily,fontSize:"14px",lineHeight:"1.29",fontWeight:400,padding:"4px 16px"},bootstrapPlacementLeft:{margin:"0 8px"},bootstrapPlacementRight:{margin:"0 8px"},bootstrapPlacementTop:{margin:"8px 0"},bootstrapPlacementBottom:{margin:"8px 0"}};var t};class Dt extends n.Component{constructor(e){super(e),this.handleArrowRef=e=>{this.setState({arrowRef:e})},this.state={arrowRef:null}}render(){const{classes:e,title:t}=this.props;return(0,f.jsx)(Lt.cp,{title:(0,f.jsxs)(n.Fragment,{children:[t,(0,f.jsx)("span",{className:e.arrow,ref:this.handleArrowRef})]}),classes:{tooltip:e.bootstrapTooltip,popper:e.bootstrapPopper,tooltipPlacementLeft:e.bootstrapPlacementLeft,tooltipPlacementRight:e.bootstrapPlacementRight,tooltipPlacementTop:e.bootstrapPlacementTop,tooltipPlacementBottom:e.bootstrapPlacementBottom},PopperProps:{popperOptions:{modifiers:{arrow:{enabled:Boolean(this.state.arrowRef),element:this.state.arrowRef}}}},children:this.props.children})}}const bt=(0,h.c)(Rt)(Dt);var wt=s(13068);const Mt=(0,h.c)((e=>({instructorEditContainer:{margin:"70px 0",display:"flex",alignItems:"center",justifyContent:"center","& .lockedUI":{textAlign:"center"}},heading:{marginTop:"32px"},message:{marginTop:"16px",fontWeight:"normal"},messagePart:{marginTop:"2px",fontWeight:"normal"},button:{padding:"11px 6px",borderRadius:"50px",textTransform:"none",fontSize:"16px",marginTop:"32px",color:e.colors.bannerButtonLabel,fontWeight:e.font.fontWeightLarge,fontFamily:e.font.fontFamily,backgroundColor:e.colors.raisedButtonColor,"&:hover":{backgroundColor:"#005a70",color:e.colors.bannerButtonLabel}}})))((e=>{let{language:t,reload:s,classes:n}=e;return(0,f.jsx)("div",{className:n.instructorEditContainer,children:(0,f.jsxs)("div",{className:"lockedUI",children:[(0,f.jsx)(Pt.LazyLoadImage,{src:"/images/instructor_edit_update.svg",alt:"Assessment updates on the way..."}),(0,f.jsx)(de.c,{variant:"h3",classes:{root:n.heading},children:t.getText("emptyMsg.INSTRUCTOR_EDIT_HEADING")}),(0,f.jsx)(de.c,{variant:"h5",classes:{root:n.message},children:t.getText("emptyMsg.INSTRUCTOR_EDIT_MESSAGE")}),(0,f.jsx)(de.c,{variant:"h5",classes:{root:n.messagePart},children:t.getText("emptyMsg.INSTRUCTOR_EDIT_MESSAGE_PART")}),(0,f.jsx)(U.c,{className:n.button,onClick:s||null,onKeyDown:s||null,"aria-label":t.getText("emptyMsg.INSTRUCTOR_EDIT_MESSAGE"),variant:"contained",size:"medium",children:t.getText("emptyMsg.RELOAD")})]})})}));var Ut=s(18288),kt=s(31640),jt=s(8704),Ht=s(3008),Bt=s(75808);const Ft=(0,jt.c)((e=>({headerWrapper:{color:e.colors.defaultFontColor,backgroundColor:e.colors.primaryBackground,minHeight:50,display:"block",borderBottom:"1px solid #D4D4D4","@media only screen and (max-width: 500px)":{maxHeight:64}},toolbarWrapper:{padding:"0px 44px"},titleWrapper:{fontWeight:"600",fontSize:"18px",color:e.colors.defaultFontColor,width:"100%",textAlign:"center",lineHeight:1,"@media only screen and (max-width: 500px)":{fontSize:"16px"},"@media only screen and (max-width: 400px)":{fontSize:"14px"}}}))),Gt=(0,r.uU)("language")((e=>{let{title:t,handleClose:s,language:n}=e;const i=Ft();return(0,f.jsx)(Ht.c,{color:"inherit",position:"static",className:i.headerWrapper,children:(0,f.jsxs)(Bt.c,{disableGutters:!0,classes:{root:i.toolbarWrapper},children:[(0,f.jsx)(ht.Tooltip,{title:n.getText("common.CLOSE"),placement:"bottom",children:(0,f.jsx)(ze.c,{onClick:s,color:"inherit","aria-label":n.getText("common.CLOSE"),children:(0,f.jsx)(ht.Icon,{name:"Remove",color:"inherit"})})}),(0,f.jsx)(de.c,{className:i.titleWrapper,color:"inherit","aria-live":"assertive",component:"h1",children:t})]})})})),Yt=(0,jt.c)((e=>({wrapper:{backgroundColor:"#fff",boxSizing:"border-box",position:"fixed",zIndex:400,top:0,left:0,width:"100%",height:"100%",margin:"0 auto","& .link-model":{position:"relative","& .link-iframe":{height:"calc(100% - 70px)"}}}}))),Vt=()=>{},Wt=e=>{let{handleClose:t,sourceURI:s,title:n}=e;const i=Yt();return(0,f.jsxs)("div",{className:i.wrapper,children:[(0,f.jsx)(Gt,{title:n,handleClose:t}),(0,f.jsx)(Te.ExternalLink,{src:s,type:"mdi",showHeader:!1,onClose:Vt})]})};var zt,Qt;let Kt=(0,r.uU)("assessmentStatusStore","language","timeontask","course","assessmentTypes","assignments","user")(zt=(0,r.QT)(((Qt=class extends n.Component{constructor(e){super(e),this.logDeeplinkEvent=()=>{Ut.c.assessmentTelemetryEvent()},this.setPageType=()=>{const e=this.props.history.location.search,t=v.c.parseSource(e),s=e.indexOf("?")>-1?"&":"?";return t.has(I.PAGE_TYPE)?"":"".concat(s).concat(I.PAGE_TYPE,"=").concat(I.ASSESSMENTS)},this.handleLtiEvents=e=>{switch(e.topicData.event){case"onPortalEntry":this.handleClose();break;case"onsubmit":this.props.assessmentStatusStore.saveLtiSubmission()}},this.handleLtiMessages=e=>{const t="string"===typeof e.data&&e.data.length>50?JSON.parse(e.data):e.data;"object"===typeof t&&t.topic&&t.topicData&&("pws"!==t.source&&"learning_tool_lifecycle"!==t.topic||this.handleLtiEvents(t))},this.subscribeLtiMessages=()=>{window.addEventListener("message",this.handleLtiMessages)},this.unsubscribeLtiMessages=()=>{window.removeEventListener("message",this.handleLtiMessages)},this.handleAssessmentClick=()=>{const{assessmentStatusStore:e,history:t,uri:s,usageType:n,user:i,course:a}=this.props,o=this.context.learningContext.contextId;if(this.logDeeplinkEvent(),n===I.TYPE_LEARNINGTOOL)return void this.setState({isLtiOpen:!0,ltiUri:this.contextPlugin.getLtiUri(s,i.id,a.isInstructorView)},(()=>{this.subscribeLtiMessages();const t=this.getActivityId();kt.c.setCustomAttribute(I.NR_ACTIVITY_ID,t),this.logLoad(e.id,t)}));let r=0;e.closed||(r=e.activities.findIndex((e=>!e.closed)));const l=e.activities[r],c=e.id.lastIndexOf("/"),d=e.id.substr(c+1),p=l.id.lastIndexOf("/"),h=l.id.substr(p+1);kt.c.setCustomAttributes({[I.NR_ASSESSMENT_ID]:d,[I.NR_ACTIVITY_ID]:h}),Ee().setItem(I.LAST_VIEWED_PAGE_KEY,"".concat(t.location.pathname).concat(t.location.search).concat(this.setPageType())),g.EventProvider.getEventManager().dispatch({category:"Assessment",action:"Click",data:{course:o,assessment:d}}),t.push("/courses/".concat(o,"/assessments/").concat(d,"/activities/").concat(h).concat(t.location.search))},this.logLoad=(e,t)=>{this.props.timeontask.setInitialData(e,t),this.props.timeontask.calcTimeOnTask(I.CONTENT.TYPE.LEARNINGTOOL,I.CONTENT.ACTIONS.LOAD)},this.logUnLoad=()=>{if(this.props.timeontask.calcTimeOnTask(I.CONTENT.TYPE.LEARNINGTOOL,I.CONTENT.ACTIONS.UNLOAD),this.props.assignmentId){const{assignmentId:e}=this.props;e&&setTimeout((()=>{this.props.assignments.fetchStatus(e,this.context.learningContext.contextId,!0)}),2e3)}},this.getActivityId=()=>{const{activities:e}=this.props.assessmentStatusStore;let t="NA";return e&&e.length&&e[0].id&&(t=e[0].id),t},this.handleActivityClick=e=>{const{assessmentStatusStore:t,history:s}=this.props,n=this.context.learningContext.contextId,i=t.id.lastIndexOf("/"),a=t.id.substr(i+1),o=e.id.lastIndexOf("/"),r=e.id.substr(o+1);this.logDeeplinkEvent(),kt.c.setCustomAttributes({[I.NR_ASSESSMENT_ID]:a,[I.NR_ACTIVITY_ID]:r}),Ee().setItem(I.LAST_VIEWED_PAGE_KEY,"".concat(s.location.pathname).concat(s.location.search).concat(this.setPageType())),g.EventProvider.getEventManager().dispatch({category:"Assessment-Question",action:"Click",data:{course:n,assessment:a,activity:r}}),s.push("/courses/".concat(n,"/assessments/").concat(a,"/activities/").concat(r).concat(s.location.search))},this.redirectToTdx=(e,t,s)=>{const n=this.context.learningContext.contextId,i=e.id.lastIndexOf("/"),a=e.id.substr(i+1);kt.c.setCustomAttribute(I.NR_ASSESSMENT_ID,a),Ee().setItem(I.LAST_VIEWED_PAGE_KEY,"".concat(t.location.pathname).concat(t.location.search).concat(this.setPageType()));const o=this.getTdxActivity(e,s),r="/courses/".concat(n,"/tdxassessments/").concat(a,"/activities/").concat(o.activityId);t.push("".concat(r,"/startQuestion/").concat(o.startQuestion).concat(t.location.search))},this.getTdxActivity=(e,t)=>{let s=0,n=1;const i=this.context.learningContext.contextId,a=e.status,o=e.id.lastIndexOf("/"),r=e.id.substr(o+1);if(t){const e=t.id.lastIndexOf("/");s=t.id.substr(e+1),n=t.seqNumber,kt.c.setCustomAttributes({[I.NR_ASSESSMENT_ID]:r,[I.NR_ACTIVITY_ID]:s}),g.EventProvider.getEventManager().dispatch({category:"Assessment-Question",action:"Open",data:{course:i,assessment:r,activity:s}})}else{const t=e.activities[0].id,o=e.activities[0].seqNumber;if(a===I.STATUS_IN_PROGRESS||a===I.STATUS_STARTED){const i=e.activities.filter((e=>e.status===I.STATUS_NOT_ATTEMPTED));s=i.length?i[0].id:t,n=i.length?i[0].seqNumber:o}else a!==I.STATUS_AVAILABLE&&a!==I.STATUS_NOT_STARTED&&a!==I.STATUS_NOT_ATTEMPTED&&a!==I.STATUS_COMPLETE_WORKED||(s=t,n=o);kt.c.setCustomAttributes({[I.NR_ASSESSMENT_ID]:r,[I.NR_ACTIVITY_ID]:s}),g.EventProvider.getEventManager().dispatch({category:"Assessment",action:"Open",data:{course:i,assessment:r,activity:s}})}return{startQuestion:n,activityId:s}},this.onItemClick=e=>{const{assessmentStatusStore:t,history:s}=this.props;this.logDeeplinkEvent(),t.subtype===I.CATEGORY_SUMMATIVE&&t.getActionType()!==I.ASSESSMENT_ACTION_REVIEW?this.setState({showAlertDialog:!0}):this.redirectToTdx(t,s,e)},this.handleTdxAssessmentClick=()=>{this.onItemClick()},this.handleTdxActivityClick=e=>{this.props.assessmentStatusStore.isSummative()||this.onItemClick(e)},this.handleClose=()=>{this.props.assessmentStatusStore.fetch(this.context.learningContext.contextId,this.props.assessmentId,!0,this.props.usageType===I.TYPE_LEARNINGTOOL,this.props.controlledAccess,this.props.assignmentId),this.setState({isLtiOpen:!1},(()=>{c().publish(I.ASSESSMENT_LAUNCHED,I.CONTENT.ACTIONS.UNLOAD),this.props.type!==I.TYPE_TDX&&(this.logUnLoad(),this.unsubscribeLtiMessages())})),this.contextPlugin.removeSessionHandlerIframe(),this.isLtiLaunched=!1},this.onCancel=()=>{this.setState({showAlertDialog:!1})},this.onContinueAssessment=()=>{const{assessmentStatusStore:e,history:t}=this.props;this.redirectToTdx(e,t)},this.getAssignment=()=>this.props.assignments.assignments.find((e=>e.id===this.props.assignmentId)),this.getIncompleteStatus=()=>{const{classes:e,language:t,course:s,assessmentStatusStore:n}=this.props,i=(0,f.jsx)(U.c,{classes:{root:e.quizStatus},children:(0,f.jsx)(de.c,{variant:"h6",children:t.getText("common.ASSIGNMENT_PAST_DUE_STATUS")})});return n.quizAvailable&&n.dueDatePassed&&s.platform!==I.COURSE_TYPE_GLP?(0,f.jsx)(bt,{title:t.getText("common.TDX_POST_DUE_STATUS"),children:i}):i},this.renderAssessmentHeaderUtils=e=>({isIncomplete:e.dueDatePassed&&e.status!==I.STATUS_COMPLETE&&(!e.acceptedTillDate||e.acceptedTillDate.getTime()<Date.now()),isSubmit:e.status===I.STATUS_COMPLETE&&this.props.course.platform===I.COURSE_TYPE_GLP,getType:()=>{let t=e.type.toUpperCase();return this.props.type!==I.TYPE_TDX&&(t="None"===e.type?e.subtype:e.type,t||(t="None"),t=this.props.assessmentTypes.getAssetTypeLabel(t)),t},renderDueDateZone:()=>e.quizAvailable&&e.dueDate?(0,f.jsx)("div",{className:"dueDate",children:(0,f.jsx)(_e,{date:e.dueDate})}):""}),this.renderAlertDialog=()=>(0,f.jsx)(rt,{openDialog:!0,handleCancel:this.onCancel,handleOk:this.onContinueAssessment,language:this.props.language}),this.getCurrentActivity=()=>{const{assessmentStatusStore:e}=this.props,t=e.activities;let s={};if(e.dueDatePassed||e.closed||!t.length)return s;return s=e.subtype===I.CHAPTER_QUIZ||e.subtype===I.MODULE_QUIZ?t.find((e=>e.state===I.ASSESSMENT_ACTIVITY_OPEN)):e.isSummative()?t.find((e=>!e.attempts)):t.find((e=>e.status===I.STATUS_NOT_ATTEMPTED)),s},this.handleActivityFilter=e=>{this.setState({status:e})},this.isShowAction=(e,t)=>{const s=e.quizAvailable&&!e.hideReview()&&!e.isLockedAssessment();return("REVIEW"!==t||null!==e.pointsEarned||e.assessmentType===I.LT||e.assessmentType===I.LA)&&(e.assessmentType===I.LT&&v.c.getSourcePath(this.props.history.location.search)===I.SCORES&&e.status===I.STATUS_COMPLETE?e.showScores:s)},this.isShowActionButton=(e,t,s)=>this.props.course.isStudentView()&&this.isShowAction(e,t)||s||!this.props.course.isStudentView()&&this.props.course.isInstructorView||!this.props.course.isStudent&&this.isShowAction(e,t),this.isLTNotSubmittedAfterDueDate=(e,t,s)=>!e&&t.dueDatePassed&&t.assessmentType===I.LT&&s===I.ASSESSMENT_ACTION_CONTINUE,this.isSubmitted=(e,t)=>!e&&(t.status===I.STATUS_COMPLETE||t.status===I.STATUS_LATE)&&null===t.pointsEarned,this.state={isLtiOpen:!1,ltiUri:null,showAlertDialog:!1,status:""},this.isLtiLaunched=!1,this.contextPlugin=new wt.c(this)}UNSAFE_componentWillMount(){const{assessmentStatusStore:e,usageType:t}=this.props;if(this.props.isCustomPage)return this.props.assessmentStatusStore.clear(),void document.body.dispatchEvent(new CustomEvent("contentLoaded"));e.dirty&&t!==I.TYPE_LEARNINGTOOL&&(c().publish(I.ASSESSMENT_COMPLETED,{assignmentId:e.assignmentId}),e.setDirty(!1)),this.props.assessmentStatusStore.fetch(this.context.learningContext.contextId,this.props.assessmentId,!1,this.props.usageType===I.TYPE_LEARNINGTOOL,this.props.controlledAccess,this.props.assignmentId),this.assessmentStatusCompleteSubscription=c().on(I.ASSESSMENT_STATUS_COMPLETED,(()=>{this.props.onLoad(),document.body.dispatchEvent(new CustomEvent("contentLoaded"))}))}componentDidMount(){this.props.onLoad(),window.addEventListener("beforeunload",this.handleClose)}componentWillUnmount(){this.assessmentStatusCompleteSubscription&&this.assessmentStatusCompleteSubscription(),this.props.assessmentStatusStore.clear(),window.removeEventListener("beforeunload",this.handleClose),this.contextPlugin.removeSessionHandlerIframe()}UNSAFE_componentWillReceiveProps(e){e.isCustomPage?this.props.assessmentStatusStore.clear():this.props.assessmentId!==e.assessmentId&&this.props.assessmentStatusStore.fetch(this.context.learningContext.contextId,e.assessmentId,!1,this.props.usageType===I.TYPE_LEARNINGTOOL,e.controlledAccess,e.assignmentId)}componentDidUpdate(e){this.props.assessmentId!==e.assessmentId&&this.props.onLoad(),this.props.assessmentStatusStore.dirty&&this.props.assessmentStatusStore.status===I.STATUS_COMPLETE&&(c().publish(I.ASSESSMENT_COMPLETED,{assignmentId:this.props.assessmentStatusStore.assignmentId}),this.props.assessmentStatusStore.setDirty(!1))}renderAssessmentHeader(){const{assessmentStatusStore:e,language:t,title:s,classes:n}=this.props,i=s,a=this.renderAssessmentHeaderUtils(e).getType(),o=this.getAssignment(),r=this.contextPlugin.getAssignableUnits(o,e),l=this.renderAssessmentHeaderUtils(e),c=l.isIncomplete,d=l.isSubmit,p=this.props.isCustomPage&&this.props.lockedAvailabilityDate?this.props.lockedAvailabilityDate:e.availabilityDate;return(0,f.jsxs)("div",{className:"column",children:[(0,f.jsx)("div",{className:"quizType",children:(0,f.jsx)(ce.FormattedMessage,{id:"type",defaultMessage:null!==a&&(t.getText("screens.assignments.values.".concat(a.toUpperCase()))||a.toUpperCase())})}),this.props.course.isStudent&&c?this.getIncompleteStatus():null,(0,f.jsx)("div",{className:"assessmentTitle","aria-live":"assertive",children:(0,f.jsx)(de.c,{className:n.accessibilityHeading,component:"h1",children:(0,f.jsx)("span",{role:"alert",children:i&&g.Utilities.textFromContent(i)})})}),(0,f.jsx)("div",{className:"dateAndStatusContainer",children:this.renderAssessmentHeaderUtils(e).renderDueDateZone()}),r&&(0,f.jsx)("div",{className:"assignmentMessagesWrapper",children:(0,f.jsx)(pt.c,{child:r,availabilityDate:o.availabilityDate,type:o.type,assessmentStatus:e,isSummary:!0})}),e.quizAvailable?(0,f.jsx)("div",{children:(0,f.jsx)(ct,{language:t,type:e.subtype,maxAttempts:e.maxAttempts,penaltyPerAttempt:e.penaltyPerAttempt,isSubmit:d})}):(0,f.jsx)(Nt,{availabilityDate:p})]})}renderLtiWindow(){let e=null;if(this.state.isLtiOpen){const{assessmentStatusStore:t}=this.props;this.isLtiLaunched||(c().publish(I.ASSESSMENT_LAUNCHED,I.CONTENT.ACTIONS.LOAD),this.isLtiLaunched=!0),t.isMediaActivityOrVQuiz||this.contextPlugin.initsessionHandlerIframe(I.IFRAME_CONTAINER.ASSESSMENT),e=(0,f.jsx)(Te.ExternalLink,{src:this.state.ltiUri,type:t.isMediaActivityOrVQuiz?t.subtype:"mdi",showHeader:t.isWritingAssignment,onClose:this.handleClose}),"dsm"===this.props.assessmentStatusStore.usageType&&(e=(0,f.jsx)(Wt,{handleClose:this.handleClose,sourceURI:this.state.ltiUri,title:this.props.title&&g.Utilities.textFromContent(this.props.title)}))}return e}getActivityStatusList(){const{assessmentStatusStore:e}=this.props;return e.getStatusList().map((e=>({status:e,show:!0})))}showFilter(){const{assessmentStatusStore:e}=this.props,t=e.dueDatePassed&&e.status!==I.STATUS_COMPLETE&&(!e.acceptedTillDate||e.acceptedTillDate.getTime()<Date.now()),s=e.dueDatePassed,n=e.status===I.STATUS_COMPLETE;return s||t||n}renderActivities(){const{assessmentStatusStore:e,classes:t}=this.props,{status:s}=this.state,n=this.getActivityStatusList(),i=this.showFilter()&&n.length?(0,f.jsx)(yt,{handleFilter:this.handleActivityFilter,statusList:n}):null,a=this.props.type===I.TYPE_TDX?this.handleTdxActivityClick:this.handleActivityClick;return e.activities.length>0&&(e.type.toLowerCase()===I.CONTENT.TYPE.QUIZ||this.props.type===I.TYPE_TDX)?(0,f.jsxs)("div",{className:t.activities,children:[(0,f.jsxs)("div",{className:t.activitiesFilter,children:[(0,f.jsx)("div",{className:t.questionListWithFilter,children:(0,f.jsx)(de.c,{color:"secondary",variant:"h2",className:t.questionList,children:I.ASSESSMENT_QUESTION_LIST})}),(0,f.jsx)("div",{className:t.filterContainer,children:i})]}),(0,f.jsx)(pe.c,{component:"nav",children:(0,f.jsx)(je,{activities:e.getFilteredActivitesByStatus(s),onClick:a,isQuiz:e.type.toLowerCase()===I.CONTENT.TYPE.QUIZ,currentActivity:this.getCurrentActivity(),isSummative:e.isSummative()})})]}):null}render(){const{assessmentStatusStore:e,language:t,theme:s,classes:n}=this.props;if(e.loading)return(0,f.jsx)(g.Progress,{style:s.progress.material.style});if(this.contextPlugin.isInstructorEditing())return(0,f.jsx)(Mt,{language:t,reload:this.contextPlugin.handleReload});const i=this.props.course.platform!==I.COURSE_TYPE_GLP,a="dsm"===e.subtype,o=this.isSubmitted(i,e),r=(e,t)=>{("add"===t&&9===e.keyCode||"blur"===e.type)&&"buttonCardHolder"===e.target.id&&e.target.classList[t]("containerfocusVisible")},l=e.getActionType(i);let c=!1;this.isLTNotSubmittedAfterDueDate(i,e,l)&&(c=!0);const d=this.props.isCustomPage&&this.props.lockedAvailabilityDate?this.props.lockedAvailabilityDate:e.availabilityDate;return(0,f.jsxs)("div",{className:"".concat(n.pageWrapper," tdxStatus"),children:[(0,f.jsxs)("div",{id:"assessementContainerBanner",role:"banner",className:"".concat(n.assessementContainerBanner," assessmentHeader"),children:[this.renderLtiWindow(),(0,f.jsx)(he.c,{className:n.headerButtonRoot,onKeyUp:e=>r(e,"add"),onBlur:e=>r(e,"remove"),id:"buttonCardHolder",children:(0,f.jsx)(ue.c,{classes:{root:n.cardRoot},children:(0,f.jsx)(ge.c,{children:(0,f.jsxs)("div",{className:"".concat(n.assessmentHeader," assessmentHeaderDrawerOpen"),children:[this.renderAssessmentHeader(),(0,f.jsx)("div",{className:"assessmentBadge",children:(0,f.jsxs)("div",{className:"scoreCardAndAction",children:[(0,f.jsx)(it,{language:t,percentage:e.percentagePoints,points:e.points,pointsEarned:e.pointsEarned,postDuePoints:e.postDuePoints,state:e.status,quizAvailable:e.quizAvailable,type:l,hideReview:e.hideReview(),progressPercent:e.getLinearProgressPercent(),availabilityDate:e.availabilityDate,assessmentType:e.assessmentType,showScores:e.showScores,queryParams:this.props.history.location.search,isStudent:this.props.course.isStudent,isLTNotSubmittedAfterDueDate:c,isDSM:a}),this.isShowActionButton(e,l,o)&&(0,f.jsx)(He,{language:t,type:l,onClick:this.props.type===I.TYPE_TDX?this.handleTdxAssessmentClick:this.handleAssessmentClick,isSubmitted:!0})]})}),this.state.showAlertDialog&&this.renderAlertDialog()]})})})})]}),e.quizAvailable?this.renderActivities():(0,f.jsx)(vt,{availabilityDate:d})]})}}).contextTypes={learningContext:a().shape(T.learningContextShape).isRequired},zt=Qt))||zt)||zt;Kt.defaultProps={title:"",assessmentId:null,onLoad:()=>{},isCustomPage:!1,lockedAvailabilityDate:null};const qt=(0,h.c)(dt)((0,u.c)((0,o.Ak)(Kt)));class Xt{constructor(e){this.context=e}get(e,t){return(0,f.jsx)(qt,{id:e.id,onLoad:t,assessmentId:e.assessmentId,assignmentId:e.assignmentId,title:e.title,uri:e.uri,usageType:e.usageType,type:e.type,controlledAccess:e.controlledAccess,isCustomPage:e.isCustomPage||!1,lockedAvailabilityDate:e.lockedAvailabilityDate||null})}}var Zt=s(33096),Jt=s(56604),$t=s(61272);class es{constructor(e){this.getPxeContext=()=>{const e={contentStatus:"published"};return e.contentType=I.VIEWER_CONTENT_TYPE_PXE,e.features={showAnnotationLabel:C.c.SHOW_ANNOTATION_LABEL,showShare:!this.viewerContext.props.course.isStudentView(),enablePrintPageNumbers:C.c.ENABLE_PRINT_PAGE_NUMBERS,enableShowHideAnnotation:C.c.ENABLE_SHOWHIDE_ANNOTATION,localization:this.getLocalization(),showSearch:!0,showHighlights:!0,enableAnnotationWidget:!0,theme:"default",masterTheme:"standard"},e.clients={page:te.c.contentApi,glossary:{get:e=>this.viewerContext.props.glossaryData.fetchGlossaryItem(e)},reference:{get:e=>this.viewerContext.props.referenceData.fetchReferenceItem(e),fetch:e=>this.viewerContext.props.referenceData.fetch(e)},annotation:this.viewerContext.noteClient},e.providers={auth:new le,customPage:new Xt({playerOpen:this.viewerContext.state.player})},e.pxeOptions={script:"".concat(window.location.origin,"/pxe/bundle.js?ps=").concat(C.c.RANDOM_KEY),style:"".concat(window.location.origin,"/pxe/style.css?pc=").concat(C.c.RANDOM_KEY),scriptsToReplace:[{old:"https://revel-content.openclass.com/content/amc/amc-bootstrap.js",new:"".concat(window.location.origin,"/brix/brix-v1.js?bs=").concat(C.c.RANDOM_KEY)}],scriptsToAdd:C.c.getScriptsToInject(this.viewerContext.props.course.mathmlOn)},e.metadata={brixClient:C.c.BRIX_CLIENT_URL,brixCss:"".concat(window.location.origin,"/brix/brix.css"),environment:C.c.NAME,las:C.c.LAS_API_BASE_URL,assessmentComposite:C.c.ASSESSMENT_COMPOSITE_API_BASE_URL,pxeUserPreference:this.viewerContext.props.preference.toPxePref()},te.c.contentApi.defaults.baseURL="".concat(this.viewerContext.props.course.prefix),e},this.getAcsQueryParam=e=>e?"?assignmentId=".concat(e):"",this.getCiteContext=()=>{const e={contentStatus:"published"};e.contentType=I.VIEWER_CONTENT_TYPE_CITE,e.features={enableInlineInteractives:C.c.ENABLE_INLINE_INTERATIVES,showAnnotationLabel:C.c.SHOW_ANNOTATION_LABEL,showShare:!this.viewerContext.props.course.isStudentView(),showFlashcard:!1,showSearch:!0,showDictionary:!1,enableAnnotationWidget:!0,enablePrintPageNumbers:C.c.ENABLE_PRINT_PAGE_NUMBERS,localization:this.getLocalization(),findPageLinkingComponent:this.viewerContext.goToPageCallback,viewerContextTest:this.viewerContext,theme:"default",masterTheme:"standard"},e.learningContext={features:{findLearningObjective:()=>{}}},e.clients={page:te.c.citeContentApi,glossary:{get:()=>this.viewerContext.mapGlossaryData()},pageNumber:{get:(e,t)=>new Promise((s=>{this.viewerContext.props.pageNumbers.fetch(e,t,(e=>{s(this.formatPageNumberData(e))}))}))},footnotes:{get:()=>this.viewerContext.mapFootNoteData()},interactive:new Zt.c(te.c.citeContentApi),annotation:this.viewerContext.noteClient};const t=this.viewerContext.pagePlaylist.find((e=>e.id===this.viewerContext.pageIdRequested));let s=this.getAcsQueryParam(this.viewerContext.props.assignmentId||t&&t.assignmentId||"");const n=this.viewerContext.props.course.platform===I.COURSE_TYPE_GLP;n&&(s+="".concat(s.indexOf("?")>=0?"&":"?","userId=").concat(this.viewerContext.props.user.id));const i=n?"".concat(C.c.GLP_API_BASE_URL,"/acs-api/")+"courses/".concat(this.viewerContext.props.courseId,"/assessments/assessment_id/policy").concat(s):"".concat(C.c.LAS_API_BASE_URL,"/las-api/api/source/").concat(this.viewerContext.props.course.source)+"/course/".concat(this.viewerContext.props.courseId,"/assessment/assessment_id/")+"user/".concat(this.viewerContext.props.user.id,"/policy"),a=n?C.c.GLP_CITE_ASSESSMENT_CLIENT_URL:C.c.CITE_ASSESSMENT_CLIENT_URL;return e.metadata={policyUrl:"".concat(i),userId:this.viewerContext.props.user.id,acsBaseUrl:"".concat(a),pxeUserPreference:this.viewerContext.props.preference.toCitePref(),onEvent:this.viewerContext.handleCiteAssessmentEvent,tdxType:I.TDX_ASSESSMENT_ITEM,environment:C.c.NAME},e.providers={auth:new le,customPage:new Xt({playerOpen:this.viewerContext.state.player})},e.viewerScript="",e.viewerStyles="",te.c.citeContentApi.defaults.baseURL=this.viewerContext.props.course.prefix,e.gtmGenericData={product:C.c.PRODUCT_TITLE,productId:this.viewerContext.props.course.productId,appVersion:Jt.WU},e},this.getLocalization=()=>{const e={};return e.shared=this.viewerContext.props.language.getText("tooltips.SHARED"),e.fromInstructor=this.viewerContext.props.language.getText("tooltips.FROM_INSTRUCTOR"),e},this.formatPageNumberData=e=>e.children&&e.children.length?e.children[0]:e,this.tocViewChangeHandler=e=>this.viewerContext.setState({isChapterTOC:e!==I.SLP_TOC_ASSIGNMENTS}),this.assessmentLaunchSubscription=()=>c().on(I.ASSESSMENT_LAUNCHED,(e=>{e===I.CONTENT.ACTIONS.LOAD?(this.viewerContext.setState({drawerOpen:!1}),this.viewerContext.setPrevDrawerOpenState()):e===I.CONTENT.ACTIONS.UNLOAD&&this.viewerContext.prevDrawerOpenState&&(this.viewerContext.setState({drawerOpen:!0}),this.viewerContext.setPrevDrawerOpenState())})),this.addClassToParent=e=>{const t=document.getElementsByTagName("html")[0];e&&this.viewerContext.isCiteContent?t.classList.add("drawerOpen"):t.classList.remove("drawerOpen")},this.getAssignmentView=e=>{e?($t.c.dashboardStatus.courseContentView=I.SLP_TOC_ASSIGNMENTS,this.viewerContext.setState({isChapterTOC:!1})):$t.c.dashboardStatus.courseContentView=I.SLP_TOC_VIEW_CHAPTERS},this.viewerContext=e}}class ts{}ts.isDueDateExtended=e=>Boolean(e&&e-new Date>=0),ts.isScorePending=(e,t)=>!e&&!t,ts.pointsAndDueJoiner=(e,t,s,n)=>!(e>0)||t&&s?null:n,ts.isClosed=(e,t)=>Se.c.isInvalidAvlDate(e)||e-new Date<=0||t&&(t===I.STATUS_LATE||t===I.STATUS_COMPLETE),ts.pointsJoiner=(e,t)=>e>0?t:null,ts.quizPointClosed=(e,t,s)=>e&&(e===I.STATUS_LATE||e===I.STATUS_COMPLETE||t&&s===I.STATUS_PAST&&e===I.STATUS_IN_PROGRESS);const ss=(0,r.uU)("language")((0,r.QT)((e=>{let{types:t,language:s}=e;const n=t.map((e=>s.getText("screens.assignments.values.".concat(e.toUpperCase()))||e)).join(", ");return(0,f.jsx)("span",{children:n})}))),ns=e=>{let t,{language:s,isStepper:n,points:i,pointsEarned:a,state:o,isScorePending:r,filterState:l,dueDate:c,assetSubType:d,isDueDateExtended:p,courseType:h,isGLP:u,deliveryMode:g,inProgressStatus:m}=e;const E=h&&p;return t=!ts.quizPointClosed(o,n,l)||r||d===I.CATEGORY_SUMMATIVE&&c-new Date>0||u&&I.SUMMATIVE===g&&c-new Date<0&&(l!==I.STATUS_PAST||m)||null===a||E&&(d===I.CATEGORY_SUMMATIVE||o&&o!==I.STATUS_COMPLETE)?(0,f.jsx)(ce.FormattedMessage,{id:"points",defaultMessage:s.getText("common.WORTH_POINTS"),values:{points:i}}):(0,f.jsx)(ce.FormattedMessage,{id:"points",defaultMessage:s.getText("common.POINTS_EARNED"),values:{pointsEarned:a,points:i}}),t};ns.defaultProps={inProgressStatus:!1,deliveryMode:null,isGLP:!1};const is=(0,r.uU)("language")((0,r.QT)(n.memo(ns))),as=(0,r.uU)("language")((0,r.QT)((e=>{let{complete:t,language:s,dueDate:n,state:i}=e;const a=Se.c.timeDifference(n),o=(0,f.jsx)(ce.FormattedMessage,{id:"extendedAssignmentInfo",defaultMessage:s.getText("common.NO_STATUS"),values:{statement1:(0,f.jsx)("span",{className:t?"":"pastDue",children:t?s.getText("common.ASSIGNMENT_COMPLETE_STATUS"):s.getText("common.ASSIGNMENT_PAST_DUE_STATUS")})}}),r=(0,f.jsx)(ce.FormattedMessage,{id:"dueTime",defaultMessage:s.getText("screens.assignments.ASSIGNMENT_DUE_TIME"),values:{time:Se.c.getTimeMeridiem(n)}});return a>=0&&i&&i!==I.STATUS_LATE&&i!==I.STATUS_COMPLETE?r:o}))),os=(0,r.uU)("language")((0,r.QT)((e=>{let{dueDate:t,state:s,language:n,courseType:i,acceptedTillDate:a}=e;const o=Se.c.timeDifference(t),r=!i&&s&&s===I.STATUS_LATE&&s!==I.STATUS_COMPLETE,l=!i&&s&&s!==I.STATUS_LATE&&s===I.STATUS_COMPLETE,c=a&&a-new Date>=0,d=i&&o<1&&!c;return c||r?c?i?null:(0,f.jsx)(as,{complete:l,acceptedTillDate:a,isPastAssignment:d,language:n,courseType:i,dueDate:t,state:s}):(0,f.jsx)("span",{className:"pastDue",children:n.getText("common.ASSIGNMENT_PAST_DUE_STATUS")}):l?(0,f.jsx)("span",{children:n.getText("common.ASSIGNMENT_COMPLETE_STATUS")}):d?null:(0,f.jsx)(ce.FormattedMessage,{id:"dueTime",defaultMessage:n.getText("screens.assignments.ASSIGNMENT_DUE_TIME"),values:{time:Se.c.getTimeMeridiem(t)}})}))),rs=e=>{let{types:t,isStepper:s,points:n,pointsEarned:i,state:a,availabilityDate:o,showScores:r,filterState:l,dueDate:c,language:d,courseType:p,acceptedTillDate:h,isImmediateAssignment:u,id:g,assetSubType:m,isGLP:E,deliveryMode:T,inProgressStatus:S,scorePending:_}=e,A=null;const I=ts.isDueDateExtended(h),C=ts.isScorePending(p,r);let x=null;n>0&&(x=_?d.getText("common.SCORE_PENDING"):(0,f.jsx)(is,{dueDate:c,points:n,pointsEarned:i,state:a,isStepper:s,courseType:p,assetSubType:m,isImmediateAssignment:u,isScorePending:C,filterState:l,isDueDateExtended:I,deliveryMode:T,isGLP:E,inProgressStatus:S}));const y=(0,f.jsx)("span",{className:"statusSeparator",children:"|"}),N=ts.pointsAndDueJoiner(n,p,I,y),P=ts.pointsJoiner(n,y);t&&t.length&&(A=(0,f.jsx)(ss,{types:t}));const v=s?null:(0,f.jsx)(os,{courseType:p,dueDate:c,state:a,acceptedTillDate:h,format:"short"}),L=ts.isClosed(o,a);let O=null;if(s)O=(0,f.jsx)("div",{className:"quizStatus",id:g,children:(0,f.jsx)("div",{className:"typesAndPoints",children:(0,f.jsx)(ce.FormattedMessage,{id:"typesAvlDatePoints",defaultMessage:d.getText("common.JOIN_TWO"),values:{statement1:A,statement2:x,joiner:P}})})});else{const e=L?d.getText("common.JOIN_TWO"):d.getText("common.NO_STATUS");O=C?(0,f.jsx)("div",{className:"quizStatus scorePending",children:d.getText("screens.scores.SCORE_PENDING")}):(0,f.jsx)("div",{className:"quizStatus",id:g,children:(0,f.jsx)("div",{className:"typesAndPoints",children:(0,f.jsx)(ce.FormattedMessage,{id:"typesAndPoints",defaultMessage:e,values:{statement1:v,statement2:x,joiner:N}})})})}return O};rs.defaultProps={deliveryMode:null,inProgressStatus:!1,scorePending:!1};const ls=(0,r.uU)("language")((0,r.QT)(n.memo(rs))),cs=e=>{let t,{types:s,language:n,availabilityDate:i,dueDate:a,isStepper:o,showScores:r,filterState:l,points:c,pointsEarned:d,state:p,courseType:h,acceptedTillDate:u,isImmediateAssignment:g,id:m,assetSubType:E,isGLP:T,usageType:S,deliveryMode:_,inProgressStatus:A,scorePending:C}=e;const x=(0,f.jsx)(ls,{types:s,isStepper:o,points:c,pointsEarned:d,state:p,availabilityDate:i,dueDate:a,courseType:h,assetSubType:E,acceptedTillDate:u,isImmediateAssignment:g,id:m,showScores:r,filterState:l,isGLP:T,usageType:S,deliveryMode:_||null,inProgressStatus:A||!1,scorePending:C});return t=!o&&(i-new Date>0||p&&p===I.STATUS_NOT_AVAILABLE)?Se.c.isInvalidAvlDate(i)?x:(0,f.jsx)("div",{className:"quizStatus",id:"id",children:(0,f.jsx)(ce.FormattedMessage,{id:"quizNotAvailable",defaultMessage:n.getText("screens.assignments.AVAILABLE_ON_DATE"),values:{availabilityDate:Se.c.formatDate(i)}})}):o||i-new Date<=0||p&&p!==I.STATUS_NOT_AVAILABLE?x:(0,f.jsx)("div",{className:"quizStatus"}),t};cs.defaultProps={scorePending:!1};const ds=(0,r.uU)("language")((0,r.QT)(cs)),ps=(0,r.uU)("language")((0,r.QT)((e=>{let{child:t,type:s,dueDate:n,availabilityDate:i,isStepper:a,isImmediateAssignment:o,points:r,pointsEarned:l,isSumatraCourse:c,showScores:d,filterState:p,acceptedTillDate:h,isGLP:u}=e;return(0,f.jsx)("div",{className:"typeAndPoints",children:(0,f.jsx)("div",{className:"singleQuizStatus",children:(0,f.jsx)("div",{className:"quizLabel",children:(0,f.jsx)(ds,{isStepper:a,dueDate:n,availabilityDate:t.controlledAccess?i:Se.c.currentDate,state:t.status,types:[s],points:r,pointsEarned:l,courseType:c,assetSubType:t.subType,showScores:d,isImmediateAssignment:o,filterState:p,acceptedTillDate:h,isGLP:u,usageType:t.usageType,deliveryMode:t.deliveryMode,inProgressStatus:t.inProgressStatus,scorePending:t.scorePending||!1})})})})}))),hs=(0,r.uU)("language")((0,r.QT)((e=>{let{child:t,title:s,availabilityDate:n,type:i}=e;return(0,f.jsxs)("div",{className:"titleContainer",children:["chapter"!==t.type&&"module"!==t.type?(0,f.jsx)("div",{className:"moduleItem ".concat(t.type),children:s}):s&&(0,f.jsx)("div",{className:"lableStyle",children:s}),(0,f.jsx)(pt.c,{availabilityDate:n,type:i,child:t,isAssetLevel:!0})]})})));class us{constructor(){var e=this;this.getItemUtils=()=>({isQuizType:(e,t)=>e===I.TYPE_CITE_ASSESSMENT||e===I.TYPE_TDX?t:e,isLockedQuiz:(e,t)=>e!==I.TYPE_MODULE&&Se.c.isFutureDate(t)}),this.getItem=(e,t,s,n,i,a,o,r,l,c,d,p,h,u,m,E,T,S,_,A)=>{const C=this.getItemUtils();let x=C.isQuizType(u,T);u===I.TYPE_READING_QUIZ&&(x=re.default.language.getText("screens.assignments.values.QUIZ"));const y=$t.c.conditionalArg(!e.controlledAccess,Se.c.currentDate,p),N=C.isLockedQuiz(u,y),P={},v=e.status===I.STATUS_LATE&&e.inProgressStatus?I.STATUS_IN_PROGRESS:e.status;P.id=e.id,P.type=m?re.default.language.getText("screens.assignments.values.READING"):re.default.language.getText("screens.assignments.values.QUIZ"),P.status=$t.c.conditionalArg(!l.isStudentView(),"",v),P.pointsEarned=n,P.points=s,P.isLocked=$t.c.conditionalArg(l.isStudentView(),e.locked||N,!1),P.scorePending=e.scorePending,P.onClickHandler=t=>{this.gotoPage(t,e,a,o,r,E),S&&S()};const L=$t.c.conditionalArg(_,Boolean(_&&_.getTime()<Date.now()),!1),O=this.getPointsEarned(l.isGLP,L,T,n,e.status,e.latePenaltyPercent);return P.stepLabel=(0,f.jsx)(ps,{child:e,type:re.default.assessmentTypes.getAssetTypeLabel(x),dueDate:_,availabilityDate:p,isStepper:!0,points:s,pointsEarned:O,isSumatraCourse:t,isImmediateAssignment:i,showScores:c,filterState:d,acceptedTillDate:A,isGLP:l.isGLP}),P.stepContent=(0,f.jsx)(hs,{child:e,title:g.Utilities.textFromContent(h),availabilityDate:e.controlledAccess?p:Se.c.currentDate,type:u}),P},this.getlistItems=function(t,s,n,i,a,o,r,l,c){let d=arguments.length>9&&void 0!==arguments[9]&&arguments[9];const p=[];if(a){t.parseChildAsset(a).forEach((a=>{const{child:h,points:u,pointsEarned:g,title:m,type:E,isReading:T,usageType:S,showScores:_}=a;p.push(e.getItem(h,l,u,g,t.isImmediate,i,n,r,s,_,t.state,o,m,E,T,c,S,d,t.dueDate,t.acceptedTillDate))}))}return p},this.getAssignmentData=function(t,s){let{courseId:n,assignmentId:i,assignments:a,course:o,history:r}=t,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i){const t={},c=a.assignments.find((e=>e.id===i));t.title=g.Utilities.textFromContent(c.title),t.dueDate=(0,f.jsx)(_e,{date:c.dueDate,showProgress:!C.c.SHOW_PROGRESS}),t.quizStatus=o.isStudentView()?(0,f.jsx)(ds,{showCounts:!1,isStepper:!1,isQuiz:!1,state:c.status,types:c.types,dueDate:c.acceptedTillDate||c.dueDate,availabilityDate:c.availabilityDate,points:c.points,pointsEarned:c.pointsEarned,courseType:o.isSumatraCourse,acceptedTillDate:c.acceptedTillDate,isImmediateAssignment:c.isImmediate,showScores:c.showScores,filterState:c.state}):null,t.extendedDueDateMsg="";const d=[];return c&&c.children&&c.children.forEach((t=>{const i=e.getlistItems(c,o,r,n,t,c.availabilityDate,"".concat(c.id,"/pages"),o.isSumatraCourse,s,l);d.push(...i)})),t.chapters=[d],t}return{}},this.gotoPage=(e,t,s,n,i,a)=>{const o=t.id;if(g.EventProvider.getEventManager().dispatch({category:"Chapter",action:"Click",data:{chapterId:o}}),!v.c.redirectToViewer(s,o)){const t=re.default.playlistStore.pageRefId(o);n.push("/courses/".concat(s,"/").concat(v.c.getContentPath(),"/").concat(i,"/").concat(t,"?").concat(I.SOURCE,"=").concat(a)),e.preventDefault()}return!1},this.getPointsEarned=(e,t,s,n,i,a)=>e&&t&&s===I.TYPE_LEARNINGTOOL.toLowerCase()&&i===I.STATUS_LATE&&a>=0&&0===n?null:n}}var gs=s(40480),ms=s(23700),Es=s(39532),Ts=s(46696);const Ss=e=>({root:{background:"transparent",boxShadow:"none"},constentRoot:{padding:0},panelContainer:{"& .TabContainer":{paddingTop:0},"& .drawer-assignment":{background:"linear-gradient(0deg, #007A98 -40.45%, #005D83 10.28%, #002E60 129.95%)","& .expand-container .closeIcon":{color:e.palette.secondary.main}},"& .drawer-content-wrapper .expand-container":{marginRight:"32px"},"& #vertical-tab-Assignment":{"& span":{paddingLeft:0,paddingRight:0},"& svg":{fontSize:"24px"}},"& .assetMsg":{marginTop:"10px"},"& .vegaHistory":{padding:0,"& .drawer-header-title":{padding:0}},"& .historyEmptyState":{marginTop:"162px"}},assignmentHeader:{padding:"10px 26px 10px 26px","@media screen and (max-width: 320px)":{padding:"10px 26px 10px 5px"}},assignmentTitle:{width:"75%"},pointsAndPointsEarned:{fontSize:"20px",fontWeight:600,fontStretch:"normal",fontStyle:"normal",lineHeight:"1.3",letterSpacing:"normal",marginBottom:"5px",color:e.palette.secondary.main},assignmentScore:{textAlign:"right"},pointsEarnedLabel:{fontSize:"12px",fontWeight:"normal",lineHeight:"1.5",letterSpacing:"0.2px",textTransform:"uppercase",color:e.palette.secondary.main},scorePendingLabel:{fontSize:"12px",fontStretch:"normal",fontStyle:"normal",fontWeight:"normal",lineHeight:"1.5",letterSpacing:"0.2px",textAlign:"right",marginTop:"4px",color:e.palette.secondary.main},bookmarks:{padding:"0 25px","& .drawer-header-title":{paddingTop:"11px",paddingBottom:"24px"}},notebooks:{"& .drawer-header-title":{paddingTop:"11px",paddingBottom:"24px",margin:"0 25px"},"& .notecardsContainer":{"@media screen and (max-width: 450px)":{"& >div":{margin:1}},"& .noteCardItem":{"& div:only-child":{"@media screen and (max-width: 500px)":{width:"100% !important",minWidth:"334px",maxWidth:"350px",padding:8},"@media screen and (max-width: 400px)":{minWidth:"270px",maxWidth:"278px",padding:4},"@media screen and (max-width: 350px)":{minWidth:"220px",maxWidth:"228px",padding:4}}}}},scoresDetails:{textAlign:"right"},dividerRoot:{height:"2px",backgroundColor:"#33557b"}});var _s,As=s(38336),Is=s(48152);let Cs=(0,r.uU)("assignments","language")(_s=(0,r.QT)(_s=class extends n.Component{constructor(e){super(e),this.fetchNotesOnscroll=()=>{this.setState({isFetchNotes:!1})},this.getNoteRef=e=>{this.noteContainer=e,this.noteContainer&&(this.scrollWrapper=this.getNoteScrollWrapper(),this.scrollWrapper&&this.scrollWrapper.addEventListener("scroll",this.handleScroll))},this.getNoteScrollWrapper=()=>g.Utilities.closestByClassName(this.noteContainer,"drawer-content-wrapper").querySelector("div").querySelector("div"),this.handleScroll=()=>{if(this.tabCompwrapper){const e=this.tabCompwrapper.parentElement.clientHeight;this.scrollWrapper.clientHeight+this.scrollWrapper.scrollTop>=e-this.props.notesPageEnd&&this.setState({isFetchNotes:!0})}},this.state={isFetchNotes:!1},this.noteContainer=null,this.scrollWrapper=null}render(){const{classes:e,language:t}=this.props;return(0,f.jsxs)("div",{className:e.notebooks,ref:e=>{this.tabCompwrapper=e},children:[(0,f.jsx)("div",{className:"drawer-header-container",ref:e=>{this.titleSection=e},children:(0,f.jsx)("div",{className:"drawer-header-title",children:(0,f.jsx)(de.c,{color:"initial",variant:"h1",children:t.getText("tabs.NOTES")})})}),(0,f.jsx)(S.NotebookComponent,{noteClient:this.props.noteClient,isStudent:this.props.isStudent,handleRedirection:this.props.bookCallbacks.goToPageCallback,isFetchNotes:this.state.isFetchNotes,fetchNotesOnscroll:this.fetchNotesOnscroll,getNoteRef:this.getNoteRef,isDrawerNotes:!0,isCopyNoteBtn:!1,locale:this.props.intl.locale,isSelfStudyMode:!1,chapterContent:this.props.notesChapterList,chapterId:this.props.chapterId,masterTheme:C.c.PRODUCT_MODEL,themeProps:As.c,showExportTagPopup:this.props.showExportTagPopup,onCloseTagPopup:this.props.onCloseTagPopup,childIcons:Is.c})]})}})||_s)||_s;Cs.defaultProps={intl:{}};const fs=(0,h.c)(Ss)((0,ce.injectIntl)(Cs)),xs=()=>({cardRoot:{boxShadow:"none",border:"none",backgroundColor:"transparent",margin:0,borderRadius:0,overflow:"visible",userSelect:"none"},cardContentRoot:{padding:"0px","&:last-child":{padding:"0px"},"& li":{"& a":{"& hr":{height:"0.8px"}}}},contentText:{lineHeight:2,paddingLeft:"15px",margin:"0px auto",maxWidth:"645px",marginBottom:"12px"},paperRoot:{boxShadow:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.2)",border:"none",borderRadius:0,overflow:"visible",padding:"0px 0px 16px 10px","&.expanded":{"& .contentText":{paddingLeft:"20px","@media screen and (max-width: 350px)":{padding:0}}},"& .bookImage":{marginTop:"5px"}}});var ys;let Ns=(0,r.uU)("language")(ys=(0,r.QT)(ys=class extends n.Component{render(){const{intl:e,currentPageId:t,expanded:s,toc:n,callbacks:i,course:a,classes:o,language:r}=this.props;return(0,f.jsx)(ue.c,{classes:{root:o.cardRoot},children:(0,f.jsxs)(ge.c,{classes:{root:o.cardContentRoot},children:[(0,f.jsxs)(ut.c,{className:"".concat(s?"expanded":""),classes:{root:o.paperRoot},children:[(0,f.jsx)(de.c,{className:"contentText",color:"initial",variant:"h1",classes:{root:o.contentText},children:r.getText("tabs.CONTENTS")}),(0,f.jsx)(ms.MaterialsOverviewComponent,{courseData:a,isLeftPanel:!0,viewTitle:()=>{}})]}),(0,f.jsx)(ms.TableOfContentsComponent,{separateToggleIcon:n.separateToggleIcon,data:n.data,optionalData:n.optionalData,depth:n.depth,childField:n.childField,clickTocHandler:i,locale:e.locale,isTocWrapperRequired:n.isTocWrapperRequired,currentPageId:t,handleTocExpand:n.handleTocExpand,expanded:s,enableDisplayRestriction:!0})]})})}})||ys)||ys;Ns.defaultProps={intl:{},expanded:!1,course:{}};const Ps=(0,h.c)(xs)((0,ce.injectIntl)(Ns));var vs=s(14864);const Ls=(0,r.uU)("language")((e=>{let{points:t,language:s,classes:i}=e;return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(Es.c,{role:"presentation",classes:{root:i.dividerRoot}}),(0,f.jsx)(de.c,{component:"div",classes:{root:i.pointsEarnedLabel},children:(0,f.jsx)(ce.FormattedMessage,{id:"worthPointsLabel",defaultMessage:s.getText("common.WORTH")})}),(0,f.jsx)(de.c,{component:"div",classes:{root:i.pointsAndPointsEarned},children:(0,f.jsx)(ce.FormattedMessage,{id:"worthPoints",defaultMessage:s.getText("common.POINTS"),values:{points:t}})}),(0,f.jsx)(Es.c,{role:"presentation",classes:{root:i.dividerRoot}})]})}));var Os;let Rs=!1;let Ds=(0,r.uU)("assignments","language","course","historyStore")(Os=(0,r.QT)(Os=class extends n.Component{constructor(e){super(e),this.addClassToParent=e=>{const t=document.getElementsByTagName("html")[0];e&&this.props.isCiteContent?t.classList.add("drawerOpen"):t.classList.remove("drawerOpen")},this.handleTabChange=(e,t)=>{const s=t||I.TYPE_ASSIGNMENT;this.setState({drawerState:e,selectedPanel:s},(()=>{this.props.onDrawerTabChange&&this.props.onDrawerTabChange(s)})),e===I.LEFT_PANEL.CLOSED&&this.props.hideDrawer()},this.handleResizeEvent=()=>{window.innerWidth<495?this.state.drawerState===I.LEFT_PANEL.OPEN&&this.setState({drawerState:I.LEFT_PANEL.EXPANDED}):this.state.drawerState===I.LEFT_PANEL.EXPANDED&&this.setState({drawerState:I.LEFT_PANEL.OPEN})},this.handleBackClick=()=>{this.setState({drawerState:I.LEFT_PANEL.CLOSED}),this.props.handleBackClick()},this.getTocComponent=()=>{const{drawerState:e}=this.state,{currentPageId:t,tocData:s}=this.props;return(0,f.jsx)(Ps,{expanded:e===I.LEFT_PANEL.EXPANDED,currentPageId:t,...s})},this.getAssignment=()=>this.props.assignments.assignments.find((e=>e.id===this.props.assignmentId)),this.getAssignmentPoints=e=>{const{sourcePath:t,course:s,classes:i,language:a}=this.props;return t===I.SCORES||e.status===I.STATUS_COMPLETE?(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(Es.c,{role:"presentation",classes:{root:i.dividerRoot}}),(0,f.jsx)(vs.c,{showScores:e.showScores,pointsEarned:e.pointsEarned,points:e.points,platform:s.platform,drawerStyles:{pointsAndPointsEarned:i.pointsAndPointsEarned,pointsEarnedLabel:i.pointsEarnedLabel,root:i.assignmentScore,scorePendingLabel:i.scorePendingLabel}}),(0,f.jsx)(Es.c,{role:"presentation",classes:{root:i.dividerRoot}})]}):(0,f.jsx)(Ls,{classes:i,language:a,points:e.points})},this.getCurrentAu=e=>e.chapters.length?e.chapters[0].filter((e=>e.id===this.props.currentPageId)):[],this.getAssignmentComponent=()=>{const{classes:e,assignmentData:t,sourcePath:s,course:n,currentPageId:i,parentId:a}=this.props,o=this.getAssignment(),r=this.getCurrentAu(t);return(0,f.jsx)(ue.c,{classes:{root:e.root},children:(0,f.jsxs)(ge.c,{classes:{root:e.constentRoot},children:[(0,f.jsxs)("div",{className:e.assignmentHeader,children:[(0,f.jsxs)("div",{className:e.assignmentTitle,children:[(0,f.jsx)(de.c,{variant:"h2",classes:{root:e.pointsAndPointsEarned},children:t.title}),(0,f.jsx)(de.c,{component:"div",classes:{root:e.pointsEarnedLabel},children:t.dueDate})]}),(0,f.jsx)("div",{className:e.scoresDetails,children:Boolean(o.points)&&(s===I.ASSIGNMENTS&&n.isSumatraCourse||!n.isSumatraCourse)&&this.getAssignmentPoints(o)}),o&&(0,f.jsx)(pt.c,{child:o,availabilityDate:o.availabilityDate,type:o.type})]}),(0,f.jsx)(ms.AssignableUnits,{chapters:t.chapters,isAnimation:this.isAnimationCompleted,currentAssignmentItemId:r.length?i:a})]})})},this.historyData=()=>({bookmarksArr:this.props.bookmarkData.bookmarksArr,bookCallbacks:{removeBookmarkHandler:this.props.bookCallbacks.removeBookmarkHandler},isBookmarkLoaded:this.props.bookmarkData.isBookmarkLoaded,clickBookmarkHandler:this.props.bookCallbacks.bookmarkHandler,clickRecentlyVisitedHandler:this.props.bookCallbacks.recentlyVisitedHandler,openInBook:this.props.showAssignment,locale:this.props.intl.locale,clearRecentlyVisitedPages:this.clearRecentlyVisitedPages}),this.clearRecentlyVisitedPages=()=>{this.props.historyStore.clear()},this.getHistoryComponent=()=>{const{classes:e,language:t,historyStore:s}=this.props;return(0,f.jsxs)("div",{className:e.bookmarks,children:[(0,f.jsx)("div",{className:"drawer-header-container",children:(0,f.jsx)("div",{className:"drawer-header-title",children:(0,f.jsx)(de.c,{color:"initial",variant:"h1",children:t.getText("tabs.HISTORY")})})}),(0,f.jsx)(ms.HistoryComponent,{size:I.RECENT_PAGE_SIZE,historyData:this.historyData(),locale:this.props.intl.locale,visitedPageList:s.getVisitedPages()})]})},this.getNotebookComponent=()=>(0,f.jsx)(fs,{...this.props}),this.preparePanelList=()=>{const{formatMessage:e}=this.props.intl,{language:t,showAssignment:s}=this.props,n=[],i=s&&{id:I.LEFT_PANEL.ASSIGNMENT,title:e({id:I.LEFT_PANEL.ASSIGNMENT,defaultMessage:t.getText("tabs.ASSIGNMENT")}),icon:(0,f.jsx)(ht.Icon,{name:"CalendarOutlined",fontSize:"large"}),component:this.getAssignmentComponent()},a={id:I.LEFT_PANEL.CONTENTS,title:e({id:I.LEFT_PANEL.CONTENTS,defaultMessage:t.getText("tabs.CONTENTS")}),icon:(0,f.jsx)(ht.Icon,{name:"ListBulleted",fontSize:"large"}),component:this.getTocComponent()};s?n.push(i):n.push(a);const o={id:I.LEFT_PANEL.HISTORY,title:e({id:I.LEFT_PANEL.HISTORY,defaultMessage:t.getText("tabs.HISTORY")}),icon:(0,f.jsx)(ht.Icon,{name:"BookmarkOutlined",fontSize:"large"}),component:this.getHistoryComponent()};n.push(o);const r={id:I.LEFT_PANEL.NOTEBOOK,title:e({id:I.LEFT_PANEL.NOTEBOOK,defaultMessage:t.getText("tabs.NOTES")}),icon:(0,f.jsx)(ht.Icon,{name:"Notebook",fontSize:"large"}),component:this.getNotebookComponent()};return n.push(r),n},this.state={drawerState:e.isDraweropen?I.LEFT_PANEL.OPEN:I.LEFT_PANEL.CLOSED,selectedPanel:""},this.isAnimationCompleted=!0,this.noteContainer=null,this.scrollWrapper=null,this.addClassToParent(e.isDraweropen),e.onDrawerTabChange&&e.onDrawerTabChange(e.showAssignment?"Assignment":"Contents")}componentWillMount(){window.addEventListener("resize",(()=>{Rs||(this.handleResizeEvent(),Rs=!0,setTimeout((()=>{Rs=!1}),500))}))}componentWillUnmount(){window.removeEventListener("resize",this.handleResizeEvent)}componentDidMount(){this.isAnimationCompleted=!1,this.handleResizeEvent()}UNSAFE_componentWillReceiveProps(e){const t=e.isDraweropen!==this.props.isDraweropen;t&&(this.setState({drawerState:e.isDraweropen?I.LEFT_PANEL.OPEN:I.LEFT_PANEL.CLOSED}),this.isAnimationCompleted=t,this.handleResizeEvent()),this.addClassToParent(e.isDraweropen)}componentDidUpdate(e){e.isDraweropen&&e.isDraweropen===this.props.isDraweropen&&(this.isAnimationCompleted=!1),this.handleResizeEvent()}render(){const{classes:e,backToolTip:t}=this.props,{selectedPanel:s,drawerState:n}=this.state,i=this.preparePanelList();return(0,f.jsx)("div",{className:e.panelContainer,children:(0,f.jsx)(Ts.DrawerComponent,{onBackClick:this.handleBackClick,onStateChange:this.handleTabChange,panels:i,selectedPanel:s,showBackNav:!0,showExpand:!1,state:n,backTooltip:t,tabVariant:"scrollable"})})}})||Os)||Os;Ds.defaultProps={intl:{},tocData:{},backToolTip:""};const bs=(0,h.c)(Ss)((0,ce.injectIntl)(Ds)),ws=R.c.enabled?I.LEFT_PANEL.SLP_PANEL_WIDTH:I.LEFT_PANEL.PANEL_WIDTH,Ms=I.SLP_HEADER_HEIGHT,Us=e=>({root:{display:"flex"},viewerContainer:{"@media screen and (max-width: 350px)":{"&.viewer-container-drawer-open":{position:"fixed !important"}}},SLPHeaderDrawerOpen:{"& #vega-app-bar-toolbar > div > div:first-child, #vega-app-bar-toolbar > div > div:nth-child(2)":{color:e.palette.text.secondary,"& button.pmuiCustomFocusVisible:after":{borderColor:Ot.c.blueOutlineColor}}},SLPoverride:{"& #vega-app-bar-toolbar, .headerBar":{height:"".concat(Ms,"px"),boxShadow:"none"},"& #vega-app-bar-toolbar":{padding:"0 40px","@media screen and (max-width: 350px)":{padding:0},"& ul":{"& li:first-child":{"& button":{margin:"inherit"}},"& li":{"& button":{padding:"6px",margin:"0 0 0 16px"}}}},"& #vega-app-bar-title":{top:"-45px",fontWeight:"bold",fontSize:"14px",lineHeight:"1.29",color:"#252525"},"& #vega_left_panel > div":{marginTop:"".concat(Ms,"px")},"& #viewer .Assessment":{padding:"".concat(Ms,"px 0")}},headerBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),"& .headerBar":{right:"0px",padding:0,"@media screen and (max-width: 395px)":{position:"fixed !important"}},"& .headerBar.chapterOpenerPg.fixHeader, .headerBar:not(.chapterOpenerPg)":{"& .audioIconBtn":{"& svg":{"& path":{fill:e.palette.text.primary}}}},"& .headerBar.assessmentPg":{background:"transparent",boxShadow:"none"},"& #vega-app-bar-toolbar":{"& ul":{"& li:first-child":{"& button":{margin:"inherit"}},"& li":{"& button":{margin:"0 0 0 16px"}}}}},headerBarShift:{width:"calc(100% - ".concat(ws,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),"& .headerBar, & .headerBar.chapterOpenerPg.fixHeader":{width:"calc(100% - ".concat(ws,"px)"),right:"0px"},"& .headerBar.chapterOpenerPg":{position:"fixed"}},content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:"100%","& .filmstrip-wrapper-viewer .icon-open":{position:"absolute",zIndex:199}},contentShift:{width:"calc(100% - ".concat(ws,"px)"),marginLeft:ws,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),"& #header.alt h1":{fontSize:"3em"},"& .filmstrip-content .filmstrip-wrapper-viewer .icon-open":{"@media screen and (max-width: 1406px)":{bottom:"80px"}},"& .filmstrip-content .filmstrip-wrapper-viewer":{"& .page-content":{overflowX:"auto"},"& .assessmentLandingHeader":{"@media screen and (max-width: 1024px)":{flexWrap:"wrap"},"@media screen and (max-width: 750px)":{minWidth:"300px"}},"& .assessmentLandingBody":{"@media screen and (max-width: 750px)":{minWidth:"300px"}}},"& .assessmentHeaderDrawerOpen":{"@media screen and (max-width: 1600px)":{flexDirection:"column"},"& .assessmentPolicyDescription":{"@media screen and (max-width: 1600px)":{maxWidth:"100%"}},"& .progressLinearContainer":{"@media screen and (max-width: 1600px)":{width:"70%",margin:"0 auto 40px"}},"& .worthPointContainer":{"@media screen and (max-width: 1600px)":{marginTop:"0px"}}}}});var ks=s(7352),js=s(99752);const Hs={colorBackground:js.c.colors.progressBackColor,colorCard:"#FFFFFF",colorFont:js.c.colors.defaultFontColor,colorBorder:"1px solid ".concat(js.c.colors.secondaryBorderColor),colorHeading:js.c.colors.defaultFontColor,colorCardBorder:"1px solid #F5F5F5",colorCardTitle:js.c.colors.defaultFontColor,colorCardTitleMedia:js.c.colors.raisedButtonColor,colorHighlightDashed:"none",colorBgChip:js.c.colors.raisedButtonColor,colorChip:"#FFFFFF",colorNoteText:js.c.colors.defaultFontColor,colorFilter:js.c.colors.raisedButtonColor,colorClearText:js.c.colors.raisedButtonColor,colorBgFilter:"#002E60",colorFilterBorder:"1px solid ".concat(js.c.colors.raisedButtonColor),colorHistory:js.c.colors.defaultFontColor,colorDeleteIcon:"#6A7070",colorPink:"rgba(255, 167, 209, 0.2)",colorPinkBorder:"4px solid #e5067c",colorYellow:"rgba(244, 217, 123, 0.2)",colorYellowBorder:"4px solid #eea42e",colorBlue:"rgba(49, 208, 253, 0.2)",colorBlueBorder:"4px solid #007899",colorGreen:"rgba(1, 203, 183, 0.2)",colorGreenBorder:"4px solid #00796d",colorClearHistory:js.c.colors.defaultFontColor,colorPlaceholder:js.c.colors.defaultFontColor,fontFamily:js.c.fontFamily,fontSize10:"10px",fontSize12:"12px",fontSize14:"14px",fontSize16:"16px",fontSize18:"18px",searchErrorMessage:"#723432"},Bs=(0,jt.c)((e=>({title:{fontSize:20,color:e.colors.graniteGrayColor,flexGrow:1},titleContainer:{background:e.colors.progressBackColor,display:"flex",height:58,padding:"16px 10px 0px 16px",borderBottom:"1px solid ".concat(e.colors.spanishGrayColor)},closeIcon:{"& svg":{color:"#6A7070",width:14,height:14}}}))),Fs=e=>{let{isSearchOpen:t,onClose:s,search:i,searchHistory:a,onSearchResultClick:o,contextId:r,interactiveClient:l,onSearchClose:c,clearSearchHistory:d,noteClient:p,chapterContent:h,searchText:u,isSelectedContent:g,handleClearInput:m,intl:E,language:T}=e;const _=Bs(),A=(0,n.useRef)(),I=(0,n.useRef)(),x=e=>{e.shiftKey&&"Tab"===e.key&&e.preventDefault()},y=e=>{A.current===e.target&&s()};return(0,n.useEffect)((()=>(A.current.addEventListener("click",y,!0),I.current.addEventListener("keydown",x,!0),()=>{A.current.removeEventListener("click",y,!0),I.current.removeEventListener("keydown",x,!0)})),[]),(0,n.useEffect)((()=>{t&&I&&I.current.focus()}),[t,I]),(0,f.jsxs)("div",{className:"searchComponentWrapper",ref:A,children:[(0,f.jsxs)("div",{className:"searchComponentContainer",onBlur:e=>{e&&e.relatedTarget&&e.currentTarget&&!e.currentTarget.contains(e.relatedTarget)&&(e.preventDefault(),I.current.focus())},children:[(0,f.jsxs)("div",{className:_.titleContainer,children:[(0,f.jsx)(de.c,{component:"h1",variant:"body1",className:_.title,children:T.getText("screens.search.SEARCH")}),(0,f.jsx)("div",{className:"closeIconContainer",children:(0,f.jsx)(ht.Tooltip,{title:T.getText("screens.search.CLOSE"),placement:"bottom",children:(0,f.jsx)(ks.c,{onClick:s,"aria-label":T.getText("screens.search.CLOSE"),className:_.closeIcon,ref:I})})})]}),(0,f.jsx)(ee.SearchComponent,{locale:E.locale,isSearchOpen:t,search:i,searchHistory:a,searchPlaceHolder:C.c.SEARCH_EMPTY_MESSAGE,onSearchResultClick:o,emptyStateMsg:C.c.SEARCH_EMPTY_MESSAGE,searchType:"FACET",contextId:r,interactiveClient:l,clearSearchHistory:d,masterTheme:C.c.PRODUCT_MODEL,theme:"default",noteClient:p,childComponents:{NotePopupComponent:S.NotePopupComponent,DeleteConfirmationComponent:S.DeleteConfirmationComponent},chapterContent:h,searchText:u,isSelectedContent:g,removeHighlight:m,onSearchClose:c,themeProps:Hs,noteThemeProps:As.c,noteChildIcons:Is.c})]}),(0,f.jsx)("button",{type:"button",className:"ise-visually-hidden"})]})};Fs.defaultProps={intl:{},isSearchOpen:!1};const Gs=(0,ce.injectIntl)(Fs);var Ys=s(5704),Vs=s(36484);const Ws=(0,jt.c)((()=>({slpTOCViewDropDown:{padding:"2px 0 16px 22px",backgroundColor:"#fafafa",borderBottom:"1px solid #d9d9d9","@media screen and (max-width: 550px)":{padding:"0 0 0px 24px"}},notebooks:{"& .drawer-header-title":{paddingTop:"11px",paddingBottom:"24px",margin:"0 25px"},"& .noteCardItem":{"& >div:only-child":{width:"456px","@media screen and (max-width: 500px)":{width:334,padding:8},"@media screen and (max-width: 400px)":{width:270,padding:4,"& .cardHighlightText":{marginRight:4,maxHeight:75}},"@media screen and (max-width: 300px)":{width:230,padding:2}}},"& .notecardsContainer":{"@media screen and (max-width: 500px)":{"& >div":{margin:4}}}}})));let zs,Qs,Ks=null;const qs=e=>{const{contextPlugin:t,isChapterTOC:s,materials:i,viewerWidgets:a,assignments:o,pageIdRequested:r,assignmentId:l,assignmentItemId:d,noteClient:p,isStudent:h,bookCallbacks:u,notesChapterList:m,chapterId:E,isDrawerOpen:T,intl:_,redirectionPlugin:A,onDrawerTabChange:x,doRefresh:y,scrollBarRef:N,course:P,currentAssignmentId:v}=e;(0,n.useEffect)((()=>{const e=c().on(I.ASSIGNMENT_LIST_FETCHED,(()=>{y()}));return()=>{e()}}),[]);const L=Ws(),[O,R]=(0,n.useState)(!1),D=()=>{zs&&((e,t,s)=>{const n=e.parentElement.clientHeight;t.clientHeight+t.scrollTop>=n-I.NOTES_PAGE_END&&s(!0)})(zs,Qs,R)},b=(e,t)=>{const s=$t.c.dashboardStatus.expandedIds,n=s.indexOf(e.id);$t.c.conditionalAnd(t,-1===n)?s.push(e.id):$t.c.conditionalAnd(!t,-1!==n)&&s.splice(n,1)},w={separateToggleIcon:!0,data:i.tocContent.list,childField:"children",clickTocHandler:e=>{a.callbacks.drawerCallbacks.goToPageCallback(e.id)},handleTocExpand:(e,t)=>{b(e,t)}},M=[{label:"Contents",scrollShadow:!0,scrollToElement:s?".active-page":".active-assignment",header:(0,f.jsx)("div",{className:L.slpTOCViewDropDown,children:(0,f.jsx)(Ys.c,{viewChange:e=>{t.tocViewChangeHandler(e)},isShowAssignments:0!==o.assignments.length})}),component:(0,f.jsx)(n.Fragment,{children:s?(0,f.jsx)(We.ChapterListComponent,{data:w.data,childField:w.childField,clickTocHandler:w.clickTocHandler,handleTocExpand:w.handleTocExpand,currentPageId:r,expandDetails:$t.c.dashboardStatus.expandedIds,isInDrawer:!0}):(0,f.jsx)(We.AssignmentListsComponent,{assignmentLists:o.assignments,onClickHandler:e=>{A.handleAssignmentTocClick(e)},currentAssignmentId:l||v,currentAssignmentItemId:d||r,showMessages:e=>(0,f.jsx)(Vs.c,{assignment:e,isSLP:!0}),onTOCExpand:(e,t)=>{t&&!t.children&&o.fetch(P.id,I.ASSIGNMENT_ID,!0,t.id,!1,!!l),b(t,e)},expandDetails:$t.c.dashboardStatus.expandedIds,isInDrawer:!0,isAssetListFetched:o.isAssetFetched,isAssetListFetchError:o.isAssetFetchError})})},{label:"Notebook",component:(0,f.jsx)("div",{className:L.notebooks,ref:e=>{zs=e},children:(0,f.jsx)(S.NotebookComponent,{noteClient:p,isStudent:h,handleRedirection:u.goToPageCallback,isFetchNotes:O,fetchNotesOnscroll:()=>{R(!1)},getNoteRef:e=>{var t;(Ks=e,Ks)&&(Qs=g.Utilities.closestByClassName(Ks,"slp-drawer-content-wrapper").querySelector(".drawer-scrollbar").querySelector("div"),null===(t=Qs)||void 0===t||t.addEventListener("scroll",D))},isDrawerNotes:!0,isCopyNoteBtn:!1,locale:_.locale,isSelfStudyMode:!1,chapterContent:m,chapterId:E,masterTheme:C.c.PRODUCT_MODEL,themeProps:As.c,showExportTagPopup:e.showExportTagPopup,onCloseTagPopup:e.onCloseTagPopup,childIcons:Is.c})})}];return(0,f.jsx)("div",{className:"SLPDrawerContainer",children:(0,f.jsx)(We.SLPDrawerComponent,{tabContent:M,stickyTop:0,isDrawerOpen:T,onTabChange:e=>x(e),scrollBarRef:N})})};qs.defaultProps={intl:{}};const Xs=(0,ce.injectIntl)(qs);var Zs=s(75680);const Js={yellowHighlight:"#F4D97B",greenHighlight:"#01CBB7",pinkHighlight:"#FFA7D1",blueHighlight:"#31D0FD",yellowHighlightHover:"#EEA42E",greenHighlightHover:"#00796D",pinkHighlightHover:"#E5067C",blueHighlightHover:"#007899",bgColor:js.c.colors.primaryBackground,bgIconColor:"#05112A",textColor:js.c.colors.defaultFontColor,tickmarkColor:"#05112A",listDividerColor:"#E8EEFA",activeOptionBgColor:"#F7F9FD",bgTooltip:"#252525",fontSize:"14px",tooltipTextColor:"#f7f9fd"};var $s,en,tn=s(97909);let sn=!1;let nn=(0,r.uU)("playlistStore","preference","assignments","course","user","materials","bookmark","language","timeontask","footnoteData","glossaryData","pageNumbers","referenceData","userLastLocation","historyStore")($s=(0,r.QT)((en=class extends n.Component{constructor(e){var t;super(e),t=this,this.navigateToFirstPage=()=>{this.currentPageId=this.props.pageId;if(!this.props.materials.getPage(this.props.pageId)){const e=this.props.materials.getFirstPageId();if(e){const t="/courses/".concat(this.props.courseId,"/pages/").concat(e,"?").concat(I.SOURCE,"=dashboard");return this.props.history.push(t),!0}}return!1},this.navigateToFirstPageInAssignment=()=>{const e=this.props.assignments.getAssignment(this.props.assignmentId);if(e&&e.isAssetFetched){this.currentPageId=this.props.pageId;const t=this.pagePlaylist&&this.pagePlaylist.find((e=>e.id===this.pageIdRequested));if($t.c.conditionalAnd(this.pagePlaylist,!t)){const t=e.getAssignmentDetailPage();if(t){const e="/courses/".concat(this.props.courseId,"/assignments/").concat(this.props.assignmentId,"/pages/").concat(t,"?").concat(I.SOURCE,"=dashboard");return this.props.history.push(e),!0}}}else if(!e&&this.props.assignments.isSLPListFetched){const e=this.props.materials.getPage(this.props.pageId);if(e){let t="";e.assignmentId?(this.currentPageId=this.props.pageId,t="/courses/".concat(this.props.courseId,"/assignments/").concat(e.assignmentId,"/pages/").concat(this.props.pageId,"?").concat(I.SOURCE,"=dashboard")):(this.currentPageId=e.id,t="/courses/".concat(this.props.courseId,"/pages/").concat(e.id,"?").concat(I.SOURCE,"=dashboard")),this.props.history.push(t)}else{const e=this.props.materials.getFirstPageId();if(e){this.currentPageId=e;const t="/courses/".concat(this.props.courseId,"/pages/").concat(e,"?").concat(I.SOURCE,"=dashboard");return this.props.history.push(t),!0}}}return!1},this.handleDrawerChangesWhenPropsUpdated=e=>{$t.c.conditionalAnd(e.drawerOpen!==this.state.drawerOpen,R.c.enabled)&&this.contextPlugin.addClassToParent(this.state.drawerOpen),this.shouldHideDrawer||this.viewerPlugin.handleUpdateDrawerScroll()},this.initializeState=(e,t)=>({isPreferencesOpen:!1,searchOpen:!1,isChapterOpener:!1,isAssessmentPage:!1,drawerOpen:this.isDrawerOpen(t),isNavHidden:!1,player:!1,playingIndex:"",openPopup:!1,toggleToc:!1,showCancelPopup:!1,selectedDrawer:null,isFilmStripOpen:!1,isfilmstripExpand:!1,isEmbeddedQuizLoaded:!1,isAudioPlayerOpen:!1,citeAssmtAttempted:!1,isMinimized:!1,isFilmstripInteraction:!1,theme:e,fromSearchInteraction:!1,isHelpOpen:!1,anchorEl:null,isFilmstripClose:!1,isSearchOpen:!1,showUndo:!1,forceRefresh:!1,isChapterTOC:!0,isHeaderTransparent:!1,activeDrawerTab:null,forceSLPDrawerRefresh:!1,searchText:null,isSelectedContent:!1}),this.setDefaultValues=()=>{this.annotationId="",this.audioInfo=null,this.isPlaying=!1,this.isTocUpdated=!1,this.isToggled=!1,this.selectedDrawer=null,this.isSearch=!1,this.isAudioPlayerOpen=!1,this.chapterPlaylist=[],this.embeddedActivityId="",this.requestedPageId="",this.searchHits=this.searchPlugin.getSearchHits(this.props.courseId),this.isRedirectFromHistory=!1,this.currentChapterId="",this.isNext=null,this.lastPageIndex=0,this.tocClicked=!1,this.prevDrawerOpenState=this.state.drawerOpen,this.isNavHit=!1},this.setPrevDrawerOpenState=()=>{this.prevDrawerOpenState=this.state.drawerOpen},this.isGLP=()=>this.props.course.platform===I.COURSE_TYPE_GLP,this.isDrawerOpen=e=>Boolean((R.c.enabled||!this.redirectionPlugin.getQueryParamsValue(I.PAGE_TYPE))&&(this.props.course.isStudentView()||this.isGLP())&&(R.c.enabled||e||this.props.assignmentId)),this.updateFromSearchInteraction=e=>this.setState({fromSearchInteraction:e}),this.initiateFetchingAsignments=e=>{if($t.c.conditionalAnd(R.c.enabled,e>=0)&&this.pagePlaylist[e]){const t=this.pagePlaylist[e];if(t.assignmentId)this.fetchPrevNextAssignment(t.assignmentId);else if(this.props.assignments.isListFetched){const{assignments:e}=this.props,t=e.assignments.length>0&&e.assignments[0];t&&!t.children&&e.fetch(this.props.courseId,I.ASSIGNMENT_ID,!0,t.id,!1,!!this.props.assignmentId,!0)}}},this.currentPageLoaded=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{pageParentId:s,currentChapterId:n,isTypePage:i,pageIdRequested:a}=t.viewerPlugin.viewerContext,o=t.getPageTitle(),r=t.props.assignmentId;t.props.sendPostMessage("viewerPageLoaded","page",{isTypePage:i,pageId:a,pageParentId:s,currentChapterId:n,assignmentId:r,title:o});const l=$t.c.conditionalOr(t.props.playlistStore.pageRefId(t.props.pageId),t.pagePlaylist[0].id),c=t.pagePlaylist&&t.pagePlaylist.findIndex((e=>e.id===l));if("undefined"!==typeof t.isNext&&null!==t.isNext&&c!==e&&null!==e&&c>=0&&(t.lastPageIndex>e&&t.isNext||t.lastPageIndex<e&&!t.isNext)&&!t.tocClicked)return t.onPageRequest(t.pagePlaylist[c],t.isNext),void t.setState((e=>({forceRefresh:!e.forceRefresh})));t.initiateFetchingAsignments(c),t.tocClicked=!1,t.lastPageIndex=e,t.props.glossaryData.isGlossaryLoaded||t.props.glossaryData.fetch(t.props.course.indexId),$t.c.conditionalAnd(!R.c.enabled,!t.props.bookmark.isBookmarkLoaded)&&t.props.bookmark.fetch(t.props.courseId,l),t.props.preference.theme&&t.updatePreference(t.props.preference.theme),t.viewerPlugin.setLastLocationInHistory(),t.props.bookmark.fetchCurrentPageBookmark(l),t.props.userLastLocation.post(t.props.courseId,l,t.redirectionPlugin.getLastVisitedPageInfo()),t.handleAssessmentPage(),t.logPageUnLoad(),t.props.timeontask.unloadBrixOnPageChange(I.CONTENT.TYPE.QUIZ,I.CONTENT.ACTIONS.UNLOAD),t.viewerPlugin.logPageLoad(t.props.playlistStore.getSlateIdForAutobahn(l)),Ut.c.assessmentPageTelemetryEvent(t.pagePlaylist,l)},this.getPlayStore=e=>{this.props.assignmentId!==e&&(this.setDefaultValues(),e?this.createAssignmetPlaylist(e):this.createMaterialPlayList(),this.playlistDataFetched(),this.props.playlistStore.clear(),this.isRedirectFromHistory=!0)},this.playlistDataFetched=()=>{this.playListSubscription=c().on(I.PLAYLIST_DATA_FETCHED,(()=>{this.isSearch||(this.pagePlaylist=this.pagePlaylist||this.props.playlistStore.playlist.toJSON())}))},this.viewerContainter=()=>{this.courseSubscription=c().on(I.COURSE_DATA_FETCHED,(()=>{this.courseTitle=this.props.course.title,this.setContentType(),this.props.assignmentId?(kt.c.setCustomAttribute(I.NR_ASSIGNMENT_ID,this.props.assignmentId),this.createAssignmetPlaylist()):this.createMaterialPlayList(),this.materialPlugin.fetchMaterials(C.c.newCiteManifestFormat&&this.isCiteContent)}))},this.fetchPrevNextAssignment=e=>{if(R.c.enabled){const{assignments:t,courseId:s}=this.props,n=t.getAssignmentIndex(e),i=t.getAssignment(e);i&&!i.children&&t.fetch(s,I.ASSIGNMENT_ID,!0,i.id,!1,!!this.props.assignmentId);const a=t.assignments[0];a&&!a.children&&t.fetch(s,I.ASSIGNMENT_ID,!0,a.id,!1,!!this.props.assignmentId,!0);const o=t.assignments[n-1];o&&!o.children&&t.fetch(s,I.ASSIGNMENT_ID,!0,o.id,!1,!!this.props.assignmentId);const r=t.assignments[n+1];r&&!r.children&&t.fetch(s,I.ASSIGNMENT_ID,!0,r.id,!1,!!this.props.assignmentId)}},this.assetSubscriptionInitiate=e=>{if(!R.c.enabled){const t=e||this.props.assignmentId,s=e&&!0;this.assignmentAssetSubscription&&!s||(this.assignmentAssetSubscription=c().on(I.ASSIGNMENT_ASSET_FETCHED,(e=>{e.assignmentId===t&&(this.props.assignments.fetchStatus(t,this.props.courseId,s),this.props.playlistStore.fetch(t,this.props.courseId,s))}))),this.props.assignments.fetchAsset(t,this.props.courseId,s,s)}},this.createAssignmetPlaylist=e=>{const t=e||this.props.assignmentId;if("revel"===C.c.PRODUCT_MODEL){const s=this.props.assignments.getAssignment(t);s&&this.fetchPrevNextAssignment(t),this.props.assignments.isListFetched&&s&&s.children&&s.children.length&&!e?this.props.playlistStore.fetch(t,this.props.courseId,!0):this.props.assignments.isListFetched?this.assetSubscriptionInitiate(t):(this.assignmentListSubscription=c().on(I.ASSIGNMENT_LIST_FETCHED,(()=>{this.fetchPrevNextAssignment(t),this.assetSubscriptionInitiate(t)})),this.props.assignments.fetch(this.props.courseId,I.ASSIGNMENT_ID,!0,this.props.assignmentId))}},this.createMaterialPlayList=()=>{this.materialSubscription=c().on(I.MATERIAL_DATA_FETCHED,(()=>{this.isCiteContent&&C.c.newCiteManifestFormat||this.props.playlistStore.fetchCoursePlayList(this.props.courseId)}))},this.audioEvents=()=>{if(this.trackOpenSubscription=c().on(E.PlaylistEvents.Open,(e=>{this.setState({playingIndex:e.isPlaying?e.id:""},(()=>{this.togglePlay(e.isPlaying)}))})),this.trackCloseSubscription=c().on(E.PlaylistEvents.Close,(e=>{this.setState({isAudioPlayerOpen:e.isPlaying}),this.audioIcon&&this.audioIcon.focusVisible()})),window.sessionStorage.getItem(I.AUDIO_PLAYER)){const e=JSON.parse(window.sessionStorage.getItem(I.AUDIO_PLAYER));this.setState({isAudioPlayerOpen:e.isPlaying})}},this.assessmentEvents=()=>{this.assessmentLaunchSubscription=this.contextPlugin.assessmentLaunchSubscription()},this.setContentType=()=>{this.isCiteContent=this.props.course.contentType===I.VIEWER_CONTENT_TYPE_CITE,this.isCiteContent||(this.pxeFrameSubscription=c().on(T.VegaConstants.PXE_FRAME_EVENT,this.handleMessage))},this.loadSearchHighlightData=()=>{let e=ne.c.getMultimedia();const t=e&&Object.keys(e).length;t&&e.pageUrn!==this.pageIdRequested&&(ne.c.clearData(),e={},this.searchHits=[]),(this.searchHits&&this.searchHits.length||t)&&(this.searchHits=e.searchKeyword||this.searchHits,this.searchPlugin.setHighlightData(e))},this.domLoaded=()=>{if(this.handleAssessmentPage(),this.isCiteContent){this.loadSearchHighlightData();document.getElementsByTagName("math").length>0&&g.MathUtil.processMath()}},this.handleAssessmentPage=()=>{const e=null!==document.getElementById("assessementContainerBanner");this.state.isAssessmentPage!==e&&this.setState({isAssessmentPage:e})},this.handleMessage=e=>this.viewerPlugin.handleMessage(e),this.logPageUnLoad=()=>{const e=this.props.timeontask.getCurrentPageId();if(this.props.timeontask.calcTimeOnTask(I.CONTENT.TYPE.PAGE,I.CONTENT.ACTIONS.UNLOAD),this.state.isEmbeddedQuizLoaded){const e=this.embeddedActivityId;this.embeddedActivityId="",this.setState({isEmbeddedQuizLoaded:!1}),this.viewerPlugin.logBrixUnLoad(e)}if(R.c.enabled&&e){const t=this.pagePlaylist.find((t=>t.id===e)),s=this.props.assignmentId||t&&t.assignmentId;s&&t&&t.type===I.TYPE_PAGE&&setTimeout((()=>{this.props.assignments.fetchStatus(s,this.props.courseId,!0)}),2e3)}},this.pageLoaded=e=>{this.setState({isChapterOpener:e})},this.handlePageLoad=e=>{this.currentPage=e,this.viewerPlugin.setCurrentChapterId(),this.handleAssessmentPage(),this.props.sendPostMessage("onload","page",this.props.match.params),this.isCiteContent&&C.c.ENABLE_QUICK_VIEW&&this.setState({isFilmstripInteraction:!1})},this.getContext=()=>this.isCiteContent?this.contextPlugin.getCiteContext():this.contextPlugin.getPxeContext(),this.onPreferenceChange=e=>{this.props.preference.update(this.props.courseId,e),this.updatePreference(e.theme)},this.updatePreference=e=>{if(e){const{theme:t}=this.state,s=m.Utils.returnHexCodeByString(e),n={foreColor:s.foreColor,backColor:s.backColor};t.icons=n,t.activeColor=e,R.c.enabled&&"White"===e&&this.handleHeaderIconColor("transparent"),this.setState({theme:t})}},this.onWindowResize=()=>{this.setState({isMinimized:window.innerWidth<910})},this.handlePreferenceClick=e=>{const{isPreferencesOpen:t}=this.state;this.setState({isPreferencesOpen:!t}),this.anchorEl=e&&e.currentTarget,this.state.isPreferencesOpen?g.EventProvider.getEventManager().dispatch({category:"Preferences",action:"close",data:{preferences:!this.state.isPreferencesOpen}}):(g.EventProvider.getEventManager().dispatch({category:"Preferences",action:"open",data:{preferences:!this.state.isPreferencesOpen}}),e.currentTarget.ariaExpanded="true"),e.currentTarget.ariaExpanded="true"},this.onPageRequestNavigation=(e,t,s)=>{if(R.c.enabled){const{assignmentId:n,courseId:i,history:a}=this.props;let o=!1;if($t.c.conditionalAnd(this.state.isChapterTOC,n)?(a.push("/courses/".concat(i,"/pages/").concat(t.id,"?").concat(e)),o=!0):$t.c.conditionalAnd(!this.state.isChapterTOC,!n)&&(a.push("/courses/".concat(i,"/").concat(v.c.getContentPath(),"/").concat(s,"/pages/").concat(t.id,"?").concat(e)),o=!0),o)return this.viewerPlugin.handleFocusOnPageLoad(),!0}return!1},this.onPageRequest=function(e,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{assignmentId:i,assignmentItemId:a,courseId:o,history:r}=t.props;t.isNext=s;const l="".concat(I.SOURCE,"=").concat(t.sourcePath);t.isCiteAssessment=!1,n||(t.searchHits=[]),e&&e.assessmentId?kt.c.setCustomAttribute(I.NR_ASSESSMENT_ID,e.assessmentId):kt.c.setCustomAttribute(I.NR_ASSESSMENT_ID,"");const c=$t.c.conditionalAnd(e.assignmentId,e.assignmentId!==i)?e.assignmentId:i;if(!t.onPageRequestNavigation(l,e,c)){if($t.c.conditionalAnd(i,!n))return a?r.push("/courses/".concat(o,"/").concat(v.c.getContentPath(),"/").concat(c,"/pages/").concat(e.id,"\n          items/").concat(a,"?").concat(l)):r.push("/courses/".concat(o,"/").concat(v.c.getContentPath(),"/").concat(c,"/pages/").concat(e.id,"?").concat(l)),void t.viewerPlugin.handleFocusOnPageLoad();t.setState({isPreferencesOpen:!1}),r.push("/courses/".concat(o,"/pages/").concat(e.id,"?").concat(l)),"page"!==e.type&&t.props.userLastLocation.post(t.props.courseId,e.id,t.redirectionPlugin.getLastVisitedPageInfo()),t.viewerPlugin.handleFocusOnPageLoad()}},this.determinePageIndex=e=>{e&&(this.isSearch=!0,this.playListSearchSubscription=c().on(I.PLAYLIST_DATA_FETCHED,(()=>{const t=this.props.playlistStore.playlist.find((t=>t.href&&t.href.indexOf(e)>-1||t.id&&t.id.indexOf(e)>-1));t&&(this.onPageRequest(t,null,!0),this.requestedPageId=t.id),this.isSearch=!1,this.playListSearchSubscription()})),this.props.playlistStore.fetchCoursePlayList(this.props.courseId))},this.handleHelp=e=>{tn.c.isZoominEnabled()?tn.c.open():this.setState(e)},this.onPageClick=()=>{this.setState({isPreferencesOpen:!1}),this.setState({isHelpOpen:!1}),this.setState({openPopUp:!1}),c().publish(I.AUDIOBOOK_CLOSE,{})},this.handleDrawer=e=>{this.setState((e=>({drawerOpen:!e.drawerOpen,isFilmstripClose:!0}))),this.setPrevDrawerOpenState(),e&&this.setHeaderTransparent(e,!this.state.drawerOpen),g.EventProvider.getEventManager().dispatch({category:"Drawer",action:"Click",data:{DrawerOpen:!0}})},this.handleDrawerkeyselect=e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.setState({drawerOpen:!0}),this.setPrevDrawerOpenState())},this.getToggleStatus=e=>{this.isToggled=e,this.isTocUpdated&&!e&&this.setState({showCancelPopup:!0,toggleToc:!1}),e||this.isTocUpdated||(this.isTocUpdated=!1)},this.goToPageCallback=function(e,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.tocClicked=!0,t.isNext=null,t.setState({forceRefresh:!1});const i=t.props.playlistStore.pageRefId(e),a=t.getPagePath(i,e);s&&(t.annotationId=s,t.updateFromSearchInteraction(!0)),t.openPage(a,n)},this.isGLPUnAssignedAssessment=e=>{const{course:t,materials:s}=this.props,n=this.getTOCItem(e,s.tocContent.list);return!(!(t.isGLP&&t.isStudentView()&&n&&n.type===I.TYPE_CITE_ASSESSMENT&&n.assessmentId)||n.assignmentId)},this.getTOCItem=(e,t)=>(t.forEach((t=>{t.id===e?this.tocItem=t:t.children&&this.getTOCItem(e,t.children)})),this.tocItem),this.getPagePath=(e,t)=>{this.searchHits=[];const s=this.pagePlaylist.find((s=>s.id===t||s.id===e));return s&&"page"!==s.type&&this.props.userLastLocation.post(this.props.courseId,e,this.redirectionPlugin.getLastVisitedPageInfo()),"/courses/".concat(this.props.courseId,"/pages/").concat(e,"?").concat(I.SOURCE,"=").concat(this.sourcePath)},this.bookMarkHandler=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t.props.playlistStore.pageRefId(e);let i=t.getPagePath(n,e);const a=t.props.bookmark.bookmarks.find((t=>t.uri===e))||{};if(a&&a.assignmentId)return t.getPlayStore(a.assignmentId),i="/courses/".concat(t.props.courseId,"/").concat(C.c.CONTENT_PATH,"/").concat(a.assignmentId,"/pages/").concat(a.uri,"?").concat(I.SOURCE,"=").concat(t.sourcePath),void t.openPage(i,!1);t.openPage(i,s)},this.recentlyVisitedHandler=e=>{const t=this.props.playlistStore.pageRefId(e);let s=this.getPagePath(t,e);const n=this.props.historyStore.items.find((t=>t.id===e));if(n&&n.assignmentId)return this.getPlayStore(n.assignmentId),s="/courses/".concat(this.props.courseId,"/").concat(C.c.CONTENT_PATH,"/").concat(n.assignmentId,"/pages/").concat(t,"?").concat(I.SOURCE,"=").concat(this.sourcePath),void this.openPage(s,!1);this.openPage(s,!1)},this.openPage=(e,t)=>{if(t){let t=e;t.indexOf("?")>=0?t+="&isNewTab=true":t+="?isNewTab=true",window.open(t)}else this.props.history.push(e)},this.handleCancel=()=>{this.setState({drawerOpen:!0,showCancelPopup:!1,toggleToc:!1}),this.setPrevDrawerOpenState(),this.isToggled=!0,this.selectedDrawer=null},this.handleOk=()=>{this.isTocUpdated=!1;const e={drawerOpen:!this.isToggled||this.selectedDrawer,showCancelPopup:!1,toggleToc:!0};this.selectedDrawer&&(e.selectedDrawer=this.selectedDrawer),this.setState({...e}),this.setPrevDrawerOpenState(),this.selectedDrawer=null},this.hideDrawer=()=>{this.isTocUpdated?(this.setState({showCancelPopup:!0,toggleToc:!1}),this.selectedDrawer=null):(this.setState({drawerOpen:!1,toggleToc:!0}),this.setPrevDrawerOpenState()),g.EventProvider.getEventManager().dispatch({category:"Drawer",action:"Click",data:{DrawerOpen:!1}})},this.addBookmarkHandler=()=>{const e=this.pageIdRequested;if(!this.props.bookmark.isBookmarked){const t=this.isCiteContent?this.pagePlaylist.find((t=>t.id===e||t.parentItemId===e)):this.currentPage;if(t){const s=L.c.getChapterDetailsForPage(this.props.materials.tocContent.list,t.chapterId).title||t.title;this.props.bookmark.addBookmark(this.props.courseId,e,t.title,t.chapterId,s,this.props.assignmentId,this.props.course.productId),g.EventProvider.getEventManager().dispatch({category:"BookMarks",action:"Add",data:{bookMarked:!0}})}}},this.removeBookmarkHandler=e=>{const t=this.pageIdRequested,s=this.props.bookmark?this.props.bookmark.bookmarks.find((e=>e.uri===t)):{},n=e||s&&s.id,i=s&&s.id;this.props.bookmark.deleteBookmark(this.props.courseId,t,n,i),g.EventProvider.getEventManager().dispatch({category:"BookMarks",action:"Remove",data:{bookMarked:!1}})},this.popupCloser=e=>{if(!("vega-app-bar-pref"===e.srcElement.ownerDocument.activeElement.id)&&!0===this.state.isPreferencesOpen){const t=this.viewerPlugin.closest(e.target,".popperContent"),s=this.viewerPlugin.closest(e.target,"#vega-app-bar-pref");t||s||this.setState({isPreferencesOpen:!1})}},this.handlePopUpClose=()=>{this.setState({openPopup:!1})},this.isCurrentPageBookmarked=()=>this.props.bookmark.isBookmarked,this.handleAudioIconClick=()=>{if(this.audioPlugin.isPageHasAudio()||this.audioInfo){this.togglePlay(this.audioInfo.isPlaying);const e=this.audioPlugin.getAudioTrackInfo();this.audioInfo.isPlaying=e&&e.audioId===this.audioInfo.id?!e.isPlaying:!this.isPlaying,c().publish(I.AUDIOBOOK_OPEN,{handleTab:e=>{this.setAudioFocus=e}}),c().publish(E.PlaylistEvents.PlayPause,this.audioInfo)}else c().publish(I.AUDIOBOOK_OPEN,{handleTab:e=>{this.setAudioFocus=e}});this.setState({isAudioPlayerOpen:!0})},this.handleAudioAction=e=>{this.audioIcon=e},this.handleKeyDown=e=>{const t=document.getElementsByClassName("navigation-audio-playlist-player");t&&t[0]&&t[0].classList.contains("hide")||"Tab"===e.key&&!0===this.state.isAudioPlayerOpen&&this.setAudioFocus&&(this.setAudioFocus((()=>this.audioIcon&&this.audioIcon.focusVisible())),e.preventDefault())},this.handleEscape=e=>{if("Escape"===e.key){e.preventDefault();const{isHelpOpen:t,isPreferencesOpen:s,drawerOpen:n}=this.state;this.viewerPlugin.setFocusTrap(n,t,s),!0!==s&&!0!==t||!0!==n&&!1!==this.state.isFilmstripClose?s||t?this.setState({isPreferencesOpen:!1,isHelpOpen:!1}):this.state.isSearchOpen?this.setState({isSearchOpen:!1}):this.setState({drawerOpen:!1,isFilmstripClose:!0}):this.setState({isPreferencesOpen:!1,isHelpOpen:!1}),this.setPrevDrawerOpenState()}},this.togglePlay=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const s=t.state.playingIndex;t.isPlaying=s===t.pageIdRequested&&e},this.handlePublish=e=>{e&&(this.props.materials.handlePublish(e,this.props.courseId),this.updatedTocSubscription||(this.updatedTocSubscription=c().on(I.CUSTOMIZED_TOC_UPDATED,(()=>{this.isTocUpdated=!1,this.materialPlugin.fetchMaterials(!0),c().on(I.MATERIAL_DATA_FETCHED,(()=>{this.setState({openPopup:!0,toggleToc:!0}),this.props.playlistStore.fetchCoursePlayList(this.props.courseId,!0)}))}))))},this.handleDrawerTabChange=e=>{this.isTocUpdated?(this.setState({showCancelPopup:!0,toggleToc:!1}),this.selectedDrawer=e):this.setState({selectedDrawer:e})},this.getIndexId=()=>this.isCiteContent?this.props.materials.indexId:this.props.course.indexId,this.handleAudioIconAction=e=>{this.audioIconAction=e},this.handlePageAudio=()=>({hasAudio:Boolean(this.props.materials.audioContents.length),handleAudioIconClick:this.handleAudioIconClick,isPlayerOpen:this.state.isAudioPlayerOpen,audioIconAction:this.handleAudioIconAction,pageAudioResource:this.audioPlugin.isPageHasAudio}),this.setPlaylistData=()=>{this.pagePlaylist=this.props.playlistStore.playlist.toJSON(),this.pageIdRequested=this.props.playlistStore.pageRefId(this.props.pageId)||this.pagePlaylist[0].id;const e=this.pagePlaylist.find((e=>e.id===this.pageIdRequested));this.isTypePage=e&&e.type===I.TYPE_PAGE,e&&e.parentItemId&&(this.pageParentId=e.parentItemId)},this.handleFilmStripOpen=(e,t)=>{this.setState({isFilmStripOpen:e,isfilmstripExpand:t,isFilmstripClose:!1},(()=>{e&&(this.setState({drawerOpen:!1}),this.setPrevDrawerOpenState())}))},this.handleCiteAssessmentDrawer=(e,t)=>{const s=[I.CONTENT.ACTIONS.LOADITEM_VIA_BUTTON,I.CONTENT.ACTIONS.LOADITEM_VIA_TITLE,I.CONTENT.ACTIONS.LOADITEM_VIA_REVIEW_BUTTON,I.CONTENT.ACTIONS.LOADITEM_VIA_REVIEW_TITLE];e.action&&s.includes(e.action)&&(Ut.c.assessmentTelemetryEvent(),this.state.drawerOpen&&this.setState({drawerOpen:!1}),this.setPrevDrawerOpenState()),e!==I.CONTENT.ACTIONS.UNLOAD||t.activity||this.isTypePage&&!this.state.citeAssmtAttempted||this.prevDrawerOpenState&&(this.setState({drawerOpen:!0}),this.setPrevDrawerOpenState())},this.handleCiteAssessmentEvent=(e,t)=>{if(this.handleCiteAssessmentDrawer(e,t),t&&t.assessment){const s=t.assessmentItemStatus;let n=!1;const i=this.props.assignmentId;t.course=this.props.courseId,t.pageId=this.pageIdRequested,t.assignmentId=i,"load"!==e&&"unload"!==e||this.props.sendPostMessage(e,"cite-assessment",t),$t.c.conditionalAnd(e===I.ASSESSMENT_ITEM_SUBMIT,s)&&this.isTypePage?this.handleCiteAssessmentSubmitEvent(s):e===I.ASSESSMENT_ITEM_SUBMIT&&(this.setState({citeAssmtAttempted:!0}),this.isCiteSubmitted=!0),$t.c.conditionalAnd("unload"===e,!t.activity)&&this.state.citeAssmtAttempted&&(this.setState({citeAssmtAttempted:!1}),this.props.assignmentId&&setTimeout((()=>{this.props.assignments.fetchHandle(this.props.courseId,I.ASSIGNMENT_ID,!0,this.props.assignmentId,!0)}),3e3),n=!0),this.handlCiteAssessmentLoggingEvent(e,t,i,n),this.handleCiteAssessmentNewrelicEvent(e,t)}},this.handlCiteAssessmentLoggingEvent=(e,t,s,n)=>{$t.c.conditionalAnd("load"===e,t.activity)&&$t.c.conditionalAnd(!this.isCiteAssessment,!this.isTypePage)?(this.isCiteAssessment=!0,this.logPageUnLoad()):$t.c.conditionalAnd("unload"===e,!t.activity)&&!this.isTypePage&&this.handleCiteAssessmentUnloadEvent(s,n)},this.handleCiteAssessmentUnloadEvent=(e,t)=>{this.isCiteAssessment=!1;let s=e,n=t;const i=this.props.playlistStore.pageRefId(this.props.pageId)||this.pagePlaylist[0].id;if(this.viewerPlugin.logPageLoad(this.props.playlistStore.getSlateIdForAutobahn(i)),R.c.enabled&&!e){const e=this.pagePlaylist.find((e=>e.id===i));s=e&&e.assignmentId,n=!1}(!n&&s||R.c.enabled&&this.isCiteSubmitted)&&(this.isCiteSubmitted=!1,setTimeout((()=>{this.props.assignments.fetchStatus(s,this.props.courseId,!0,!1,n)}),3e3))},this.handleCiteAssessmentNewrelicEvent=(e,t)=>{"load"===e?(this.handleAssessmentPage(),kt.c.setCustomAttribute(I.NR_ASSESSMENT_ID,t.assessment),t.activity&&kt.c.setCustomAttribute(I.NR_ACTIVITY_ID,t.activity),kt.c.saveInteraction()):"unload"===e&&t.activity&&kt.c.setCustomAttribute(I.NR_ACTIVITY_ID,"")},this.handleCiteAssessmentSubmitEvent=e=>{let t=!1;"contents"!==this.sourcePath&&this.assignmentListSubscription||(t=!0),e===I.ASSESSMENT_ITEM_INPROGRESS&&this.props.assignmentId?this.props.assignments.fetchStatus(this.props.assignmentId,this.props.courseId,!0):e===I.ASSESSMENT_ITEM_COMPLETED&&this.props.assignments.fetch(this.props.courseId,I.ASSIGNMENT_ID,!0,this.props.assignmentId,t)},this.updateFilmstripInteraction=e=>{this.setState({isFilmstripInteraction:e})},this.getTocData=e=>({toc:e.toc.toc,callbacks:e.callbacks.drawerCallbacks.goToPageCallback,course:this.props.course}),this.getAssignmentData=()=>this.assignmentWrapper.getAssignmentData(this.props,this.sourcePath),this.handleDashboardRedirection=()=>{let e=!0;return this.props.course.isStudentView()?this.redirectionPlugin.handleDashboardRedirection():e=(0,f.jsx)("div",{className:"emptyMessage",children:(0,f.jsx)("span",{children:this.props.language.getText("emptyMsg.SERVER_ERROR")})}),e},this.handleTocExpand=(e,t,s,n)=>{const i=this.props.materials.toJSON(),a=i.tocContent&&i.tocContent.list;this.isExpanded=this.pageIdRequested===t,this.isExpanded||this.viewerPlugin.tocTraverse(a,t),n&&n(this.isExpanded)},this.handleHelpClick=e=>{e.preventDefault(),this.state.isHelpOpen?(this.handleHelpClose(),e.currentTarget.ariaExpanded="false"):(this.handleHelp({isHelpOpen:!0,anchorEl:e.currentTarget}),e.currentTarget.ariaExpanded="true")},this.handleHelpClose=()=>{this.setState({isHelpOpen:!1})},this.handleBookmarkClick=()=>{this.props.bookmark.isBookmarked&&!this.state.showUndo?this.handleRemoveBookmark(!1):this.addBookmarkHandler()},this.handleSearchClick=()=>{this.setState({isSearchOpen:!0})},this.handleSearchClose=()=>{this.setState({isSearchOpen:!1}),document.getElementById("vega-app-bar-search").focus()},this.handleRemoveBookmark=e=>{e?(this.removeBookmarkHandler(),this.setState({showUndo:!1})):this.state.showUndo?(this.setState({showUndo:!1}),this.props.bookmark.isCurrentPageBookmarked(!0)):(this.props.bookmark.isCurrentPageBookmarked(!1),this.setState({showUndo:!0}))},this.backToolTipMessage=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{language:n}=t.props;let i=null,a=null;if(t.props.course.isStudentView()){const t=$t.c.capitalize(e);return a=n.getText("common.backTooltip.DESCRIPTION"),i={id:"viewerBackTooltip",defaultMessage:a,values:{sourcePath:t}},s&&(i=a.replace("{sourcePath}",t)),i}return a=n.getText("common.goToPearsonHomeTooltip.DESCRIPTION"),i={id:"viewerBackTooltip",defaultMessage:a},s&&(i=a),i},this.setPageTitle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.chapterTitle){const t=(0,_.default)(e.chapterTitle);t&&t.length?document.title=t[0]:document.title="Pearson ".concat(C.c.PRODUCT_TITLE)}},this.setHeaderTransparent=function(e,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{isHeaderTransparent:i}=t.state,a=("transparent"===e||n)&&s;a!==i&&t.setState({isHeaderTransparent:a})},this.handleHeaderIconColor=(e,t)=>{const{drawerOpen:s}=this.state;this.setHeaderTransparent(e,s,t)},this.mapFootNoteData=()=>new Promise((e=>{const t=this.props.footnoteData.footnote.toJS().map((e=>({id:e.id,type:e.type,dataType:e.dataType,definition:"string"===e.dataType?e.text:JSON.parse(e.text)})));e({data:(0,f.jsx)(T.BackMatterRenderer,{content:t})})})),this.mapGlossaryData=()=>new Promise((e=>{let t=null;this.props.glossaryData.isGlossaryLoaded?(t=this.getMappedGlossaryData(),e(t)):c().on(I.GLOSSARY_DATA_FETCHED,(()=>{t=this.getMappedGlossaryData(),e(t)}))})),this.getMappedGlossaryData=()=>{const e=this.props.glossaryData.glossary.toJS().map((e=>({id:e.id,meaning:e.meaning,term:"string"===e.termDataType?e.term:JSON.parse(e.term),definition:"string"===e.defDataType?e.definition:JSON.parse(e.definition)})));return{data:(0,f.jsx)(T.BackMatterRenderer,{content:e})}},this.renderPreferenceComp=()=>this.state.isPreferencesOpen?(0,f.jsx)(P,{isPreferencesOpen:this.state.isPreferencesOpen,onPreferenceChange:this.onPreferenceChange,anchorEl:this.anchorEl,preference:this.props.preference}):"",this.renderNavigationComp=(e,t)=>this.props.materials.isTocLoaded&&!this.shouldHideNavigation?(0,f.jsx)(m.NavigationComponent,{hide:this.state.isNavHidden,player:this.state.player,onPageRequest:this.viewerPlugin.handleNavonPageRequest,pagePlayList:e[0],currentPageId:e[1],isFilmStripOpen:this.state.isFilmStripOpen,isfilmstripExpand:this.state.isfilmstripExpand,isMinimized:this.state.isMinimized,isChapterOpener:this.state.isChapterOpener,leftPanel:t}):"",this.getPageTitle=()=>{const e=this.viewerPlugin.handleViewerWidgets(),t=null===e||void 0===e?void 0:e.headerTitle;if(null!==t&&void 0!==t&&t.chapterTitle){const e=(0,_.default)(t.chapterTitle);if(e&&e.length)return{chapterTitle:e[0],pageTitle:t.pageTitle,isChapterOpener:t.isChapterOpener}}return""},this.eventsPlugin=new z(this),this.redirectionPlugin=new Q(this),this.viewerPlugin=new q(this),this.materialPlugin=new Z(this),this.searchPlugin=new ie(this),this.audioPlugin=new ae(this),this.contextPlugin=new es(this),this.bookmarkPlugin=new oe(this),this.assignmentWrapper=new us,this.isCiteAssessment=!1,this.pageParentId="",this.isExpanded=!1,this.isTypePage=!1,this.scrollBarRef=(0,n.createRef)(),this.noteClient=new S.NoteBookAPI(te.c.spectrumApi,this.props.courseId,"".concat(C.c.NOTES_PRODUCT_MODEL,"_").concat(this.props.course.contentType),C.c.CLIENT_APP,I.NOTES_LIMIT,"",this.props.course.productId),this.state=this.initializeState(e.theme),this.setDefaultValues(),this.currentPageId=null}getChildContext(){return{contentSelectorContext:{themeProps:Js,noteThemeProps:As.c,childIcons:Is.c}}}UNSAFE_componentWillMount(){this.sourcePath=this.redirectionPlugin.setSourcePath(),this.viewerContainter(),this.audioEvents(),this.assessmentEvents(),this.playlistDataFetched(),this.props.playlistStore.clear(),R.c.enabled&&!this.props.assignments.isSLPListFetched&&this.props.assignments.fetchForSLP(this.props.courseId),this.contextPlugin.getAssignmentView(this.props.assignmentId)}componentDidMount(){document.body.addEventListener("contentLoaded",this.domLoaded),document.body.addEventListener("click",this.popupCloser),document.getElementById("root").addEventListener("keydown",this.handleEscape),this.annotationId=this.redirectionPlugin.getQueryParamsValue(I.ANNOTATION_ID)||"",this.props.course.fetch(this.props.courseId),this.props.preference.fetch(this.props.courseId),this.props.sendPostMessage("onload","page",this.props.match.params),this.pageNumberSubscription=c().on(I.PAGE_NUMBER_LOADED,this.searchPlugin.setHighlightData),c().on(I.SEARCH_TRIGGERED_BY_VIEWER,this.searchPlugin.setSearchTextFromViewer),window.addEventListener("resize",(()=>{sn||(this.onWindowResize(),sn=!0,setTimeout((()=>{sn=!1}),250))})),this.onWindowResize(),R.c.enabled&&this.contextPlugin.addClassToParent(this.state.drawerOpen),this.shouldHideHeader="hide"===this.redirectionPlugin.getQueryParamsValue("header"),this.shouldHideDrawer="hide"===this.redirectionPlugin.getQueryParamsValue("drawer"),this.shouldHideNavigation="hide"===this.redirectionPlugin.getQueryParamsValue("navigation"),this.shouldHideDrawer&&this.hideDrawer()}componentDidUpdate(e,t){if(R.c.enabled&&this.props.pageId&&this.currentPageId!==this.props.pageId&&this.props.materials.isTocLoaded)if(this.props.assignmentId){if(this.navigateToFirstPageInAssignment())return}else{if(this.navigateToFirstPage())return}this.handleDrawerChangesWhenPropsUpdated(t)}componentWillUnmount(){this.logPageUnLoad(),this.eventsPlugin.unSubscriptionEvents(),this.props.playlistStore.clear(),document.body.removeEventListener("contentLoaded",this.domLoaded),document.body.removeEventListener("click",this.popupCloser),document.getElementById("root").removeEventListener("keydown",this.handleEscape),window.removeEventListener("resize",this.onWindowResize)}UNSAFE_componentWillReceiveProps(e){this.handleAssessmentPage(),this.props.assignmentId!==e.assignmentId&&this.isRedirectFromHistory&&(this.setState(this.initializeState(this.props.theme,e.assignmentId)),this.isRedirectFromHistory=!1),R.c.enabled&&this.props.assignmentId!==e.assignmentId&&this.fetchPrevNextAssignment(e.assignmentId)}render(){const e=(0,d.c)(this.state.theme),{courseId:t,playlistStore:s,preference:i,theme:a,classes:o,materials:r,language:l}=this.props;this.assessmentItemId=$t.c.conditionalOr(this.props.assessmentItemId,"");const c=$t.c.conditionalOr(!s.playlist,0===s.playlist.length),h=!r.isTocLoaded,u=Boolean(this.props.assignmentId);if(r.isError)return this.handleDashboardRedirection();if($t.c.conditionalOr(c,h))return(0,f.jsx)(g.Progress,{style:a.progress.material.style});const m=this.viewerPlugin.handleViewerWidgets(),E=m.audio.pageAudioResource(!0),_=$t.c.conditionalArg(this.state.isChapterOpener,"chapterOpenerPg",""),A={fontSize:parseInt(this.props.preference.fontSize,10)},C={isOpen:this.state.drawerOpen,width:$t.c.conditionalArg(R.c.enabled,I.LEFT_PANEL.SLP_PANEL_WIDTH,I.LEFT_PANEL.PANEL_WIDTH)},x=this.pagePlaylist&&this.pagePlaylist.find((e=>e.id===this.pageIdRequested));this.setPageTitle(m.headerTitle);const N=this.materialPlugin.getNavigationPlayList(),{isSearchOpen:P}=this.state,v=K.c.getShowExportTagPopupVal(this.props.user.id);return(0,f.jsx)(p.c,{theme:e,children:(0,f.jsxs)("div",{className:"headerWithViewer",children:[this.props.materials.isTocLoaded&&(0,f.jsxs)("div",{className:"viewer-header ".concat(o.headerBar," \n            ").concat($t.c.conditionalArg(R.c.enabled,"slpHeader","ilpHeader"),"\n            ").concat($t.c.conditionalAnd(R.c.enabled,o.SLPoverride)," \n            ").concat(this.state.drawerOpen&&!R.c.enabled&&o.headerBarShift," \n            ").concat($t.c.conditionalArg(this.state.drawerOpen,"viewerLeftPanelOpen","viewerLeftPanelClose")," \n            ").concat($t.c.conditionalAnd(this.state.isHeaderTransparent,o.SLPHeaderDrawerOpen)),children:[this.renderPreferenceComp(),!this.state.searchOpen&&(0,f.jsxs)(n.Fragment,{children:[!this.shouldHideHeader&&(0,f.jsx)(M,{bookmarkOn:this.props.bookmark.isBookmarked,drawerOpen:this.state.drawerOpen,isChapterOpener:this.state.isChapterOpener,isAssessmentPage:this.state.isAssessmentPage,color:this.viewerPlugin.getColorPreferences($t.c.conditionalArg(!R.c.enabled,this.props.preference.theme,I.COLOR_PREFERENCES.SECONDARY)),onBackClick:this.redirectionPlugin.handleBacklinkClick,onDrawerClick:this.handleDrawer,titleData:m.headerTitle,isFilmStripOpen:this.state.isFilmStripOpen,isfilmstripExpand:this.state.isfilmstripExpand,onSearchClick:this.handleSearchClick,onPrefClick:this.handlePreferenceClick,onBookmarkClick:this.handleBookmarkClick,onAudioClick:m.audio.handleAudioIconClick,onAudioAction:this.handleAudioAction,onKeyDown:this.handleKeyDown,onInAppHelpClick:this.handleHelpClick,config:m.hideIcons,showUndo:this.state.showUndo,handleRemoveBookmark:this.handleRemoveBookmark,language:l,backToolTip:this.backToolTipMessage(this.sourcePath),onPageScroll:this.handleHeaderIconColor,isSLP:R.c.enabled,isAudioOpen:this.state.isAudioPlayerOpen,isHelpOpen:this.state.isHelpOpen,isPreferencesOpen:this.state.isPreferencesOpen,isSearchOpen:P}),(0,f.jsx)(Zs.c,{isViewer:!0}),!tn.c.isZoominEnabled()&&(0,f.jsx)(gs.c,{isHelpOpen:this.state.isHelpOpen,anchorEl:this.state.anchorEl,handleHelpClose:this.handleHelpClose,isDrawerOpen:this.state.drawerOpen,selectedTab:this.state.activeDrawerTab,isReaderPage:!0}),P&&(0,f.jsx)(Gs,{language:this.props.language,isSearchOpen:P,onClose:this.handleSearchClose,search:this.searchPlugin.handleSearch,searchHistory:this.searchPlugin.handleSearchHistory,onSearchResultClick:this.searchPlugin.handleSearchPageClick,contextId:this.props.courseId,interactiveClient:this.getContext().clients.interactive,clearSearchHistory:this.searchPlugin.handleClearSearchHistory,noteClient:this.noteClient,chapterContent:this.props.materials.notesChapterList,searchText:this.state.searchText,isSelectedContent:this.state.isSelectedContent,handleClearInput:this.searchPlugin.handleClearInput,onSearchClose:this.searchPlugin.handleSearchClose})]}),this.state.showCancelPopup&&(0,f.jsx)(W,{openDialog:this.state.showCancelPopup,arrangeContents:!1,handleCancel:this.handleCancel,handleOk:this.handleOk,language:l}),R.c.enabled?!this.shouldHideDrawer&&(0,f.jsx)(Xs,{contextPlugin:this.contextPlugin,redirectionPlugin:this.redirectionPlugin,isChapterTOC:this.state.isChapterTOC,materials:r,viewerWidgets:m,assignments:this.props.assignments,pageIdRequested:this.pageIdRequested,assignmentId:this.props.assignmentId,currentAssignmentId:x&&x.assignmentId,assignmentItemId:$t.c.conditionalOr(this.props.assignmentItemId,x&&x.assessmentId),noteClient:this.noteClient,isStudent:this.props.course.isStudentView(),bookCallbacks:m.callbacks.drawerCallbacks,notesChapterList:this.props.materials.notesChapterList,chapterId:this.currentChapterId,isDrawerOpen:this.state.drawerOpen,onDrawerTabChange:e=>this.setState({activeDrawerTab:e}),forceRefresh:this.state.forceSLPDrawerRefresh,doRefresh:()=>this.setState({forceSLPDrawerRefresh:!0}),scrollBarRef:this.scrollBarRef,course:this.props.course,isAssetFetched:this.props.assignments.isAssetFetched,isAssetListFetchError:this.props.assignments.isAssetFetchError,showExportTagPopup:v,onCloseTagPopup:this.viewerPlugin.onCloseTagPopup}):(0,f.jsx)(bs,{assignmentData:this.getAssignmentData(),isDraweropen:this.state.drawerOpen,hideDrawer:this.hideDrawer,isChangeToggle:this.state.toggleToc,tabIndex:this.state.selectedDrawer,assignmentId:this.props.assignmentId,parentId:x?x.parentItemId:"",currentPageId:this.pageIdRequested,showAssignment:u,handleBackClick:this.redirectionPlugin.handleBacklinkClick,bookmarkData:m.bookmarks,bookCallbacks:m.callbacks.drawerCallbacks,noteClient:this.noteClient,notesPageEnd:I.NOTES_PAGE_END,isStudent:this.props.course.isStudentView(),tocData:this.getTocData(m),isCiteContent:this.isCiteContent,sourcePath:this.sourcePath,backToolTip:this.backToolTipMessage(this.sourcePath,!0),notesChapterList:this.props.materials.notesChapterList,chapterId:this.currentChapterId,onDrawerTabChange:e=>this.setState({activeDrawerTab:e}),showExportTagPopup:v,onCloseTagPopup:this.viewerPlugin.onCloseTagPopup}),this.state.openPopup&&(0,f.jsx)(W,{openDialog:this.state.openPopup,handlePopUpClose:this.handlePopUpClose,arrangeContents:!0,language:l})]}),(0,f.jsxs)("div",{ref:e=>{this.container=e},className:"viewer-container ".concat(_,"\n              ").concat($t.c.conditionalArg(R.c.enabled,o.SLPoverride,o.viewerContainer),"\n               ").concat($t.c.conditionalArg(this.isApplyTheme,this.props.preference.theme,""),"\n               ").concat(o.content,"\n               ").concat($t.c.conditionalAnd(this.state.drawerOpen,"".concat(o.contentShift," viewer-container-drawer-open"))),style:$t.c.conditionalArg(this.isCiteContent,A,null),children:[(0,f.jsx)(T.LearningContextProvider,{contextId:t,...this.getContext(),children:(0,f.jsx)(y,{pagePlaylist:this.pagePlaylist,pageIdRequested:this.pageIdRequested,assessmentItemId:this.assessmentItemId,handleFilmStripOpen:this.handleFilmStripOpen,onPageRequest:this.onPageRequest,onPageClick:this.onPageClick,handlePageLoad:this.handlePageLoad,currentPageLoaded:this.currentPageLoaded,annotationId:this.annotationId,isCiteContent:this.isCiteContent,chapterPlaylist:this.chapterPlaylist,handleCiteAssessmentEvent:this.handleCiteAssessmentEvent,versionId:this.props.materials.versionUrn,pageAudioResource:E,preferencesTheme:this.props.preference.theme,hideFilmstripOpener:this.state.isMinimized,isFilmstripInteraction:this.state.isFilmstripInteraction,updateFilmstripInteraction:this.updateFilmstripInteraction,fromSearchInteraction:this.state.fromSearchInteraction,isFilmstripClose:this.state.isFilmstripClose,pageLoaded:this.pageLoaded,forceRefresh:this.state.forceRefresh,childComponents:{NotePopupComponent:S.NotePopupComponent,DeleteConfirmationComponent:S.DeleteConfirmationComponent}})}),this.renderNavigationComp(N,C)]})]})})}},en.childContextTypes={contentSelectorContext:a().object},$s=en))||$s)||$s;nn.defaultProps={pageId:null,sendPostMessage:()=>{}};const an=(0,h.c)(Us)((0,u.c)((0,o.Ak)(nn)))},51784:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});class n{static setMultimedia(e){this.multiMedia=e}static getMultimedia(){const e=this.multiMedia,t={};if(!this.isMultiMedia(e))return t;if(e.interactiveId?t.interactiveId=e.isFromSearch?e.content:e.interactiveId:(e.path||e.srcPath||e.content)&&(t.path=e.srcPath||e.path||e.content),e.label&&e.label.trim()){const s=e.title?"".concat(e.label," ").concat(e.title):e.label;t.searchKeyword=s,t.label=e.label}return t.type=e.type,t.pageUrn=e.pageUrn,t}static clearData(){this.multiMedia={}}}n.isMultiMedia=e=>e&&Object.keys(e).length},20192:(e,t,s)=>{"use strict";s.d(t,{c:()=>o});var n=s(89056);const i=n.i2.model("HistoryItem",{chapterTitle:n.i2.maybeNull(n.i2.string),contextId:n.i2.maybeNull(n.i2.string),id:n.i2.maybeNull(n.i2.string),pageTitle:n.i2.maybeNull(n.i2.string),visitedTime:n.i2.maybeNull(n.i2.Date),assignmentId:n.i2.maybeNull(n.i2.string)});var a=s(584);const o=n.i2.model("HistoryStore",{items:n.i2.maybeNull(n.i2.array(i))}).views((e=>({getVisitedPages:()=>[...e.items].splice(1)}))).actions((e=>({set(t){const s=e.findIndex(e.items,"id",t.contentUrn);s>=0&&e.items.splice(s,1);const n={chapterTitle:t.chapterTitle,contextId:t.contextId,id:t.contentUrn,pageTitle:t.moduleTitle,assignmentId:t.assignmentId,visitedTime:(new Date).getTime()};e.items.splice(0,0,n),e.items.length>a.RECENT_PAGE_SIZE&&e.items.slice(0,a.RECENT_PAGE_SIZE+1)},clear(){e.items=[]},findIndex:(e,t,s)=>e.findIndex((e=>e[t]===s)),initializeStore(t){e.items=t.items}})))},7170:(e,t,s)=>{"use strict";s.d(t,{default:()=>T});var n=s(89056);const i=n.i2.model("AppState",{isInitialized:n.i2.boolean});var a=s(45452);const o={emptyMsg:{NOTES:"Cuando resaltes texto o agregues notas, aparecer\xe1n aqu\xed.",TOOLS:"Las herramientas de estudio no est\xe1n disponibles para este t\xedtulo",SCHEDULED:"Su instructor no ha programado ninguna lectura para este curso.",NO_ASSIGNMENTS:"Su instructor a\xfan no ha agregado ninguna tarea, pero puede explorar el libro ahora.",SERVER_ERROR:"Lo sentimos, no pudimos completar su solicitud.\n    Se ha producido un error de servidor desconocido. Int\xe9ntalo de nuevo.",NAVIGATE_TO_ASSIGNMENTS:"Haga clic para navegar por la pesta\xf1a de tareas",COURSE:"Lo sentimos, no podemos encontrar el curso que solicit\xf3.",CONTENTS:"Lo sentimos, no pudimos encontrar una tabla de contenido para este curso.",UPCOMING:"Su instructor no ha programado ninguna tarea pr\xf3xima para este curso.",COMPLETED:"Las asignaciones aparecer\xe1n aqu\xed una vez que las completes.",UPCOMING_READINGS:"Su instructor no ha programado ninguna lectura para este curso.",PAST:"Lo sentimos, no pudimos encontrar lecturas anteriores de este curso..",STAY_ON_TOP_OF_THINGS:"Mantente al tanto de las cosas",HEAD_START:"Conseguir una ventaja",NO_SCHEDULED_READINGS:"Su instructor no ha programado ninguna lectura todav\xeda, pero puede comenzar a explorar su ",READING:"leyendo",NOW:"ahora.",START_READING:"Empieza a leer",CHECK_SCORES:"Revisa tus puntajes",ONE_MORE_TO_GO:"No te pierdas tu \xfaltima fecha de vencimiento",LAST_ASSIGNMENT:"Todav\xeda hay tiempo para terminar las tareas que te quedan.",HOW_DOING:"Mira como estas",FINISH_ASSIGNMENT:"Cuando termines una tarea, encuentra tus puntuaciones aqu\xed.",WORK_ON_ASSIGNMENTS:"Trabajar en las tareas",NO_REVEL_ASSIGNMENT:"No tienes tareas de Revel.",CHECK_BACK:"Vuelve a consultar si tu instructor asigna trabajo para Revel.",SERVER_ERROR_HEAD:"No hemos podido cargar esta p\xe1gina.",TRY_AGAIN:"Int\xe9ntalo de nuevo"},tooltips:{AUDIO_PLAYLIST_TOOLTIP:"Lista de reproducci\xf3n de audio",SHARED:"partag\xe9s",FROM_INSTRUCTOR:"De l'instructeur",INAPPHELP_TOOLTIP:"Support d'aide",PROFILE:"perfil"},errors:{maintenance:{pageTitle:"Mantenimiento Programado",scheduledMaintenance:"MANTENIMIENTO PROGRAMADO",improvementsOnTheWay:"Improvements on the way!",message:"Esta acci\xf3n est\xe1 actualmente bajo mantenimiento programado. Vuelva a consultar despu\xe9s de las 9 a.m. ET."}}},r={a11y:{revel:{LOGO:"Revel App Logo"}},common:{PERCENTAGE_EARNED:"Percentage Earned",POINT_EARNED:"Points Earned",OK:"Ok",START:"Start",CANCEL:"Cancel",CLOSE:"Close",CONTINUE:"Continue",REVIEW:"Review",READ:"Read",POINTS_LABEL:"Points",WORTH:"Worth",SUMMARY:"Summary",PERCENT_COMPLETED:"{percentage, number}% COMPLETE",JOIN_TWO:"{statement1} {joiner} {statement2}",JOIN_THREE:"{statement1} {joiner} {statement2} {joiner} {statement3}",SCORE_PENDING:"Score pending",NO_STATUS:"{statement1}",DUE_DAYS:"Due in {statement1} days",SINGLE_DAY:"Due in {statement1} day",PAST_DUE:"Past due {statement1} days",TOMORROW:"Due Tomorrow",TODAY:"Due Today",POINTS:"{points, plural, one {# point} other {# points}}",EARNED_POINTS:"Earned {points, plural, one {# point} other {# points}}",EARNED_POINTS_OF:"Earned {pointsEarned} of {points, plural, one {# pt} other {# pts}}",WORTH_POINTS:"Worth {points, plural, one {# point} other {# points}}",PLUS_POINTS:"+{points, plural, one {# Point} other {# Points}}",POINTS_EARNED:"{pointsEarned, number} points earned",CURRENT_SCORE:"Score: {pointsEarned} out of {points, plural, one {# point} other {# }}",FINAL_SCORE:"Score: {pointsEarned} out of {points, plural, one {# point} other {# }}",TDX_ATTEMPT_COUNT:"{count, plural, one {# attempt} other {# attempts}}",TDX_POINTS:"{scored, select,\n      true {{pointsEarned, number}}\n      other {--}\n    } of {points, plural, one {# pt} other {# pts}}",TDX_PERCENT_SCORE:"{percentage, number}%",TDX_POINTS_EARNED:"{pointsEarned, number}/{points, plural, one {# point} other {# points}} earned",TDX_POINTS_EARNED_AFTER_DUE:"You\u2019ve earned {pointsEarned, plural, one {# point} other {# points}} earned after due date.",TDX_POINTS_EARNED_AFTER_DUE_AND_OVERRIDE:"Your overall grade is impacted",TDX_POPUP_MSG:"Your grade is impacted by the following:",TDX_ALERT:{CAPTION:"Caution",MSG:"You have one attempt to answer each question on this assessment.\n          However, you can save an unfinished assessment, and complete any previously unattempted questions at another time. \n          Begin assessment now?"},TDX_SCORE_DETAILS:"Score Details",TDX_NOT_STARTED_POINTS:"-/{points, plural, one {# point} other {# points}} earned",TDX_DISCRETE:"Score pending\u2026",TDX_POST_DUE_STATUS:"No longer accepted for points",ASSESSMENT_ACCEPT_LATE:"Accepted late until {acceptedDate} ",ASSIGNMENT_PAST_DUE_STATUS:"Incomplete",ASSIGNMENT_COMPLETE_STATUS:"Completed",weeks:{tiny:{MON:"M",TUE:"Tu",WED:"W",THU:"Th",FRI:"F",SAT:"Sa",SUN:"Su"}},banner:{androidPlayStore:"Download on Google Play",iosStore:"Download from the App Store",product:{revel:{ANDROID:"REVEL",IOS:"REVEL by Pearson"}},MOBLE_PROMO_TEXT:"Download the {app} app to learn on the go!",pearsonMsg:"Pearson Education, Inc",getAndroidLabel:"GET",getIosLabel:"Get"},categories:{read:"Readings",practice:"Practice",homework:"Homework",test:"Tests",quiz:"Quizzes"},backTooltip:{DESCRIPTION:"Back to {sourcePath}",DEFAULTMESSAGE:"Back to {sourcePath}"},goToPearsonHomeTooltip:{DESCRIPTION:"Go to Pearson Home",DEFAULTMESSAGE:"Go to Pearson Home"},topBanner:{STUDENT_VIEW:"Student view",text:"{Studentview}: unpublished assignments are visible only to instructors. No work done in this view will be scored.",link:"Close student view"},studyTopBanner:{text:"Some content didn't load. Refresh or contact Pearson Support."}},user:{ACCOUNT:"Account Settings",MANAGE_ACCOUNT:"Manage your account information",SIGNOUT:"Sign Out",CLOSE:"Close"},tabs:{ASSIGNMENTS:"Assignments",ASSIGNMENT:"Assignment",HISTORY:"History",NOTES:"Notebook",CONTENTS:"Contents",TOOLS:"Study Tools",UPCOMING:"Upcoming",PAST:"Past",SCORENOTAVAILABLE:"No score available",SCORENOTAVAILABLEYET:"No score yet",OVERALLSCORE:"Your Revel score is {scored, select,\n      true {{overallScore}%}\n      other {--}\n    }",SCORES:"Scores",BOOKMARKS:"Bookmarks",DASHBOARD:"Dashboard"},errors:{403:{TEXT:"We\u2019re sorry. You don\u2019t have permission to view this page.",TITLE:"You need permission"},401:{TEXT:"Your session has ended due to inactivity. Please wait while we take you to the sign in page.",TITLE:"Your session has ended"},timeout:{TEXT:"Sorry for an inconvenience. Please check back later.",TITLE:"Our server is temporarily unavailable"},general:{TEXT:"Sorry, we encountered an unexpected server error. Please try again later.",TITLE:"Something went wrong"},gradeError:{TEXT:"Your score is still pending."},ASSIGNMENT_DELETED:{TITLE:"Assignment deleted.",TEXT:"This assignment was deleted by your instructor and is no longer available."},ASSIGNMENT_NOT_READY:{TITLE:"Assignment not ready.",TEXT:"Your instructor hasn't published this assignment yet. Let them know, then check back."},maintenance:{pageTitle:"Scheduled Maintenance",scheduledMaintenance:"SCHEDULED MAINTENANCE",improvementsOnTheWay:"Improvements on the way!",message:"Please check back in a while."}},emptyMsg:{NOTES:"When you highlight text or add notes, they will appear here.",TOOLS:"Study Tools are unavailable for this title",SCHEDULED:"Your instructor hasn\u2019t scheduled any upcoming readings for this course.",NO_ASSIGNMENTS:"Your instructor didn't add any assignments yet, but you can explore the book now.",PASSED_ASSIGNMENTS:"All your assignments due dates have passed. See your results under the Scores tab.",SERVER_ERROR:"Sorry, we could not complete your request.\n      An unknown server error has occurred. Please try again.",NAVIGATE_TO_ASSIGNMENTS:"Click to navigate assignments tab",COURSE:"Sorry, we can\u2019t find the course you requested.",CONTENTS:"Sorry, we couldn\u2019t find a table of contents for this course.",UPCOMING:"Your instructor has not scheduled any upcoming assignments for this course.",COMPLETED:"Assignments will appear here once you complete them.",UPCOMING_READINGS:"Your instructor hasn\u2019t scheduled any upcoming readings for this course.",PAST:"Sorry, we couldn\u2019t find any past readings for this course.",STAY_ON_TOP_OF_THINGS:"Stay on top of things",HEAD_START:"Get a head start",HOW_YOU_DID:"See how you did",NO_SCHEDULED_READINGS:"Your instructor hasn't scheduled any readings yet, but you can start exploring your ",READING:"reading",NOW:"now.",START_READING:"Start reading",CHECK_SCORES:"Check your scores",ONE_MORE_TO_GO:"Don\u2019t miss your last due date",LAST_ASSIGNMENT:"There\u2019s still time to finish the assignments you have left.",HOW_DOING:"See how you\u2019re doing",FINISH_ASSIGNMENT:"When you finish an assignment, find your scores here.",WORK_ON_ASSIGNMENTS:"Work on assignments",NO_REVEL_ASSIGNMENT:"You don\u2019t have Revel assignments",CHECK_BACK:"Check back if your instructor assigns work for Revel.",SERVER_ERROR_HEAD:"We\u2019re unable to load this page",TRY_AGAIN:"Try again",INSTRUCTOR_EDIT_HEADING:"Updates on the way...",INSTRUCTOR_EDIT_MESSAGE:"Your instructor is making changes to this activity.",INSTRUCTOR_EDIT_MESSAGE_PART:"Please wait a few minutes and reload.",RELOAD:"Reload"},screens:{courses:{404:{TITLE:"Error",TEXT:"Sorry, we can\u2019t find the course you requested."},grade:{CANCEL_SCORE_CARD:"Close score card",SCORE_INFO:"Score for {id} is worth {gradeWeight}%",QUIZ_STATUS:" {title}, {status} quiz",QUIZ_SCORE_DETAILS:"{pointsScored} out of {points} points scored for {title}. You are currently on"}},assignments:{DUE_NEXT:"Due next",UPCOMING:"Upcoming",PAST_DUE:"Past Due",NOT_ATTEMPTED:"Not Attempted",IN_PROGRESS:"In Progress",COMPLETED:"Completed",READ_ONLY:"Progress Not Tracked",NOT_AVAILABLE:"Not Available",ACCEPTED_LATE:"Accepted late",LATE_PENALTY_APPLIED:"Late penalty applied",ACCEPTED_LATE_WITH_PENALTY:"Accepted late with penalty",ACCEPTED_LATE_WITH_PENALTY_MSG:"All or part of this assignment is accepted late with penalty.",ACCEPTED_LATE_MSG:"All or part of this assignment is accepted late.",LATE_PENALTY_APPLIED_MSG:"All or part of this assignment has a late penalty applied",DUE_DATE_CHANGED:"Due\xa0date\xa0changed",DUE_DATE_CHANGED_ICON_TEXT:"Now due {date} at {time} {timeZone}",DUE_DATE_CHANGED_MSG:"This assignment is now due on {date} at {time} {timeZone}.",DUE_DATE_CHANGED_PART_MSG:"Part of your assignment has a new due date.",DUE_DATE_EXTENDED:"Due date extended till {acceptedTillDate}",DUE_DATE_EXTENDED_PART:"Due date extended for part of this assignment",DUE_DATE_EXTENDED_PART_MSG:"Now due on {date} at {time} {zone}.",SLP_DUE_DATE_EXTENDED_PART_MSG:"Now due {date} at {time} {zone}",SCORE_ADJUSTED:"Score adjusted by instructor",SCORE_OVERRIDE:"Score updated",SCORE_OVERRIDE_MSG:"Your score was updated for part of this assignment.",LOCKED:"Unavailable until",AVAILABLE_ON:"Available {date} at {time} {zone}.",WORTH_POINT:" WORTH {points, plural, one {# POINT} other {# POINTS}}",PAST_DUE_ASSIGNMENTS:"Past due ({count})",PAST_DUE_BACK_TO_ASSIGNMENT:"Back to other assignments",values:{NONE:" ",UNKNOWN:"Scored Assessment",MEDIAACTIVITY:"Mediashare",WRITING_ASSIGNMENTS:"Essay",GEOGEBRA:"Geogebra",HELPDESK:"Helpdesk",ITSIMS:"IT Simulation",MINISIMS:"Mini-Simulation",SOUNDBYTES:"Sound Bytes",READING:"Reading",SHARED_WRITING_ENTRIES:"Shared Writing",DSMS:"Dynamic Study Module",MVC:"My Virtual Child",MVL:"My Virtual Life",MVT:"My Virtual Teen",PIA:"Personal Inventory Assessment",VQUIZ:"Video Quiz",PRACTICE:"Practice",HOMEWORK:"Homework",TEST:"Test",QUIZ:"Quiz",READING_QUIZ:"Reading and Quiz",LOCKED:"Locked",MODULE:"Reading",SLATE:"Reading","CITE-ASSESSMENT":"Quiz",PAGE:"Read",TDX:"Quiz",ESSAY:"Essay",SHAREDWRITINGQUESTION:"Shared Writing",LT:"LT"},essay:{SINGLE_DRAFT:"Draft",DRAFT1:"Draft 1",PEERREVIEW:"Peer Review",DRAFT2:"Draft 2"},ESSAY_TITLE:"{title} [{subTitle}]",DUE:"Due {date} at {time} {zone}",NO_DUE:"No due date assigned",QUIZ_COUNTS:"{closedCount, number}/{count, number}",QUIZ_COUNTS_LONG:"{count, plural, one {# Question} other {# Questions}}",AVAILABLE_ON_DATE:"Available on {availabilityDate}",QUIZ_NOTASSIGNED_HEADING:"Don\u2019t worry! You can skip this assessment because it\u2019s not assigned.",QUIZ_NOTASSIGNED_MESSAGE:"Continue exploring the book or review the list of assignments in your Assignments tab.",QUIZ_NOTAVAILABLE_HEADING:"Save the date",QUIZ_NOTAVAILABLE_MESSAGE:"Your assignment will be ready {availabilityDate} at {time} {zone}",QUIZ_NOTASSIGNED:"Not assigned",AVAILABLE:"Available",QUIZ_AVAILABLE:"{content} {date}",ACCEPTED_UNTIL:"Accepted until",ASSIGNMENTS_EXTENDED_DATE:"{content} {date}",FAILED_TO_LOAD_QUIZ:"Failed to load the TDX Quiz",ASSIGNMENT_DUE_TIME:"Due at {time}",SHOW_DETAILS:"Show details",HIDE_DETAILS:"Hide details",NO_SECTIONS:"No additional items to expand",EXPAND_SHOW_DETAILS:"Click here to show details, List collapsed",COLLAPSE_SHOW_DETAILS:"Click here to hide details, List expanded",CATEGORY_WEIGHT:"({value}% of score)",CATEGORY_SCORE:"{scored, select,\n        true {{gradeScore}%}\n        other {--}\n      }",GRADE_CATEGORY:"{homework} is worth {homeworkWorth}%, {practice} is worth {practiceWorth}%,\n        {quiz} are worth {quizWorth}%, {read} are worth {readWorth}%, and {test} are worth {testWorth}% of your score.",GRADE_RESULT:"Results: {scored, select,\n        true {{gradeScore}%}\n        other {--}\n      } ({pointsEarned} of {points} Points)",NO_ITEMS_ASSIGNED:"No items assigned.",WELCOME_BACK:"Welcome back, {name}",FANTASTIC:"Fantastic, {name}!",GOOD_JOB:"Good job, {name}!",KEEP_STUDYING:"Keep studying, {name}",CHECK_BACK:"Check back, {name}",REVEL_SCORE_CHANGE:"As you complete assignments, see how your Revel score changes.",WEIGHTED_REVEL_SCORE:"Your weighted Revel score is {percent}.",START_ASSIGNMENT:"Start assignment",START_NEXT_ASSIGNMENT:"Start next assignment",NEXT_ASSIGNMENT_DUE_DATE:"Your next assignment, {assignmentTitle}, is due {dueDate} at {dueTime}",NEXT_ASSIGNMENT_DUE_DAYS:"Your next assignment, {assignmentTitle}, is due in {remainingDays} days.",GOT_MORE_TIME:"You\u2019ve got more time",LOOK_FOR_LAST_ASSIGNMENT:"You can still turn in your last assignment. Look for it under Scores tomorrow.",LOOK_FOR_LATE_ASSIGNMENT:"You can still turn in late assignments.",DUE_DATE_EXTENSION_MESSAGE:"Due dates have changed. Open for more info."},assessments:{QUESTION:"Question",QUESTION_NUMBER:"Question {number, number}",NEXT_QUESTION:"Next Question",ATTEMPT_COUNT:"{count, plural, one {# Attempt} other {# Attempts}}",LIMITED_ATTEMPT_POLICY:"You have {maxAttempts, plural, one {# try} other {# tries}} per question.",UNLIMITED_ATTEMPT_POLICY:"You have as many tries as you need to get a perfect score.",PENALTY_POLICY:"Points decrease after each incorrect answer.",SHARED_WRITING_INSTRUCTIONS:"Submit your writing when it\u2019s ready to be scored.",MEDIA_SHARE_INSTRUCTIONS:"Submit your media when you are ready for it to be scored.",TDX_SUMMATIVE_INSTRUCTIONS:"You have one try per question and must answer each question.",TDX_FORMATIVE_INSTRUCTIONS:"You have as many tries as you need to get a perfect score.",OTHER_ASSESSMENT_INSTRUCTIONS:"Submit your response when you are ready for it to be scored.",NOT_ATTEMPTED:"Not started",IN_PROGRESS:"In progress",COMPLETE:"Complete",LATE:"Late",PAST_DUE:"Past due",SUBMITTED:"Submitted",SCORE_INFO_GRADE_TITLE_CLOSED:"Your score has been updated. See",SCORE_INFO_GRADE_TITLE_OPENED:"How your score has changed:",SCORE_INFO_INSTRUCTOR_TITLE_CLOSED:"Your instructor left you a message. See",SCORE_INFO_INSTRUCTOR_TITLE_OPENED:"Your instructor left you a message:",LATE_PENALTY_APPLIED:"A {latePenaltyPercentage}% late penalty has been applied to any work submitted after the due date.",POINTS_AFTER_DUE_DATE:"You've earned {pointsAfterDueDate} points after the due date.",ACCEPTED_LATE:"This assessment is accepted late.",ACCEPTED_LATE_WITH_PENALTY:"A {latePenaltyPercentage}% late penalty will be applied to any work submitted after the due date.",INSTRUCTOR_MESSAGE:"Instructor message",FLAG_MESSAGE:"Message",MULTIPLE_SCORE_MESSAGE:"Your score was updated for part of this assignment.",AVAILABLE_ON_DATE:"Available on {availabilityDate} at {time} {zone}",FILTER:{FILTER_TEXT:"FILTER",CORRECT:"Correct",INCORRECT:"Incorrect",PARTIAL_CORRECT:"Partially correct",NO_FILTER:"No filters found"},QUIZ_NOTASSIGNED_IMAGE:"Quiz Not Assigned Image",QUIZ_NOTAVAILABLE_IMAGE:"Quiz Not Available Image"},materials:{bookcover:{CARDHEADING:"Textbook",CARDTITLE:"View textbook"}},scores:{OVERALLSCORE:"Your Revel Score is",OVERALLSCORE_SUMATHRA:"Your Revel Score",SCORE_PENDING:"SCORE PENDING",tableHeadings:{CATEGORY:"Category",SCORE:"Score",WEIGHT:"Weight",POINTS_EARNED:"Points earned"},SCORE_POINTS_EARNED_LABEL:"POINTS EARNED",ASSIGNMENT_SCORE:"Your assignment scores",SCORE_POINTS_EARNED:"{pointsEarned, number}/{points, number}",REVEL_ASSIGNMENT_SCORE:"Your Revel assignment scores",OVERALL_REVEL_SCORE:"OVERALL REVEL SCORE",WEIGHTED_SCORE_BREAKDOWN:"WEIGHTED SCORE BREAKDOWN",CHECK_YOUR_SCORES:"Check your scores, {name}",LOOK_AT_EACH_ASSIGNMENT:"Look at each assignment to see how you did on your Revel assignments.",CHECK_BACK:"Check back, {name}",YOUR_SCORE_PENDING:"Your score is pending.",REVEL_SCORE:"REVEL SCORE"},slpTOC:{VIEW_CHAPTERS:"All chapters",VIEW_ASSIGNMENTS:"Assignments",COURSE_CONTENT:"Course content",ALL_CHAPTERS:"all chapters"},notes:{YOUR_BOOK_AND_NOTES:"Your book and notebook all in one",HIGHLIGHT_TEXT:"Highlight text and add notes in the book or add notes here.",MY_NOTES:"My notes"},myaccount:{SIGNOUT:"Click here to open the logout popup"},studyTools:{TERMS:"Terms",ALL_DECKS:"All Decks",LETS_REVIEW:"{name}, let\u2019s review",RECENTLY_FINISHED:"You recently finished {title}. Now is a great time to review that chapter.",REVIEW_CHAPTER:"Review {chapter}",STUDY_CHAPTER:"Study next chapter",WE_GOT_YOU_COVERED:"We\u2019ve got you covered, {name}",SKIP:"You can skip this, {name}",YOU_CAN_STILL_STUDY:"This book doesn\u2019t include any key terms for you to study. You can still study your notes and bookmarks.",READY_TO_STUDY:"{name}, ready to study?",START_YOUR_REVIEW:"We\u2019ll start your review with the first chapter on the list. Study any chapter by selecting it from the list.",CLOSE:"Close",PREVIOUS_CHAPTER:"Previous chapter",NEXT_CHAPTER:"Next chapter",VIEW_NOTEBOOK:"View notebook"},schedule:{STAY_ON_TOP_OF_THINGS:"Stay on top of things",HEAD_START:"Get a head start",NO_SCHEDULED_READINGS:"Your instructor hasn't scheduled any readings yet, but you can start exploring your reading now.",WHERE_YOU_LEFT_OFF:"Where you left off",CONTINUE_READING:"Continue reading",START_READING:"Start reading"},mainContent:{LABELHEADING:"Skip to main content"},search:{CHAPTER:"Chapters",GLOSSARY:"Glossary",FOOTNOTES:"Footnotes",GLOSSARYTERMS:"Glossary",CHAPTERS:"Chapters",MORERESULTS:"More Results",PAGEINFO:"Print Page",PAGE:"Pages",MODULE:"Modules",SEARCH:"Search",CLOSE:"Close search"},instructorMessage:{instructorHeader:"Message from your instructor",instructorToolTipText:"Instructor {messages, plural, one {message} other {messages}}"}},instructorMessage:"Message from ",cancelIcon:"Close Instructor message",gradeInfoIcon:"More information about your score button opens in a dialog window",readMore:"Read more",individualInstructorMessage:"Message from {instructorName}:",instructorMessageTitle:"Message from {instructorName}",tocSuccessStatus:"Success!",tocPublishMessage:"Students will see your changes the next time they open content.",mainIdeas:"Main Ideas",questions:"Questions",observations:"Observations",instructor:"Instructor",tocCancelMessage:"Your changes have not been saved. Do you want to proceed?",helpMenu:{BACK:"Back",GET_THE_APP:"Get the app",CONTACT_SUPPORT:"Contact Support",SHOW_FULL_TOPIC:"Show full topic",HELP_CENTER:"Open in help center"},tooltips:{AUDIO_PLAYLIST_TOOLTIP:"Audio playlist",SHARED:"Shared",FROM_INSTRUCTOR:"From instructor",INAPPHELP_TOOLTIP:"Help",PROFILE:"profile",DOWNLOAD_APP:"Download app"},bookmarkToolTip:{UNDO:"Undo",REMOVED_MESSAGE:"Your bookmark has been removed."},copyRightText:{COPY_RIGHT:"Copyright \xa9 2020 Pearson Education Inc. All rights reserved.",ACCESSIBILITY:"Accessibility",PRIVACY_POLICY:"Privacy Policy",TERMS:"Terms & Conditions"},deepLink:{COURSE_DOES_NOT_EXIST:"Course {courseId} does not exist.",ASSIGNMENT_DOES_NOT_EXIST:"Assignment {assignmentId} in course {courseId} does not exist.",ASSIGNABLEUNITID_DOES_NOT_EXIST:"AssignableUnitId does not exist.",COURSEID_DOES_NOT_EXIST:"Courseid does not exist.",ASSIGNMENTID_DOES_NOT_EXIST:"learningModuleId does not exist.",ASSIGNMENT_NOT_READY:"Deeplink assignment {historyId} not published.",ASSIGNMENT_DELETED:"Deeplink assignment {historyId} deleted."},mobileBanner:{textTitle:"Learn. Listen. Study.",descText:"Download the free Revel app to read and study away from your desk.",getAppText:"Get app",platformText:"Available on iOS & Android"}},l=new a.IntlProvider({locale:"en",messages:{}},{}).getChildContext().intl,c=n.i2.model("Language",{language:n.i2.string}).views((e=>({get currentLanguage(){return e.language},get resource(){switch(e.language){case"en":default:return r;case"es":return o}},getText(t){let s=e.resource;if(-1===t.indexOf("."))s=s[t];else{t.split(".").forEach((e=>{s=s[e]}))}return s},getIntl:()=>l}))).actions((e=>({changeLanguageTo(t){e.language=t}})));var d=s(44092),p=s.n(d),h=s(584);const u=n.i2.model("User",{id:n.i2.string,name:n.i2.string,lastName:n.i2.string,email:n.i2.string,token:n.i2.string,isAuthenticated:n.i2.boolean,contextId:n.i2.string,initials:n.i2.string,launchDarklyHashKey:n.i2.string}).views((e=>({get fullName(){return e.name||e.lastName?"".concat(e.name," ").concat(e.lastName):"..."}}))).actions((e=>({setAuthenticated(t,s,n){e.setToken(s),e.setId(t),e.setContextId(n)},set(t){e.id=t.id,e.name=t.firstName,e.lastName=t.lastName,e.email=t.email,e.initials=t.initials},setId(t){e.id=t},setToken(t){e.token=t,e.isAuthenticated=!0},setContextId(t){e.contextId=t},setData(t){const s={id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,initials:t.initials};e.set(s)},setLaunchDarklyHashKey(t){e.launchDarklyHashKey=t,p().publish(h.LAUNCHDARKLY_HASH_FETCHED,{})}})));var g=s(61272);const m=n.i2.model("Promo",{mobilePromoDismissed:n.i2.boolean,getAppPromoDismissed:n.i2.optional(n.i2.boolean,!0)}).views((e=>({get isApplePromoShown(){return!e.mobilePromoDismissed&&g.c.getOS()===h.MOBILE_OS_IOS},get isAndroidPromoShown(){return!e.mobilePromoDismissed&&g.c.getOS()===h.MOBILE_OS_ANDROID},get isDesktopMobilePromoShown(){return!e.mobilePromoDismissed&&g.c.getOS()===h.DESKTOP_OS}}))).actions((e=>({fetch(){e.mobilePromoDismissed="true"===window.localStorage.getItem("mobilePromoDismissed")},dismissMobilePromo(){e.mobilePromoDismissed=!0,window.localStorage.setItem("mobilePromoDismissed","true")},fetchGetAppPromo(){e.getAppPromoDismissed="true"===window.localStorage.getItem(h.GET_APP_PROMO_KEY)},dismissGetAppPromo(){e.getAppPromoDismissed=!0,window.localStorage.setItem(h.GET_APP_PROMO_KEY,"true")}})));var E=s(33496);E.c.register("language",c.create({language:"en"})),E.c.register("user",u.create({id:"",name:"",lastName:"",email:"",isAuthenticated:!1,token:"",contextId:"",initials:"",launchDarklyHashKey:""})),E.c.register("appState",i.create({isInitialized:!1})),E.c.register("promo",m.create({mobilePromoDismissed:!0}));const T=E.c.getStores()},33496:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});const n=new class{constructor(){this.stores={}}register(e,t){this.stores[e]=t}getStores(){return this.stores}}},34776:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(31692);const i=class{constructor(e,t){this.dataseries=e,this.variables=t,this.expressionFunc=(0,n.NV)(this.dataseries[0].function)}isManagedVariable(e){let t=!1;return this.variables.managed.forEach((s=>{t=s.id===e})),t}getDefaultValue(e){let t=null;return this.variables.userControlled.forEach((s=>{s.id===e&&(t=(+s.constraints.default).toFixed(s.fractionalDigits))})),t}createData(e){let t=0;const s=[];this.dataseries[0].variables.forEach(((n,i)=>{if(this.isManagedVariable(n))t=i;else{const t=e?e[n]:"";s[i]=void 0!==t?t:this.getDefaultValue(n)}}));const n=this.variables.managed[0].range,i=(n.max-n.min)/n.samples,a=[];for(let o=n.min;o<=n.max;o+=i)s[t]=o,a.push({x:o,y:this.expressionFunc(...s)});return a}}},62704:(e,t,s)=>{function n(){var e;try{e=t.storage.debug}catch(s){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SASS:"true",REACT_APP_LESS:"false",REACT_APP_STYLUS:"true",REACT_APP_CSS_MODULES:"true",REACT_APP_DECORATORS:"true",REACT_APP_BABEL_STAGE_0:"true"}.DEBUG),e}(t=e.exports=s(84053)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var s=this.useColors;if(e[0]=(s?"%c":"")+this.namespace+(s?" %c":" ")+e[0]+(s?"%c ":" ")+"+"+t.humanize(this.diff),!s)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(s){}},t.load=n,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(n())},84053:(e,t,s)=>{var n;function i(e){function s(){if(s.enabled){var e=s,i=+new Date,a=i-(n||i);e.diff=a,e.prev=n,e.curr=i,n=i;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var l=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(s,n){if("%%"===s)return s;l++;var i=t.formatters[n];if("function"===typeof i){var a=o[l];s=i.call(e,a),o.splice(l,1),l--}return s})),t.formatArgs.call(e,o),(s.log||t.log||console.log.bind(console)).apply(e,o)}}return s.namespace=e,s.enabled=t.enabled(e),s.useColors=t.useColors(),s.color=function(e){var s,n=0;for(s in e)n=(n<<5)-n+e.charCodeAt(s),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"===typeof t.init&&t.init(s),s}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var s=("string"===typeof e?e:"").split(/[\s,]+/),n=s.length,i=0;i<n;i++)s[i]&&("-"===(e=s[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var s,n;for(s=0,n=t.skips.length;s<n;s++)if(t.skips[s].test(e))return!1;for(s=0,n=t.names.length;s<n;s++)if(t.names[s].test(e))return!0;return!1},t.humanize=s(39088),t.names=[],t.skips=[],t.formatters={}},97552:e=>{"use strict";var t;t=function(){var e={},t={};return e.on=function(e,s){var n={name:e,handler:s};return t[e]=t[e]||[],t[e].unshift(n),n},e.off=function(e){var s=t[e.name].indexOf(e);-1!==s&&t[e.name].splice(s,1)},e.trigger=function(e,s){var n,i=t[e];if(i)for(n=i.length;n--;)i[n].handler(s)},e},e.exports=t},62256:function(e){!function(t){var s=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,s){if(s=s||{},e=e.trim(),!(t=t.trim())){if(!s.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return s.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var r=o.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");if(!r.netLoc&&r.path&&"/"!==r.path[0]){var l=n.exec(r.path);r.netLoc=l[1],r.path=l[2]}r.netLoc&&!r.path&&(r.path="/");var c={scheme:r.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=r.netLoc,"/"!==a.path[0]))if(a.path){var d=r.path,p=d.substring(0,d.lastIndexOf("/")+1)+a.path;c.path=o.normalizePath(p)}else c.path=r.path,a.params||(c.params=r.params,a.query||(c.query=r.query));return null===c.path&&(c.path=s.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(c)},parseURL:function(e){var t=s.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},29648:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});const n={defaultButtonBorderColor:"#c7c7c7",stepperStart:"#f2eded",instructorMsgIconColor:"#da0474",raisedButtonColor:"#047a9c",raisedButtonHoverColor:"rgba(4,122,156,.8)",defaultFontColor:"#252525",whiteBackGround:"#fff",AssignmentDate:"#6a7070",moreInfoBorder:"#e9e9e9",paperBorder:"#76d5d4",paperShadow:"rgba(0,0,0,.2)",progressBarShadow:"rgba(0,0,0,.0980392157)",progressForeColor:"#047a9c",tocBorderColor:"#f5f5f5",androidBannerColor:"#b5b5b5",yellowNote:"#ffd232",questionsNote:"#ffedad",greeenNote:"#55df49",ideaNote:"#bbf2b6",pinkNote:"#fc92cf",observationsNote:"#fed3ec",blueNote:"#7df9fb",fontFamily:'"Open Sans",sans-serif',androidBannerFontFamily:'"Roboto",sans-serif',fontWeightSmall:"300",fontWeightMedium:"400",fontWeightLarge:"600",fontWeightXLarge:"700",bannerButtonColor:"#0579ff",bannerButtonLabel:"#fff",cancelButton:"#6a7070",quizStart:"#ffb81c",quizStartColor:"#7e7f80",pastDueColor:"#db0020",defaultButtonBorder:"1px solid #c7c7c7",defaultButtonTextColor:"#6a7070",glossaryPopupBorderColor:"#b8c8cc",glossaryPopupFontColor:"#000",playerSelectionColor:"#22b6b4",playerTrackColor:"#d9d9d9",audioIcon:"#252525",audioIconActive:"#e9f3f6",sortAssignmentBackgroundColor:"#f2f2f2",helpMenuLinkColor:"#047b9c",blackColor:"#000",whiteColor:"#fff",akaroaColor:"#fbeecf",gainsboroGrey:"#d8d8d8",scheduleBorderColor:"#f5f5f5",blueOutlineColor:"#1977d4",graniteGrayColor:"#666",borderColor:"#d9d9d9",spanishGray:"#949494"}},80443:(e,t,s)=>{"use strict";function n(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}s.d(t,{c:()=>n})},32820:(e,t,s)=>{"use strict";s.d(t,{cp:()=>l});var n=s(80443),i=s(11328),a=s(34184);const o=(0,i.c)(n.c),r=o.right,l=(o.left,(0,i.c)(a.c).center,r)},11328:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var n=s(80443);function i(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a(e){let t,s,a;function r(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;s(e[t],n)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=n.c,s=(t,s)=>(0,n.c)(e(t),s),a=(t,s)=>e(t)-s):(t=e===n.c||e===i?e:o,s=e,a=e),{left:r,center:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=r(e,t,s,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return n>s&&a(e[n-1],t)>-a(e[n],t)?n-1:n},right:function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;s(e[t],n)<=0?i=t+1:a=t}while(i<a)}return i}}}function o(){return 0}},34184:(e,t,s)=>{"use strict";function n(e){return null===e?NaN:+e}function*i(e,t){if(void 0===t)for(let s of e)null!=s&&(s=+s)>=s&&(yield s);else{let s=-1;for(let n of e)null!=(n=t(n,++s,e))&&(n=+n)>=n&&(yield n)}}s.d(t,{T:()=>i,c:()=>n})},37740:(e,t,s)=>{"use strict";s.d(t,{El:()=>c,cp:()=>r,uy:()=>l});const n=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,s){const r=(t-e)/Math.max(0,s),l=Math.floor(Math.log10(r)),c=r/Math.pow(10,l),d=c>=n?10:c>=i?5:c>=a?2:1;let p,h,u;return l<0?(u=Math.pow(10,-l)/d,p=Math.round(e*u),h=Math.round(t*u),p/u<e&&++p,h/u>t&&--h,u=-u):(u=Math.pow(10,l)*d,p=Math.round(e/u),h=Math.round(t/u),p*u<e&&++p,h*u>t&&--h),h<p&&.5<=s&&s<2?o(e,t,2*s):[p,h,u]}function r(e,t,s){if(!((s=+s)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[i,a,r]=n?o(t,e,s):o(e,t,s);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(r<0)for(let o=0;o<l;++o)c[o]=(a-o)/-r;else for(let o=0;o<l;++o)c[o]=(a-o)*r;else if(r<0)for(let o=0;o<l;++o)c[o]=(i+o)/-r;else for(let o=0;o<l;++o)c[o]=(i+o)*r;return c}function l(e,t,s){return o(e=+e,t=+t,s=+s)[2]}function c(e,t,s){s=+s;const n=(t=+t)<(e=+e),i=n?l(t,e,s):l(e,t,s);return(n?-1:1)*(i<0?1/-i:i)}},70396:(e,t,s)=>{"use strict";s.d(t,{E9:()=>p,gV:()=>h});var n=s(39892);var i=s(42488);var a,o=s(16836);function r(e,t){var s=(0,o.g)(e,t);if(!s)return e+"";var n=s[0],i=s[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const l={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:o.c,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>r(100*e,t),r:r,s:function(e,t){var s=(0,o.g)(e,t);if(!s)return e+"";var n=s[0],i=s[1],r=i-(a=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,l=n.length;return r===l?n:r>l?n+new Array(r-l+1).join("0"):r>0?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+(0,o.g)(e,Math.max(0,t+r-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c(e){return e}var d,p,h,u=Array.prototype.map,g=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function m(e){var t,s,o=void 0===e.grouping||void 0===e.thousands?c:(t=u.call(e.grouping,Number),s=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,r=t[0],l=0;i>0&&r>0&&(l+r+1>n&&(r=Math.max(1,n-l)),a.push(e.substring(i-=r,i+r)),!((l+=r+1)>n));)r=t[o=(o+1)%t.length];return a.reverse().join(s)}),r=void 0===e.currency?"":e.currency[0]+"",d=void 0===e.currency?"":e.currency[1]+"",p=void 0===e.decimal?".":e.decimal+"",h=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(u.call(e.numerals,String)),m=void 0===e.percent?"%":e.percent+"",E=void 0===e.minus?"\u2212":e.minus+"",T=void 0===e.nan?"NaN":e.nan+"";function S(e){var t=(e=(0,i.c)(e)).fill,s=e.align,n=e.sign,c=e.symbol,u=e.zero,S=e.width,_=e.comma,A=e.precision,I=e.trim,C=e.type;"n"===C?(_=!0,C="g"):l[C]||(void 0===A&&(A=12),I=!0,C="g"),(u||"0"===t&&"="===s)&&(u=!0,t="0",s="=");var f="$"===c?r:"#"===c&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",x="$"===c?d:/[%p]/.test(C)?m:"",y=l[C],N=/[defgprs%]/.test(C);function P(e){var i,r,l,c=f,d=x;if("c"===C)d=y(e)+d,e="";else{var m=(e=+e)<0||1/e<0;if(e=isNaN(e)?T:y(Math.abs(e),A),I&&(e=function(e){e:for(var t,s=e.length,n=1,i=-1;n<s;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),m&&0===+e&&"+"!==n&&(m=!1),c=(m?"("===n?n:E:"-"===n||"("===n?"":n)+c,d=("s"===C?g[8+a/3]:"")+d+(m&&"("===n?")":""),N)for(i=-1,r=e.length;++i<r;)if(48>(l=e.charCodeAt(i))||l>57){d=(46===l?p+e.slice(i+1):e.slice(i))+d,e=e.slice(0,i);break}}_&&!u&&(e=o(e,1/0));var P=c.length+e.length+d.length,v=P<S?new Array(S-P+1).join(t):"";switch(_&&u&&(e=o(v+e,v.length?S-d.length:1/0),v=""),s){case"<":e=c+e+d+v;break;case"=":e=c+v+e+d;break;case"^":e=v.slice(0,P=v.length>>1)+c+e+d+v.slice(P);break;default:e=v+c+e+d}return h(e)}return A=void 0===A?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A)),P.toString=function(){return e+""},P}return{format:S,formatPrefix:function(e,t){var s=S(((e=(0,i.c)(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor((0,n.c)(t)/3))),o=Math.pow(10,-a),r=g[8+a/3];return function(e){return s(o*e)+r}}}}d=m({thousands:",",grouping:[3],currency:["$",""]}),p=d.format,h=d.formatPrefix},39892:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(16836);function i(e){return(e=(0,n.g)(Math.abs(e)))?e[1]:NaN}},16836:(e,t,s)=>{"use strict";function n(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,n=e.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+e.slice(s+1)]}s.d(t,{c:()=>n,g:()=>i})},42488:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=n.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},21624:(e,t,s)=>{"use strict";function n(e,t){return e=+e,t=+t,function(s){return e*(1-s)+t*s}}s.d(t,{c:()=>n})},57844:(e,t,s)=>{"use strict";function n(e,t){return e=+e,t=+t,function(s){return Math.round(e*(1-s)+t*s)}}s.d(t,{c:()=>n})},20776:(e,t,s)=>{"use strict";function n(e,t,s){e.prototype=t.prototype=s,s.constructor=e}function i(e,t){var s=Object.create(e.prototype);for(var n in t)s[n]=t[n];return s}function a(){}s.d(t,{c:()=>J});var o=.7,r=1/o,l="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,h=new RegExp("^rgb\\(".concat(l,",").concat(l,",").concat(l,"\\)$")),u=new RegExp("^rgb\\(".concat(d,",").concat(d,",").concat(d,"\\)$")),g=new RegExp("^rgba\\(".concat(l,",").concat(l,",").concat(l,",").concat(c,"\\)$")),m=new RegExp("^rgba\\(".concat(d,",").concat(d,",").concat(d,",").concat(c,"\\)$")),E=new RegExp("^hsl\\(".concat(c,",").concat(d,",").concat(d,"\\)$")),T=new RegExp("^hsla\\(".concat(c,",").concat(d,",").concat(d,",").concat(c,"\\)$")),S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _(){return this.rgb().formatHex()}function A(){return this.rgb().formatRgb()}function I(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=p.exec(e))?(s=t[1].length,t=parseInt(t[1],16),6===s?C(t):3===s?new y(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===s?f(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===s?f(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=h.exec(e))?new y(t[1],t[2],t[3],1):(t=u.exec(e))?new y(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=g.exec(e))?f(t[1],t[2],t[3],t[4]):(t=m.exec(e))?f(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=E.exec(e))?R(t[1],t[2]/100,t[3]/100,1):(t=T.exec(e))?R(t[1],t[2]/100,t[3]/100,t[4]):S.hasOwnProperty(e)?C(S[e]):"transparent"===e?new y(NaN,NaN,NaN,0):null}function C(e){return new y(e>>16&255,e>>8&255,255&e,1)}function f(e,t,s,n){return n<=0&&(e=t=s=NaN),new y(e,t,s,n)}function x(e,t,s,n){return 1===arguments.length?((i=e)instanceof a||(i=I(i)),i?new y((i=i.rgb()).r,i.g,i.b,i.opacity):new y):new y(e,t,s,null==n?1:n);var i}function y(e,t,s,n){this.r=+e,this.g=+t,this.b=+s,this.opacity=+n}function N(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b))}function P(){const e=v(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(L(this.r),", ").concat(L(this.g),", ").concat(L(this.b)).concat(1===e?")":", ".concat(e,")"))}function v(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function L(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function O(e){return((e=L(e))<16?"0":"")+e.toString(16)}function R(e,t,s,n){return n<=0?e=t=s=NaN:s<=0||s>=1?e=t=NaN:t<=0&&(e=NaN),new b(e,t,s,n)}function D(e){if(e instanceof b)return new b(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=I(e)),!e)return new b;if(e instanceof b)return e;var t=(e=e.rgb()).r/255,s=e.g/255,n=e.b/255,i=Math.min(t,s,n),o=Math.max(t,s,n),r=NaN,l=o-i,c=(o+i)/2;return l?(r=t===o?(s-n)/l+6*(s<n):s===o?(n-t)/l+2:(t-s)/l+4,l/=c<.5?o+i:2-o-i,r*=60):l=c>0&&c<1?0:r,new b(r,l,c,e.opacity)}function b(e,t,s,n){this.h=+e,this.s=+t,this.l=+s,this.opacity=+n}function w(e){return(e=(e||0)%360)<0?e+360:e}function M(e){return Math.max(0,Math.min(1,e||0))}function U(e,t,s){return 255*(e<60?t+(s-t)*e/60:e<180?s:e<240?t+(s-t)*(240-e)/60:t)}function k(e,t,s,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*s+(1+3*e+3*a-3*o)*n+o*i)/6}n(a,I,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_,formatHex:_,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return D(this).formatHsl()},formatRgb:A,toString:A}),n(y,x,i(a,{brighter(e){return e=null==e?r:Math.pow(r,e),new y(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new y(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new y(L(this.r),L(this.g),L(this.b),v(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N,formatHex:N,formatHex8:function(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b)).concat(O(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:P,toString:P})),n(b,(function(e,t,s,n){return 1===arguments.length?D(e):new b(e,t,s,null==n?1:n)}),i(a,{brighter(e){return e=null==e?r:Math.pow(r,e),new b(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new b(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,n=s+(s<.5?s:1-s)*t,i=2*s-n;return new y(U(e>=240?e-240:e+120,i,n),U(e,i,n),U(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new b(w(this.h),M(this.s),M(this.l),v(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=v(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(w(this.h),", ").concat(100*M(this.s),"%, ").concat(100*M(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const j=e=>()=>e;function H(e,t){return function(s){return e+s*t}}function B(e){return 1===(e=+e)?F:function(t,s){return s-t?function(e,t,s){return e=Math.pow(e,s),t=Math.pow(t,s)-e,s=1/s,function(n){return Math.pow(e+n*t,s)}}(t,s,e):j(isNaN(t)?s:t)}}function F(e,t){var s=t-e;return s?H(e,s):j(isNaN(e)?t:e)}const G=function e(t){var s=B(t);function n(e,t){var n=s((e=x(e)).r,(t=x(t)).r),i=s(e.g,t.g),a=s(e.b,t.b),o=F(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function Y(e){return function(t){var s,n,i=t.length,a=new Array(i),o=new Array(i),r=new Array(i);for(s=0;s<i;++s)n=x(t[s]),a[s]=n.r||0,o[s]=n.g||0,r[s]=n.b||0;return a=e(a),o=e(o),r=e(r),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=r(e),n+""}}}Y((function(e){var t=e.length-1;return function(s){var n=s<=0?s=0:s>=1?(s=1,t-1):Math.floor(s*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,r=n<t-1?e[n+2]:2*a-i;return k((s-n/t)*t,o,i,a,r)}})),Y((function(e){var t=e.length;return function(s){var n=Math.floor(((s%=1)<0?++s:s)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],r=e[(n+2)%t];return k((s-n/t)*t,i,a,o,r)}}));function V(e,t){var s,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),o=new Array(n);for(s=0;s<i;++s)a[s]=J(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(e){for(s=0;s<i;++s)o[s]=a[s](e);return o}}function W(e,t){var s=new Date;return e=+e,t=+t,function(n){return s.setTime(e*(1-n)+t*n),s}}var z=s(21624);function Q(e,t){var s,n={},i={};for(s in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)s in e?n[s]=J(e[s],t[s]):i[s]=t[s];return function(e){for(s in n)i[s]=n[s](e);return i}}var K=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q=new RegExp(K.source,"g");function X(e,t){var s,n,i,a=K.lastIndex=q.lastIndex=0,o=-1,r=[],l=[];for(e+="",t+="";(s=K.exec(e))&&(n=q.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),r[o]?r[o]+=i:r[++o]=i),(s=s[0])===(n=n[0])?r[o]?r[o]+=n:r[++o]=n:(r[++o]=null,l.push({i:o,x:(0,z.c)(s,n)})),a=q.lastIndex;return a<t.length&&(i=t.slice(a),r[o]?r[o]+=i:r[++o]=i),r.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var s,n=0;n<t;++n)r[(s=l[n]).i]=s.x(e);return r.join("")})}function Z(e,t){t||(t=[]);var s,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(s=0;s<n;++s)i[s]=e[s]*(1-a)+t[s]*a;return i}}function J(e,t){var s,n,i=typeof t;return null==t||"boolean"===i?j(t):("number"===i?z.c:"string"===i?(s=I(t))?(t=s,G):X:t instanceof I?G:t instanceof Date?W:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?V:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Q:z.c:Z))(e,t)}},39304:(e,t,s)=>{"use strict";s.d(t,{c:()=>a,G:()=>r});var n=s(70216),i=s(67924);function a(){var e,t,s=(0,i.c)().unknown(void 0),o=s.domain,r=s.range,l=0,c=1,d=!1,p=0,h=0,u=.5;function g(){var s=o().length,n=c<l,i=n?c:l,a=n?l:c;e=(a-i)/Math.max(1,s-p+2*h),d&&(e=Math.floor(e)),i+=(a-i-e*(s-p))*u,t=e*(1-p),d&&(i=Math.round(i),t=Math.round(t));var g=function(e,t,s){e=+e,t=+t,s=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+s;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/s)),a=new Array(i);++n<i;)a[n]=e+n*s;return a}(s).map((function(t){return i+e*t}));return r(n?g.reverse():g)}return delete s.unknown,s.domain=function(e){return arguments.length?(o(e),g()):o()},s.range=function(e){return arguments.length?([l,c]=e,l=+l,c=+c,g()):[l,c]},s.rangeRound=function(e){return[l,c]=e,l=+l,c=+c,d=!0,g()},s.bandwidth=function(){return t},s.step=function(){return e},s.round=function(e){return arguments.length?(d=!!e,g()):d},s.padding=function(e){return arguments.length?(p=Math.min(1,h=+e),g()):p},s.paddingInner=function(e){return arguments.length?(p=Math.min(1,e),g()):p},s.paddingOuter=function(e){return arguments.length?(h=+e,g()):h},s.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),g()):u},s.copy=function(){return a(o(),[l,c]).round(d).paddingInner(p).paddingOuter(h).align(u)},n.K.apply(g(),arguments)}function o(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return o(t())},e}function r(){return o(a.apply(null,arguments).paddingInner(1))}},91784:(e,t,s)=>{"use strict";s.d(t,{kT:()=>u,cp:()=>m,ZX:()=>c,sI:()=>g});var n=s(32820),i=s(20776),a=s(21624),o=s(57844);var r=s(54132),l=[0,1];function c(e){return e}function d(e,t){return(t-=e=+e)?function(s){return(s-e)/t}:(s=isNaN(t)?NaN:.5,function(){return s});var s}function p(e,t,s){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=d(i,n),a=s(o,a)):(n=d(n,i),a=s(a,o)),function(e){return a(n(e))}}function h(e,t,s){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),r=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++r<i;)a[r]=d(e[r],e[r+1]),o[r]=s(t[r],t[r+1]);return function(t){var s=(0,n.cp)(e,t,1,i)-1;return o[s](a[s](t))}}function u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function g(){var e,t,s,n,d,u,g=l,m=l,E=i.c,T=c;function S(){var e=Math.min(g.length,m.length);return T!==c&&(T=function(e,t){var s;return e>t&&(s=e,e=t,t=s),function(s){return Math.max(e,Math.min(t,s))}}(g[0],g[e-1])),n=e>2?h:p,d=u=null,_}function _(t){return null==t||isNaN(t=+t)?s:(d||(d=n(g.map(e),m,E)))(e(T(t)))}return _.invert=function(s){return T(t((u||(u=n(m,g.map(e),a.c)))(s)))},_.domain=function(e){return arguments.length?(g=Array.from(e,r.c),S()):g.slice()},_.range=function(e){return arguments.length?(m=Array.from(e),S()):m.slice()},_.rangeRound=function(e){return m=Array.from(e),E=o.c,S()},_.clamp=function(e){return arguments.length?(T=!!e||c,S()):T!==c},_.interpolate=function(e){return arguments.length?(E=e,S()):E},_.unknown=function(e){return arguments.length?(s=e,_):s},function(s,n){return e=s,t=n,S()}}function m(){return g()(c,c)}},63592:(e,t,s)=>{"use strict";s.d(t,{iE:()=>n.c,eA:()=>xs,Sw:()=>ys,Oe:()=>Ps,Oq:()=>vs,a4:()=>Ns,E3:()=>o,qq:()=>y.w,M8:()=>i.c,kz:()=>A,kn:()=>y.c,cL:()=>n.G,sh:()=>O,Eb:()=>W,m6:()=>z,cV:()=>b,mC:()=>Ts,QL:()=>Ss,MP:()=>As,qy:()=>Cs,Yo:()=>Is,wl:()=>_s,sZ:()=>R,Yc:()=>x,uW:()=>Q,sl:()=>ps,GO:()=>hs,Ux:()=>Ls.c});var n=s(39304),i=s(69664),a=s(54132);function o(e){var t;function s(e){return null==e||isNaN(e=+e)?t:e}return s.invert=s,s.domain=s.range=function(t){return arguments.length?(e=Array.from(t,a.c),s):e.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return o(e).unknown(t)},e=arguments.length?Array.from(e,a.c):[0,1],(0,i.A)(s)}var r=s(37740),l=s(42488),c=s(70396);function d(e,t){var s,n=0,i=(e=e.slice()).length-1,a=e[n],o=e[i];return o<a&&(s=n,n=i,i=s,s=a,a=o,o=s),e[n]=t.floor(a),e[i]=t.ceil(o),e}var p=s(91784),h=s(70216);function u(e){return Math.log(e)}function g(e){return Math.exp(e)}function m(e){return-Math.log(-e)}function E(e){return-Math.exp(-e)}function T(e){return isFinite(e)?+("1e"+e):e<0?0:e}function S(e){return(t,s)=>-e(-t,s)}function _(e){const t=e(u,g),s=t.domain;let n,i,a=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?T:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),s()[0]<0?(n=S(n),i=S(i),e(m,E)):e(u,g),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(s(e),o()):s()},t.ticks=e=>{const t=s();let o=t[0],l=t[t.length-1];const c=l<o;c&&([o,l]=[l,o]);let d,p,h=n(o),u=n(l);const g=null==e?10:+e;let m=[];if(!(a%1)&&u-h<g){if(h=Math.floor(h),u=Math.ceil(u),o>0){for(;h<=u;++h)for(d=1;d<a;++d)if(p=h<0?d/i(-h):d*i(h),!(p<o)){if(p>l)break;m.push(p)}}else for(;h<=u;++h)for(d=a-1;d>=1;--d)if(p=h>0?d/i(-h):d*i(h),!(p<o)){if(p>l)break;m.push(p)}2*m.length<g&&(m=(0,r.cp)(o,l,g))}else m=(0,r.cp)(h,u,Math.min(u-h,g)).map(i);return c?m.reverse():m},t.tickFormat=(e,s)=>{if(null==e&&(e=10),null==s&&(s=10===a?"s":","),"function"!==typeof s&&(a%1||null!=(s=(0,l.c)(s)).precision||(s.trim=!0),s=(0,c.E9)(s)),e===1/0)return s;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(n(e)));return t*a<a-.5&&(t*=a),t<=o?s(e):""}},t.nice=()=>s(d(s(),{floor:e=>i(Math.floor(n(e))),ceil:e=>i(Math.ceil(n(e)))})),t}function A(){const e=_((0,p.sI)()).domain([1,10]);return e.copy=()=>(0,p.kT)(e,A()).base(e.base()),h.K.apply(e,arguments),e}function I(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function C(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function f(e){var t=1,s=e(I(t),C(t));return s.constant=function(s){return arguments.length?e(I(t=+s),C(t)):t},(0,i.A)(s)}function x(){var e=f((0,p.sI)());return e.copy=function(){return(0,p.kT)(e,x()).constant(e.constant())},h.K.apply(e,arguments)}var y=s(67924);function N(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function P(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function v(e){return e<0?-e*e:e*e}function L(e){var t=e(p.ZX,p.ZX),s=1;return t.exponent=function(t){return arguments.length?1===(s=+t)?e(p.ZX,p.ZX):.5===s?e(P,v):e(N(s),N(1/s)):s},(0,i.A)(t)}function O(){var e=L((0,p.sI)());return e.copy=function(){return(0,p.kT)(e,O()).exponent(e.exponent())},h.K.apply(e,arguments),e}function R(){return O.apply(null,arguments).exponent(.5)}function D(e){return Math.sign(e)*e*e}function b(){var e,t=(0,p.cp)(),s=[0,1],n=!1;function o(s){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(s));return isNaN(i)?e:n?Math.round(i):i}return o.invert=function(e){return t.invert(D(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain()},o.range=function(e){return arguments.length?(t.range((s=Array.from(e,a.c)).map(D)),o):s.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(n=!!e,o):n},o.clamp=function(e){return arguments.length?(t.clamp(e),o):t.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return b(t.domain(),s).round(n).clamp(t.clamp()).unknown(e)},h.K.apply(o,arguments),(0,i.A)(o)}function w(e,t){let s;if(void 0===t)for(const n of e)null!=n&&(s<n||void 0===s&&n>=n)&&(s=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(s<i||void 0===s&&i>=i)&&(s=i)}return s}function M(e,t){let s;if(void 0===t)for(const n of e)null!=n&&(s>n||void 0===s&&n>=n)&&(s=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(s>i||void 0===s&&i>=i)&&(s=i)}return s}var U=s(80443);function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.c;if(e===U.c)return j;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,s)=>{const n=e(t,s);return n||0===n?n:(0===e(s,s))-(0===e(t,t))}}function j(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function H(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),s=Math.floor(Math.max(0,s)),n=Math.floor(Math.min(e.length-1,n)),!(s<=t&&t<=n))return e;for(i=void 0===i?j:k(i);n>s;){if(n-s>600){const a=n-s+1,o=t-s+1,r=Math.log(a),l=.5*Math.exp(2*r/3),c=.5*Math.sqrt(r*l*(a-l)/a)*(o-a/2<0?-1:1);H(e,t,Math.max(s,Math.floor(t-o*l/a+c)),Math.min(n,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=s,r=n;for(B(e,s,t),i(e[n],a)>0&&B(e,s,n);o<r;){for(B(e,o,r),++o,--r;i(e[o],a)<0;)++o;for(;i(e[r],a)>0;)--r}0===i(e[s],a)?B(e,s,r):(++r,B(e,r,n)),r<=t&&(s=r+1),t<=r&&(n=r-1)}return e}function B(e,t,s){const n=e[t];e[t]=e[s],e[s]=n}var F=s(34184);function G(e,t,s){if((n=(e=Float64Array.from((0,F.T)(e,s))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return M(e);if(t>=1)return w(e);var n,i=(n-1)*t,a=Math.floor(i),o=w(H(e,a).subarray(0,a+1));return o+(M(e.subarray(a+1))-o)*(i-a)}}function Y(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.c;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+s(e[0],0,e);if(t>=1)return+s(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+s(e[a],a,e);return o+(+s(e[a+1],a+1,e)-o)*(i-a)}}var V=s(32820);function W(){var e,t=[],s=[],n=[];function i(){var e=0,i=Math.max(1,s.length);for(n=new Array(i-1);++e<i;)n[e-1]=Y(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:s[(0,V.cp)(n,t)]}return a.invertExtent=function(e){var i=s.indexOf(e);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let s of e)null==s||isNaN(s=+s)||t.push(s);return t.sort(U.c),i()},a.range=function(e){return arguments.length?(s=Array.from(e),i()):s.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return n.slice()},a.copy=function(){return W().domain(t).range(s).unknown(e)},h.K.apply(a,arguments)}function z(){var e,t=0,s=1,n=1,a=[.5],o=[0,1];function r(t){return null!=t&&t<=t?o[(0,V.cp)(a,t,0,n)]:e}function l(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*s-(e-n)*t)/(n+1);return r}return r.domain=function(e){return arguments.length?([t,s]=e,t=+t,s=+s,l()):[t,s]},r.range=function(e){return arguments.length?(n=(o=Array.from(e)).length-1,l()):o.slice()},r.invertExtent=function(e){var i=o.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=n?[a[n-1],s]:[a[i-1],a[i]]},r.unknown=function(t){return arguments.length?(e=t,r):r},r.thresholds=function(){return a.slice()},r.copy=function(){return z().domain([t,s]).range(o).unknown(e)},h.K.apply((0,i.A)(r),arguments)}function Q(){var e,t=[.5],s=[0,1],n=1;function i(i){return null!=i&&i<=i?s[(0,V.cp)(t,i,0,n)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,s.length-1),i):t.slice()},i.range=function(e){return arguments.length?(s=Array.from(e),n=Math.min(t.length,s.length-1),i):s.slice()},i.invertExtent=function(e){var n=s.indexOf(e);return[t[n-1],t[n]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Q().domain(t).range(s).unknown(e)},h.K.apply(i,arguments)}var K=s(11328);const q=1e3,X=6e4,Z=36e5,J=864e5,$=6048e5,ee=2592e6,te=31536e6,se=new Date,ne=new Date;function ie(e,t,s,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=e=>{const t=i(e),s=i.ceil(e);return e-t<s-e?t:s},i.offset=(e,s)=>(t(e=new Date(+e),null==s?1:Math.floor(s)),e),i.range=(s,n,a)=>{const o=[];if(s=i.ceil(s),a=null==a?1:Math.floor(a),!(s<n)||!(a>0))return o;let r;do{o.push(r=new Date(+s)),t(s,a),e(s)}while(r<s&&s<n);return o},i.filter=s=>ie((t=>{if(t>=t)for(;e(t),!s(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!s(e););else for(;--n>=0;)for(;t(e,1),!s(e););})),s&&(i.count=(t,n)=>(se.setTime(+t),ne.setTime(+n),e(se),e(ne),Math.floor(s(se,ne))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?t=>n(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const ae=ie((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));ae.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ie((t=>{t.setTime(Math.floor(t/e)*e)}),((t,s)=>{t.setTime(+t+s*e)}),((t,s)=>(s-t)/e)):ae:null);ae.range;const oe=ie((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*q)}),((e,t)=>(t-e)/q),(e=>e.getUTCSeconds())),re=(oe.range,ie((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*q)}),((e,t)=>{e.setTime(+e+t*X)}),((e,t)=>(t-e)/X),(e=>e.getMinutes()))),le=(re.range,ie((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*X)}),((e,t)=>(t-e)/X),(e=>e.getUTCMinutes()))),ce=(le.range,ie((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*q-e.getMinutes()*X)}),((e,t)=>{e.setTime(+e+t*Z)}),((e,t)=>(t-e)/Z),(e=>e.getHours()))),de=(ce.range,ie((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Z)}),((e,t)=>(t-e)/Z),(e=>e.getUTCHours()))),pe=(de.range,ie((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*X)/J),(e=>e.getDate()-1))),he=(pe.range,ie((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/J),(e=>e.getUTCDate()-1))),ue=(he.range,ie((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/J),(e=>Math.floor(e/J))));ue.range;function ge(e){return ie((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*X)/$))}const me=ge(0),Ee=ge(1),Te=ge(2),Se=ge(3),_e=ge(4),Ae=ge(5),Ie=ge(6);me.range,Ee.range,Te.range,Se.range,_e.range,Ae.range,Ie.range;function Ce(e){return ie((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/$))}const fe=Ce(0),xe=Ce(1),ye=Ce(2),Ne=Ce(3),Pe=Ce(4),ve=Ce(5),Le=Ce(6),Oe=(fe.range,xe.range,ye.range,Ne.range,Pe.range,ve.range,Le.range,ie((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Re=(Oe.range,ie((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),De=(Re.range,ie((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));De.every=e=>isFinite(e=Math.floor(e))&&e>0?ie((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,s)=>{t.setFullYear(t.getFullYear()+s*e)})):null;De.range;const be=ie((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));be.every=e=>isFinite(e=Math.floor(e))&&e>0?ie((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,s)=>{t.setUTCFullYear(t.getUTCFullYear()+s*e)})):null;be.range;function we(e,t,s,n,i,a){const o=[[oe,1,q],[oe,5,5e3],[oe,15,15e3],[oe,30,3e4],[a,1,X],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Z],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,J],[n,2,1728e5],[s,1,$],[t,1,ee],[t,3,7776e6],[e,1,te]];function l(t,s,n){const i=Math.abs(s-t)/n,a=(0,K.c)((e=>{let[,,t]=e;return t})).right(o,i);if(a===o.length)return e.every((0,r.El)(t/te,s/te,n));if(0===a)return ae.every(Math.max((0,r.El)(t,s,n),1));const[l,c]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return l.every(c)}return[function(e,t,s){const n=t<e;n&&([e,t]=[t,e]);const i=s&&"function"===typeof s.range?s:l(e,t,s),a=i?i.range(e,+t+1):[];return n?a.reverse():a},l]}const[Me,Ue]=we(be,Re,fe,ue,de,le),[ke,je]=we(De,Oe,me,pe,ce,re);function He(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Be(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fe(e,t,s){return{y:e,m:t,d:s,H:0,M:0,S:0,L:0}}var Ge,Ye,Ve,We={"-":"",_:" ",0:"0"},ze=/^\s*\d+/,Qe=/^%/,Ke=/[\\^$*+?|[\]().{}]/g;function qe(e,t,s){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<s?new Array(s-a+1).join(t)+i:i)}function Xe(e){return e.replace(Ke,"\\$&")}function Ze(e){return new RegExp("^(?:"+e.map(Xe).join("|")+")","i")}function Je(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function $e(e,t,s){var n=ze.exec(t.slice(s,s+1));return n?(e.w=+n[0],s+n[0].length):-1}function et(e,t,s){var n=ze.exec(t.slice(s,s+1));return n?(e.u=+n[0],s+n[0].length):-1}function tt(e,t,s){var n=ze.exec(t.slice(s,s+2));return n?(e.U=+n[0],s+n[0].length):-1}function st(e,t,s){var n=ze.exec(t.slice(s,s+2));return n?(e.V=+n[0],s+n[0].length):-1}function nt(e,t,s){var n=ze.exec(t.slice(s,s+2));return n?(e.W=+n[0],s+n[0].length):-1}function it(e,t,s){var n=ze.exec(t.slice(s,s+4));return n?(e.y=+n[0],s+n[0].length):-1}function at(e,t,s){var n=ze.exec(t.slice(s,s+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),s+n[0].length):-1}function ot(e,t,s){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(s,s+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),s+n[0].length):-1}function rt(e,t,s){var n=ze.exec(t.slice(s,s+1));return n?(e.q=3*n[0]-3,s+n[0].length):-1}function lt(e,t,s){var n=ze.exec(t.slice(s,s+2));return n?(e.m=n[0]-1,s+n[0].length):-1}function ct(e,t,s){var n=ze.exec(t.slice(s,s+2));return n?(e.d=+n[0],s+n[0].length):-1}function dt(e,t,s){var n=ze.exec(t.slice(s,s+3));return n?(e.m=0,e.d=+n[0],s+n[0].length):-1}function pt(e,t,s){var n=ze.exec(t.slice(s,s+2));return n?(e.H=+n[0],s+n[0].length):-1}function ht(e,t,s){var n=ze.exec(t.slice(s,s+2));return n?(e.M=+n[0],s+n[0].length):-1}function ut(e,t,s){var n=ze.exec(t.slice(s,s+2));return n?(e.S=+n[0],s+n[0].length):-1}function gt(e,t,s){var n=ze.exec(t.slice(s,s+3));return n?(e.L=+n[0],s+n[0].length):-1}function mt(e,t,s){var n=ze.exec(t.slice(s,s+6));return n?(e.L=Math.floor(n[0]/1e3),s+n[0].length):-1}function Et(e,t,s){var n=Qe.exec(t.slice(s,s+1));return n?s+n[0].length:-1}function Tt(e,t,s){var n=ze.exec(t.slice(s));return n?(e.Q=+n[0],s+n[0].length):-1}function St(e,t,s){var n=ze.exec(t.slice(s));return n?(e.s=+n[0],s+n[0].length):-1}function _t(e,t){return qe(e.getDate(),t,2)}function At(e,t){return qe(e.getHours(),t,2)}function It(e,t){return qe(e.getHours()%12||12,t,2)}function Ct(e,t){return qe(1+pe.count(De(e),e),t,3)}function ft(e,t){return qe(e.getMilliseconds(),t,3)}function xt(e,t){return ft(e,t)+"000"}function yt(e,t){return qe(e.getMonth()+1,t,2)}function Nt(e,t){return qe(e.getMinutes(),t,2)}function Pt(e,t){return qe(e.getSeconds(),t,2)}function vt(e){var t=e.getDay();return 0===t?7:t}function Lt(e,t){return qe(me.count(De(e)-1,e),t,2)}function Ot(e){var t=e.getDay();return t>=4||0===t?_e(e):_e.ceil(e)}function Rt(e,t){return e=Ot(e),qe(_e.count(De(e),e)+(4===De(e).getDay()),t,2)}function Dt(e){return e.getDay()}function bt(e,t){return qe(Ee.count(De(e)-1,e),t,2)}function wt(e,t){return qe(e.getFullYear()%100,t,2)}function Mt(e,t){return qe((e=Ot(e)).getFullYear()%100,t,2)}function Ut(e,t){return qe(e.getFullYear()%1e4,t,4)}function kt(e,t){var s=e.getDay();return qe((e=s>=4||0===s?_e(e):_e.ceil(e)).getFullYear()%1e4,t,4)}function jt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qe(t/60|0,"0",2)+qe(t%60,"0",2)}function Ht(e,t){return qe(e.getUTCDate(),t,2)}function Bt(e,t){return qe(e.getUTCHours(),t,2)}function Ft(e,t){return qe(e.getUTCHours()%12||12,t,2)}function Gt(e,t){return qe(1+he.count(be(e),e),t,3)}function Yt(e,t){return qe(e.getUTCMilliseconds(),t,3)}function Vt(e,t){return Yt(e,t)+"000"}function Wt(e,t){return qe(e.getUTCMonth()+1,t,2)}function zt(e,t){return qe(e.getUTCMinutes(),t,2)}function Qt(e,t){return qe(e.getUTCSeconds(),t,2)}function Kt(e){var t=e.getUTCDay();return 0===t?7:t}function qt(e,t){return qe(fe.count(be(e)-1,e),t,2)}function Xt(e){var t=e.getUTCDay();return t>=4||0===t?Pe(e):Pe.ceil(e)}function Zt(e,t){return e=Xt(e),qe(Pe.count(be(e),e)+(4===be(e).getUTCDay()),t,2)}function Jt(e){return e.getUTCDay()}function $t(e,t){return qe(xe.count(be(e)-1,e),t,2)}function es(e,t){return qe(e.getUTCFullYear()%100,t,2)}function ts(e,t){return qe((e=Xt(e)).getUTCFullYear()%100,t,2)}function ss(e,t){return qe(e.getUTCFullYear()%1e4,t,4)}function ns(e,t){var s=e.getUTCDay();return qe((e=s>=4||0===s?Pe(e):Pe.ceil(e)).getUTCFullYear()%1e4,t,4)}function is(){return"+0000"}function as(){return"%"}function os(e){return+e}function rs(e){return Math.floor(+e/1e3)}function ls(e){return new Date(e)}function cs(e){return e instanceof Date?+e:+new Date(+e)}function ds(e,t,s,n,i,a,o,r,l,c){var h=(0,p.cp)(),u=h.invert,g=h.domain,m=c(".%L"),E=c(":%S"),T=c("%I:%M"),S=c("%I %p"),_=c("%a %d"),A=c("%b %d"),I=c("%B"),C=c("%Y");function f(e){return(l(e)<e?m:r(e)<e?E:o(e)<e?T:a(e)<e?S:n(e)<e?i(e)<e?_:A:s(e)<e?I:C)(e)}return h.invert=function(e){return new Date(u(e))},h.domain=function(e){return arguments.length?g(Array.from(e,cs)):g().map(ls)},h.ticks=function(t){var s=g();return e(s[0],s[s.length-1],null==t?10:t)},h.tickFormat=function(e,t){return null==t?f:c(t)},h.nice=function(e){var s=g();return e&&"function"===typeof e.range||(e=t(s[0],s[s.length-1],null==e?10:e)),e?g(d(s,e)):h},h.copy=function(){return(0,p.kT)(h,ds(e,t,s,n,i,a,o,r,l,c))},h}function ps(){return h.K.apply(ds(ke,je,De,Oe,me,pe,ce,re,oe,Ye).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hs(){return h.K.apply(ds(Me,Ue,be,Re,fe,he,de,le,oe,Ve).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}Ge=function(e){var t=e.dateTime,s=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,r=e.months,l=e.shortMonths,c=Ze(i),d=Je(i),p=Ze(a),h=Je(a),u=Ze(o),g=Je(o),m=Ze(r),E=Je(r),T=Ze(l),S=Je(l),_={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return r[e.getMonth()]},c:null,d:_t,e:_t,f:xt,g:Mt,G:kt,H:At,I:It,j:Ct,L:ft,m:yt,M:Nt,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:os,s:rs,S:Pt,u:vt,U:Lt,V:Rt,w:Dt,W:bt,x:null,X:null,y:wt,Y:Ut,Z:jt,"%":as},A={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return r[e.getUTCMonth()]},c:null,d:Ht,e:Ht,f:Vt,g:ts,G:ns,H:Bt,I:Ft,j:Gt,L:Yt,m:Wt,M:zt,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:os,s:rs,S:Qt,u:Kt,U:qt,V:Zt,w:Jt,W:$t,x:null,X:null,y:es,Y:ss,Z:is,"%":as},I={a:function(e,t,s){var n=u.exec(t.slice(s));return n?(e.w=g.get(n[0].toLowerCase()),s+n[0].length):-1},A:function(e,t,s){var n=p.exec(t.slice(s));return n?(e.w=h.get(n[0].toLowerCase()),s+n[0].length):-1},b:function(e,t,s){var n=T.exec(t.slice(s));return n?(e.m=S.get(n[0].toLowerCase()),s+n[0].length):-1},B:function(e,t,s){var n=m.exec(t.slice(s));return n?(e.m=E.get(n[0].toLowerCase()),s+n[0].length):-1},c:function(e,s,n){return x(e,t,s,n)},d:ct,e:ct,f:mt,g:at,G:it,H:pt,I:pt,j:dt,L:gt,m:lt,M:ht,p:function(e,t,s){var n=c.exec(t.slice(s));return n?(e.p=d.get(n[0].toLowerCase()),s+n[0].length):-1},q:rt,Q:Tt,s:St,S:ut,u:et,U:tt,V:st,w:$e,W:nt,x:function(e,t,n){return x(e,s,t,n)},X:function(e,t,s){return x(e,n,t,s)},y:at,Y:it,Z:ot,"%":Et};function C(e,t){return function(s){var n,i,a,o=[],r=-1,l=0,c=e.length;for(s instanceof Date||(s=new Date(+s));++r<c;)37===e.charCodeAt(r)&&(o.push(e.slice(l,r)),null!=(i=We[n=e.charAt(++r)])?n=e.charAt(++r):i="e"===n?" ":"0",(a=t[n])&&(n=a(s,i)),o.push(n),l=r+1);return o.push(e.slice(l,r)),o.join("")}}function f(e,t){return function(s){var n,i,a=Fe(1900,void 0,1);if(x(a,e,s+="",0)!=s.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=Be(Fe(a.y,0,1))).getUTCDay(),n=i>4||0===i?xe.ceil(n):xe(n),n=he.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=He(Fe(a.y,0,1))).getDay(),n=i>4||0===i?Ee.ceil(n):Ee(n),n=pe.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Be(Fe(a.y,0,1)).getUTCDay():He(Fe(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Be(a)):He(a)}}function x(e,t,s,n){for(var i,a,o=0,r=t.length,l=s.length;o<r;){if(n>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=I[i in We?t.charAt(o++):i])||(n=a(e,s,n))<0)return-1}else if(i!=s.charCodeAt(n++))return-1}return n}return _.x=C(s,_),_.X=C(n,_),_.c=C(t,_),A.x=C(s,A),A.X=C(n,A),A.c=C(t,A),{format:function(e){var t=C(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=f(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=C(e+="",A);return t.toString=function(){return e},t},utcParse:function(e){var t=f(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ye=Ge.format,Ge.parse,Ve=Ge.utcFormat,Ge.utcParse;var us=s(20776),gs=s(57844);function ms(){var e,t,s,n,i,a=0,o=1,r=p.ZX,l=!1;function c(t){return null==t||isNaN(t=+t)?i:r(0===s?.5:(t=(n(t)-e)*s,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var s,n;return arguments.length?([s,n]=t,r=e(s,n),c):[r(0),r(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=n(a=+a),t=n(o=+o),s=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(r=e,c):r},c.range=d(us.c),c.rangeRound=d(gs.c),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return n=i,e=i(a),t=i(o),s=e===t?0:1/(t-e),c}}function Es(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ts(){var e=(0,i.A)(ms()(p.ZX));return e.copy=function(){return Es(e,Ts())},h.o.apply(e,arguments)}function Ss(){var e=_(ms()).domain([1,10]);return e.copy=function(){return Es(e,Ss()).base(e.base())},h.o.apply(e,arguments)}function _s(){var e=f(ms());return e.copy=function(){return Es(e,_s()).constant(e.constant())},h.o.apply(e,arguments)}function As(){var e=L(ms());return e.copy=function(){return Es(e,As()).exponent(e.exponent())},h.o.apply(e,arguments)}function Is(){return As.apply(null,arguments).exponent(.5)}function Cs(){var e=[],t=p.ZX;function s(s){if(null!=s&&!isNaN(s=+s))return t(((0,V.cp)(e,s,1)-1)/(e.length-1))}return s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let s of t)null==s||isNaN(s=+s)||e.push(s);return e.sort(U.c),s},s.interpolator=function(e){return arguments.length?(t=e,s):t},s.range=function(){return e.map(((s,n)=>t(n/(e.length-1))))},s.quantiles=function(t){return Array.from({length:t+1},((s,n)=>G(e,n/t)))},s.copy=function(){return Cs(t).domain(e)},h.o.apply(s,arguments)}function fs(){var e,t,s,n,i,a,o,r=0,l=.5,c=1,d=1,h=p.ZX,u=!1;function g(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(d*e<d*t?n:i),h(u?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var s,n,i;return arguments.length?([s,n,i]=t,h=function(e,t){void 0===t&&(t=e,e=us.c);for(var s=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);s<n;)a[s]=e(i,i=t[++s]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[s,n,i]),g):[h(0),h(.5),h(1)]}}return g.domain=function(o){return arguments.length?([r,l,c]=o,e=a(r=+r),t=a(l=+l),s=a(c=+c),n=e===t?0:.5/(t-e),i=t===s?0:.5/(s-t),d=t<e?-1:1,g):[r,l,c]},g.clamp=function(e){return arguments.length?(u=!!e,g):u},g.interpolator=function(e){return arguments.length?(h=e,g):h},g.range=m(us.c),g.rangeRound=m(gs.c),g.unknown=function(e){return arguments.length?(o=e,g):o},function(o){return a=o,e=o(r),t=o(l),s=o(c),n=e===t?0:.5/(t-e),i=t===s?0:.5/(s-t),d=t<e?-1:1,g}}function xs(){var e=(0,i.A)(fs()(p.ZX));return e.copy=function(){return Es(e,xs())},h.o.apply(e,arguments)}function ys(){var e=_(fs()).domain([.1,1,10]);return e.copy=function(){return Es(e,ys()).base(e.base())},h.o.apply(e,arguments)}function Ns(){var e=f(fs());return e.copy=function(){return Es(e,Ns()).constant(e.constant())},h.o.apply(e,arguments)}function Ps(){var e=L(fs());return e.copy=function(){return Es(e,Ps()).exponent(e.exponent())},h.o.apply(e,arguments)}function vs(){return Ps.apply(null,arguments).exponent(.5)}var Ls=s(80176)},70216:(e,t,s)=>{"use strict";function n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function i(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}s.d(t,{K:()=>n,o:()=>i})},69664:(e,t,s)=>{"use strict";s.d(t,{A:()=>r,c:()=>l});var n=s(37740),i=s(91784),a=s(70216),o=s(80176);function r(e){var t=e.domain;return e.ticks=function(e){var s=t();return(0,n.cp)(s[0],s[s.length-1],null==e?10:e)},e.tickFormat=function(e,s){var n=t();return(0,o.c)(n[0],n[n.length-1],null==e?10:e,s)},e.nice=function(s){null==s&&(s=10);var i,a,o=t(),r=0,l=o.length-1,c=o[r],d=o[l],p=10;for(d<c&&(a=c,c=d,d=a,a=r,r=l,l=a);p-- >0;){if((a=(0,n.uy)(c,d,s))===i)return o[r]=c,o[l]=d,t(o);if(a>0)c=Math.floor(c/a)*a,d=Math.ceil(d/a)*a;else{if(!(a<0))break;c=Math.ceil(c*a)/a,d=Math.floor(d*a)/a}i=a}return e},e}function l(){var e=(0,i.cp)();return e.copy=function(){return(0,i.kT)(e,l())},a.K.apply(e,arguments),r(e)}},54132:(e,t,s)=>{"use strict";function n(e){return+e}s.d(t,{c:()=>n})},67924:(e,t,s)=>{"use strict";s.d(t,{c:()=>d,w:()=>c});class n extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[s,n]of e)this.set(s,n)}get(e){return super.get(i(this,e))}has(e){return super.has(i(this,e))}set(e,t){return super.set(a(this,e),t)}delete(e){return super.delete(o(this,e))}}Set;function i(e,t){let{_intern:s,_key:n}=e;const i=n(t);return s.has(i)?s.get(i):t}function a(e,t){let{_intern:s,_key:n}=e;const i=n(t);return s.has(i)?s.get(i):(s.set(i,t),t)}function o(e,t){let{_intern:s,_key:n}=e;const i=n(t);return s.has(i)&&(t=s.get(i),s.delete(i)),t}function r(e){return null!==e&&"object"===typeof e?e.valueOf():e}var l=s(70216);const c=Symbol("implicit");function d(){var e=new n,t=[],s=[],i=c;function a(n){let a=e.get(n);if(void 0===a){if(i!==c)return i;e.set(n,a=t.push(n)-1)}return s[a%s.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new n;for(const n of s)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(s=Array.from(e),a):s.slice()},a.unknown=function(e){return arguments.length?(i=e,a):i},a.copy=function(){return d(t,s).unknown(i)},l.K.apply(a,arguments),a}},80176:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});var n=s(37740),i=s(42488),a=s(39892);var o=s(70396);function r(e,t,s,r){var l,c=(0,n.El)(e,t,s);switch((r=(0,i.c)(null==r?",f":r)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(l=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,a.c)(t)/3)))-(0,a.c)(Math.abs(e)))}(c,d))||(r.precision=l),(0,o.gV)(r,d);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(l=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,a.c)(t)-(0,a.c)(e))+1}(c,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=l-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(l=function(e){return Math.max(0,-(0,a.c)(Math.abs(e)))}(c))||(r.precision=l-2*("%"===r.type))}return(0,o.E9)(r)}},82336:(e,t,s)=>{"use strict";s.d(t,{c:()=>c});var n=s(81604),i=s(84460),a=s(1860),o=s(79976),r=s(41888),l=s(63488);function c(e,t,s){var c=null,d=(0,i.c)(!0),p=null,h=a.c,u=null,g=(0,r.A)(m);function m(i){var a,o,r,l,m,E=(i=(0,n.c)(i)).length,T=!1,S=new Array(E),_=new Array(E);for(null==p&&(u=h(m=g())),a=0;a<=E;++a){if(!(a<E&&d(l=i[a],a,i))===T)if(T=!T)o=a,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),r=a-1;r>=o;--r)u.point(S[r],_[r]);u.lineEnd(),u.areaEnd()}T&&(S[a]=+e(l,a,i),_[a]=+t(l,a,i),u.point(c?+c(l,a,i):S[a],s?+s(l,a,i):_[a]))}if(m)return u=null,m+""||null}function E(){return(0,o.c)().defined(d).curve(h).context(p)}return e="function"===typeof e?e:void 0===e?l.x:(0,i.c)(+e),t="function"===typeof t?t:void 0===t?(0,i.c)(0):(0,i.c)(+t),s="function"===typeof s?s:void 0===s?l.y:(0,i.c)(+s),m.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.c)(+t),c=null,m):e},m.x0=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.c)(+t),m):e},m.x1=function(e){return arguments.length?(c=null==e?null:"function"===typeof e?e:(0,i.c)(+e),m):c},m.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.c)(+e),s=null,m):t},m.y0=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.c)(+e),m):t},m.y1=function(e){return arguments.length?(s=null==e?null:"function"===typeof e?e:(0,i.c)(+e),m):s},m.lineX0=m.lineY0=function(){return E().x(e).y(t)},m.lineY1=function(){return E().x(e).y(s)},m.lineX1=function(){return E().x(c).y(t)},m.defined=function(e){return arguments.length?(d="function"===typeof e?e:(0,i.c)(!!e),m):d},m.curve=function(e){return arguments.length?(h=e,null!=p&&(u=h(p)),m):h},m.context=function(e){return arguments.length?(null==e?p=u=null:u=h(p=e),m):p},m}},81604:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});Array.prototype.slice;function n(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}},84460:(e,t,s)=>{"use strict";function n(e){return function(){return e}}s.d(t,{c:()=>n})},43876:(e,t,s)=>{"use strict";function n(e,t,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+s)/6)}function i(e){this._context=e}function a(e){return new i(e)}s.d(t,{GY:()=>n,cp:()=>a}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:n(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:n(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},40952:(e,t,s)=>{"use strict";s.d(t,{c:()=>o});var n=s(39492),i=s(43876);function a(e){this._context=e}function o(e){return new a(e)}a.prototype={areaStart:n.c,areaEnd:n.c,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:(0,i.GY)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},61892:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var n=s(43876);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(s,i):this._context.moveTo(s,i);break;case 3:this._point=4;default:(0,n.GY)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},36272:(e,t,s)=>{"use strict";s.d(t,{KQ:()=>i,yM:()=>a});class n{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function i(e){return new n(e,!0)}function a(e){return new n(e,!1)}},1860:(e,t,s)=>{"use strict";function n(e){this._context=e}function i(e){return new n(e)}s.d(t,{c:()=>i}),n.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},89484:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var n=s(39492);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:n.c,areaEnd:n.c,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},24152:(e,t,s)=>{"use strict";function n(e){return e<0?-1:1}function i(e,t,s){var i=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(i||a<0&&-0),r=(s-e._y1)/(a||i<0&&-0),l=(o*a+r*i)/(i+a);return(n(o)+n(r))*Math.min(Math.abs(o),Math.abs(r),.5*Math.abs(l))||0}function a(e,t){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-t)/2:t}function o(e,t,s){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,r=(a-n)/3;e._context.bezierCurveTo(n+r,i+r*t,a-r,o-r*s,a,o)}function r(e){this._context=e}function l(e){this._context=new c(e)}function c(e){this._context=e}function d(e){return new r(e)}function p(e){return new l(e)}s.d(t,{O:()=>d,o:()=>p}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o(this,this._t0,a(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var s=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o(this,a(this,s=i(this,e,t)),s);break;default:o(this,this._t0,s=i(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=s}}},(l.prototype=Object.create(r.prototype)).point=function(e,t){r.prototype.point.call(this,t,e)},c.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,s,n,i,a){this._context.bezierCurveTo(t,e,n,s,a,i)}}},78824:(e,t,s)=>{"use strict";function n(e){this._context=e}function i(e){var t,s,n=e.length-1,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=i[t]/a[t-1],a[t]-=s,o[t]-=s*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function a(e){return new n(e)}s.d(t,{c:()=>a}),n.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===s)this._context.lineTo(e[1],t[1]);else for(var n=i(e),a=i(t),o=0,r=1;r<s;++o,++r)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[r],t[r]);(this._line||0!==this._line&&1===s)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},64431:(e,t,s)=>{"use strict";function n(e,t){this._context=e,this._t=t}function i(e){return new n(e,.5)}function a(e){return new n(e,0)}function o(e){return new n(e,1)}s.d(t,{S_:()=>o,cp:()=>i,em:()=>a}),n.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,t)}}this._x=e,this._y=t}}},79976:(e,t,s)=>{"use strict";s.d(t,{c:()=>l});var n=s(81604),i=s(84460),a=s(1860),o=s(41888),r=s(63488);function l(e,t){var s=(0,i.c)(!0),l=null,c=a.c,d=null,p=(0,o.A)(h);function h(i){var a,o,r,h=(i=(0,n.c)(i)).length,u=!1;for(null==l&&(d=c(r=p())),a=0;a<=h;++a)!(a<h&&s(o=i[a],a,i))===u&&((u=!u)?d.lineStart():d.lineEnd()),u&&d.point(+e(o,a,i),+t(o,a,i));if(r)return d=null,r+""||null}return e="function"===typeof e?e:void 0===e?r.x:(0,i.c)(e),t="function"===typeof t?t:void 0===t?r.y:(0,i.c)(t),h.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.c)(+t),h):e},h.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.c)(+e),h):t},h.defined=function(e){return arguments.length?(s="function"===typeof e?e:(0,i.c)(!!e),h):s},h.curve=function(e){return arguments.length?(c=e,null!=l&&(d=c(l)),h):c},h.context=function(e){return arguments.length?(null==e?l=d=null:d=c(l=e),h):l},h}},71536:(e,t,s)=>{"use strict";s.d(t,{SY:()=>i,W8:()=>n,_I:()=>o,g$:()=>a,kD:()=>l,pi:()=>r});Math.abs,Math.atan2;const n=Math.cos,i=(Math.max,Math.min),a=Math.sin,o=Math.sqrt,r=Math.PI,l=2*r},39492:(e,t,s)=>{"use strict";function n(){}s.d(t,{c:()=>n})},88320:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(27428);function i(e,t){if((i=e.length)>0){for(var s,i,a,o=0,r=e[0].length;o<r;++o){for(a=s=0;s<i;++s)a+=e[s][o][1]||0;if(a)for(s=0;s<i;++s)e[s][o][1]/=a}(0,n.c)(e,t)}}},27428:(e,t,s)=>{"use strict";function n(e,t){if((i=e.length)>1)for(var s,n,i,a=1,o=e[t[0]],r=o.length;a<i;++a)for(n=o,o=e[t[a]],s=0;s<r;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}s.d(t,{c:()=>n})},96152:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(27428);function i(e,t){if((s=e.length)>0){for(var s,i=0,a=e[t[0]],o=a.length;i<o;++i){for(var r=0,l=0;r<s;++r)l+=e[r][i][1]||0;a[i][1]+=a[i][0]=-l/2}(0,n.c)(e,t)}}},96623:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(27428);function i(e,t){if((a=e.length)>0&&(i=(s=e[t[0]]).length)>0){for(var s,i,a,o=0,r=1;r<i;++r){for(var l=0,c=0,d=0;l<a;++l){for(var p=e[t[l]],h=p[r][1]||0,u=(h-(p[r-1][1]||0))/2,g=0;g<l;++g){var m=e[t[g]];u+=(m[r][1]||0)-(m[r-1][1]||0)}c+=h,d+=u*h}s[r-1][1]+=s[r-1][0]=o,c&&(o-=d/c)}s[r-1][1]+=s[r-1][0]=o,(0,n.c)(e,t)}}},54504:(e,t,s)=>{"use strict";function n(e){for(var t=e.length,s=new Array(t);--t>=0;)s[t]=t;return s}s.d(t,{c:()=>n})},41888:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var n,i,a,o,r,l,c,d,p,h,u,g,m,E,T=s(86692);const S=Math.PI,_=2*S,A=1e-6,I=_-A;function C(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}class f{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?C:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return C;const s=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*s)/s+e[t]}}(e)}moveTo(e,t){this._append(n||(n=(0,T.c)(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(i||(i=(0,T.c)(["Z"]))))}lineTo(e,t){this._append(a||(a=(0,T.c)(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,s,n){this._append(o||(o=(0,T.c)(["Q",",",",",",",""])),+e,+t,this._x1=+s,this._y1=+n)}bezierCurveTo(e,t,s,n,i,a){this._append(r||(r=(0,T.c)(["C",",",",",",",",",",",""])),+e,+t,+s,+n,this._x1=+i,this._y1=+a)}arcTo(e,t,s,n,i){if(e=+e,t=+t,s=+s,n=+n,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,r=s-e,h=n-t,u=a-e,g=o-t,m=u*u+g*g;if(null===this._x1)this._append(l||(l=(0,T.c)(["M",",",""])),this._x1=e,this._y1=t);else if(m>A)if(Math.abs(g*r-h*u)>A&&i){let l=s-a,c=n-o,E=r*r+h*h,_=l*l+c*c,I=Math.sqrt(E),C=Math.sqrt(m),f=i*Math.tan((S-Math.acos((E+m-_)/(2*I*C)))/2),x=f/C,y=f/I;Math.abs(x-1)>A&&this._append(d||(d=(0,T.c)(["L",",",""])),e+x*u,t+x*g),this._append(p||(p=(0,T.c)(["A",",",",0,0,",",",",",""])),i,i,+(g*l>u*c),this._x1=e+y*r,this._y1=t+y*h)}else this._append(c||(c=(0,T.c)(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,s,n,i,a){if(e=+e,t=+t,a=!!a,(s=+s)<0)throw new Error("negative radius: ".concat(s));let o=s*Math.cos(n),r=s*Math.sin(n),l=e+o,c=t+r,d=1^a,p=a?n-i:i-n;null===this._x1?this._append(h||(h=(0,T.c)(["M",",",""])),l,c):(Math.abs(this._x1-l)>A||Math.abs(this._y1-c)>A)&&this._append(u||(u=(0,T.c)(["L",",",""])),l,c),s&&(p<0&&(p=p%_+_),p>I?this._append(g||(g=(0,T.c)(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),s,s,d,e-o,t-r,s,s,d,this._x1=l,this._y1=c):p>A&&this._append(m||(m=(0,T.c)(["A",",",",0,",",",",",",",""])),s,s,+(p>=S),d,this._x1=e+s*Math.cos(i),this._y1=t+s*Math.sin(i)))}rect(e,t,s,n){this._append(E||(E=(0,T.c)(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,s=+s,+n,-s)}toString(){return this._}}function x(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(null==s)t=null;else{const e=Math.floor(s);if(!(e>=0))throw new RangeError("invalid digits: ".concat(s));t=e}return e},()=>new f(t)}f.prototype},63488:(e,t,s)=>{"use strict";function n(e){return e[0]}function i(e){return e[1]}s.d(t,{x:()=>n,y:()=>i})},83116:(e,t,s)=>{"use strict";s.d(t,{c:()=>c});var n=s(81604),i=s(84460),a=s(27428),o=s(54504);function r(e,t){return e[t]}function l(e){const t=[];return t.key=e,t}function c(){var e=(0,i.c)([]),t=o.c,s=a.c,c=r;function d(i){var a,o,r=Array.from(e.apply(this,arguments),l),d=r.length,p=-1;for(const e of i)for(a=0,++p;a<d;++a)(r[a][p]=[0,+c(e,r[a].key,p,i)]).data=e;for(a=0,o=(0,n.c)(t(r));a<d;++a)r[o[a]].index=a;return s(r,o),r}return d.keys=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.c)(Array.from(t)),d):e},d.value=function(e){return arguments.length?(c="function"===typeof e?e:(0,i.c)(+e),d):c},d.order=function(e){return arguments.length?(t=null==e?o.c:"function"===typeof e?e:(0,i.c)(Array.from(e)),d):t},d.offset=function(e){return arguments.length?(s=null==e?a.c:e,d):s},d}},956:(e,t,s)=>{"use strict";s.d(t,{cp:()=>I});var n=s(84460),i=s(41888),a=s(71536);const o=(0,a._I)(3),r={draw(e,t){const s=.59436*(0,a._I)(t+(0,a.SY)(t/28,.75)),n=s/2,i=n*o;e.moveTo(0,s),e.lineTo(0,-s),e.moveTo(-i,-n),e.lineTo(i,n),e.moveTo(-i,n),e.lineTo(i,-n)}};var l=s(50716),c=s(93604),d=s(63692);const p={draw(e,t){const s=.62625*(0,a._I)(t);e.moveTo(0,-s),e.lineTo(s,0),e.lineTo(0,s),e.lineTo(-s,0),e.closePath()}},h={draw(e,t){const s=.87559*(0,a._I)(t-(0,a.SY)(t/7,2));e.moveTo(-s,0),e.lineTo(s,0),e.moveTo(0,s),e.lineTo(0,-s)}};var u=s(21420);const g={draw(e,t){const s=.4431*(0,a._I)(t);e.moveTo(s,s),e.lineTo(s,-s),e.lineTo(-s,-s),e.lineTo(-s,s),e.closePath()}};var m=s(20164),E=s(71448);const T=(0,a._I)(3),S={draw(e,t){const s=.6824*(0,a._I)(t),n=s/2,i=s*T/2;e.moveTo(0,-s),e.lineTo(i,n),e.lineTo(-i,n),e.closePath()}};var _=s(74332);const A={draw(e,t){const s=.6189*(0,a._I)(t-(0,a.SY)(t/6,1.7));e.moveTo(-s,-s),e.lineTo(s,s),e.moveTo(-s,s),e.lineTo(s,-s)}};l.c,c.c,d.c,u.c,m.c,E.c,_.c,l.c;function I(e,t){let s=null,a=(0,i.A)(o);function o(){let n;if(s||(s=n=a()),e.apply(this,arguments).draw(s,+t.apply(this,arguments)),n)return s=null,n+""||null}return e="function"===typeof e?e:(0,n.c)(e||l.c),t="function"===typeof t?t:(0,n.c)(void 0===t?64:+t),o.type=function(t){return arguments.length?(e="function"===typeof t?t:(0,n.c)(t),o):e},o.size=function(e){return arguments.length?(t="function"===typeof e?e:(0,n.c)(+e),o):t},o.context=function(e){return arguments.length?(s=null==e?null:e,o):s},o}},50716:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(71536);const i={draw(e,t){const s=(0,n._I)(t/n.pi);e.moveTo(s,0),e.arc(0,0,s,0,n.kD)}}},93604:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(71536);const i={draw(e,t){const s=(0,n._I)(t/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}}},63692:(e,t,s)=>{"use strict";s.d(t,{c:()=>o});var n=s(71536);const i=(0,n._I)(1/3),a=2*i,o={draw(e,t){const s=(0,n._I)(t/a),o=s*i;e.moveTo(0,-s),e.lineTo(o,0),e.lineTo(0,s),e.lineTo(-o,0),e.closePath()}}},21420:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var n=s(71536);const i={draw(e,t){const s=(0,n._I)(t),i=-s/2;e.rect(i,i,s,s)}}},20164:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});var n=s(71536);const i=(0,n.g$)(n.pi/10)/(0,n.g$)(7*n.pi/10),a=(0,n.g$)(n.kD/10)*i,o=-(0,n.W8)(n.kD/10)*i,r={draw(e,t){const s=(0,n._I)(.8908130915292852*t),i=a*s,r=o*s;e.moveTo(0,-s),e.lineTo(i,r);for(let a=1;a<5;++a){const t=n.kD*a/5,o=(0,n.W8)(t),l=(0,n.g$)(t);e.lineTo(l*s,-o*s),e.lineTo(o*i-l*r,l*i+o*r)}e.closePath()}}},71448:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var n=s(71536);const i=(0,n._I)(3),a={draw(e,t){const s=-(0,n._I)(t/(3*i));e.moveTo(0,2*s),e.lineTo(-i*s,-s),e.lineTo(i*s,-s),e.closePath()}}},74332:(e,t,s)=>{"use strict";s.d(t,{c:()=>l});var n=s(71536);const i=-.5,a=(0,n._I)(3)/2,o=1/(0,n._I)(12),r=3*(o/2+1),l={draw(e,t){const s=(0,n._I)(t/r),l=s/2,c=s*o,d=l,p=s*o+s,h=-d,u=p;e.moveTo(l,c),e.lineTo(d,p),e.lineTo(h,u),e.lineTo(i*l-a*c,a*l+i*c),e.lineTo(i*d-a*p,a*d+i*p),e.lineTo(i*h-a*u,a*h+i*u),e.lineTo(i*l+a*c,i*c-a*l),e.lineTo(i*d+a*p,i*p-a*d),e.lineTo(i*h+a*u,i*u-a*h),e.closePath()}}}}]);