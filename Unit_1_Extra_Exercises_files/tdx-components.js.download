//>>built
(function(l,m){var k,f,e=function(){},d=function(a){for(var h in a)return 0;return 1},n={}.toString,c=function(a){return"[object Function]"==n.call(a)},b=function(a){return"[object String]"==n.call(a)},a=function(a){return"[object Array]"==n.call(a)},s=function(a,h){if(a)for(var b=0;b<a.length;)h(a[b++])},r=function(a,h){for(var b in h)a[b]=h[b];return a},t=function(a,h){return r(Error(a),{src:"dojoLoader",info:h})},h=1,q=function(){return"_"+h++},u=function(a,h,b){return la(a,h,b,0,u)},v=this,w=
v.document,x=w&&w.createElement("DiV"),A=u.has=function(a){return c(z[a])?z[a]=z[a](v,w,x):z[a]},z=A.cache=m.hasCache;A.add=function(a,h,b,c){(void 0===z[a]||c)&&(z[a]=h);return b&&A(a)};for(var C in l.has)A.add(C,l.has[C],0,1);u.async=1;var F=new Function("return eval(arguments[0]);");u.eval=function(a,h){return F(a+"\r\n////@ sourceURL\x3d"+h)};var B={},D=u.signal=function(h,b){var c=B[h];s(c&&c.slice(0),function(h){h.apply(null,a(b)?b:[b])})},E=u.on=function(a,h){var b=B[a]||(B[a]=[]);b.push(h);
return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===h){b.splice(a,1);break}}}},J=[],N={},O=[],H={},K=u.map={},M=[],P={},I="",L={},Q={};C={};var W=0,R=function(a){var h,b,c,r;for(h in Q)b=Q[h],(c=h.match(/^url\:(.+)/))?L["url:"+wa(c[1],a)]=b:"*now"==h?r=b:"*noref"!=h&&(c=oa(h,a,!0),L[c.mid]=L["url:"+c.url]=b);r&&r(ha(a));Q={}},T=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},U=function(a,h){h.splice(0,h.length);for(var b in a)h.push([b,a[b],RegExp("^"+
T(b)+"(/|$)"),b.length]);h.sort(function(a,h){return h[3]-a[3]});return h},Y=function(a,h){s(a,function(a){h.push([b(a[0])?RegExp("^"+T(a[0])+"$"):a[0],a[1]])})},ca=function(a){var h=a.name;h||(h=a,a={name:h});a=r({main:"main"},a);a.location=a.location?a.location:h;a.packageMap&&(K[h]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));H[h]=a},V=[],X=function(a,h,c){for(var q in a){"waitSeconds"==q&&(u.waitms=1E3*(a[q]||0));"cacheBust"==q&&(I=a[q]?b(a[q])?a[q]:(new Date).getTime()+"":
"");if("baseUrl"==q||"combo"==q)u[q]=a[q];a[q]!==z&&(u.rawConfig[q]=a[q],"has"!=q&&A.add("config-"+q,a[q],0,h))}u.baseUrl||(u.baseUrl="./");/\/$/.test(u.baseUrl)||(u.baseUrl+="/");for(q in a.has)A.add(q,a.has[q],0,h);s(a.packages,ca);for(f in a.packagePaths)s(a.packagePaths[f],function(a){var h=f+"/"+a;b(a)&&(a={name:a});a.location=h;ca(a)});U(r(K,a.map),M);s(M,function(a){a[1]=U(a[1],[]);"*"==a[0]&&(M.star=a)});U(r(N,a.paths),O);Y(a.aliases,J);if(h)V.push({config:a.config});else for(q in a.config)h=
ia(q,c),h.config=r(h.config||{},a.config[q]);a.cache&&(R(),Q=a.cache,a.cache["*noref"]&&R());D("config",[a,u.rawConfig])};if(A("dojo-cdn")){var fa=w.getElementsByTagName("script");k=0;for(var $,aa,Z,ba;k<fa.length;){$=fa[k++];if((Z=$.getAttribute("src"))&&(ba=Z.match(/(((.*)\/)|^)dojo\.js(\W|$)/i)))aa=ba[3]||"",m.baseUrl=m.baseUrl||aa,W=$;if(Z=$.getAttribute("data-dojo-config")||$.getAttribute("djConfig"))C=u.eval("({ "+Z+" })","data-dojo-config"),W=$}}u.rawConfig={};X(m,1);A("dojo-cdn")&&((H.dojo.location=
aa)&&(aa+="/"),H.dijit.location=aa+"../dijit/",H.dojox.location=aa+"../dojox/");X(l,1);X(C,1);var ja=function(a){xa(function(){s(a.deps,Ia)})},la=function(h,c,d,s,n){var f;if(b(h)){if((f=ia(h,s,!0))&&f.executed)return f.result;throw t("undefinedModule",h);}a(h)||(X(h,0,s),h=c,c=d);if(a(h))if(h.length){d="require*"+q();for(var v,k=[],A=0;A<h.length;)v=h[A++],k.push(ia(v,s));f=r(ka("",d,0,""),{injected:2,deps:k,def:c||e,require:s?s.require:u,gc:1});P[f.mid]=f;ja(f);var x=pa&&0!="sync";xa(function(){ya(f,
x)});f.executed||ga.push(f);ra()}else c&&c();return n},ha=function(a){if(!a)return u;var h=a.require;h||(h=function(b,c,r){return la(b,c,r,a,h)},a.require=r(h,u),h.module=a,h.toUrl=function(h){return wa(h,a)},h.toAbsMid=function(h){return sa(h,a)});return h},ga=[],ma=[],ea={},G=function(a){a.injected=1;ea[a.mid]=1;a.url&&(ea[a.url]=a.pack||1);Ma()},da=function(a){a.injected=2;delete ea[a.mid];a.url&&delete ea[a.url];d(ea)&&Na()},qa=u.idle=function(){return!ma.length&&d(ea)&&!ga.length&&!pa},S=function(a,
h){if(h)for(var b=0;b<h.length;b++)if(h[b][2].test(a))return h[b];return 0},ta=function(a){var h=[],b,c;for(a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&h.length&&".."!=c?(h.pop(),c=h[h.length-1]):"."!=b&&h.push(c=b);return h.join("/")},ka=function(a,h,b,c){return{pid:a,mid:h,pack:b,url:c,executed:0,def:0}},za=function(a,h,b,r,q,u,d,e,n){var f,v,k,A;A=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||A&&!h)return ka(0,a,0,a);a=ta(A?h.mid+"/../"+a:a);if(/^\./.test(a))throw t("irrationalPath",
a);h&&(k=S(h.mid,u));(k=(k=k||u.star)&&S(a,k[1]))&&(a=k[1]+a.substring(k[3]));h=(ba=a.match(/^([^\/]+)(\/(.+))?$/))?ba[1]:"";(f=b[h])?a=h+"/"+(v=ba[3]||f.main):h="";var x=0;s(e,function(h){var b=a.match(h[0]);b&&0<b.length&&(x=c(h[1])?a.replace(h[0],h[1]):h[1])});if(x)return za(x,0,b,r,q,u,d,e,n);if(b=r[a])return n?ka(b.pid,b.mid,b.pack,b.url):r[a];r=(k=S(a,d))?k[1]+a.substring(k[3]):h?f.location+"/"+v:a;/(^\/)|(\:)/.test(r)||(r=q+r);return ka(h,a,f,ta(r+".js"))},oa=function(a,h,b){return za(a,h,
H,P,u.baseUrl,b?[]:M,b?[]:O,b?[]:J)},Aa=function(a,h,b){return a.normalize?a.normalize(h,function(a){return sa(a,b)}):sa(h,b)},na=0,ia=function(a,h,b){var c,r;(c=a.match(/^(.+?)\!(.*)$/))?(r=ia(c[1],h,b),5===r.executed&&!r.load&&Ba(r),r.load?(c=Aa(r,c[2],h),a=r.mid+"!"+(r.dynamic?++na+"!":"")+c):(c=c[2],a=r.mid+"!"+ ++na+"!waitingForPlugin"),a={plugin:r,mid:a,req:ha(h),prid:c}):a=oa(a,h);return P[a.mid]||!b&&(P[a.mid]=a)},sa=u.toAbsMid=function(a,h){return oa(a,h).mid},wa=u.toUrl=function(a,h){var b=
oa(a+"/x",h),c=b.url;return Ja(0===b.pid?a:c.substring(0,c.length-5))},Ka={injected:2,executed:5,def:3,result:3};aa=function(a){return P[a]=r({mid:a},Ka)};var Oa=aa("require"),Pa=aa("exports"),Qa=aa("module"),ua={},Ca=0,Ba=function(a){var h=a.result;a.dynamic=h.dynamic;a.normalize=h.normalize;a.load=h.load;return a},Ra=function(a){var h={};s(a.loadQ,function(b){var c=Aa(a,b.prid,b.req.module),q=a.dynamic?b.mid.replace(/waitingForPlugin$/,c):a.mid+"!"+c,c=r(r({},b),{mid:q,prid:c,injected:0});P[q]||
La(P[q]=c);h[b.mid]=P[q];da(b);delete P[b.mid]});a.loadQ=0;var b=function(a){for(var b=a.deps||[],c=0;c<b.length;c++)(a=h[b[c].mid])&&(b[c]=a)},c;for(c in P)b(P[c]);s(ga,b)},Da=function(a){u.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=Ca++;a.loadQ&&(Ba(a),Ra(a));for(k=0;k<ga.length;)ga[k]===a?ga.splice(k,1):k++;/^require\*/.test(a.mid)&&delete P[a.mid]},Sa=[],ya=function(a,h){if(4===a.executed)return u.trace("loader-circular-dependency",[Sa.concat(a.mid).join("-\x3e")]),!a.def||h?
ua:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return ua;var b=a.mid,r=a.deps||[],q,d=[],t=0;for(a.executed=4;q=r[t++];){q=q===Oa?ha(a):q===Pa?a.cjs.exports:q===Qa?a.cjs:ya(q,h);if(q===ua)return a.executed=0,u.trace("loader-exec-module",["abort",b]),ua;d.push(q)}u.trace("loader-run-factory",[a.mid]);b=a.def;d=c(b)?b.apply(null,d):b;a.result=void 0===d&&a.cjs?a.cjs.exports:d;Da(a)}return a.result},pa=0,xa=function(a){try{pa++,a()}finally{pa--}qa()&&D("idle",[])},ra=function(){pa||xa(function(){for(var a,
h,b=0;b<ga.length;)a=Ca,h=ga[b],ya(h),a!=Ca?b=0:b++})};void 0===A("dojo-loader-eval-hint-url")&&A.add("dojo-loader-eval-hint-url",1);var Ja=function(a){a+="";return a+(I?(/\?/.test(a)?"\x26":"?")+I:"")},La=function(a){var h=a.plugin;5===h.executed&&!h.load&&Ba(h);var b=function(h){a.result=h;da(a);Da(a);ra()};h.load?h.load(a.prid,a.req,b):h.loadQ?h.loadQ.push(a):(h.loadQ=[a],ga.unshift(h),Ia(h))},va=0,Ea=0,Fa=0,Ta=function(a,h){A("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));Fa=1;a===va?
va.call(null):u.eval(a,A("dojo-loader-eval-hint-url")?h.url:h.mid);Fa=0},Ia=function(a){var h=a.mid,b=a.url;if(!a.executed&&!a.injected&&!(ea[h]||a.url&&(a.pack&&ea[a.url]===a.pack||1==ea[a.url])))if(G(a),a.plugin)La(a);else{var c=function(){Ua(a);if(2!==a.injected){if(A("dojo-enforceDefine")){D("error",t("noDefine",a));return}da(a);r(a,Ka);u.trace("loader-define-nonmodule",[a.url])}ra()};(va=L[h]||L["url:"+a.url])?(u.trace("loader-inject",["cache",a.mid,b]),Ta(va,a),c()):(u.trace("loader-inject",
["script",a.mid,b]),Ea=a,u.injectUrl(Ja(b),c,a),Ea=0)}},Ga=function(a,h,b){u.trace("loader-define-module",[a.mid,h]);if(2===a.injected)return D("error",t("multipleDefine",a)),a;r(a,{deps:h,def:b,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(h){a.cjs.exports=h},config:function(){return a.config}}});for(var q=0;h[q];q++)h[q]=ia(h[q],a);da(a);!c(b)&&!h.length&&(a.result=b,Da(a));return a},Ua=function(a,h){for(var b=[],c,r;ma.length;)r=ma.shift(),h&&(r[0]=h.shift()),c=r[0]&&ia(r[0])||
a,b.push([c,r[1],r[2]]);R(a);s(b,function(a){ja(Ga.apply(null,a))})},Na=e,Ma=e;A.add("ie-event-behavior",w.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Ha=function(a,h,b,c){if(A("ie-event-behavior"))return a.attachEvent(b,c),function(){a.detachEvent(b,c)};a.addEventListener(h,c,!1);return function(){a.removeEventListener(h,c,!1)}},Va=Ha(window,"load","onload",function(){u.pageLoaded=1;"complete"!=w.readyState&&(w.readyState="complete");
Va()}),fa=w.getElementsByTagName("script");for(k=0;!W;)if(!/^dojo/.test(($=fa[k++])&&$.type))W=$;u.injectUrl=function(a,h,b){b=b.node=w.createElement("script");var c=Ha(b,"load","onreadystatechange",function(a){a=a||window.event;var b=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(b.readyState))c(),r(),h&&h()}),r=Ha(b,"error","onerror",function(h){c();r();D("error",t("scriptError",[a,h]))});b.type="text/javascript";b.charset="utf-8";b.src=a;W.parentNode.insertBefore(b,W);return b};
u.log=e;u.trace=e;$=function(a,h,r){var q=arguments.length,d=["require","exports","module"],s=[0,a,h];1==q?s=[0,c(a)?d:[],a]:2==q&&b(a)?s=[a,c(h)?d:[],h]:3==q&&(s=[a,h,r]);u.trace("loader-define",s.slice(0,2));if((q=s[0]&&ia(s[0]))&&!ea[q.mid])ja(Ga(q,s[1],s[2]));else if(!A("ie-event-behavior")||Fa)ma.push(s);else{q=q||Ea;if(!q)for(a in ea)if((d=P[a])&&d.node&&"interactive"===d.node.readyState){q=d;break}q?(R(q),ja(Ga(q,s[1],s[2]))):D("error",t("ieDefineFailed",s[0]));ra()}};$.amd={vendor:"dojotoolkit.org"};
r(r(u,m.loaderPatch),l.loaderPatch);E("error",function(a){try{if(console.error(a),a instanceof Error){for(var h in a)console.log(h+":",a[h]);console.log(".")}}catch(b){}});r(u,{uid:q,cache:L,packs:H});v.define||(v.define=$,v.require=u,s(V,function(a){X(a)}),E=C.deps||l.deps||m.deps,C=C.callback||l.callback||m.callback,u.boot=E||C?[E||[],C]:0)})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,
dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../xl",main:"PlayerViewer",name:"xl"}]});
require({cache:{"dojo/domReady":function(){define(["./has"],function(l){function m(a){b.push(a);c&&k()}function k(){if(!a){for(a=!0;b.length;)try{b.shift()(e)}catch(h){console.log("Error on domReady callback: "+h)}a=!1;m._onQEmpty()}}var f=this,e=document,d={loaded:1,complete:1},n="string"!=typeof e.readyState,c=!!d[e.readyState],b=[],a;m.load=function(a,h,b){m(b)};m._Q=b;m._onQEmpty=function(){};n&&(e.readyState="loading");if(!c){var s=[],r=function(a){a=a||f.event;c||"readystatechange"==a.type&&
!d[e.readyState]||(n&&(e.readyState="complete"),c=1,k())},t=function(a,h){a.addEventListener(h,r,!1);b.push(function(){a.removeEventListener(h,r,!1)})};if(!l("dom-addeventlistener")){var t=function(a,h){h="on"+h;a.attachEvent(h,r);b.push(function(){a.detachEvent(h,r)})},h=e.createElement("div");try{h.doScroll&&null===f.frameElement&&s.push(function(){try{return h.doScroll("left"),1}catch(a){}})}catch(q){}}t(e,"DOMContentLoaded");t(f,"load");"onreadystatechange"in e?t(e,"readystatechange"):n||s.push(function(){return d[e.readyState]});
if(s.length){var u=function(){if(!c){for(var a=s.length;a--;)if(s[a]()){r("poller");return}setTimeout(u,30)}};u()}}return m})},"dojo/has":function(){define(["require","module"],function(l,m){var k=l.has||function(){};k.add("dom-addeventlistener",!!document.addEventListener);k.add("touch","ontouchstart"in document||0<window.navigator.msMaxTouchPoints);k.add("device-width",screen.availWidth||innerWidth);var f=document.createElement("form");k.add("dom-attributes-explicit",0==f.attributes.length);k.add("dom-attributes-specified-flag",
0<f.attributes.length&&40>f.attributes.length);k.clearElement=function(e){e.innerHTML="";return e};k.normalize=function(e,d){var n=e.match(/[\?:]|[^:\?]*/g),c=0,b=function(a){var d=n[c++];if(":"==d)return 0;if("?"==n[c++]){if(!a&&k(d))return b();b(!0);return b(a)}return d||0};return(e=b())&&d(e)};k.load=function(e,d,n){e?d([e],n):n()};return k})},"xl/util/common":function(){define("dojo/_base/declare xl/monkeypatch/all xl/util/errorPanel xl/player/AssemblyInfo dijit/layout/BorderContainer xl/util/ga".split(" "),
function(l,m,k,f,e,d){return arguments})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(l,m,k){function f(a,h){throw Error("declare"+(h?" "+h:"")+": "+a);}function e(a,h,b){var c,r,q,u,d,t,s,e=this._inherited=this._inherited||{};"string"==typeof a&&(c=a,a=h,h=b);b=0;u=a.callee;(c=c||u.nom)||f("can't deduce a name to call inherited()",this.declaredClass);d=this.constructor._meta;q=d.bases;s=e.p;if(c!=B){if(e.c!==u&&(s=0,t=q[0],d=t._meta,d.hidden[c]!==u)){(r=d.chains)&&
"string"==typeof r[c]&&f("calling chained method with inherited: "+c,this.declaredClass);do if(d=t._meta,r=t.prototype,d&&(r[c]===u&&r.hasOwnProperty(c)||d.hidden[c]===u))break;while(t=q[++s]);s=t?s:-1}if(t=q[++s])if(r=t.prototype,t._meta&&r.hasOwnProperty(c))b=r[c];else{u=A[c];do if(r=t.prototype,(b=r[c])&&(t._meta?r.hasOwnProperty(c):b!==u))break;while(t=q[++s])}b=t&&b||A[c]}else{if(e.c!==u&&(s=0,(d=q[0]._meta)&&d.ctor!==u)){r=d.chains;for((!r||"manual"!==r.constructor)&&f("calling chained constructor with inherited",
this.declaredClass);(t=q[++s])&&!((d=t._meta)&&d.ctor===u););s=t?s:-1}for(;(t=q[++s])&&!(b=(d=t._meta)?d.ctor:t););b=t&&b}e.c=b;e.p=s;if(b)return!0===h?b:b.apply(this,h||a)}function d(a,h){return"string"==typeof a?this.__inherited(a,h,!0):this.__inherited(a,!0)}function n(a,h,b){var c=this.getInherited(a,h);if(c)return c.apply(this,b||h||a)}function c(a){for(var h=this.constructor._meta.bases,b=0,c=h.length;b<c;++b)if(h[b]===a)return!0;return this instanceof a}function b(a,h){for(var b in h)b!=B&&
h.hasOwnProperty(b)&&(a[b]=h[b]);if(m("bug-for-in-skips-shadowed"))for(var c=k._extraNames,r=c.length;r;)b=c[--r],b!=B&&h.hasOwnProperty(b)&&(a[b]=h[b])}function a(a){w.safeMixin(this.prototype,a);return this}function s(a,h){return w([this].concat(a),h||{})}function r(a,h){return function(){var b=arguments,c=b,r=b[0],q,u;u=a.length;var d;if(!(this instanceof b.callee))return v(b);if(h&&(r&&r.preamble||this.preamble)){d=Array(a.length);d[0]=b;for(q=0;;){if(r=b[0])(r=r.preamble)&&(b=r.apply(this,b)||
b);r=a[q].prototype;(r=r.hasOwnProperty("preamble")&&r.preamble)&&(b=r.apply(this,b)||b);if(++q==u)break;d[q]=b}}for(q=u-1;0<=q;--q)r=a[q],(r=(u=r._meta)?u.ctor:r)&&r.apply(this,d?d[q]:b);(r=this.postscript)&&r.apply(this,c)}}function t(a,h){return function(){var b=arguments,c=b,r=b[0];if(!(this instanceof b.callee))return v(b);h&&(r&&(r=r.preamble)&&(c=r.apply(this,c)||c),(r=this.preamble)&&r.apply(this,c));a&&a.apply(this,b);(r=this.postscript)&&r.apply(this,b)}}function h(a){return function(){var h=
arguments,b=0,c,r;if(!(this instanceof h.callee))return v(h);for(;c=a[b];++b)if(c=(r=c._meta)?r.ctor:c){c.apply(this,h);break}(c=this.postscript)&&c.apply(this,h)}}function q(a,h,b){return function(){var c,r,q=0,u=1;b&&(q=h.length-1,u=-1);for(;c=h[q];q+=u)r=c._meta,(c=(r?r.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function u(a){C.prototype=a.prototype;a=new C;C.prototype=null;return a}function v(a){var h=a.callee,b=u(h);h.apply(b,a);return b}function w(n,v,l){"string"!=typeof n&&(l=v,v=n,
n="");l=l||{};var m,C,K,M,P,I,L,Q=1,W=v;if("[object Array]"==z.call(v)){Q=n;K=[];M=[{cls:0,refs:[]}];I={};for(var R=1,T=v.length,U=0,Y,ca,V,X;U<T;++U){(Y=v[U])?"[object Function]"!=z.call(Y)&&f("mixin #"+U+" is not a callable constructor.",Q):f("mixin #"+U+" is unknown. Did you use dojo.require to pull it in?",Q);ca=Y._meta?Y._meta.bases:[Y];V=0;for(Y=ca.length-1;0<=Y;--Y)X=ca[Y].prototype,X.hasOwnProperty("declaredClass")||(X.declaredClass="uniqName_"+F++),X=X.declaredClass,I.hasOwnProperty(X)||
(I[X]={count:0,refs:[],cls:ca[Y]},++R),X=I[X],V&&V!==X&&(X.refs.push(V),++V.count),V=X;++V.count;M[0].refs.push(V)}for(;M.length;){V=M.pop();K.push(V.cls);for(--R;C=V.refs,1==C.length;){V=C[0];if(!V||--V.count){V=0;break}K.push(V.cls);--R}if(V){U=0;for(T=C.length;U<T;++U)V=C[U],--V.count||M.push(V)}}R&&f("can't build consistent linearization",Q);Y=v[0];K[0]=Y?Y._meta&&Y===K[K.length-Y._meta.bases.length]?Y._meta.bases.length:1:0;I=K;K=I[0];Q=I.length-K;v=I[Q]}else I=[0],v?"[object Function]"==z.call(v)?
(K=v._meta,I=I.concat(K?K.bases:v)):f("base class is not a callable constructor.",n):null!==v&&f("unknown base class. Did you use dojo.require to pull it in?",n);if(v)for(C=Q-1;;--C){m=u(v);if(!C)break;K=I[C];(K._meta?b:x)(m,K.prototype);M=new Function;M.superclass=v;M.prototype=m;v=m.constructor=M}else m={};w.safeMixin(m,l);K=l.constructor;K!==A.constructor&&(K.nom=B,m.constructor=K);for(C=Q-1;C;--C)(K=I[C]._meta)&&K.chains&&(L=x(L||{},K.chains));m["-chains-"]&&(L=x(L||{},m["-chains-"]));K=!L||!L.hasOwnProperty(B);
I[0]=M=L&&"manual"===L.constructor?h(I):1==I.length?t(l.constructor,K):r(I,K);M._meta={bases:I,hidden:l,chains:L,parents:W,ctor:l.constructor};M.superclass=v&&v.prototype;M.extend=a;M.createSubclass=s;M.prototype=m;m.constructor=M;m.getInherited=d;m.isInstanceOf=c;m.inherited=D;m.__inherited=e;n&&(m.declaredClass=n,k.setObject(n,M));if(L)for(P in L)m[P]&&("string"==typeof L[P]&&P!=B)&&(K=m[P]=q(P,I,"after"===L[P]),K.nom=P);return M}var x=k.mixin,A=Object.prototype,z=A.toString,C=new Function,F=0,
B="constructor",D=l.config.isDebug?n:e;l.safeMixin=w.safeMixin=function(a,h){var b,c;for(b in h)if(c=h[b],(c!==A[b]||!(b in A))&&b!=B)"[object Function]"==z.call(c)&&(c.nom=b),a[b]=c;if(m("bug-for-in-skips-shadowed"))for(var r=k._extraNames,q=r.length;q;)if(b=r[--q],c=h[b],(c!==A[b]||!(b in A))&&b!=B)"[object Function]"==z.call(c)&&(c.nom=b),a[b]=c;return a};return l.declare=w})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(l,m,k,f){var e;l={};var d={},n=
{config:m,global:this,dijit:l,dojox:d};l={dojo:["dojo",n],dijit:["dijit",l],dojox:["dojox",d]};f=k.map&&k.map[f.id.match(/[^\/]+/)[0]];for(e in f)l[e]?l[e][0]=f[e]:l[e]=[f[e],{}];for(e in l)f=l[e],f[1]._scopeName=f[0],m.noGlobals||(this[f[0]]=f[1]);n.scopeMap=l;n.baseUrl=n.config.baseUrl=k.baseUrl;n.isAsync=k.async;n.locale=m.locale;m="$Rev: f774568 $".match(/[0-9a-f]{7,}/);n.version={major:1,minor:9,patch:2,flag:"",revision:m?m[0]:NaN,toString:function(){var b=n.version;return b.major+"."+b.minor+
"."+b.patch+b.flag+" ("+b.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(n);n.exit=function(){};"undefined"!=typeof console||(console={});k="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var c;for(m=0;c=k[m++];)console[c]||function(){var b=c+"";console[b]="log"in console?function(){var a=Array.apply({},arguments);a.unshift(b+":");console.log(a.join(" "))}:
function(){};console[b]._fake=!0}();n.deprecated=n.experimental=function(){};n._hasResource={};return n})},"dojo/_base/config":function(){define(["../has","require"],function(l,m){var k={},f=m.rawConfig,e;for(e in f)k[e]=f[e];!k.locale&&"undefined"!=typeof navigator&&(k.locale=(navigator.language||navigator.userLanguage).toLowerCase());return k})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(l,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;
return 1});var k=m("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],f=k.length,e=function(a,b,c){var d,h=0,q=l.global;if(!c)if(a.length){d=a[h++];try{c=l.scopeMap[d]&&l.scopeMap[d][1]}catch(u){}c=c||(d in q?q[d]:b?q[d]={}:void 0)}else return q;for(;c&&(d=a[h++]);)c=d in c?c[d]:b?c[d]={}:void 0;return c},d=Object.prototype.toString,n=function(a,b,c){return(c||[]).concat(Array.prototype.slice.call(a,b||0))},c=
/\{([^\}]+)\}/g,b={_extraNames:k,_mixin:function(a,b,c){var d,h,q,u={};for(d in b)if(h=b[d],!(d in a)||a[d]!==h&&(!(d in u)||u[d]!==h))a[d]=c?c(h):h;if(m("bug-for-in-skips-shadowed")&&b)for(q=0;q<f;++q)if(d=k[q],h=b[d],!(d in a)||a[d]!==h&&(!(d in u)||u[d]!==h))a[d]=c?c(h):h;return a},mixin:function(a,c){a||(a={});for(var r=1,d=arguments.length;r<d;r++)b._mixin(a,arguments[r]);return a},setObject:function(a,b,c){var d=a.split(".");a=d.pop();return(c=e(d,!0,c))&&a?c[a]=b:void 0},getObject:function(a,
b,c){return e(a.split("."),b,c)},exists:function(a,c){return void 0!==b.getObject(a,!1,c)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===d.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||b.isArray(a)||b.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!b.isString(a)&&!b.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&
(b.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!b.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,c){for(var r=1,d=arguments.length;r<d;r++)b._mixin(a.prototype,arguments[r]);return a},_hitchArgs:function(a,c){var r=b._toArray(arguments,2),d=b.isString(c);return function(){var h=b._toArray(arguments),q=d?(a||l.global)[c]:c;return q&&q.apply(a||this,r.concat(h))}},hitch:function(a,c){if(2<arguments.length)return b._hitchArgs.apply(l,arguments);c||(c=
a,a=null);if(b.isString(c)){a=a||l.global;if(!a[c])throw['lang.hitch: scope["',c,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[c].apply(a,arguments||[])}}return!a?c:function(){return c.apply(a,arguments||[])}},delegate:function(){function a(){}return function(c,r){a.prototype=c;var d=new a;a.prototype=null;r&&b._mixin(d,r);return d}}(),_toArray:m("ie")?function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(b){return(b.item?a:n).apply(this,
arguments)}}():n,partial:function(a){return b.hitch.apply(l,[null].concat(b._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||b.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var c,r,d;if(b.isArray(a)){c=[];r=0;for(d=a.length;r<d;++r)r in a&&c.push(b.clone(a[r]))}else c=a.constructor?new a.constructor:{};return b._mixin(c,a,b.clone)},trim:String.prototype.trim?
function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,d,r){return a.replace(r||c,b.isFunction(d)?d:function(a,h){return b.getObject(h,!1,d)})}};b.mixin(l,b);return b})},"dojo/sniff":function(){define(["./has"],function(l){var m=navigator,k=m.userAgent,m=m.appVersion,f=parseFloat(m);l.add("air",0<=k.indexOf("AdobeAIR"));l.add("msapp",parseFloat(k.split("MSAppHost/")[1])||void 0);l.add("khtml",0<=m.indexOf("Konqueror")?f:void 0);l.add("webkit",
parseFloat(k.split("WebKit/")[1])||void 0);l.add("chrome",parseFloat(k.split("Chrome/")[1])||void 0);l.add("safari",0<=m.indexOf("Safari")&&!l("chrome")?parseFloat(m.split("Version/")[1]):void 0);l.add("mac",0<=m.indexOf("Macintosh"));l.add("quirks","BackCompat"==document.compatMode);if(k.match(/(iPhone|iPod|iPad)/)){var e=RegExp.$1.replace(/P/,"p"),d=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",d=parseFloat(d.replace(/_/,".").replace(/_/g,""));l.add(e,d);l.add("ios",d)}l.add("android",parseFloat(k.split("Android ")[1])||
void 0);l.add("bb",(0<=k.indexOf("BlackBerry")||0<=k.indexOf("BB10"))&&parseFloat(k.split("Version/")[1])||void 0);l.add("trident",parseFloat(m.split("Trident/")[1])||void 0);l.add("svg","undefined"!==typeof SVGAngle);l("webkit")||(0<=k.indexOf("Opera")&&l.add("opera",9.8<=f?parseFloat(k.split("Version/")[1])||f:f),0<=k.indexOf("Gecko")&&(!l("khtml")&&!l("webkit")&&!l("trident"))&&l.add("mozilla",f),l("mozilla")&&l.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),document.all&&
!l("opera")&&(k=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&(5!=m&&Math.floor(k)!=m)&&(k=m),l.add("ie",k)),l.add("wii","undefined"!=typeof opera&&opera.wiiremote));return l})},"xl/monkeypatch/all":function(){define("./dojo/has ./dijit/DropDownMenu ./dojox/gfx/svg ./dijit/focus ./dojo/dnd/Mover ./dojo/dnd/Source ./dijit/_HasDropDown ./dijit/popup ./dojo/_base/lang ./dojo/dnd/Moveable ./dojo/hccss".split(" "),function(){})},"xl/monkeypatch/dojo/has":function(){define(["dojo/has",
"dojo/sniff"],function(l,m){window.navigator.userAgent.includes&&(window.navigator.userAgent.includes("Mac OS")&&2<navigator.maxTouchPoints)&&l.add("iPad",!0);l.add("mobile",function(){return l("iphone")||l("bb")||l("android")||l("touch")||l("iPad")});l.add("ios8",8<=l("ios"));!l("mobile")&&!l("safari")&&(navigator.pointerEnabled="function"===typeof PointerEvent)})},"xl/monkeypatch/dijit/DropDownMenu":function(){define(["dijit/DropDownMenu"],function(l){l.prototype._onLeftArrow=function(m){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();
else this.onCancel(!1);else m.stopPropagation(),m.preventDefault()};return l})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(l,m,k,f,e){return l("dijit.DropDownMenu",[e,f],{templateString:k,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(d){this._moveToPopup(d);d.stopPropagation();d.preventDefault()},_onLeftArrow:function(d){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();
else this.onCancel(!1);else d.stopPropagation(),d.preventDefault()}})})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(l,m){return l.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,
NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(l,
m,k,f){var e;e=function(a,b,c){f(a,{sync:!!b}).then(c)};var d={},n=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},c={},b={};l.cache=function(a,b,c){var t;"string"==typeof a?/\//.test(a)?(t=a,c=b):t=m.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):(t=a+"",c=b);a=void 0!=c&&"string"!=typeof c?c.value:c;c=c&&c.sanitize;if("string"==typeof a)return d[t]=a,c?n(a):a;if(null===a)return delete d[t],
null;t in d||e(t,!0,function(a){d[t]=a});return c?n(d[t]):d[t]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),d=c[0];return(/^\./.test(d)?b(d):d)+(c[1]?"!"+c[1]:"")},load:function(a,s,r){a=a.split("!");var t=1<a.length,h=a[0],q=s.toUrl(a[0]);a="url:"+q;var u=c,f=function(a){r(t?n(a):a)};h in d?u=d[h]:s.cache&&a in s.cache?u=s.cache[a]:q in d&&(u=d[q]);if(u===c)if(b[q])b[q].push(f);else{var k=b[q]=[f];e(q,!s.async,function(a){d[h]=d[q]=a;for(var c=0;c<k.length;)k[c++](a);delete b[q]})}else f(u)}}})},
"dojo/request":function(){define(["./request/default!"],function(l){return l})},"dojo/request/default":function(){define(["exports","require","../has"],function(l,m,k){var f=k("config-requestProvider");f||(f="./xhr");l.getPlatformDefaultId=function(){return"./xhr"};l.load=function(e,d,n,c){m(["platform"==e?"./xhr":f],function(b){n(b)})}})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(l,m,k,f,e,d){l=f("dijit._OnDijitClickMixin",
null,{connect:function(e,c,b){return this.inherited(arguments,[e,"ondijitclick"==c?d:c,b])}});l.a11yclick=d;return l})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(l,m,k){function f(a,q,d,u,t){if(u=q.match(/(.*):(.*)/))return q=u[2],u=u[1],c.selector(u,q).call(t,a,d);k("touch")&&(b.test(q)&&(d=F(d)),!k("event-orientationchange")&&"orientationchange"==q&&(q="resize",a=window,d=F(d)));h&&(d=h(d));if(a.addEventListener){var s=q in r,e=s?r[q]:
q;a.addEventListener(e,d,s);return{remove:function(){a.removeEventListener(e,d,s)}}}if(w&&a.attachEvent)return w(a,"on"+q,d);throw Error("Target must be an event emitter");}function e(){this.cancelable=!1;this.defaultPrevented=!0}function d(){this.bubbles=!1}var n=window.ScriptEngineMajorVersion;k.add("jscript",n&&n()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);
k.add("event-focusin",function(a,h,b){return"onfocusin"in b||b.addEventListener&&function(){function a(){b=!0}var b=!1;try{var c=h.createElement("input"),r=h.activeElement;c.style.position="fixed";c.addEventListener("focusin",a,!1);h.body.appendChild(c);c.focus();h.body.removeChild(c);c.removeEventListener("focusin",a,!1);r.focus()}catch(q){}return b}()});var c=function(a,h,b,r){return"function"==typeof a.on&&"function"!=typeof h&&!a.nodeType?a.on(h,b):c.parse(a,h,b,f,r,this)};c.pausable=function(a,
h,b,r){var q;a=c(a,h,function(){if(!q)return b.apply(this,arguments)},r);a.pause=function(){q=!0};a.resume=function(){q=!1};return a};c.once=function(a,h,b,r){var q=c(a,h,function(){q.remove();return b.apply(this,arguments)});return q};c.parse=function(a,h,b,c,r,q){if(h.call)return h.call(q,a,b);if(-1<h.indexOf(",")){h=h.split(/\s*,\s*/);for(var d=[],u=0,t;t=h[u++];)d.push(c(a,t,b,r,q));d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d}return c(a,h,b,r,q)};var b=/^touch/;c.selector=
function(a,h,b){return function(r,q){function d(h){for(u=u&&u.matches?u:m.query;!u.matches(h,a,r);)if(h==r||!1===b||!(h=h.parentNode)||1!=h.nodeType)return;return h}var u="function"==typeof a?{matches:a}:this,t=h.bubble;return t?c(r,t(d),q):c(r,h,function(a){var h=d(a.target);return h&&q.call(h,a)})}};var a=[].slice,s=c.emit=function(h,b,c){var r=a.call(arguments,2),q="on"+b;if("parentNode"in h){var u=r[0]={},t;for(t in c)u[t]=c[t];u.preventDefault=e;u.stopPropagation=d;u.target=h;u.type=b;c=u}do h[q]&&
h[q].apply(h,r);while(c&&c.bubbles&&(h=h.parentNode));return c&&c.cancelable&&c},r=k("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!k("event-stopimmediatepropagation"))var t=function(){this.modified=this.immediatelyStopped=!0},h=function(a){return function(h){if(!h.immediatelyStopped)return h.stopImmediatePropagation=t,a.apply(this,arguments)}};if(k("dom-addeventlistener"))c.emit=function(a,h,b){if(a.dispatchEvent&&document.createEvent){var r=a.ownerDocument.createEvent("HTMLEvents");r.initEvent(h,
!!b.bubbles,!!b.cancelable);for(var q in b)q in r||(r[q]=b[q]);return a.dispatchEvent(r)&&r}return s.apply(c,arguments)};else{c._fixEvent=function(a,h){a||(a=(h&&(h.ownerDocument||h.document||h).parentWindow||window).event);if(!a)return a;try{q&&(a.type==q.type&&a.srcElement==q.target)&&(a=q)}catch(b){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=h||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=
x,a.preventDefault=A),a.type){case "keypress":var c="charCode"in a?a.charCode:a.keyCode;10==c?(c=0,a.keyCode=13):13==c||27==c?c=0:3==c&&(c=99);a.charCode=c;c=a;c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}return a};var q,u=function(a){this.handle=a};u.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var v=function(a){return function(h){h=c._fixEvent(h,this);var b=a.call(this,h);h.modified&&(q||setTimeout(function(){q=null}),q=h);return b}},
w=function(a,h,b){b=v(b);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var c=a[h];if(!c||!c.listeners){var r=c,c=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");c.listeners=[];a[h]=c;c.global=
this;r&&c.listeners.push(_dojoIEListeners_.push(r)-1)}c.listeners.push(a=c.global._dojoIEListeners_.push(b)-1);return new u(a)}return l.after(a,h,b,!0)},x=function(){this.cancelBubble=!0},A=c._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(k("touch"))var z=function(){},C=window.orientation,F=function(a){return function(h){var b=h.corrected;if(!b){var c=h.type;try{delete h.type}catch(r){}if(h.type){if(k("mozilla")){var b=
{},q;for(q in h)b[q]=h[q]}else z.prototype=h,b=new z;b.preventDefault=function(){h.preventDefault()};b.stopPropagation=function(){h.stopPropagation()}}else b=h,b.type=c;h.corrected=b;if("resize"==c){if(C==window.orientation)return null;C=window.orientation;b.type="orientationchange";return a.call(this,b)}"rotation"in b||(b.rotation=0,b.scale=1);var c=b.changedTouches[0],d;for(d in c)delete b[d],b[d]=c[d]}return a.call(this,b)}};return c})},"dojo/_base/array":function(){define(["./kernel","../has",
"./lang"],function(l,m,k){function f(a){return n[a]=new Function("item","index","array",a)}function e(a){var b=!a;return function(c,d,h){var q=0,u=c&&c.length||0,e;u&&"string"==typeof c&&(c=c.split(""));"string"==typeof d&&(d=n[d]||f(d));if(h)for(;q<u;++q){if(e=!d.call(h,c[q],q,c),a^e)return!e}else for(;q<u;++q)if(e=!d(c[q],q,c),a^e)return!e;return b}}function d(a){var d=1,r=0,t=0;a||(d=r=t=-1);return function(h,q,u,e){if(e&&0<d)return b.lastIndexOf(h,q,u);e=h&&h.length||0;var n=a?e+t:r;u===c?u=a?
r:e+t:0>u?(u=e+u,0>u&&(u=r)):u=u>=e?e+t:u;for(e&&"string"==typeof h&&(h=h.split(""));u!=n;u+=d)if(h[u]==q)return u;return-1}}var n={},c,b={every:e(!1),some:e(!0),indexOf:d(!0),lastIndexOf:d(!1),forEach:function(a,b,c){var d=0,h=a&&a.length||0;h&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=n[b]||f(b));if(c)for(;d<h;++d)b.call(c,a[d],d,a);else for(;d<h;++d)b(a[d],d,a)},map:function(a,b,c,d){var h=0,q=a&&a.length||0;d=new (d||Array)(q);q&&"string"==typeof a&&(a=a.split(""));"string"==
typeof b&&(b=n[b]||f(b));if(c)for(;h<q;++h)d[h]=b.call(c,a[h],h,a);else for(;h<q;++h)d[h]=b(a[h],h,a);return d},filter:function(a,b,c){var d=0,h=a&&a.length||0,q=[],u;h&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=n[b]||f(b));if(c)for(;d<h;++d)u=a[d],b.call(c,u,d,a)&&q.push(u);else for(;d<h;++d)u=a[d],b(u,d,a)&&q.push(u);return q},clearCache:function(){n={}}};k.mixin(l,b);return b})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(l,m,
k,f){function e(c){if((c.keyCode===l.ENTER||c.keyCode===l.SPACE)&&!/input|button|textarea/i.test(c.target.nodeName))for(c=c.target;c;c=c.parentNode)if(c.dojoClick)return!0}var d;k(document,"keydown",function(c){e(c)?(d=c.target,c.preventDefault()):d=null});k(document,"keyup",function(c){e(c)&&c.target==d&&(d=null,k.emit(c.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:c.ctrlKey,shiftKey:c.shiftKey,metaKey:c.metaKey,altKey:c.altKey,_origType:c.type}))});var n=function(c,b){c.dojoClick=!0;return k(c,
"click",b)};n.click=n;n.press=function(c,b){var a=k(c,f.press,function(a){("mousedown"!=a.type||m.isLeft(a))&&b(a)}),d=k(c,"keydown",function(a){(a.keyCode===l.ENTER||a.keyCode===l.SPACE)&&b(a)});return{remove:function(){a.remove();d.remove()}}};n.release=function(c,b){var a=k(c,f.release,function(a){("mouseup"!=a.type||m.isLeft(a))&&b(a)}),d=k(c,"keyup",function(a){(a.keyCode===l.ENTER||a.keyCode===l.SPACE)&&b(a)});return{remove:function(){a.remove();d.remove()}}};n.move=f.move;return n})},"dojo/mouse":function(){define(["./_base/kernel",
"./on","./has","./dom","./_base/window"],function(l,m,k,f,e){function d(e,c){var b=function(a,b){return m(a,e,function(d){if(c)return c(d,b);if(!f.isDescendant(d.relatedTarget,a))return b.call(this,d)})};b.bubble=function(a){return d(e,function(b,c){var d=a(b.target),h=b.relatedTarget;if(d&&d!=(h&&1==h.nodeType&&a(h)))return c.call(d,b)})};return b}k.add("dom-quirks",e.doc&&"BackCompat"==e.doc.compatMode);k.add("events-mouseenter",e.doc&&"onmouseenter"in e.doc.createElement("div"));k.add("events-mousewheel",
e.doc&&"onmousewheel"in e.doc);e=k("dom-quirks")&&k("ie")||!k("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(d,c){return d.button&c},isLeft:function(d){return d.button&1},isMiddle:function(d){return d.button&4},isRight:function(d){return d.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(d,c){return d.button==c},isLeft:function(d){return 0==d.button},isMiddle:function(d){return 1==d.button},isRight:function(d){return 2==d.button}};l.mouseButtons=e;l=k("events-mousewheel")?
"mousewheel":function(d,c){return m(d,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;c.call(this,b)})};return{_eventHandler:d,enter:d("mouseover"),leave:d("mouseout"),wheel:l,isLeft:e.isLeft,isMiddle:e.isMiddle,isRight:e.isRight}})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(l,m){if(7>=l("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var f={};l("ie")?f.byId=function(d,e){if("string"!=typeof d)return d;var c=e||m.doc,b=d&&c.getElementById(d);if(b&&
(b.attributes.id.value==d||b.id==d))return b;c=c.all[d];if(!c||c.nodeName)c=[c];for(var a=0;b=c[a++];)if(b.attributes&&b.attributes.id&&b.attributes.id.value==d||b.id==d)return b}:f.byId=function(d,e){return("string"==typeof d?(e||m.doc).getElementById(d):d)||null};f.isDescendant=function(d,e){try{d=f.byId(d);for(e=f.byId(e);d;){if(d==e)return!0;d=d.parentNode}}catch(c){}return!1};l.add("css-user-select",function(d,e,c){if(!c)return!1;d=c.style;e=["Khtml","O","ms","Moz","Webkit"];c=e.length;var b=
"userSelect";do if("undefined"!==typeof d[b])return b;while(c--&&(b=e[c]+"UserSelect"));return!1});var e=l("css-user-select");f.setSelectable=e?function(d,n){f.byId(d).style[e]=n?"":"none"}:function(d,e){d=f.byId(d);var c=d.getElementsByTagName("*"),b=c.length;if(e)for(d.removeAttribute("unselectable");b--;)c[b].removeAttribute("unselectable");else for(d.setAttribute("unselectable","on");b--;)c[b].setAttribute("unselectable","on")};return f})},"dojo/_base/window":function(){define(["./kernel","./lang",
"../sniff"],function(l,m,k){var f={global:l.global,doc:this.document||null,body:function(e){e=e||l.doc;return e.body||e.getElementsByTagName("body")[0]},setContext:function(e,d){l.global=f.global=e;l.doc=f.doc=d},withGlobal:function(e,d,n,c){var b=l.global;try{return l.global=f.global=e,f.withDoc.call(null,e.document,d,n,c)}finally{l.global=f.global=b}},withDoc:function(e,d,n,c){var b=f.doc,a=k("quirks"),s=k("ie"),r,t,h;try{l.doc=f.doc=e;l.isQuirks=k.add("quirks","BackCompat"==l.doc.compatMode,!0,
!0);if(k("ie")&&(h=e.parentWindow)&&h.navigator)r=parseFloat(h.navigator.appVersion.split("MSIE ")[1])||void 0,(t=e.documentMode)&&(5!=t&&Math.floor(r)!=t)&&(r=t),l.isIE=k.add("ie",r,!0,!0);n&&"string"==typeof d&&(d=n[d]);return d.apply(n,c||[])}finally{l.doc=f.doc=b,l.isQuirks=k.add("quirks",a,!0,!0),l.isIE=k.add("ie",s,!0,!0)}}};m.mixin(l,f);return f})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),
function(l,m,k,f,e,d,n,c,b,a){function s(a,b,c){return u&&c?function(a,h){return d(a,c,h)}:h?function(h,c){var q=d(h,b,c),r=d(h,a,function(a){(!E||(new Date).getTime()>E+1E3)&&c.call(this,a)});return{remove:function(){q.remove();r.remove()}}}:function(h,b){return d(h,a,b)}}function r(a){do if(void 0!==a.dojoClick)return a.dojoClick;while(a=a.parentNode)}function t(h,b,c){if(x=!h.target.disabled&&r(h.target))A=h.target,z=h.touches?h.touches[0].pageX:h.clientX,C=h.touches?h.touches[0].pageY:h.clientY,
F=("object"==typeof x?x.x:"number"==typeof x?x:0)||4,B=("object"==typeof x?x.y:"number"==typeof x?x:0)||4,w||(w=!0,a.doc.addEventListener(b,function(a){x=x&&a.target==A&&Math.abs((a.touches?a.touches[0].pageX:a.clientX)-z)<=F&&Math.abs((a.touches?a.touches[0].pageY:a.clientY)-C)<=B},!0),a.doc.addEventListener(c,function(a){if(x){D=(new Date).getTime();var h=a.target;"LABEL"===h.tagName&&(h=k.byId(h.getAttribute("for"))||h);setTimeout(function(){d.emit(h,"click",{bubbles:!0,cancelable:!0,_dojo_click:!0})})}},
!0),h=function(h){a.doc.addEventListener(h,function(a){!a._dojo_click&&((new Date).getTime()<=D+1E3&&!("INPUT"==a.target.tagName&&f.contains(a.target,"dijitOffScreen")))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"==h&&(("INPUT"!=a.target.tagName||"radio"==a.target.type||"checkbox"==a.target.type)&&"TEXTAREA"!=a.target.tagName&&"AUDIO"!=a.target.tagName&&"VIDEO"!=a.target.tagName)&&a.preventDefault())},!0)},h("click"),h("mousedown"),h("mouseup"))}var h=n("touch"),
q=5>n("ios"),u=navigator.pointerEnabled||navigator.msPointerEnabled,v=function(){var a={},h;for(h in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[h]=!navigator.pointerEnabled?"MSPointer"+h.charAt(0).toUpperCase()+h.slice(1):"pointer"+h;return a}(),w,x,A,z,C,F,B,D,E,J;h&&(u?b(function(){a.doc.addEventListener(v.down,function(a){t(a,v.move,v.up)},!0)}):b(function(){function h(a){var b=e.delegate(a,{bubbles:!0});6<=n("ios")&&(b.touches=a.touches,b.altKey=a.altKey,b.changedTouches=a.changedTouches,b.ctrlKey=
a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.targetTouches=a.targetTouches);return b}J=a.body();a.doc.addEventListener("touchstart",function(a){E=(new Date).getTime();var h=J;J=a.target;d.emit(h,"dojotouchout",{relatedTarget:J,bubbles:!0});d.emit(J,"dojotouchover",{relatedTarget:h,bubbles:!0});t(a,"touchmove","touchend")},!0);d(a.doc,"touchmove",function(b){E=(new Date).getTime();var c=a.doc.elementFromPoint(b.pageX-(q?0:a.global.pageXOffset),b.pageY-(q?0:a.global.pageYOffset));c&&(J!==c&&
(d.emit(J,"dojotouchout",{relatedTarget:c,bubbles:!0}),d.emit(c,"dojotouchover",{relatedTarget:J,bubbles:!0}),J=c),d.emit(c,"dojotouchmove",h(b))||b.preventDefault())});d(a.doc,"touchend",function(b){E=(new Date).getTime();var c=a.doc.elementFromPoint(b.pageX-(q?0:a.global.pageXOffset),b.pageY-(q?0:a.global.pageYOffset))||a.body();d.emit(c,"dojotouchend",h(b))})}));m={press:s("mousedown","touchstart",v.down),move:s("mousemove","dojotouchmove",v.move),release:s("mouseup","dojotouchend",v.up),cancel:s(c.leave,
"touchcancel",h?v.cancel:null),over:s("mouseover","dojotouchover",v.over),out:s("mouseout","dojotouchout",v.out),enter:c._eventHandler(s("mouseover","dojotouchover",v.over)),leave:c._eventHandler(s("mouseout","dojotouchout",v.out))};return l.touch=m})},"dojo/aspect":function(){define([],function(){function l(c,b,a,d){var r=c[b],t="around"==b,h;if(t){var q=a(function(){return r.advice(this,arguments)});h={remove:function(){q&&(q=c=a=null)},advice:function(a,h){return q?q.apply(a,h):r.advice(a,h)}}}else h=
{remove:function(){if(h.advice){var d=h.previous,q=h.next;!q&&!d?delete c[b]:(d?d.next=q:c[b]=q,q&&(q.previous=d));c=a=h.advice=null}},id:f++,advice:a,receiveArguments:d};if(r&&!t)if("after"==b){for(;r.next&&(r=r.next););r.next=h;h.previous=r}else"before"==b&&(c[b]=h,h.next=r,r.previous=h);else c[b]=h;return h}function m(c){return function(b,a,d,r){var t=b[a],h;if(!t||t.target!=b)b[a]=h=function(){for(var a=f,b=arguments,c=h.before;c;)b=c.advice.apply(this,b)||b,c=c.next;if(h.around)var d=h.around.advice(this,
b);for(c=h.after;c&&c.id<a;){if(c.receiveArguments)var r=c.advice.apply(this,b),d=r===k?d:r;else d=c.advice.call(this,d,b);c=c.next}return d},t&&(h.around={advice:function(a,h){return t.apply(a,h)}}),h.target=b;b=l(h||t,c,d,r);d=null;return b}}var k,f=0,e=m("after"),d=m("before"),n=m("around");return{before:d,around:n,after:e}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(l,m,k){function f(b){if("string"==typeof b||b instanceof String){if(b&&!d.test(b))return n[0]=
b,n;b=b.split(d);b.length&&!b[0]&&b.shift();b.length&&!b[b.length-1]&&b.pop();return b}return!b?[]:m.filter(b,function(a){return a})}var e,d=/\s+/,n=[""],c={};return e={contains:function(b,a){return 0<=(" "+k.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){b=k.byId(b);a=f(a);var c=b.className,d,c=c?" "+c+" ":" ";d=c.length;for(var t=0,h=a.length,q;t<h;++t)(q=a[t])&&0>c.indexOf(" "+q+" ")&&(c+=q+" ");d<c.length&&(b.className=c.substr(1,c.length-2))},remove:function(b,a){b=k.byId(b);var c;
if(void 0!==a){a=f(a);c=" "+b.className+" ";for(var d=0,t=a.length;d<t;++d)c=c.replace(" "+a[d]+" "," ");c=l.trim(c)}else c="";b.className!=c&&(b.className=c)},replace:function(b,a,d){b=k.byId(b);c.className=b.className;e.remove(c,d);e.add(c,a);b.className!==c.className&&(b.className=c.className)},toggle:function(b,a,c){b=k.byId(b);if(void 0===c){a=f(a);for(var d=0,t=a.length,h;d<t;++d)h=a[d],e[e.contains(b,h)?"remove":"add"](b,h)}else e[c?"add":"remove"](b,a);return c}}})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q){return m("dijit._MenuBase",[r,q,h,t],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){e.toggle(this.domNode,"dijitMenuActive",a);e.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var h=s.byNode(a);return a.parentNode==this.containerNode&&h&&h.focus},postCreate:function(){var h=this,b="string"==typeof this.childSelector?this.childSelector:d.hitch(this,"childSelector");this.own(c(this.containerNode,c.selector(b,n.enter),function(){h.onItemHover(s.byNode(this))}),c(this.containerNode,c.selector(b,n.leave),function(){h.onItemUnhover(s.byNode(this))}),c(this.containerNode,c.selector(b,a),function(a){h.onItemClick(s.byNode(this),a);a.stopPropagation();
a.preventDefault()}));this.inherited(arguments)},onKeyboardSearch:function(a,h,b,c){this.inherited(arguments);if(a&&(-1==c||a.popup&&1==c))this.onItemClick(a,h)},_keyboardSearchCompare:function(a,h){return a.shortcutKey?h==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&
a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,{type:"click"})},this.passivePopupDelay));
this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&
(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,h){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var b=/^key/.test(h._origType||h.type)||0==h.clientX&&0==h.clientY;this._openItemPopup(a,
b)}else this.onExecute(),a._onClick?a._onClick(h):a.onClick(h)},_openItemPopup:function(a,h){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var b=a.popup;b.parentMenu=this;this.own(this._mouseoverHandle=c.once(b.domNode,"mouseover",d.hitch(this,"_onPopupHover")));var q=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){h&&q.focusChild(a);q._cleanUp()},onExecute:d.hitch(this,
"_cleanUp",!0),onClose:function(){q._mouseoverHandle&&(q._mouseoverHandle.remove(),delete q._mouseoverHandle)}},h);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(f.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),
this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(l,m,k,f,e,d){function n(a,
b){var c=a.getAttributeNode&&a.getAttributeNode(b);return c&&c.specified}var c={innerHTML:1,className:1,htmlFor:m("ie"),value:1},b={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};l.has=function(a,s){var r=s.toLowerCase();return c[d.names[r]||s]||n(f.byId(a),b[r]||s)};l.get=function(a,s){a=f.byId(a);var r=s.toLowerCase(),t=d.names[r]||s,h=a[t];if(c[t]&&"undefined"!=typeof h||"href"!=t&&("boolean"==typeof h||k.isFunction(h)))return h;r=b[r]||s;return n(a,r)?a.getAttribute(r):
null};l.set=function(a,s,r){a=f.byId(a);if(2==arguments.length){for(var t in s)l.set(a,t,s[t]);return a}t=s.toLowerCase();var h=d.names[t]||s,q=c[h];if("style"==h&&"string"!=typeof r)return e.set(a,r),a;if(q||"boolean"==typeof r||k.isFunction(r))return d.set(a,s,r);a.setAttribute(b[t]||s,r);return a};l.remove=function(a,c){f.byId(a).removeAttribute(b[c.toLowerCase()]||c)};l.getNodeProp=function(a,c){a=f.byId(a);var r=c.toLowerCase(),t=d.names[r]||c;if(t in a&&"href"!=t)return a[t];r=b[r]||c;return n(a,
r)?a.getAttribute(r):null}})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(l,m){function k(b,h,c){h=h.toLowerCase();if(l("ie")){if("auto"==c){if("height"==h)return b.offsetHeight;if("width"==h)return b.offsetWidth}if("fontweight"==h)switch(c){case 700:return"bold";default:return"normal"}}h in a||(a[h]=s.test(h));return a[h]?d(b,c):c}var f,e={};f=l("webkit")?function(a){var h;if(1==a.nodeType){var b=a.ownerDocument.defaultView;h=b.getComputedStyle(a,null);!h&&a.style&&(a.style.display=
"",h=b.getComputedStyle(a,null))}return h||{}}:l("ie")&&(9>l("ie")||l("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};e.getComputedStyle=f;var d;d=l("ie")?function(a,h){if(!h)return 0;if("medium"==h)return 4;if(h.slice&&"px"==h.slice(-2))return parseFloat(h);var b=a.style,c=a.runtimeStyle,d=b.left,r=c.left;c.left=a.currentStyle.left;try{b.left=h,h=b.pixelLeft}catch(e){h=0}b.left=
d;c.left=r;return h}:function(a,h){return parseFloat(h)||0};e.toPixelValue=d;var n=function(a,h){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(b){return h?{}:null}},c=9>l("ie")||10>l("ie")&&l("quirks")?function(a){try{return n(a).Opacity/100}catch(h){return 1}}:function(a){return f(a).opacity},b=9>l("ie")||10>l("ie")&&l("quirks")?function(a,h){""===h&&(h=1);var c=100*h;1===h?(a.style.zoom="",n(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,
""))):(a.style.zoom=1,n(a)?n(a,1).Opacity=c:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+c+")",n(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(c=a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&b(c,h);return h}:function(a,h){return a.style.opacity=h},a={left:!0,top:!0},s=/margin|padding|width|height|max|min|offset/,r={cssFloat:1,styleFloat:1,"float":1};e.get=function(a,h){var b=m.byId(a),d=arguments.length;if(2==d&&"opacity"==h)return c(b);h=r[h]?"cssFloat"in
b.style?"cssFloat":"styleFloat":h;var s=e.getComputedStyle(b);return 1==d?s:k(b,h,s[h]||b.style[h])};e.set=function(a,h,c){var d=m.byId(a),s=arguments.length,f="opacity"==h;h=r[h]?"cssFloat"in d.style?"cssFloat":"styleFloat":h;if(3==s)return f?b(d,c):d.style[h]=c;for(var n in h)e.set(a,n,h[n]);return e.getComputedStyle(d)};return e})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(l,m,k,f,e,d,n,
c){var b={},a=0,s=m._scopeName+"attrid";l.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};l.get=function(a,b){a=e.byId(a);var h=b.toLowerCase();return a[l.names[h]||b]};l.set=function(r,t,h){r=e.byId(r);if(2==arguments.length&&"string"!=typeof t){for(var q in t)l.set(r,q,t[q]);return r}q=t.toLowerCase();q=l.names[q]||t;if("style"==q&&"string"!=typeof h)return d.set(r,h),r;if("innerHTML"==
q)return k("ie")&&r.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(n.empty(r),r.appendChild(n.toDom(h,r.ownerDocument))):r[q]=h,r;if(f.isFunction(h)){var u=r[s];u||(u=a++,r[s]=u);b[u]||(b[u]={});var v=b[u][q];if(v)c.disconnect(v);else try{delete r[q]}catch(w){}h?b[u][q]=c.connect(r,q,h):r[q]=null;return r}r[q]=h;return r}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(l,m,k,f,e,
d){function n(a,h){var b=h.parentNode;b&&b.insertBefore(a,h)}function c(a){if(a.canHaveChildren)try{a.innerHTML="";return}catch(h){}for(var c;c=a.lastChild;)b(c,a)}function b(a,h){a.firstChild&&c(a);h&&(k("ie")&&h.canHaveChildren&&"removeNode"in a?a.removeNode(!1):h.removeChild(a))}var a={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],
li:["ul"]},s=/<\s*([\w\:]+)/,r={},t=0,h="__"+m._scopeName+"ToDomId",q;for(q in a)a.hasOwnProperty(q)&&(m=a[q],m.pre="option"==q?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+m.join("\x3e\x3c")+"\x3e",m.post="\x3c/"+m.reverse().join("\x3e\x3c/")+"\x3e");var u;8>=k("ie")&&(u=function(a){a.__dojo_html5_tested="yes";var h=v("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==h.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,
function(h){a.createElement(h)});w(h)});l.toDom=function(b,c){c=c||f.doc;var d=c[h];d||(c[h]=d=++t+"",r[d]=c.createElement("div"));8>=k("ie")&&!c.__dojo_html5_tested&&c.body&&u(c);b+="";var q=b.match(s),e=q?q[1].toLowerCase():"",d=r[d];if(q&&a[e]){q=a[e];d.innerHTML=q.pre+b+q.post;for(q=q.length;q;--q)d=d.firstChild}else d.innerHTML=b;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(e=c.createDocumentFragment();q=d.firstChild;)e.appendChild(q);return e};l.place=function(a,h,b){h=e.byId(h);
"string"==typeof a&&(a=/^\s*</.test(a)?l.toDom(a,h.ownerDocument):e.byId(a));if("number"==typeof b){var c=h.childNodes;!c.length||c.length<=b?h.appendChild(a):n(a,c[0>b?0:b])}else switch(b){case "before":n(a,h);break;case "after":b=a;(c=h.parentNode)&&(c.lastChild==h?c.appendChild(b):c.insertBefore(b,h.nextSibling));break;case "replace":h.parentNode.replaceChild(a,h);break;case "only":l.empty(h);h.appendChild(a);break;case "first":if(h.firstChild){n(a,h.firstChild);break}default:h.appendChild(a)}return a};
var v=l.create=function(a,h,b,c){var q=f.doc;b&&(b=e.byId(b),q=b.ownerDocument);"string"==typeof a&&(a=q.createElement(a));h&&d.set(a,h);b&&l.place(a,b,c);return a};l.empty=function(a){c(e.byId(a))};var w=l.destroy=function(a){(a=e.byId(a))&&b(a,a.parentNode)}})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(l,m,k,f,e,d,n,c){function b(a,b,q,r,t){r=c.hitch(q,r);if(!a||!a.addEventListener&&!a.attachEvent)return f.after(a||
l.global,b,r,!0);"string"==typeof b&&"on"==b.substring(0,2)&&(b=b.substring(2));a||(a=l.global);if(!t)switch(b){case "keypress":b=h;break;case "mouseenter":b=d.enter;break;case "mouseleave":b=d.leave}return m(a,b,r,t)}function a(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}n.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,
!1,9,3)}catch(h){}return 0==a.charCode&&!n("opera")});var s={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},r=n("mac")?"metaKey":"ctrlKey",t=function(h,b){var d=c.mixin({},h,b);a(d);d.preventDefault=function(){h.preventDefault()};d.stopPropagation=function(){h.stopPropagation()};return d},h;h=n("events-keypress-typed")?function(a,h){var b=m(a,"keydown",function(a){var b=a.keyCode,c=13!=b&&32!=b&&(27!=b||!n("ie"))&&(48>b||90<b)&&(96>b||111<b)&&(186>
b||192<b)&&(219>b||222<b)&&229!=b;if(c||a.ctrlKey){c=c?0:b;if(a.ctrlKey){if(3==b||13==b)return h.call(a.currentTarget,a);c=95<c&&106>c?c-48:!a.shiftKey&&65<=c&&90>=c?c+32:s[c]||c}b=t(a,{type:"keypress",faux:!0,charCode:c});h.call(a.currentTarget,b);if(n("ie"))try{a.keyCode=b.keyCode}catch(d){}}}),c=m(a,"keypress",function(a){var b=a.charCode;a=t(a,{charCode:32<=b?b:0,faux:!0});return h.call(this,a)});return{remove:function(){b.remove();c.remove()}}}:n("opera")?function(a,h){return m(a,"keypress",
function(a){var b=a.which;3==b&&(b=99);b=32>b&&!a.shiftKey?0:b;a.ctrlKey&&(!a.shiftKey&&65<=b&&90>=b)&&(b+=32);return h.call(this,t(a,{charCode:b}))})}:function(h,b){return m(h,"keypress",function(h){a(h);return b.call(this,h)})};var q={_keypress:h,connect:function(a,h,c,d,q){var r=arguments,t=[],e=0;t.push("string"==typeof r[0]?null:r[e++],r[e++]);var s=r[e+1];t.push("string"==typeof s||"function"==typeof s?r[e++]:null,r[e++]);for(s=r.length;e<s;e++)t.push(r[e]);return b.apply(this,t)},disconnect:function(a){a&&
a.remove()},subscribe:function(a,h,b){return k.subscribe(a,c.hitch(h,b))},publish:function(a,h){return k.publish.apply(k,[a].concat(h))},connectPublisher:function(a,h,b){var c=function(){q.publish(a,arguments)};return b?q.connect(h,b,c):q.connect(h,c)},isCopyKey:function(a){return a[r]}};q.unsubscribe=q.disconnect;c.mixin(l,q);return q})},"dojo/topic":function(){define(["./Evented"],function(l){var m=new l;return{publish:function(k,f){return m.emit.apply(m,arguments)},subscribe:function(k,f){return m.on.apply(m,
arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(l,m){function k(){}var f=l.after;k.prototype={on:function(e,d){return m.parse(this,e,d,function(e,c){return f(e,"on"+c,d,!0)})},emit:function(e,d){var f=[this];f.push.apply(f,arguments);return m.emit.apply(m,f)}};return k})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(l,m,k,f){if(m._fixEvent){var e=m._fixEvent;m._fixEvent=function(d,c){(d=e(d,c))&&f.normalizeEvent(d);return d}}var d=
{fix:function(d,c){return m._fixEvent?m._fixEvent(d,c):d},stop:function(d){k("dom-addeventlistener")||d&&d.preventDefault?(d.preventDefault(),d.stopPropagation()):(d=d||window.event,d.cancelBubble=!0,m._preventDefault.call(d))}};l.fixEvent=d.fix;l.stopEvent=d.stop;return d})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(l,m,k,f){function e(a,b,c,d,h,q){q=q||"px";a=a.style;isNaN(b)||(a.left=b+q);isNaN(c)||(a.top=c+q);0<=d&&(a.width=d+q);0<=h&&(a.height=
h+q)}function d(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function n(a){return"border-box"==c.boxModel||"table"==a.tagName.toLowerCase()||d(a)}var c={boxModel:"content-box"};l("ie")&&(c.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");c.getPadExtents=function(a,b){a=k.byId(a);var c=b||f.getComputedStyle(a),d=f.toPixelValue,h=d(a,c.paddingLeft),q=d(a,c.paddingTop),u=d(a,c.paddingRight),c=
d(a,c.paddingBottom);return{l:h,t:q,r:u,b:c,w:h+u,h:q+c}};c.getBorderExtents=function(a,b){a=k.byId(a);var c=f.toPixelValue,d=b||f.getComputedStyle(a),h="none"!=d.borderLeftStyle?c(a,d.borderLeftWidth):0,q="none"!=d.borderTopStyle?c(a,d.borderTopWidth):0,u="none"!=d.borderRightStyle?c(a,d.borderRightWidth):0,c="none"!=d.borderBottomStyle?c(a,d.borderBottomWidth):0;return{l:h,t:q,r:u,b:c,w:h+u,h:q+c}};c.getPadBorderExtents=function(a,b){a=k.byId(a);var d=b||f.getComputedStyle(a),t=c.getPadExtents(a,
d),d=c.getBorderExtents(a,d);return{l:t.l+d.l,t:t.t+d.t,r:t.r+d.r,b:t.b+d.b,w:t.w+d.w,h:t.h+d.h}};c.getMarginExtents=function(a,b){a=k.byId(a);var c=b||f.getComputedStyle(a),d=f.toPixelValue,h=d(a,c.marginLeft),q=d(a,c.marginTop),u=d(a,c.marginRight),c=d(a,c.marginBottom);return{l:h,t:q,r:u,b:c,w:h+u,h:q+c}};c.getMarginBox=function(a,b){a=k.byId(a);var d=b||f.getComputedStyle(a),t=c.getMarginExtents(a,d),h=a.offsetLeft-t.l,q=a.offsetTop-t.t,u=a.parentNode,e=f.toPixelValue;if(l("mozilla")){var n=parseFloat(d.left),
d=parseFloat(d.top);!isNaN(n)&&!isNaN(d)?(h=n,q=d):u&&u.style&&(u=f.getComputedStyle(u),"visible"!=u.overflow&&(h+="none"!=u.borderLeftStyle?e(a,u.borderLeftWidth):0,q+="none"!=u.borderTopStyle?e(a,u.borderTopWidth):0))}else if((l("opera")||8==l("ie")&&!l("quirks"))&&u)u=f.getComputedStyle(u),h-="none"!=u.borderLeftStyle?e(a,u.borderLeftWidth):0,q-="none"!=u.borderTopStyle?e(a,u.borderTopWidth):0;return{l:h,t:q,w:a.offsetWidth+t.w,h:a.offsetHeight+t.h}};c.getContentBox=function(a,b){a=k.byId(a);var d=
b||f.getComputedStyle(a),t=a.clientWidth,h=c.getPadExtents(a,d),q=c.getBorderExtents(a,d);t?(d=a.clientHeight,q.w=q.h=0):(t=a.offsetWidth,d=a.offsetHeight);l("opera")&&(h.l+=q.l,h.t+=q.t);return{l:h.l,t:h.t,w:t-h.w-q.w,h:d-h.h-q.h}};c.setContentSize=function(a,b,d){a=k.byId(a);var t=b.w;b=b.h;n(a)&&(d=c.getPadBorderExtents(a,d),0<=t&&(t+=d.w),0<=b&&(b+=d.h));e(a,NaN,NaN,t,b)};var b={l:0,t:0,w:0,h:0};c.setMarginBox=function(a,s,r){a=k.byId(a);var t=r||f.getComputedStyle(a);r=s.w;var h=s.h,q=n(a)?b:
c.getPadBorderExtents(a,t),t=c.getMarginExtents(a,t);if(l("webkit")&&d(a)){var u=a.style;0<=r&&!u.width&&(u.width="4px");0<=h&&!u.height&&(u.height="4px")}0<=r&&(r=Math.max(r-q.w-t.w,0));0<=h&&(h=Math.max(h-q.h-t.h,0));e(a,s.l,s.t,r,h)};c.isBodyLtr=function(a){a=a||m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};c.docScroll=function(a){a=a||m.doc;var b=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=l("quirks")?m.body(a):
a.documentElement)&&{x:c.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};l("ie")&&(c.getIeDocumentElementOffset=function(a){a=a||m.doc;a=a.documentElement;if(8>l("ie")){var b=a.getBoundingClientRect(),c=b.left,b=b.top;7>l("ie")&&(c+=a.clientLeft,b+=a.clientTop);return{x:0>c?0:c,y:0>b?0:b}}return{x:0,y:0}});c.fixIeBiDiScrollLeft=function(a,b){b=b||m.doc;var d=l("ie");if(d&&!c.isBodyLtr(b)){var t=l("quirks"),h=t?m.body(b):b.documentElement,q=m.global;6==d&&(!t&&q.frameElement&&h.scrollHeight>
h.clientHeight)&&(a+=h.clientLeft);return 8>d||t?a+h.clientWidth-h.scrollWidth:-a}return a};c.position=function(a,b){a=k.byId(a);var d=m.body(a.ownerDocument),t=a.getBoundingClientRect(),t={x:t.left,y:t.top,w:t.right-t.left,h:t.bottom-t.top};if(9>l("ie")){var h=c.getIeDocumentElementOffset(a.ownerDocument);t.x-=h.x+(l("quirks")?d.clientLeft+d.offsetLeft:0);t.y-=h.y+(l("quirks")?d.clientTop+d.offsetTop:0)}b&&(d=c.docScroll(a.ownerDocument),t.x+=d.x,t.y+=d.y);return t};c.getMarginSize=function(a,b){a=
k.byId(a);var d=c.getMarginExtents(a,b||f.getComputedStyle(a)),t=a.getBoundingClientRect();return{w:t.right-t.left+d.w,h:t.bottom-t.top+d.h}};c.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!l("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,d=l("quirks")?b.body:b.documentElement,t=c.getIeDocumentElementOffset(b);a.pageX=a.clientX+c.fixIeBiDiScrollLeft(d.scrollLeft||0,b)-t.x;a.pageY=a.clientY+(d.scrollTop||0)-t.y}};return c})},"dojo/_base/sniff":function(){define(["./kernel",
"./lang","../sniff"],function(l,m,k){l._name="browser";m.mixin(l,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:k("khtml"),isWebKit:k("webkit"),isMozilla:k("mozilla"),isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:k("android"),isWii:k("wii"),isQuirks:k("quirks"),isAir:k("air")});return k})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(l,
m,k,f,e,d,n){m.add("rtl-adjust-position-for-verticalScrollBar",function(b,a){var c=k.body(a),d=n.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last"),t=n.create("div",{style:{overflow:"hidden",direction:"ltr"}},d,"last"),h=0!=e.position(t).x;d.removeChild(t);c.removeChild(d);return h});m.add("position-fixed-support",function(b,a){var c=k.body(a),d=n.create("span",{style:{visibility:"hidden",
position:"fixed",left:"1px",top:"1px"}},c,"last"),t=n.create("span",{style:{position:"fixed",left:"0",top:"0"}},d,"last"),h=e.position(t).x!=e.position(d).x;d.removeChild(t);c.removeChild(d);return h});var c={getBox:function(b){b=b||k.doc;var a="BackCompat"==b.compatMode?k.body(b):b.documentElement,d=e.docScroll(b);if(m("touch")){var r=c.get(b);b=r.innerWidth||a.clientWidth;a=r.innerHeight||a.clientHeight}else b=a.clientWidth,a=a.clientHeight;return{l:d.x,t:d.y,w:b,h:a}},get:function(b){if(m("ie")&&
c!==document.parentWindow){b.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var a=b._parentWindow;b._parentWindow=null;return a}return b.parentWindow||b.defaultView},scrollIntoView:function(b,a){try{b=f.byId(b);var c=b.ownerDocument||k.doc,r=k.body(c),t=c.documentElement||r.parentNode,h=m("ie"),q=m("webkit");if(!(b==r||b==t))if(!m("mozilla")&&(!h&&!q&&!m("opera")&&!m("trident"))&&"scrollIntoView"in b)b.scrollIntoView(!1);else{var u="BackCompat"==c.compatMode,n=Math.min(r.clientWidth||
t.clientWidth,t.clientWidth||r.clientWidth),w=Math.min(r.clientHeight||t.clientHeight,t.clientHeight||r.clientHeight),c=q||u?r:t,l=a||e.position(b),A=b.parentNode,q=function(a){return 6>=h||7==h&&u?!1:m("position-fixed-support")&&"fixed"==d.get(a,"position").toLowerCase()};if(!q(b))for(;A;){A==r&&(A=c);var z=e.position(A),C=q(A),F="rtl"==d.getComputedStyle(A).direction.toLowerCase();if(A==c){z.w=n;z.h=w;c==t&&(h&&F)&&(z.x+=c.offsetWidth-z.w);if(0>z.x||!h||9<=h)z.x=0;if(0>z.y||!h||9<=h)z.y=0}else{var B=
e.getPadBorderExtents(A);z.w-=B.w;z.h-=B.h;z.x+=B.l;z.y+=B.t;var D=A.clientWidth,E=z.w-D;0<D&&0<E&&(F&&m("rtl-adjust-position-for-verticalScrollBar")&&(z.x+=E),z.w=D);D=A.clientHeight;E=z.h-D;0<D&&0<E&&(z.h=D)}C&&(0>z.y&&(z.h+=z.y,z.y=0),0>z.x&&(z.w+=z.x,z.x=0),z.y+z.h>w&&(z.h=w-z.y),z.x+z.w>n&&(z.w=n-z.x));var J=l.x-z.x,N=l.y-z.y,O=J+l.w-z.w,H=N+l.h-z.h,K,M;if(0<O*J&&(A.scrollLeft||A==c||A.scrollWidth>A.offsetHeight)){K=Math[0>J?"max":"min"](J,O);if(F&&(8==h&&!u||9<=h))K=-K;M=A.scrollLeft;A.scrollLeft+=
K;K=A.scrollLeft-M;l.x-=K}if(0<H*N&&(A.scrollTop||A==c||A.scrollHeight>A.offsetHeight))K=Math.ceil(Math[0>N?"max":"min"](N,H)),M=A.scrollTop,A.scrollTop+=K,K=A.scrollTop-M,l.y-=K;A=A!=c&&!C&&A.parentNode}}}catch(P){console.error("scrollIntoView: "+P),b.scrollIntoView(!1)}}};l.setObject("dojo.window",c);return c})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(l,m,k,f){var e={},d={},n={length:0,add:function(c){if(d[c.id])throw Error("Tried to register widget with id\x3d\x3d"+
c.id+" but that id is already registered");d[c.id]=c;this.length++},remove:function(c){d[c]&&(delete d[c],this.length--)},byId:function(c){return"string"==typeof c?d[c]:c},byNode:function(c){return d[c.getAttribute("widgetId")]},toArray:function(){var c=[],b;for(b in d)c.push(d[b]);return c},getUniqueId:function(c){var b;do b=c+"_"+(c in e?++e[c]:e[c]=0);while(d[b]);return"dijit"==f._scopeName?b:f._scopeName+"_"+b},findWidgets:function(c,b){function a(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==
c.nodeType){var t=c.getAttribute("widgetId");t?(t=d[t])&&e.push(t):c!==b&&a(c)}}var e=[];a(c);return e},_destroyAll:function(){f._curFocus=null;f._prevFocus=null;f._activeStack=[];l.forEach(n.findWidgets(k.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(c){for(;c;){var b=1==c.nodeType&&c.getAttribute("widgetId");if(b)return d[b];c=c.parentNode}return null},_hash:d};return f.registry=n})},"dijit/main":function(){define(["dojo/_base/kernel"],
function(l){return l.dijit})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t){function h(){}function q(a){return function(b,c,d,q){return b&&"string"==typeof c&&b[c]==h?b.on(c.substring(2).toLowerCase(),n.hitch(d,q)):a.apply(k,arguments)}}l.around(k,"connect",
q);d.connect&&l.around(d,"connect",q);l=f("dijit._Widget",[s,r,t],{onClick:h,onDblClick:h,onKeyDown:h,onKeyPress:h,onKeyUp:h,onMouseDown:h,onMouseMove:h,onMouseOut:h,onMouseOver:h,onMouseLeave:h,onMouseEnter:h,onMouseUp:h,constructor:function(a){this._toConnect={};for(var b in a)this[b]===h&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,
b){return this[this._onMap(a)]===h?k.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){d.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,b)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){d.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.",
"","2.0");return this.containerNode?c("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});e("dijit-legacy-requires")&&b(0,function(){require(["dijit/_base"])});return l})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(l,m,k,f,e,d,n,c){function b(a,b){var h=function(h,c){if("string"==typeof c&&
(c=k.byId(c),!c))return new b([]);var d="string"==typeof h?a(h,c):h?h.end&&h.on?h:[h]:[];return d.end&&d.on?d:new b(d)};h.matches=a.match||function(a,b,c){return 0<h.filter([a],b,c).length};h.filter=a.filter||function(a,b,c){return h(b,c).filter(function(b){return-1<e.indexOf(a,b)})};if("function"!=typeof a){var c=a.search;a=function(a,b){return c(b||document,a)}}return h}m.add("array-extensible",function(){return 1==d.delegate([],{length:1}).length&&!m("bug-for-in-skips-shadowed")});var a=Array.prototype,
s=a.slice,r=a.concat,t=e.forEach,h=function(a,b,h){b=[0].concat(s.call(b,0));h=h||l.global;return function(c){b[0]=c;return a.apply(h,b)}},q=function(a){var b=this instanceof u&&m("array-extensible");"number"==typeof a&&(a=Array(a));var h=a&&"length"in a?a:arguments;if(b||!h.sort){for(var c=b?this:[],q=c.length=h.length,r=0;r<q;r++)c[r]=h[r];if(b)return c;h=c}d._mixin(h,v);h._NodeListCtor=function(a){return u(a)};return h},u=q,v=u.prototype=m("array-extensible")?[]:{};u._wrap=v._wrap=function(a,b,
h){a=new (h||this._NodeListCtor||u)(a);return b?a._stash(b):a};u._adaptAsMap=function(a,b){return function(){return this.map(h(a,arguments,b))}};u._adaptAsForEach=function(a,b){return function(){this.forEach(h(a,arguments,b));return this}};u._adaptAsFilter=function(a,b){return function(){return this.filter(h(a,arguments,b))}};u._adaptWithCondition=function(a,b,c){return function(){var d=arguments,q=h(a,d,c);if(b.call(c||l.global,d))return this.map(q);this.forEach(q);return this}};t(["slice","splice"],
function(b){var h=a[b];v[b]=function(){return this._wrap(h.apply(this,arguments),"slice"==b?this:null)}});t(["indexOf","lastIndexOf","every","some"],function(a){var b=e[a];v[a]=function(){return b.apply(l,[this].concat(s.call(arguments,0)))}});d.extend(q,{constructor:u,_NodeListCtor:u,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var h=this.map(function(h){return f(h,a,b)});h.remove=function(){for(var a=0;a<h.length;a++)h[a].remove()};return h},
end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=s.call(this,0),h=e.map(arguments,function(a){return s.call(a,0)});return this._wrap(r.apply(b,h),this)},map:function(a,b){return this._wrap(e.map(this,a,b),this)},forEach:function(a,b){t(this,a,b);return this},filter:function(a){var b=arguments,h=this,c=0;if("string"==typeof a){h=w._filterResult(this,b[0]);if(1==b.length)return h._stash(this);c=1}return this._wrap(e.filter(h,b[c],b[c+1]),this)},instantiate:function(a,
b){var h=d.isFunction(a)?a:d.getObject(a);b=b||{};return this.forEach(function(a){new h(b,a)})},at:function(){var a=new this._NodeListCtor(0);t(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var w=b(c,q);l.query=b(c,function(a){return q(a)});w.load=function(a,h,c){n.load(a,h,function(a){c(b(a,q))})};l._filterQueryResult=w._filterResult=function(a,b,h){return new q(w.filter(a,b,h))};l.NodeList=w.NodeList=q;return w})},"dojo/selector/_loader":function(){define(["../has",
"require"],function(l,m){var k=document.createElement("div");l.add("dom-qsa2.1",!!k.querySelectorAll);l.add("dom-qsa3",function(){try{return k.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==k.querySelectorAll(".TEST:empty").length}catch(e){}});var f;return{load:function(e,d,n,c){c=m;e="default"==e?l("config-selectorEngine")||"css3":e;e="css2"==e||"lite"==e?"./lite":"css2.1"==e?l("dom-qsa2.1")?"./lite":"./acme":"css3"==e?l("dom-qsa3")?"./lite":"./acme":"acme"==e?"./acme":(c=d)&&e;if("?"==e.charAt(e.length-
1)){e=e.substring(0,e.length-1);var b=!0}if(b&&(l("dom-compliant-qsa")||f))return n(f);c([e],function(a){"./lite"!=e&&(f=a);n(a)})}}})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(l,m,k,f,e){var d=f.trim,n=k.forEach,c="BackCompat"==e.doc.compatMode,b=!1,a=function(){return!0},s=function(a){a=0<="\x3e~+".indexOf(a.slice(-1))?a+" * ":a+" ";for(var h=function(b,h){return d(a.slice(b,h))},c=[],q=-1,r=-1,u=-1,t=-1,e=-1,f=-1,s=
-1,n,k="",v="",A,l=0,m=a.length,w=null,z=null,x=function(){0<=f&&(w.id=h(f,l).replace(/\\/g,""),f=-1);if(0<=s){var a=s==l?null:h(s,l);w[0>"\x3e~+".indexOf(a)?"tag":"oper"]=a;s=-1}0<=e&&(w.classes.push(h(e+1,l).replace(/\\/g,"")),e=-1)};k=v,v=a.charAt(l),l<m;l++)if("\\"!=k)if(w||(A=l,w={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return b?this.otag:this.tag}},s=l),n)v==n&&(n=null);else if("'"==v||'"'==v)n=v;else if(0<=q)if("]"==v){z.attr?z.matchFor=h(u||q+
1,l):z.attr=h(q+1,l);if((q=z.matchFor)&&('"'==q.charAt(0)||"'"==q.charAt(0)))z.matchFor=q.slice(1,-1);z.matchFor&&(z.matchFor=z.matchFor.replace(/\\/g,""));w.attrs.push(z);z=null;q=u=-1}else"\x3d"==v&&(u=0<="|~^$*".indexOf(k)?k:"",z.type=u+v,z.attr=h(q+1,l-u.length),u=l+1);else 0<=r?")"==v&&(0<=t&&(z.value=h(r+1,l)),t=r=-1):"#"==v?(x(),f=l+1):"."==v?(x(),e=l):":"==v?(x(),t=l):"["==v?(x(),q=l,z={}):"("==v?(0<=t&&(z={name:h(t+1,l),value:null},w.pseudos.push(z)),r=l):" "==v&&k!=v&&(x(),0<=t&&w.pseudos.push({name:h(t+
1,l)}),w.loops=w.pseudos.length||w.attrs.length||w.classes.length,w.oquery=w.query=h(A,l),w.otag=w.tag=w.oper?null:w.tag||"*",w.tag&&(w.tag=w.tag.toUpperCase()),c.length&&c[c.length-1].oper&&(w.infixOper=c.pop(),w.query=w.infixOper.query+" "+w.query),c.push(w),w=null);return c},r=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},t=function(a,b){var h=b||[];a&&h.push(a);return h},h=function(a){return 1==a.nodeType},q=function(a,h){return!a?"":"class"==
h?a.className||"":"for"==h?a.htmlFor||"":"style"==h?a.style.cssText||"":(b?a.getAttribute(h):a.getAttribute(h,2))||""},u={"*\x3d":function(a,b){return function(h){return 0<=q(h,a).indexOf(b)}},"^\x3d":function(a,b){return function(h){return 0==q(h,a).indexOf(b)}},"$\x3d":function(a,b){return function(h){h=" "+q(h,a);var c=h.lastIndexOf(b);return-1<c&&c==h.length-b.length}},"~\x3d":function(a,b){var h=" "+b+" ";return function(b){return 0<=(" "+q(b,a)+" ").indexOf(h)}},"|\x3d":function(a,b){var h=
b+"-";return function(c){c=q(c,a);return c==b||0==c.indexOf(h)}},"\x3d":function(a,b){return function(h){return q(h,a)==b}}},v="undefined"==typeof e.doc.firstChild.nextElementSibling,w=!v?"nextElementSibling":"nextSibling",x=!v?"previousElementSibling":"previousSibling",A=v?h:a,z=function(a){for(;a=a[x];)if(A(a))return!1;return!0},C=function(a){for(;a=a[w];)if(A(a))return!1;return!0},F=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,h=0,c=b.children||b.childNodes,d=a._i||a.getAttribute("_i")||
-1,q=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!c)return-1;c=c.length;if(q==c&&0<=d&&0<=q)return d;m("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",c):b._l=c;d=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[w])A(b)&&(m("ie")?b.setAttribute("_i",++h):b._i=++h,a===b&&(d=h));return d},B=function(a){return!(F(a)%2)},D=function(a){return F(a)%2},E={checked:function(a,b){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(a,
b){return function(a){return a.disabled}},enabled:function(a,b){return function(a){return!a.disabled}},"first-child":function(){return z},"last-child":function(){return C},"only-child":function(a,b){return function(a){return z(a)&&C(a)}},empty:function(a,b){return function(a){var b=a.childNodes;for(a=a.childNodes.length-1;0<=a;a--){var h=b[a].nodeType;if(1===h||3==h)return!1}return!0}},contains:function(a,b){var h=b.charAt(0);if('"'==h||"'"==h)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},
not:function(a,b){var h=s(b)[0],c={el:1};"*"!=h.tag&&(c.tag=1);h.classes.length||(c.classes=1);var d=N(h,c);return function(a){return!d(a)}},"nth-child":function(a,b){var h=parseInt;if("odd"==b)return D;if("even"==b)return B;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:h(c[0]):1,q=c[1]?h(c[1]):0,r=0,u=-1;0<d?0>q?q=q%d&&d+q%d:0<q&&(q>=d&&(r=q-q%d),q%=d):0>d&&(d*=-1,0<q&&(u=q,q%=d));if(0<d)return function(a){a=F(a);return a>=r&&(0>u||a<=u)&&a%d==q};b=q}var t=h(b);return function(a){return F(a)==
t}}},J=9>m("ie")||9==m("ie")&&m("quirks")?function(a){var h=a.toLowerCase();"class"==h&&(a="className");return function(c){return b?c.getAttribute(a):c[a]||c[h]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},N=function(c,d){if(!c)return a;d=d||{};var q=null;"el"in d||(q=r(q,h));"tag"in d||"*"!=c.tag&&(q=r(q,function(a){return a&&(b?a.tagName:a.tagName.toUpperCase())==c.getTag()}));"classes"in d||n(c.classes,function(a,b,h){var c=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");q=
r(q,function(a){return c.test(a.className)});q.count=b});"pseudos"in d||n(c.pseudos,function(a){var b=a.name;E[b]&&(q=r(q,E[b](b,a.value)))});"attrs"in d||n(c.attrs,function(a){var b,h=a.attr;a.type&&u[a.type]?b=u[a.type](h,a.matchFor):h.length&&(b=J(h));b&&(q=r(q,b))});"id"in d||c.id&&(q=r(q,function(a){return!!a&&a.id==c.id}));q||"default"in d||(q=a);return q},O=function(a){return function(b,c,d){for(;b=b[w];)if(!v||h(b)){(!d||$(b,d))&&a(b)&&c.push(b);break}return c}},H=function(a){return function(b,
h,c){for(b=b[w];b;){if(A(b)){if(c&&!$(b,c))break;a(b)&&h.push(b)}b=b[w]}return h}},K=function(b){b=b||a;return function(a,h,c){for(var d=0,q=a.children||a.childNodes;a=q[d++];)A(a)&&((!c||$(a,c))&&b(a,d))&&h.push(a);return h}},M={},P=function(b){var h=M[b.query];if(h)return h;var d=b.infixOper,d=d?d.oper:"",q=N(b,{el:1}),r="*"==b.tag,u=e.doc.getElementsByClassName;if(d)u={el:1},r&&(u.tag=1),q=N(b,u),"+"==d?h=O(q):"~"==d?h=H(q):"\x3e"==d&&(h=K(q));else if(b.id)q=!b.loops&&r?a:N(b,{el:1,id:1}),h=function(a,
h){var c=l.byId(b.id,a.ownerDocument||a);if(c&&q(c)){if(9==a.nodeType)return t(c,h);for(var d=c.parentNode;d&&d!=a;)d=d.parentNode;if(d)return t(c,h)}};else if(u&&/\{\s*\[native code\]\s*\}/.test(String(u))&&b.classes.length&&!c)var q=N(b,{el:1,classes:1,id:1}),s=b.classes.join(" "),h=function(a,b,h){b=t(0,b);for(var c,d=0,r=a.getElementsByClassName(s);c=r[d++];)q(c,a)&&$(c,h)&&b.push(c);return b};else!r&&!b.loops?h=function(a,h,c){h=t(0,h);for(var d=0,q=b.getTag(),q=q?a.getElementsByTagName(q):[];a=
q[d++];)$(a,c)&&h.push(a);return h}:(q=N(b,{el:1,tag:1,id:1}),h=function(a,h,c){h=t(0,h);for(var d,r=0,u=(d=b.getTag())?a.getElementsByTagName(d):[];d=u[r++];)q(d,a)&&$(d,c)&&h.push(d);return h});return M[b.query]=h},I={},L={},Q=function(a){var b=s(d(a));if(1==b.length){var h=P(b[0]);return function(a){if(a=h(a,[]))a.nozip=!0;return a}}return function(a){a=t(a);for(var h,c,d=b.length,q,r,u=0;u<d;u++){r=[];h=b[u];c=a.length-1;0<c&&(q={},r.nozip=!0);c=P(h);for(var e=0;h=a[e];e++)c(h,r,q);if(!r.length)break;
a=r}return r}},W=m("ie")?"commentStrip":"nozip",R=!!e.doc.querySelectorAll,T=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,U=function(a,b,h,c){return h?(b?b+" ":"")+h+(c?" "+c:""):a},Y=/([^[]*)([^\]]*])?/g,ca=function(a,b,h){return b.replace(T,U)+(h||"")},V=function(a,b){a=a.replace(Y,ca);if(R){var h=L[a];if(h&&!b)return h}if(h=I[a])return h;var h=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=!0);if(R&&!b&&-1=="\x3e~+".indexOf(h)&&(!m("ie")||-1==a.indexOf(":"))&&!(c&&0<=a.indexOf("."))&&-1==
a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|\x3d")){var q=0<="\x3e~+".indexOf(a.charAt(a.length-1))?a+" *":a;return L[a]=function(b){try{if(!(9==b.nodeType||d))throw"";var h=b.querySelectorAll(q);h[W]=!0;return h}catch(c){return V(a,!0)(b)}}}var r=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return I[a]=2>r.length?Q(a):function(a){for(var b=0,h=[],c;c=r[b++];)h=h.concat(Q(c)(a));return h}},X=0,fa=m("ie")?function(a){return b?a.getAttribute("_uid")||a.setAttribute("_uid",
++X)||X:a.uniqueID}:function(a){return a._uid||(a._uid=++X)},$=function(a,b){if(!b)return 1;var h=fa(a);return!b[h]?b[h]=1:0},aa=function(a){if(a&&a.nozip)return a;if(!a||!a.length)return[];if(2>a.length)return[a[0]];var c=[];X++;var d,q;if(m("ie")&&b){var r=X+"";for(d=0;d<a.length;d++)if((q=a[d])&&q.getAttribute("_zipIdx")!=r)c.push(q),q.setAttribute("_zipIdx",r)}else if(m("ie")&&a.commentStrip)try{for(d=0;d<a.length;d++)(q=a[d])&&h(q)&&c.push(q)}catch(u){}else for(d=0;d<a.length;d++)if((q=a[d])&&
q._zipIdx!=X)c.push(q),q._zipIdx=X;return c},Z=function(a,h){h=h||e.doc;b="div"===(h.ownerDocument||h).createElement("div").tagName;var c=V(a)(h);return c&&c.nozip?c:aa(c)};Z.filter=function(a,b,h){for(var c=[],d=s(b),d=1==d.length&&!/[^\w#\.]/.test(b)?N(d[0]):function(a){return-1!=k.indexOf(Z(b,l.byId(h)),a)},q=0,r;r=a[q];q++)d(r)&&c.push(r);return c};return Z})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(l,m,k,f,e){var d=0,n=[],c=0;m=
function(){d=1;l._postLoad=l.config.afterOnLoad=!0;b()};var b=function(){if(!c){for(c=1;d&&(!f||0==f._Q.length)&&(k.idle?k.idle():1)&&n.length;){var a=n.shift();try{a()}catch(b){if(b.info=b.message,k.signal)k.signal("error",b);else throw b;}}c=0}};k.on&&k.on("idle",b);f&&(f._onQEmpty=b);var a=l.ready=l.addOnLoad=function(a,c,h){var d=e._toArray(arguments);"number"!=typeof a?(h=c,c=a,a=1E3):d.shift();h=h?e.hitch.apply(l,d):function(){c()};h.priority=a;for(d=0;d<n.length&&a>=n[d].priority;d++);n.splice(d,
0,h);b()},s=l.config.addOnLoad;if(s)a[e.isArray(s)?"apply":"call"](l,s);f?f(m):m();return a})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),function(l,
m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F){function B(a){return function(b){c[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}t.add("dijit-legacy-requires",!h.isAsync);t.add("dojo-bidi",!1);t("dijit-legacy-requires")&&v(0,function(){l(["dijit/_base/manager"])});var D={};f=d("dijit._WidgetBase",[w,z],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:B("lang"),dir:"",_setDirAttr:B("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:f.blankGif||l.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,h=a._setterAttrs=[],a=a._onMap={},c;for(c in b.attributeMap)h.push(c);for(c in b)/^on/.test(c)&&(a[c.substring(2).toLowerCase()]=c),/^_set[A-Z](.*)Attr$/.test(c)&&(c=c.charAt(4).toLowerCase()+c.substr(5,c.length-9),(!b.attributeMap||
!(c in b.attributeMap))&&h.push(c))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=n.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,q.mixin(this,a));this.postMixInProperties();this.id||(this.id=F.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:
document);this.ownerDocumentBody=A.body(this.ownerDocument);F.add(this);this.buildRendering();var h;if(this.domNode){this._applyAttributes();var c=this.srcNodeRef;c&&(c.parentNode&&this.domNode!==c)&&(c.parentNode.replaceChild(this.domNode,c),h=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();h&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);m.forEach(this.constructor._setterAttrs,function(b){if(!(b in a)){var h=
this._get(b);h&&this.set(b,h)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(m.map(a,function(a){return a+"Rtl"})));b.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,m.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&
q.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(h){h.destroyRecursive?h.destroyRecursive(a):h.destroy&&h.destroy(a)}this._beingDestroyed=!0;this.uninitialize();m.forEach(this._connects,q.hitch(this,"disconnect"));m.forEach(this._supportingWidgets,b);this.domNode&&m.forEach(F.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);F.remove(this.id);
this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?c.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){m.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;q.isObject(a)?r.set(b,a):
b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,h,d){d=3<=arguments.length?d:this.attributeMap[a];m.forEach(q.isArray(d)?d:[d],function(d){var r=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":q.isFunction(h)&&(h=q.hitch(this,h));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;r.tagName?c.set(r,d,h):r.set(d,h);break;case "innerText":r.innerHTML="";r.appendChild(this.ownerDocument.createTextNode(h));
break;case "innerHTML":r.innerHTML=h;break;case "class":b.replace(r,h,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var h in a)this.set(h,a[h]);return this}h=this._getAttrNames(a);var c=this[h.s];if(q.isFunction(c))var d=c.apply(this,Array.prototype.slice.call(arguments,1));else{var c=this.focusNode&&!q.isFunction(this.focusNode)?"focusNode":"domNode",r=this[c]&&this[c].tagName,u;if(u=r)if(!(u=
D[r])){u=this[c];var t={},e;for(e in u)t[e.toLowerCase()]=!0;u=D[r]=t}e=u;h=a in this.attributeMap?this.attributeMap[a]:h.s in this?this[h.s]:e&&h.l in e&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?c:null;null!=h&&this._attrToDom(a,b,h);this._set(a,b)}return d||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var h=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+h+"Attr",
g:"_get"+h+"Attr",l:h.toLowerCase()}},_set:function(a,b){var h=this[a];this[a]=b;if(this._created&&!(h===b||h!==h&&b!==b))this._watchCallbacks&&this._watchCallbacks(a,h,b),this.emit("attrmodified-"+a,{detail:{prevValue:h,newValue:b}})},_get:function(a){return this[a]},emit:function(a,b,h){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var c,d=this["on"+a];d&&(c=d.apply(this,h?h:[b]));this._started&&!this._beingDestroyed&&
u.emit(this.domNode,a.toLowerCase(),b);return c},on:function(a,b){var h=this._onMap(a);return h?k.after(this,h,b,!0):this.own(u(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,h=b._onMap;if(!h){var h=b._onMap={},c;for(c in b.prototype)/^on/.test(c)&&(h[c.replace(/^on/,"").toLowerCase()]=c)}return h["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?F.findWidgets(this.containerNode):
[]},getParent:function(){return F.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,h){return this.own(e.connect(a,b,this,h))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(x.subscribe(a,q.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:s.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=r.get(this.domNode,"display")},placeAt:function(b,h){var c=!b.tagName&&
F.byId(b);c&&c.addChild&&(!h||"number"===typeof h)?c.addChild(this,h):(c=c?c.containerNode&&!/after|before|replace/.test(h||"")?c.containerNode:c.domNode:n.byId(b,this.ownerDocument),a.place(this.domNode,c,h),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,b){var h=setTimeout(q.hitch(this,function(){h&&(h=null,this._destroyed||q.hitch(this,a)())}),b||0);return{remove:function(){h&&(clearTimeout(h),h=null);return null}}}});t("dojo-bidi")&&f.extend(C);
return f})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,m,k,f){return l("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(e){var d=this._attrPairNames;return d[e]?d[e]:d[e]={s:"_"+e+"Setter",g:"_"+e+"Getter"}},postscript:function(e){e&&this.set(e)},_get:function(e,d){return"function"===typeof this[d.g]?this[d.g]():this[e]},get:function(e){return this._get(e,this._getAttrNames(e))},set:function(e,d){if("object"===typeof e){for(var n in e)e.hasOwnProperty(n)&&
"_watchCallbacks"!=n&&this.set(n,e[n]);return this}n=this._getAttrNames(e);var c=this._get(e,n);n=this[n.s];var b;"function"===typeof n?b=n.apply(this,Array.prototype.slice.call(arguments,1)):this[e]=d;if(this._watchCallbacks){var a=this;f(b,function(){a._watchCallbacks(e,c,d)})}return this},_changeAttrValue:function(e,d){var f=this.get(e);this[e]=d;this._watchCallbacks&&this._watchCallbacks(e,f,d);return this},watch:function(e,d){var f=this._watchCallbacks;if(!f)var c=this,f=this._watchCallbacks=
function(a,b,d,h){var q=function(h){if(h){h=h.slice();for(var q=0,e=h.length;q<e;q++)h[q].call(c,a,b,d)}};q(f["_"+a]);h||q(f["*"])};!d&&"function"===typeof e?(d=e,e="*"):e="_"+e;var b=f[e];"object"!==typeof b&&(b=f[e]=[]);b.push(d);var a={};a.unwatch=a.remove=function(){var a=k.indexOf(b,d);-1<a&&b.splice(a,1)};return a}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(l,m){return function(k,f,e,d){var n=k&&"function"===typeof k.then,c=n&&k instanceof m;if(n)c||(n=new l(k.cancel),
k.then(n.resolve,n.reject,n.progress),k=n.promise);else return 1<arguments.length?f?f(k):k:(new l).resolve(k);return f||e||d?k.then(f,e,d):k}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","require"],function(l,m,k,f,e){var d=Object.freeze||function(){},n=function(a,b,h,d,u){for(u=0;u<a.length;u++)c(a[u],b,h,d)},c=function(c,d,h,q){q=c[d];var u=c.deferred;if(q)try{var e=q(h);0===d?"undefined"!==typeof e&&a(u,d,e):e&&"function"===typeof e.then?
(c.cancel=e.cancel,e.then(b(u,1),b(u,2),b(u,0))):a(u,1,e)}catch(f){a(u,2,f)}else a(u,d,h)},b=function(b,c){return function(h){a(b,c,h)}},a=function(a,b,h){if(!a.isCanceled())switch(b){case 0:a.progress(h);break;case 1:a.resolve(h);break;case 2:a.reject(h)}},s=function(a){var b=this.promise=new f,h=this,q,u,e=!1,l=[];this.isResolved=b.isResolved=function(){return 1===q};this.isRejected=b.isRejected=function(){return 2===q};this.isFulfilled=b.isFulfilled=function(){return!!q};this.isCanceled=b.isCanceled=
function(){return e};this.progress=function(a,c){if(q){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}n(l,0,a,null,h);return b};this.resolve=function(a,c){if(q){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}n(l,q=1,u=a,null,h);l=null;return b};var m=this.reject=function(a,c){if(q){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}n(l,q=2,u=a,void 0,h);l=null;return b};this.then=b.then=function(a,h,d){var r=[d,a,h];
r.cancel=b.cancel;r.deferred=new s(function(a){return r.cancel&&r.cancel(a)});q&&!l?c(r,q,u,void 0):l.push(r);return r.deferred.promise};this.cancel=b.cancel=function(b,h){if(q){if(!0===h)throw Error("This deferred has already been fulfilled.");}else{if(a){var c=a(b);b="undefined"===typeof c?b:c}e=!0;if(q){if(2===q&&u===b)return b}else return"undefined"===typeof b&&(b=new k),m(b),b}};d(b)};s.prototype.toString=function(){return"[object Deferred]"};e&&e(s);return s})},"dojo/errors/CancelError":function(){define(["./create"],
function(l){return l("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(l){return function(m,k,f,e){f=f||Error;var d=function(e){if(f===Error){Error.captureStackTrace&&Error.captureStackTrace(this,d);var c=Error.call(this,e),b;for(b in c)c.hasOwnProperty(b)&&(this[b]=c[b]);this.message=e;this.stack=c.stack}else f.apply(this,arguments);k&&k.apply(this,arguments)};d.prototype=l.delegate(f.prototype,e);d.prototype.name=m;return d.prototype.constructor=
d}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(l){function m(){throw new TypeError("abstract");}return l.extend(function(){},{then:function(k,f,e){m()},cancel:function(k,f){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},isCanceled:function(){m()},always:function(k){return this.then(k,k)},otherwise:function(k){return this.then(null,k)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(l,m,k){return k("dijit.Destroyable",null,{destroy:function(f){this._destroyed=!0},own:function(){l.forEach(arguments,function(f){var e="destroyRecursive"in f?"destroyRecursive":"destroy"in f?"destroy":"remove",d=m.before(this,"destroy",function(c){f[e](c)}),n=m.after(f,e,function(){d.remove();n.remove()},!0)},this);return arguments}})})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase",
"dojo/_base/declare","dojo/_base/lang"],function(l,m,k,f){f.extend(m,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return k("dijit._FocusMixin",null,{_focusManager:l})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v){var w,x=new (m([r,n],{curNode:null,activeStack:[],constructor:function(){var a=c.hitch(this,function(a){k.isDescendant(this.curNode,a)&&this.set("curNode",null);k.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});l.before(d,"empty",a);l.before(d,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,h){var c=this,d=a.document&&a.document.body;if(d){var r=b(a.document,"mousedown, touchstart",function(a){c._justMouseDowned=
!0;setTimeout(function(){c._justMouseDowned=!1},0);if(!a||!(a.target&&null==a.target.parentNode))c._onTouchNode(h||a.target,"mouse")}),u=b(d,"focusin",function(a){w=(new Date).getTime();if(a.target.tagName){var b=a.target.tagName.toLowerCase();"#document"==b||"body"==b||(q.isFocusable(a.target)?c._onFocusNode(h||a.target):c._onTouchNode(h||a.target))}}),e=b(d,"focusout",function(a){(new Date).getTime()<w+100||c._onBlurNode(h||a.target)});return{remove:function(){r.remove();u.remove();e.remove();d=
r=u=e=null}}}},_onBlurNode:function(a){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(c.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);this._justMouseDowned||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(c.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0))},_onTouchNode:function(a,b){this._clearActiveWidgetsTimer&&
(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);e.contains(a,"dijitPopup")&&(a=a.firstChild);var c=[];try{for(;a;){var d=f.get(a,"dijitPopupParent");if(d)a=u.byId(d).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===t.body())break;a=h.get(a.ownerDocument).frameElement}else{var q=a.getAttribute&&a.getAttribute("widgetId"),r=q&&u.byId(q);r&&!("mouse"==b&&r.get("disabled"))&&c.unshift(q);a=a.parentNode}}}catch(s){}this._setStack(c,b)},_onFocusNode:function(a){a&&
9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var h=this.activeStack,c=h.length-1,d=a.length-1;if(a[d]!=h[c]){this.set("activeStack",a);var q;for(q=c;0<=q&&h[q]!=a[q];q--)if(c=u.byId(h[q]))c._hasBeenBlurred=!0,c.set("focused",!1),c._focusManager==this&&c._onBlur(b),this.emit("widget-blur",c,b);for(q++;q<=d;q++)if(c=u.byId(a[q]))c.set("focused",
!0),c._focusManager==this&&c._onFocus(b),this.emit("widget-focus",c,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));a(function(){var a=x.registerWin(h.get(document));s("ie")&&b(window,"unload",function(){a&&(a.remove(),a=null)})});v.focus=function(a){x.focus(a)};for(var A in x)/^_/.test(A)||(v.focus[A]="function"==typeof x[A]?c.hitch(x,A):x[A]);x.watch(function(a,b,h){v.focus[a]=h});return x})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(l,m,k,f,e,d,n){var c={_isElementShown:function(b){var a=f.get(b);return"hidden"!=a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=k.get(b,"type")},hasDefaultTabStop:function(b){switch(b.nodeName.toLowerCase()){case "a":return k.has(b,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var c=b.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;a=c.body}catch(d){try{a=b.contentWindow.document.body}catch(e){return!1}}return a&&
("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==b.contentEditable}},effectiveTabIndex:function(b){return k.get(b,"disabled")?void 0:k.has(b,"tabIndex")?+k.get(b,"tabIndex"):c.hasDefaultTabStop(b)?0:void 0},isTabNavigable:function(b){return 0<=c.effectiveTabIndex(b)},isFocusable:function(b){return-1<=c.effectiveTabIndex(b)},_getTabNavigable:function(b){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var e,r,t,h,q,u,f={},n=c._isElementShown,l=c.effectiveTabIndex,m=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||9>=d("ie")&&"HTML"!==b.scopeName||!n(b))){var c=l(b);if(0<=c){if(0==c)e||(e=b),r=b;else if(0<c){if(!t||c<h)h=c,t=b;if(!q||c>=u)u=c,q=b}c=a(b);k.get(b,"checked")&&c&&(f[c]=b)}"SELECT"!=b.nodeName.toUpperCase()&&m(b)}};n(b)&&m(b);return{first:f[a(e)]||e,last:f[a(r)]||r,lowest:f[a(t)]||t,highest:f[a(q)]||q}},getFirstInTabbingOrder:function(b,
a){var d=c._getTabNavigable(m.byId(b,a));return d.lowest?d.lowest:d.first},getLastInTabbingOrder:function(b,a){var d=c._getTabNavigable(m.byId(b,a));return d.last?d.last:d.highest}};e.mixin(n,c);return c})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(l,m,k,f,e){var d=e.doc.documentElement;e=f("ie");var n=f("opera"),c=Math.floor,b=f("ff"),a=l.boxModel.replace(/-/,""),n={dj_quirks:f("quirks"),dj_opera:n,dj_khtml:f("khtml"),dj_webkit:f("webkit"),
dj_safari:f("safari"),dj_chrome:f("chrome"),dj_gecko:f("mozilla"),dj_ios:f("ios"),dj_android:f("android")};e&&(n.dj_ie=!0,n["dj_ie"+c(e)]=!0,n.dj_iequirks=f("quirks"));b&&(n["dj_ff"+c(b)]=!0);n["dj_"+a]=!0;var s="",r;for(r in n)n[r]&&(s+=r+" ");d.className=m.trim(d.className+" "+s);k(function(){if(!l.isBodyLtr()){var a="dj_rtl dijitRtl "+s.replace(/ /g,"-rtl ");d.className=m.trim(d.className+" "+a+"dj_rtl dijitRtl "+s.replace(/ /g,"-rtl "))}});return f})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/domReady","dojo/_base/window"],function(l,m,k,f){k(function(){m("highcontrast")&&l.add(f.body(),"dijit_a11y")});return m})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(l,m,k,f,e,d,n){e.add("highcontrast",function(){var c=n.doc.createElement("div");c.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(m.blankGif||l.toUrl("./resources/blank.gif"))+
");";n.body().appendChild(c);var b=f.getComputedStyle(c),a=b.backgroundImage,b=b.borderTopColor==b.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=e("ie")?c.outerHTML="":n.body().removeChild(c);return b});d(function(){e("highcontrast")&&k.add(n.body(),"dj_a11y")});return e})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){m=m("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);l.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,d.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(l.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};l.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&l.forEach(this._stateClasses,function(a){delete d[a]});l.forEach(b,
function(a){d[a]=!0});var r=[],e;for(e in d)r.push(e);c.className=r.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,c){function d(c){f.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":case "MSPointerOver":case "pointerover":f.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":f.toggle(a,b+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":d(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":d(!1);break;case "focus":case "focusin":f.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":f.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});c(function(){function c(a,b,h){if(!h||!k.isDescendant(h,b))for(;b&&b!=h;b=b.parentNode)if(b._cssState){var d=r.getEnclosingWidget(b);d&&(b==d.domNode?d._cssMouseEvent(a):d._subnodeCssMouseEvent(b,b._cssState,a))}}var h=a.body(),d;n(h,
b.over,function(a){c(a,a.target,a.relatedTarget)});n(h,b.out,function(a){c(a,a.target,a.relatedTarget)});n(h,s.press,function(a){d=a.target;c(a,d)});n(h,s.release,function(a){c(a,d);d=null});n(h,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var h=r.getEnclosingWidget(b);h&&h._subnodeCssMouseEvent(b,b._cssState,a)}})});return m})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(l,m,k,f,e,d,n,c,b,a){return m("dijit._KeyNavContainer",[b,a,c],{connectKeyNavHandlers:function(a,b){var c=this._keyNavCodes={},h=d.hitch(this,"focusPrev"),q=d.hitch(this,"focusNext");l.forEach(a,function(a){c[a]=h});l.forEach(b,function(a){c[a]=q});c[e.HOME]=d.hitch(this,"focusFirstChild");c[e.END]=d.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){f.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);l.forEach(this.getChildren(),
d.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
n.byNode(a))&&a.getParent()==this}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(l,m,k,f){return m("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(e,d){var f=this.containerNode;if(0<d){for(f=f.firstChild;0<d;)1==f.nodeType&&d--,f=f.nextSibling;f?d="before":(f=this.containerNode,d="last")}k.place(e.domNode,f,d);
this._started&&!e._started&&e.startup()},removeChild:function(e){"number"==typeof e&&(e=this.getChildren()[e]);e&&(e=e.domNode)&&e.parentNode&&e.parentNode.removeChild(e)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(e,d){f.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var n=this.getChildren(),c=l.indexOf(n,e);return n[c+d]},getIndexOfChild:function(e){return l.indexOf(this.getChildren(),
e)}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(l,m,k,f,e,d,n,c){return m("dijit._KeyNavMixin",c,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);k.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var b=this._keyNavCodes={};b[f.HOME]=e.hitch(this,"focusFirstChild");b[f.END]=e.hitch(this,"focusLastChild");b[this.isLeftToRight()?
f.LEFT_ARROW:f.RIGHT_ARROW]=e.hitch(this,"_onLeftArrow");b[this.isLeftToRight()?f.RIGHT_ARROW:f.LEFT_ARROW]=e.hitch(this,"_onRightArrow");b[f.UP_ARROW]=e.hitch(this,"_onUpArrow");b[f.DOWN_ARROW]=e.hitch(this,"_onDownArrow")}var a=this,b="string"==typeof this.childSelector?this.childSelector:e.hitch(this,"childSelector");this.own(d(this.domNode,"keypress",e.hitch(this,"_onContainerKeypress")),d(this.domNode,"keydown",e.hitch(this,"_onContainerKeydown")),d(this.domNode,"focus",e.hitch(this,"_onContainerFocus")),
d(this.containerNode,d.selector(b,"focusin"),function(b){a._onChildFocus(n.getEnclosingWidget(this),b)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},
focusChild:function(b,a){b&&(this.focusedChild&&b!==this.focusedChild&&this._onChildBlur(this.focusedChild),b.set("tabIndex",this.tabIndex),b.focus(a?"end":"start"))},_onContainerFocus:function(b){b.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){k.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(b){k.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,
this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(b){b&&b!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),b.set("tabIndex",this.tabIndex),this.lastFocused=b,this._set("focusedChild",b))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(b,a,c,d){b&&this.focusChild(b)},_keyboardSearchCompare:function(b,a){var c=b.domNode,c=(b.label||(c.focusNode?c.focusNode.label:"")||c.innerText||c.textContent||
"").replace(/^\s+/,"").substr(0,a.length).toLowerCase();return a.length&&c==a?-1:0},_onContainerKeydown:function(b){var a=this._keyNavCodes[b.keyCode];a?(a(b,this.focusedChild),b.stopPropagation(),b.preventDefault(),this._searchString=""):b.keyCode==f.SPACE&&(this._searchTimer&&!b.ctrlKey&&!b.altKey&&!b.metaKey)&&(b.stopImmediatePropagation(),b.preventDefault(),this._keyboardSearch(b," "))},_onContainerKeypress:function(b){b.charCode<f.SPACE||(b.ctrlKey||b.altKey||b.metaKey||b.charCode==f.SPACE&&
this._searchTimer)||(b.preventDefault(),b.stopPropagation(),this._keyboardSearch(b,String.fromCharCode(b.charCode).toLowerCase()))},_keyboardSearch:function(b,a){var c=null,d,t=0;e.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=a;var b=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;d=this._searchString.substr(0,b);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var q=this.focusedChild||
null;if(1==b||!q)if(q=this._getNextFocusableChild(q,1),!q)return;b=q;do{var u=this._keyboardSearchCompare(q,d);u&&0==t++&&(c=q);if(-1==u){t=-1;break}q=this._getNextFocusableChild(q,1)}while(q!=b)})();this.onKeyboardSearch(c,b,d,t)},_onChildBlur:function(){},_getNextFocusableChild:function(b,a){var c=b;do{if(b)b=this._getNext(b,a);else if(b=this[0<a?"_getFirst":"_getLast"](),!b)break;if(null!=b&&b!=c&&b.isFocusable())return b}while(b!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},
_getNext:function(b,a){if(b)for(b=b.domNode;b;)if((b=b[0>a?"previousSibling":"nextSibling"])&&"getAttribute"in b){var c=n.byNode(b);if(c)return c}return null}})})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(l,m,k,f,e,d,n,c){var b=m("dijit._TemplatedMixin",c,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,
c=this;return n.substitute(a,this,function(a,h){"!"==h.charAt(0)&&(a=f.getObject(h.substr(1),!1,c));if("undefined"==typeof a)throw Error(b+" template:"+h);return null==a?"":"!"==h.charAt(0)?a:a.toString().replace(/"/g,"\x26quot;")},this)},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=l(this.templatePath,{sanitize:!0}));var a=b.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(f.isString(a)){if(c=k.toDom(this._stringRepl(a),
this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+a);}else c=a.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});b._templateCache={};b.getCachedTemplate=function(a,c,d){var e=b._templateCache,h=a,q=e[h];if(q){try{if(!q.ownerDocument||q.ownerDocument==(d||document))return q}catch(u){}k.destroy(q)}a=
n.trim(a);if(c||a.match(/\$\{([^\}]+)\}/g))return e[h]=a;c=k.toDom(a,d);if(1!=c.nodeType)throw Error("Invalid template: "+a);return e[h]=c};d("ie")&&e(window,"unload",function(){var a=b._templateCache,c;for(c in a){var d=a[c];"object"==typeof d&&k.destroy(d);delete a[c]}});return b})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(l){return l.cache})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(l,m){var k={};m.setObject("dojo.string",k);k.rep=function(f,
e){if(0>=e||!f)return"";for(var d=[];;){e&1&&d.push(f);if(!(e>>=1))break;f+=f}return d.join("")};k.pad=function(f,e,d,n){d||(d="0");f=String(f);e=k.rep(d,Math.ceil((e-f.length)/d.length));return n?f+e:e+f};k.substitute=function(f,e,d,n){n=n||l.global;d=d?m.hitch(n,d):function(c){return c};return f.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(c,b,a){c=m.getObject(b,!1,e);a&&(c=m.getObject(a,!1,n).call(n,c,b));return d(c,b).toString()})};k.trim=String.prototype.trim?m.trim:function(f){f=
f.replace(/^\s+/,"");for(var e=f.length-1;0<=e;e--)if(/\S/.test(f.charAt(e))){f=f.substring(0,e+1);break}return f};return k})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(l,m,k,f,e,d,n,c,b){var a=e.delegate(c,{mouseenter:d.enter,mouseleave:d.leave,keypress:k._keypress}),s;k=f("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=
[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,h){var c=!0,d=this.attachScope||
this,f=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(f)for(var n=f.split(/\s*,\s*/);f=n.shift();)e.isArray(d[f])?d[f].push(a):d[f]=a,c="containerNode"!=f,this._attachPoints.push(f);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event")){f=b.split(/\s*,\s*/);for(n=e.trim;b=f.shift();)if(b){var s=null;-1!=b.indexOf(":")?(s=b.split(":"),b=n(s[0]),s=n(s[1])):b=n(b);s||(s=b);this._attachEvents.push(h(a,b,e.hitch(d,s)))}}return c},_attach:function(b,c,h){c=c.replace(/^on/,"").toLowerCase();
c="dijitclick"==c?s||(s=l("./a11yclick")):a[c]||c;return n(b,c,h)},_detachTemplateNodes:function(){var a=this.attachScope||this;m.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];m.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});e.extend(b,{dojoAttachEvent:"",dojoAttachPoint:""});return k})},"xl/monkeypatch/dojox/gfx/svg":function(){define("dojox/gfx/svg dojo/has dojo/dom-attr dojo/_base/window dojox/gfx/_base dojo/dom-construct dojo/dom-geometry".split(" "),
function(l,m,k,f,e,d,n){function c(a,b){return f.doc.createElementNS?f.doc.createElementNS(a,b):f.doc.createElement(b)}l.Text.extend({getTextWidth:function(){var a=this.rawNode,b=a.parentNode;if(m("ie"))return parseInt(a.getBBox().width);var c=a.cloneNode(!0);c.style.visibility="hidden";var a=0,e=c.firstChild.nodeValue;b.appendChild(c);if(""!=e)for(var h=5;!a&&0<--h;)if(c.getBBox)try{a=parseInt(c.getBBox().width)}catch(q){a=0}else a=68;b.removeChild(c);if(0==a){b=d.create("span",{innerHTML:e,style:{fontSize:this.rawNode.attributes["font-size"].value,
fontFamily:this.rawNode.attributes["font-family"].value,lineHeight:"1.2"}});d.place(b,f.body());try{a=parseInt(n.position(b).w)}finally{d.destroy(b)}}return a},setShape:function(a){this.shape=e.makeParameters(this.shape,a);this.bbox=null;a=this.rawNode;var b=this.shape;a.setAttribute("x",b.x);a.setAttribute("y",b.y);a.setAttribute("text-anchor",b.align);a.setAttribute("text-decoration",b.decoration);a.setAttribute("rotate",b.rotated?90:0);a.setAttribute("kerning",b.kerning?"auto":0);a.setAttribute("text-rendering",
"geometricPrecision");a.firstChild?a.firstChild.nodeValue=b.text:a.appendChild(l.useSvgWeb?f.doc.createTextNode(b.text,!0):f.doc.createTextNode(b.text));return this}});var b=0;l.Shape.extend({setClip:function(a){this.inherited(arguments);var d=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!d)return this;"polyline"===d&&(a=lang.clone(a),a.points=a.points.join(","));var r,e=k.get(this.rawNode,"clip-path");e&&(r=dom.byId(e.match(/gfx_clip[\d]+/)[0]))&&
r.removeChild(r.childNodes[0]);a?(r?(d=c(l.xmlns.svg,d),r.appendChild(d)):(e="gfx_clip"+ ++b,this.rawNode.setAttribute("clip-path","url(#"+e+")"),r=c(l.xmlns.svg,"clipPath"),d=c(l.xmlns.svg,d),r.appendChild(d),this.rawNode.parentNode.insertBefore(r,this.rawNode),k.set(r,"id",e)),k.set(d,a)):(this.rawNode.removeAttribute("clip-path"),r&&r.parentNode.removeChild(r));return this},setRawNode:function(a){a=this.rawNode=a;"image"!=this.shape.type&&a.setAttribute("fill","none");"text"==this.shape.type&&
a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");a.setAttribute("fill-opacity",0);a.setAttribute("stroke","none");a.setAttribute("stroke-opacity",0);a.setAttribute("stroke-width",1);a.setAttribute("stroke-linecap","butt");a.setAttribute("stroke-linejoin","miter");a.setAttribute("stroke-miterlimit",4);a.__gfxObject__=this}});return l})},"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){function t(a,b){return k.doc.createElementNS?k.doc.createElementNS(a,b):k.doc.createElement(b)}function h(a){return q.useSvgWeb?k.doc.createTextNode(a,!0):k.doc.createTextNode(a)}var q=a.svg={};q.useSvgWeb="undefined"!=typeof window.svgweb;var u=navigator.userAgent,v=m("ios"),w=m("android"),x=m("chrome")||w&&4<=w?"auto":"optimizeLegibility";q.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};q.getRef=function(a){return!a||"none"==a?null:
a.match(/^url\(#.+\)$/)?f.byId(a.slice(5,-1)):a.match(/^#dojoUnique\d+$/)?f.byId(a.slice(1)):null};q.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var A=0;q.Shape=e("dojox.gfx.svg.Shape",s.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var a=this.rawNode.getAttribute("fill");(a=q.getRef(a))&&a.parentNode.removeChild(a)}if(this.clip&&
(a=this.rawNode.getAttribute("clip-path")))(a=f.byId(a.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);s.Shape.prototype.destroy.apply(this,arguments)},setFill:function(b){if(!b)return this.fillStyle=null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var h,c=function(a){this.setAttribute(a,h[a].toFixed(8))};if("object"==typeof b&&"type"in b){switch(b.type){case "linear":h=a.makeParameters(a.defaultLinearGradient,b);b=this._setFillObject(h,"linearGradient");
d.forEach(["x1","y1","x2","y2"],c,b);break;case "radial":h=a.makeParameters(a.defaultRadialGradient,b);b=this._setFillObject(h,"radialGradient");d.forEach(["cx","cy","r"],c,b);break;case "pattern":h=a.makeParameters(a.defaultPattern,b),b=this._setFillObject(h,"pattern"),d.forEach(["x","y","width","height"],c,b)}this.fillStyle=h;return this}this.fillStyle=h=a.normalizeColor(b);this.rawNode.setAttribute("fill",h.toCss());this.rawNode.setAttribute("fill-opacity",h.a);this.rawNode.setAttribute("fill-rule",
"evenodd");return this},setStroke:function(h){var c=this.rawNode;if(!h)return this.strokeStyle=null,c.setAttribute("stroke","none"),c.setAttribute("stroke-opacity",0),this;if("string"==typeof h||l.isArray(h)||h instanceof b)h={color:h};h=this.strokeStyle=a.makeParameters(a.defaultStroke,h);h.color=a.normalizeColor(h.color);if(h){c.setAttribute("stroke",h.color.toCss());c.setAttribute("stroke-opacity",h.color.a);c.setAttribute("stroke-width",h.width);c.setAttribute("stroke-linecap",h.cap);"number"==
typeof h.join?(c.setAttribute("stroke-linejoin","miter"),c.setAttribute("stroke-miterlimit",h.join)):c.setAttribute("stroke-linejoin",h.join);var d=h.style.toLowerCase();d in q.dasharray&&(d=q.dasharray[d]);if(d instanceof Array){var d=l._toArray(d),r;for(r=0;r<d.length;++r)d[r]*=h.width;if("butt"!=h.cap){for(r=0;r<d.length;r+=2)d[r]-=h.width,1>d[r]&&(d[r]=1);for(r=1;r<d.length;r+=2)d[r]+=h.width}d=d.join(",")}c.setAttribute("stroke-dasharray",d);c.setAttribute("dojoGfxStrokeStyle",h.style)}return this},
_getParentSurface:function(){for(var b=this.parent;b&&!(b instanceof a.Surface);b=b.parent);return b},_setFillObject:function(b,h){var c=q.xmlns.svg;this.fillStyle=b;var d=this._getParentSurface().defNode,r=this.rawNode.getAttribute("fill");if(r=q.getRef(r))if(r.tagName.toLowerCase()!=h.toLowerCase()){var u=r.id;r.parentNode.removeChild(r);r=t(c,h);r.setAttribute("id",u);d.appendChild(r)}else for(;r.childNodes.length;)r.removeChild(r.lastChild);else r=t(c,h),r.setAttribute("id",a._base._getUniqueId()),
d.appendChild(r);if("pattern"==h)r.setAttribute("patternUnits","userSpaceOnUse"),c=t(c,"image"),c.setAttribute("x",0),c.setAttribute("y",0),c.setAttribute("width",b.width.toFixed(8)),c.setAttribute("height",b.height.toFixed(8)),c.setAttributeNS?c.setAttributeNS(q.xmlns.xlink,"xlink:href",b.src):c.setAttribute("xlink:href",b.src),r.appendChild(c);else{r.setAttribute("gradientUnits","userSpaceOnUse");for(d=0;d<b.colors.length;++d){var u=b.colors[d],e=t(c,"stop"),f=u.color=a.normalizeColor(u.color);
e.setAttribute("offset",u.offset.toFixed(8));e.setAttribute("stop-color",f.toCss());e.setAttribute("stop-opacity",f.a);r.appendChild(e)}}this.rawNode.setAttribute("fill","url(#"+r.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return r},_applyTransform:function(){if(this.matrix){var a=this.matrix;this.rawNode.setAttribute("transform","matrix("+a.xx.toFixed(8)+","+a.yx.toFixed(8)+","+a.xy.toFixed(8)+","+a.yy.toFixed(8)+","+a.dx.toFixed(8)+
","+a.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(a){a=this.rawNode=a;"image"!=this.shape.type&&a.setAttribute("fill","none");a.setAttribute("fill-opacity",0);a.setAttribute("stroke","none");a.setAttribute("stroke-opacity",0);a.setAttribute("stroke-width",1);a.setAttribute("stroke-linecap","butt");a.setAttribute("stroke-linejoin","miter");a.setAttribute("stroke-miterlimit",4);a.__gfxObject__=this},setShape:function(b){this.shape=a.makeParameters(this.shape,
b);for(var h in this.shape)"type"!=h&&this.rawNode.setAttribute(h,this.shape[h]);this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this},setClip:function(a){this.inherited(arguments);var b=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!b)return this;"polyline"===b&&(a=l.clone(a),
a.points=a.points.join(","));var h,d=c.get(this.rawNode,"clip-path");d&&(h=f.byId(d.match(/gfx_clip[\d]+/)[0]))&&h.removeChild(h.childNodes[0]);a?(h?(b=t(q.xmlns.svg,b),h.appendChild(b)):(d="gfx_clip"+ ++A,this.rawNode.setAttribute("clip-path","url(#"+d+")"),h=t(q.xmlns.svg,"clipPath"),b=t(q.xmlns.svg,b),h.appendChild(b),this.rawNode.parentNode.appendChild(h),c.set(h,"id",d)),c.set(b,a)):(this.rawNode.removeAttribute("clip-path"),h&&h.parentNode.removeChild(h));return this},_removeClipNode:function(){var a,
b=c.get(this.rawNode,"clip-path");b&&(a=f.byId(b.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);return a}});q.Group=e("dojox.gfx.svg.Group",q.Shape,{constructor:function(){s.Container._init.call(this)},setRawNode:function(a){this.rawNode=a;this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);q.Shape.prototype.destroy.apply(this,arguments)}});q.Group.nodeType="g";q.Rect=e("dojox.gfx.svg.Rect",[q.Shape,s.Rect],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=
null;for(var h in this.shape)"type"!=h&&"r"!=h&&this.rawNode.setAttribute(h,this.shape[h]);null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));return this}});q.Rect.nodeType="rect";q.Ellipse=e("dojox.gfx.svg.Ellipse",[q.Shape,s.Ellipse],{});q.Ellipse.nodeType="ellipse";q.Circle=e("dojox.gfx.svg.Circle",[q.Shape,s.Circle],{});q.Circle.nodeType="circle";q.Line=e("dojox.gfx.svg.Line",[q.Shape,s.Line],{});q.Line.nodeType="line";q.Polyline=e("dojox.gfx.svg.Polyline",
[q.Shape,s.Polyline],{setShape:function(b,h){b&&b instanceof Array?(this.shape=a.makeParameters(this.shape,{points:b}),h&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.shape=a.makeParameters(this.shape,b);this.bbox=null;this._normalizePoints();for(var c=[],d=this.shape.points,q=0;q<d.length;++q)c.push(d[q].x.toFixed(8),d[q].y.toFixed(8));this.rawNode.setAttribute("points",c.join(" "));return this}});q.Polyline.nodeType="polyline";q.Image=e("dojox.gfx.svg.Image",[q.Shape,
s.Image],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;for(var h in this.shape)"type"!=h&&"src"!=h&&b.setAttribute(h,this.shape[h]);b.setAttribute("preserveAspectRatio","none");b.setAttributeNS?b.setAttributeNS(q.xmlns.xlink,"xlink:href",this.shape.src):b.setAttribute("xlink:href",this.shape.src);b.__gfxObject__=this;return this}});q.Image.nodeType="image";q.Text=e("dojox.gfx.svg.Text",[q.Shape,s.Text],{setShape:function(b){this.shape=a.makeParameters(this.shape,
b);this.bbox=null;b=this.rawNode;var c=this.shape;b.setAttribute("x",c.x);b.setAttribute("y",c.y);b.setAttribute("text-anchor",c.align);b.setAttribute("text-decoration",c.decoration);b.setAttribute("rotate",c.rotated?90:0);b.setAttribute("kerning",c.kerning?"auto":0);b.setAttribute("text-rendering",x);b.firstChild?b.firstChild.nodeValue=c.text:b.appendChild(h(c.text));return this},getTextWidth:function(){var a=this.rawNode,b=a.parentNode,a=a.cloneNode(!0);a.style.visibility="hidden";var h=0,c=a.firstChild.nodeValue;
b.appendChild(a);if(""!=c)for(;!h;)h=a.getBBox?parseInt(a.getBBox().width):68;b.removeChild(a);return h},getBoundingBox:function(){var a=null;if(this.getShape().text)try{a=this.rawNode.getBBox()}catch(b){a={x:0,y:0,width:0,height:0}}return a}});q.Text.nodeType="text";q.Path=e("dojox.gfx.svg.Path",[q.Shape,r.Path],{_updateWithSegment:function(a){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(a){this.inherited(arguments);
this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});q.Path.nodeType="path";q.TextPath=e("dojox.gfx.svg.TextPath",[q.Shape,r.TextPath],{_updateWithSegment:function(a){this.inherited(arguments);this._setTextPath()},setShape:function(a){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var b=this.rawNode;if(!b.firstChild){var c=t(q.xmlns.svg,"textPath"),d=h("");c.appendChild(d);
b.appendChild(c)}c=(c=b.firstChild.getAttributeNS(q.xmlns.xlink,"href"))&&q.getRef(c);if(!c&&(d=this._getParentSurface())){var d=d.defNode,c=t(q.xmlns.svg,"path"),r=a._base._getUniqueId();c.setAttribute("id",r);d.appendChild(c);b.firstChild.setAttributeNS?b.firstChild.setAttributeNS(q.xmlns.xlink,"xlink:href","#"+r):b.firstChild.setAttribute("xlink:href","#"+r)}c&&c.setAttribute("d",this.shape.path)}},_setText:function(){var a=this.rawNode;if(!a.firstChild){var b=t(q.xmlns.svg,"textPath"),c=h("");
b.appendChild(c);a.appendChild(b)}a=a.firstChild;b=this.text;a.setAttribute("alignment-baseline","middle");switch(b.align){case "middle":a.setAttribute("text-anchor","middle");a.setAttribute("startOffset","50%");break;case "end":a.setAttribute("text-anchor","end");a.setAttribute("startOffset","100%");break;default:a.setAttribute("text-anchor","start"),a.setAttribute("startOffset","0%")}a.setAttribute("baseline-shift","0.5ex");a.setAttribute("text-decoration",b.decoration);a.setAttribute("rotate",
b.rotated?90:0);a.setAttribute("kerning",b.kerning?"auto":0);a.firstChild.data=b.text}});q.TextPath.nodeType="text";var z=534<function(){var a=/WebKit\/(\d*)/.exec(u);return a?a[1]:0}();q.Surface=e("dojox.gfx.svg.Surface",s.Surface,{constructor:function(){s.Container._init.call(this)},destroy:function(){s.Container.clear.call(this,!0);this.defNode=null;this.inherited(arguments)},setDimensions:function(a,b){if(!this.rawNode)return this;this.rawNode.setAttribute("width",a);this.rawNode.setAttribute("height",
b);z&&(this.rawNode.style.width=a,this.rawNode.style.height=b);return this},getDimensions:function(){return this.rawNode?{width:a.normalizedLength(this.rawNode.getAttribute("width")),height:a.normalizedLength(this.rawNode.getAttribute("height"))}:null}});q.createSurface=function(b,h,c){var d=new q.Surface;d.rawNode=t(q.xmlns.svg,"svg");d.rawNode.setAttribute("overflow","hidden");h&&d.rawNode.setAttribute("width",h);c&&d.rawNode.setAttribute("height",c);h=t(q.xmlns.svg,"defs");d.rawNode.appendChild(h);
d.defNode=h;d._parent=f.byId(b);d._parent.appendChild(d.rawNode);a._base._fixMsTouchAction(d);return d};m={_setFont:function(){var a=this.fontStyle;this.rawNode.setAttribute("font-style",a.style);this.rawNode.setAttribute("font-variant",a.variant);this.rawNode.setAttribute("font-weight",a.weight);this.rawNode.setAttribute("font-size",a.size);this.rawNode.setAttribute("font-family",a.family)}};var C=s.Container;e={openBatch:function(){if(!this._batch){var a;a=q.useSvgWeb?k.doc.createDocumentFragment(!0):
k.doc.createDocumentFragment();this.fragment=a}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(a){this!=a.getParent()&&(this.fragment?this.fragment.appendChild(a.rawNode):this.rawNode.appendChild(a.rawNode),C.add.apply(this,arguments),a.setClip(a.clip));return this},remove:function(a,b){this==a.getParent()&&(this.rawNode==a.rawNode.parentNode&&
this.rawNode.removeChild(a.rawNode),this.fragment&&this.fragment==a.rawNode.parentNode&&this.fragment.removeChild(a.rawNode),a._removeClipNode(),C.remove.apply(this,arguments));return this},clear:function(){for(var a=this.rawNode;a.lastChild;)a.removeChild(a.lastChild);var b=this.defNode;if(b){for(;b.lastChild;)b.removeChild(b.lastChild);a.appendChild(b)}return C.clear.apply(this,arguments)},getBoundingBox:C.getBoundingBox,_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};
r={createObject:function(a,b){if(!this.rawNode)return null;var h=new a,c=t(q.xmlns.svg,a.nodeType);h.setRawNode(c);h.setShape(b);this.add(h);return h}};l.extend(q.Text,m);l.extend(q.TextPath,m);l.extend(q.Group,e);l.extend(q.Group,s.Creator);l.extend(q.Group,r);l.extend(q.Surface,e);l.extend(q.Surface,s.Creator);l.extend(q.Surface,r);q.fixTarget=function(a,b){a.gfxTarget||(a.gfxTarget=v&&a.target.wholeText?a.target.parentElement.__gfxObject__:a.target.__gfxObject__);return!0};q.useSvgWeb&&(q.createSurface=
function(b,h,c){var d=new q.Surface;if(!h||!c){var r=n.position(b);h=h||r.w;c=c||r.h}b=f.byId(b);var r=b.id?b.id+"_svgweb":a._base._getUniqueId(),u=t(q.xmlns.svg,"svg");u.id=r;u.setAttribute("width",h);u.setAttribute("height",c);svgweb.appendChild(u,b);u.addEventListener("SVGLoad",function(){d.rawNode=this;d.isLoaded=!0;var a=t(q.xmlns.svg,"defs");d.rawNode.appendChild(a);d.defNode=a;if(d.onLoad)d.onLoad(d)},!1);d.isLoaded=!1;return d},q.Surface.extend({destroy:function(){var a=this.rawNode;svgweb.removeChild(a,
a.parentNode)}}),m={connect:function(a,b,h){"on"===a.substring(0,2)&&(a=a.substring(2));h=2==arguments.length?b:l.hitch(b,h);this.getEventSource().addEventListener(a,h,!1);return[this,a,h]},disconnect:function(a){this.getEventSource().removeEventListener(a[1],a[2],!1);delete a[0]}},l.extend(q.Shape,m),l.extend(q.Surface,m));return q})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(l,m,k,f){var e=l.Color=function(d){d&&this.setColor(d)};e.named={black:[0,
0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:f.transparentColor||[0,0,0,0]};m.extend(e,{r:255,g:255,b:255,a:1,_set:function(d,e,c,b){this.r=d;this.g=e;this.b=c;this.a=b},setColor:function(d){m.isString(d)?e.fromString(d,this):m.isArray(d)?e.fromArray(d,this):(this._set(d.r,
d.g,d.b,d.a),d instanceof e||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(d){d=this[d].toString(16);return 2>d.length?"0"+d:d},this).join("")},toCss:function(d){var e=this.r+", "+this.g+", "+this.b;return(d?"rgba("+e+", "+this.a:"rgb("+e)+")"},toString:function(){return this.toCss(!0)}});e.blendColors=l.blendColors=function(d,
f,c,b){var a=b||new e;k.forEach(["r","g","b","a"],function(b){a[b]=d[b]+(f[b]-d[b])*c;"a"!=b&&(a[b]=Math.round(a[b]))});return a.sanitize()};e.fromRgb=l.colorFromRgb=function(d,f){var c=d.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&e.fromArray(c[1].split(/\s*,\s*/),f)};e.fromHex=l.colorFromHex=function(d,f){var c=f||new e,b=4==d.length?4:8,a=(1<<b)-1;d=Number("0x"+d.substr(1));if(isNaN(d))return null;k.forEach(["b","g","r"],function(e){var r=d&a;d>>=b;c[e]=4==b?17*r:r});c.a=1;return c};
e.fromArray=l.colorFromArray=function(d,f){var c=f||new e;c._set(Number(d[0]),Number(d[1]),Number(d[2]),Number(d[3]));isNaN(c.a)&&(c.a=1);return c.sanitize()};e.fromString=l.colorFromString=function(d,f){var c=e.named[d];return c&&e.fromArray(c,f)||e.fromRgb(d,f)||e.fromHex(d,f)};return e})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(l,
m,k,f,e,d,n,c,b){var a=m.getObject("dojox.gfx",!0),s=a._base={};a._hasClass=function(a,b){var h=a.getAttribute("className");return h&&0<=(" "+h+" ").indexOf(" "+b+" ")};a._addClass=function(a,b){var h=a.getAttribute("className")||"";if(!h||0>(" "+h+" ").indexOf(" "+b+" "))a.setAttribute("className",h+(h?" ":"")+b)};a._removeClass=function(a,b){var h=a.getAttribute("className");h&&a.setAttribute("className",h.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};s._getFontMeasurements=function(){var a=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b;f("ie")&&(e.doc.documentElement.style.fontSize="100%");var h=c.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},e.body());for(b in a)h.style.fontSize=b,a[b]=16*Math.round(12*h.offsetHeight/16)/12/1E3;e.body().removeChild(h);return a};var r=null;s._getCachedFontMeasurements=
function(a){if(a||!r)r=s._getFontMeasurements();return r};var t=null,h={};s._getTextBox=function(a,d,q){var r,f,n=arguments.length,s;t||(t=c.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},e.body()));r=t;r.className="";f=r.style;f.borderWidth="0";f.margin="0";f.padding="0";f.outline="0";if(1<n&&d)for(s in d)s in h||(f[s]=d[s]);2<n&&q&&(r.className=q);r.innerHTML=a;return r.getBoundingClientRect?(r=r.getBoundingClientRect(),{l:r.left,t:r.top,w:r.width||r.right-r.left,h:r.height||
r.bottom-r.top}):b.getMarginBox(r)};s._computeTextLocation=function(a,b,h,c){var d={};switch(a.align){case "end":d.x=a.x-b;break;case "middle":d.x=a.x-b/2;break;default:d.x=a.x}d.y=a.y-h*(c?0.75:1);return d};s._computeTextBoundingBox=function(b){if(!a._base._isRendered(b))return{x:0,y:0,width:0,height:0};var h;h=b.getShape();var c=b.getFont()||a.defaultFont;b=b.getTextWidth();c=a.normalizedLength(c.size);h=s._computeTextLocation(h,b,c,!0);return{x:h.x,y:h.y,width:b,height:c}};s._isRendered=function(a){for(a=
a.parent;a&&a.getParent;)a=a.parent;return null!==a};var q=0;s._getUniqueId=function(){var a;do a=l._scopeName+"xUnique"+ ++q;while(n.byId(a));return a};s._fixMsTouchAction=function(a){a=a.rawNode;"undefined"!=typeof a.style.msTouchAction&&(a.style.msTouchAction="none")};m.mixin(a,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",
cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,
color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var b={};return function(h){var c=b[h];if(c)return new c;c=b[h]=new Function;c.prototype=a["default"+h];return new c}}(),normalizeColor:function(a){return a instanceof k?a:new k(a)},normalizeParameters:function(a,
b){var h;if(b){var c={};for(h in a)h in b&&!(h in c)&&(a[h]=b[h])}return a},makeParameters:function(a,b){var h=null;if(!b)return m.delegate(a);var c={};for(h in a)h in c||(c[h]=m.clone(h in b?b[h]:a[h]));return c},formatNumber:function(a,b){var h=a.toString();if(0<=h.indexOf("e"))h=a.toFixed(4);else{var c=h.indexOf(".");0<=c&&5<h.length-c&&(h=a.toFixed(4))}return 0>a?h:b?" "+h:h},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(b){var h=
a.getDefault("Font");b=b.split(/\s+/);if(!(5>b.length)){h.style=b[0];h.variant=b[1];h.weight=b[2];var c=b[3].indexOf("/");h.size=0>c?b[3]:b[3].substring(0,c);var d=4;0>c&&("/"==b[4]?d=6:"/"==b[4].charAt(0)&&(d=5));d<b.length&&(h.family=b.slice(d).join(" "))}return h},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return a._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(b){return b*a.px_in_pt()},px2pt:function(b){return b/a.px_in_pt()},normalizedLength:function(b){if(0===b.length)return 0;
if(2<b.length){var h=a.px_in_pt(),c=parseFloat(b);switch(b.slice(-2)){case "px":return c;case "pt":return c*h;case "in":return 72*c*h;case "pc":return 12*c*h;case "mm":return c*a.mm_in_pt*h;case "cm":return c*a.cm_in_pt*h}}return parseFloat(b)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b},switchTo:function(b){var h="string"==typeof b?a[b]:b;h&&(d.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),
function(b){a[b]=h[b]}),"string"==typeof b?a.renderer=b:d.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(b){return a.renderer=a[b]&&a[b].Surface===a.Surface?b:null}))}});return a})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(l,m,k,f,e,d,n,c,b,a){var s=l.shape={};s.Shape=k("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=
this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(e("gfxRegistry")){var a=s.register(this);this.getUID=function(){return a}}},destroy:function(){e("gfxRegistry")&&s.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},
getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b)return null;var c=this._getRealMatrix();return[a.multiplyPoint(c,b.x,b.y),a.multiplyPoint(c,b.x+b.width,b.y),a.multiplyPoint(c,b.x+b.width,b.y+b.height),a.multiplyPoint(c,b.x,b.y+b.height)]},getEventSource:function(){return this.rawNode},setClip:function(a){this.clip=a},getClip:function(){return this.clip},setShape:function(a){this.shape=l.makeParameters(this.shape,
a);this.bbox=null;return this},setFill:function(a){if(!a)return this.fillStyle=null,this;var b=null;if("object"==typeof a&&"type"in a)switch(a.type){case "linear":b=l.makeParameters(l.defaultLinearGradient,a);break;case "radial":b=l.makeParameters(l.defaultRadialGradient,a);break;case "pattern":b=l.makeParameters(l.defaultPattern,a)}else b=l.normalizeColor(a);this.fillStyle=b;return this},setStroke:function(a){if(!a)return this.strokeStyle=null,this;if("string"==typeof a||m.isArray(a)||a instanceof
b)a={color:a};a=this.strokeStyle=l.makeParameters(l.defaultStroke,a);a.color=l.normalizeColor(a.color);return this},setTransform:function(b){this.matrix=a.clone(b?a.normalize(b):a.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var a=this.getParent();a&&(a._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var a=this.getParent();a&&(a._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},
_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,a]):this},applyLeftTransform:function(a){return a?this.setTransform([a,this.matrix]):this},applyTransform:function(a){return a?this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&this.parent.remove(this,a);return this},_setParent:function(a,b){this.parent=a;return this._updateParentMatrix(b)},_updateParentMatrix:function(b){this.parentMatrix=b?a.clone(b):null;return this._applyTransform()},
_getRealMatrix:function(){for(var b=this.matrix,c=this.parent;c;)c.matrix&&(b=a.multiply(c.matrix,b)),c=c.parent;return b}});s._eventsProcessing={on:function(a,b){return d(this.getEventSource(),a,s.fixCallback(this,l.fixTarget,b))},connect:function(a,b,h){"on"==a.substring(0,2)&&(a=a.substring(2));return this.on(a,h?m.hitch(b,h):b)},disconnect:function(a){return a.remove()}};s.fixCallback=function(a,b,h,c){c||(c=h,h=null);if(m.isString(c)){h=h||f.global;if(!h[c])throw['dojox.gfx.shape.fixCallback: scope["',
c,'"] is null (scope\x3d"',h,'")'].join("");return function(d){return b(d,a)?h[c].apply(h,arguments||[]):void 0}}return!h?function(d){return b(d,a)?c.apply(h,arguments):void 0}:function(d){return b(d,a)?c.apply(h,arguments||[]):void 0}};m.extend(s.Shape,s._eventsProcessing);s.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(a){var b=a.getParent();b&&b.remove(a,!0);this.children.push(a);return a._setParent(this,
this._getRealMatrix())},remove:function(a,b){for(var h=0;h<this.children.length;++h)if(this.children[h]==a){b||(a.parent=null,a.parentMatrix=null);this.children.splice(h,1);break}return this},clear:function(a){for(var b,h=0;h<this.children.length;++h)b=this.children[h],b.parent=null,b.parentMatrix=null,a&&b.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var b=null;n.forEach(this.children,function(c){var h=c.getBoundingBox();h&&((c=c.getTransform())&&(h=a.multiplyRectangle(c,
h)),b?(b.x=Math.min(b.x,h.x),b.y=Math.min(b.y,h.y),b.endX=Math.max(b.endX,h.x+h.width),b.endY=Math.max(b.endY,h.y+h.height)):b={x:h.x,y:h.y,endX:h.x+h.width,endY:h.y+h.height})});b&&(b.width=b.endX-b.x,b.height=b.endY-b.y);return b}return null},_moveChildToFront:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.push(a);break}return this},_moveChildToBack:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,
1);this.children.unshift(a);break}return this}};s.Surface=k("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){n.forEach(this._nodes,c.destroy);this._nodes=[];n.forEach(this._events,function(a){a&&a.remove()});this._events=[];this.rawNode=null;if(e("ie"))for(;this._parent.lastChild;)c.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},
_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(a){},whenLoaded:function(a,b){var h=m.hitch(a,b);if(this.isLoaded)h(this);else d.once(this,"load",function(a){h(a)})}});m.extend(s.Surface,s._eventsProcessing);s.Rect=k("dojox.gfx.shape.Rect",s.Shape,{constructor:function(a){this.shape=l.getDefault("Rect");this.rawNode=a},getBoundingBox:function(){return this.shape}});s.Ellipse=k("dojox.gfx.shape.Ellipse",s.Shape,{constructor:function(a){this.shape=l.getDefault("Ellipse");this.rawNode=
a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-a.ry,width:2*a.rx,height:2*a.ry}}return this.bbox}});s.Circle=k("dojox.gfx.shape.Circle",s.Shape,{constructor:function(a){this.shape=l.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});s.Line=k("dojox.gfx.shape.Line",s.Shape,{constructor:function(a){this.shape=l.getDefault("Line");this.rawNode=
a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});s.Polyline=k("dojox.gfx.shape.Polyline",s.Shape,{constructor:function(a){this.shape=l.getDefault("Polyline");this.rawNode=a},setShape:function(a,b){a&&a instanceof Array?(this.inherited(arguments,[{points:a}]),b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[a]);
return this},_normalizePoints:function(){var a=this.shape.points,b=a&&a.length;if(b&&"number"==typeof a[0]){for(var h=[],c=0;c<b;c+=2)h.push({x:a[c],y:a[c+1]});this.shape.points=h}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=this.shape.points,b=a.length,h=a[0],c=h.x,d=h.y,e=h.x,f=h.y,n=1;n<b;++n)h=a[n],c>h.x&&(c=h.x),e<h.x&&(e=h.x),d>h.y&&(d=h.y),f<h.y&&(f=h.y);this.bbox={x:c,y:d,width:e-c,height:f-d}}return this.bbox}});s.Image=k("dojox.gfx.shape.Image",s.Shape,
{constructor:function(a){this.shape=l.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});s.Text=k(s.Shape,{constructor:function(a){this.fontStyle=null;this.shape=l.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},setFont:function(a){this.fontStyle="string"==typeof a?l.splitFontString(a):l.makeParameters(l.defaultFont,a);this._setFont();return this},getBoundingBox:function(){var a=
null;this.getShape().text&&(a=l._base._computeTextBoundingBox(this));return a}});s.Creator={createShape:function(a){switch(a.type){case l.defaultPath.type:return this.createPath(a);case l.defaultRect.type:return this.createRect(a);case l.defaultCircle.type:return this.createCircle(a);case l.defaultEllipse.type:return this.createEllipse(a);case l.defaultLine.type:return this.createLine(a);case l.defaultPolyline.type:return this.createPolyline(a);case l.defaultImage.type:return this.createImage(a);
case l.defaultText.type:return this.createText(a);case l.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(l.Group)},createRect:function(a){return this.createObject(l.Rect,a)},createEllipse:function(a){return this.createObject(l.Ellipse,a)},createCircle:function(a){return this.createObject(l.Circle,a)},createLine:function(a){return this.createObject(l.Line,a)},createPolyline:function(a){return this.createObject(l.Polyline,a)},createImage:function(a){return this.createObject(l.Image,
a)},createText:function(a){return this.createObject(l.Text,a)},createPath:function(a){return this.createObject(l.Path,a)},createTextPath:function(a){return this.createObject(l.TextPath,{}).setText(a)},createObject:function(a,b){return null}};return s})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(l,m){var k=l.matrix={},f={};k._degToRad=function(e){return f[e]||(f[e]=Math.PI*e/180)};k._radToDeg=function(e){return 180*(e/Math.PI)};k.Matrix2D=function(e){if(e)if("number"==
typeof e)this.xx=this.yy=e;else if(e instanceof Array){if(0<e.length){for(var d=k.normalize(e[0]),f=1;f<e.length;++f){var c=d,b=k.normalize(e[f]),d=new k.Matrix2D;d.xx=c.xx*b.xx+c.xy*b.yx;d.xy=c.xx*b.xy+c.xy*b.yy;d.yx=c.yx*b.xx+c.yy*b.yx;d.yy=c.yx*b.xy+c.yy*b.yy;d.dx=c.xx*b.dx+c.xy*b.dy+c.dx;d.dy=c.yx*b.dx+c.yy*b.dy+c.dy}m.mixin(this,d)}}else m.mixin(this,e)};m.extend(k.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});m.mixin(k,{identity:new k.Matrix2D,flipX:new k.Matrix2D({xx:-1}),flipY:new k.Matrix2D({yy:-1}),
flipXY:new k.Matrix2D({xx:-1,yy:-1}),translate:function(e,d){return 1<arguments.length?new k.Matrix2D({dx:e,dy:d}):new k.Matrix2D({dx:e.x,dy:e.y})},scale:function(e,d){return 1<arguments.length?new k.Matrix2D({xx:e,yy:d}):"number"==typeof e?new k.Matrix2D({xx:e,yy:e}):new k.Matrix2D({xx:e.x,yy:e.y})},rotate:function(e){var d=Math.cos(e);e=Math.sin(e);return new k.Matrix2D({xx:d,xy:-e,yx:e,yy:d})},rotateg:function(e){return k.rotate(k._degToRad(e))},skewX:function(e){return new k.Matrix2D({xy:Math.tan(e)})},
skewXg:function(e){return k.skewX(k._degToRad(e))},skewY:function(e){return new k.Matrix2D({yx:Math.tan(e)})},skewYg:function(e){return k.skewY(k._degToRad(e))},reflect:function(e,d){1==arguments.length&&(d=e.y,e=e.x);var f=e*e,c=d*d,b=f+c,a=2*e*d/b;return new k.Matrix2D({xx:2*f/b-1,xy:a,yx:a,yy:2*c/b-1})},project:function(e,d){1==arguments.length&&(d=e.y,e=e.x);var f=e*e,c=d*d,b=f+c,a=e*d/b;return new k.Matrix2D({xx:f/b,xy:a,yx:a,yy:c/b})},normalize:function(e){return e instanceof k.Matrix2D?e:new k.Matrix2D(e)},
isIdentity:function(e){return 1==e.xx&&0==e.xy&&0==e.yx&&1==e.yy&&0==e.dx&&0==e.dy},clone:function(e){var d=new k.Matrix2D,f;for(f in e)"number"==typeof e[f]&&("number"==typeof d[f]&&d[f]!=e[f])&&(d[f]=e[f]);return d},invert:function(e){e=k.normalize(e);var d=e.xx*e.yy-e.xy*e.yx;return e=new k.Matrix2D({xx:e.yy/d,xy:-e.xy/d,yx:-e.yx/d,yy:e.xx/d,dx:(e.xy*e.dy-e.yy*e.dx)/d,dy:(e.yx*e.dx-e.xx*e.dy)/d})},_multiplyPoint:function(e,d,f){return{x:e.xx*d+e.xy*f+e.dx,y:e.yx*d+e.yy*f+e.dy}},multiplyPoint:function(e,
d,f){e=k.normalize(e);return"number"==typeof d&&"number"==typeof f?k._multiplyPoint(e,d,f):k._multiplyPoint(e,d.x,d.y)},multiplyRectangle:function(e,d){var f=k.normalize(e);d=d||{x:0,y:0,width:0,height:0};if(k.isIdentity(f))return{x:d.x,y:d.y,width:d.width,height:d.height};var c=k.multiplyPoint(f,d.x,d.y),b=k.multiplyPoint(f,d.x,d.y+d.height),a=k.multiplyPoint(f,d.x+d.width,d.y),s=k.multiplyPoint(f,d.x+d.width,d.y+d.height),f=Math.min(c.x,b.x,a.x,s.x),r=Math.min(c.y,b.y,a.y,s.y),t=Math.max(c.x,b.x,
a.x,s.x),c=Math.max(c.y,b.y,a.y,s.y);return{x:f,y:r,width:t-f,height:c-r}},multiply:function(e){for(var d=k.normalize(e),f=1;f<arguments.length;++f){var c=d,b=k.normalize(arguments[f]),d=new k.Matrix2D;d.xx=c.xx*b.xx+c.xy*b.yx;d.xy=c.xx*b.xy+c.xy*b.yy;d.yx=c.yx*b.xx+c.yy*b.yx;d.yy=c.yx*b.xy+c.yy*b.yy;d.dx=c.xx*b.dx+c.xy*b.dy+c.dx;d.dy=c.yx*b.dx+c.yy*b.dy+c.dy}return d},_sandwich:function(e,d,f){return k.multiply(k.translate(d,f),e,k.translate(-d,-f))},scaleAt:function(e,d,f,c){switch(arguments.length){case 4:return k._sandwich(k.scale(e,
d),f,c);case 3:return"number"==typeof f?k._sandwich(k.scale(e),d,f):k._sandwich(k.scale(e,d),f.x,f.y)}return k._sandwich(k.scale(e),d.x,d.y)},rotateAt:function(e,d,f){return 2<arguments.length?k._sandwich(k.rotate(e),d,f):k._sandwich(k.rotate(e),d.x,d.y)},rotategAt:function(e,d,f){return 2<arguments.length?k._sandwich(k.rotateg(e),d,f):k._sandwich(k.rotateg(e),d.x,d.y)},skewXAt:function(e,d,f){return 2<arguments.length?k._sandwich(k.skewX(e),d,f):k._sandwich(k.skewX(e),d.x,d.y)},skewXgAt:function(e,
d,f){return 2<arguments.length?k._sandwich(k.skewXg(e),d,f):k._sandwich(k.skewXg(e),d.x,d.y)},skewYAt:function(e,d,f){return 2<arguments.length?k._sandwich(k.skewY(e),d,f):k._sandwich(k.skewY(e),d.x,d.y)},skewYgAt:function(e,d,f){return 2<arguments.length?k._sandwich(k.skewYg(e),d,f):k._sandwich(k.skewYg(e),d.x,d.y)}});l.Matrix2D=k.Matrix2D;return k})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(l,m,k,f,e){e=k("dojox.gfx.path.Path",
e.Shape,{constructor:function(d){this.shape=m.clone(l.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=d;this.segmented=!1},setAbsoluteMode:function(d){this._confirmSegmented();this.absolute="string"==typeof d?"absolute"==d:d;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-
this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var d=this.bbox,e=this._getRealMatrix();this.bbox=null;for(var c=0,b=this.segments.length;c<b;++c)this._updateWithSegment(this.segments[c],e);e=this.bbox;this.bbox=d;return this.tbbox=e?[{x:e.l,y:e.t},{x:e.r,y:e.t},{x:e.r,y:e.b},{x:e.l,y:e.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},
_updateBBox:function(d,e,c){c&&(e=f.multiplyPoint(c,d,e),d=e.x,e=e.y);this.bbox&&"l"in this.bbox?(this.bbox.l>d&&(this.bbox.l=d),this.bbox.r<d&&(this.bbox.r=d),this.bbox.t>e&&(this.bbox.t=e),this.bbox.b<e&&(this.bbox.b=e)):this.bbox={l:d,b:e,r:d,t:e}},_updateWithSegment:function(d,e){var c=d.args,b=c.length,a;switch(d.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(a=0;a<b;a+=2)this._updateBBox(c[a],c[a+1],e);this.last.x=c[b-2];this.last.y=c[b-1];this.absolute=!0;break;case "H":for(a=
0;a<b;++a)this._updateBBox(c[a],this.last.y,e);this.last.x=c[b-1];this.absolute=!0;break;case "V":for(a=0;a<b;++a)this._updateBBox(this.last.x,c[a],e);this.last.y=c[b-1];this.absolute=!0;break;case "m":a=0;"x"in this.last||(this._updateBBox(this.last.x=c[0],this.last.y=c[1],e),a=2);for(;a<b;a+=2)this._updateBBox(this.last.x+=c[a],this.last.y+=c[a+1],e);this.absolute=!1;break;case "l":case "t":for(a=0;a<b;a+=2)this._updateBBox(this.last.x+=c[a],this.last.y+=c[a+1],e);this.absolute=!1;break;case "h":for(a=
0;a<b;++a)this._updateBBox(this.last.x+=c[a],this.last.y,e);this.absolute=!1;break;case "v":for(a=0;a<b;++a)this._updateBBox(this.last.x,this.last.y+=c[a],e);this.absolute=!1;break;case "c":for(a=0;a<b;a+=6)this._updateBBox(this.last.x+c[a],this.last.y+c[a+1],e),this._updateBBox(this.last.x+c[a+2],this.last.y+c[a+3],e),this._updateBBox(this.last.x+=c[a+4],this.last.y+=c[a+5],e);this.absolute=!1;break;case "s":case "q":for(a=0;a<b;a+=4)this._updateBBox(this.last.x+c[a],this.last.y+c[a+1],e),this._updateBBox(this.last.x+=
c[a+2],this.last.y+=c[a+3],e);this.absolute=!1;break;case "A":for(a=0;a<b;a+=7)this._updateBBox(c[a+5],c[a+6],e);this.last.x=c[b-2];this.last.y=c[b-1];this.absolute=!0;break;case "a":for(a=0;a<b;a+=7)this._updateBBox(this.last.x+=c[a+5],this.last.y+=c[a+6],e);this.absolute=!1}var f=[d.action];for(a=0;a<b;++a)f.push(l.formatNumber(c[a],!0));"string"==typeof this.shape.path?this.shape.path+=f.join(""):Array.prototype.push.apply(this.shape.path,f)},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,
z:0},_pushSegment:function(d,e){this.tbbox=null;var c=this._validSegments[d.toLowerCase()];"number"==typeof c&&(c?e.length>=c&&(c={action:d,args:e.slice(0,e.length-e.length%c)},this.segments.push(c),this._updateWithSegment(c)):(c={action:d,args:[]},this.segments.push(c),this._updateWithSegment(c)))},_collectArgs:function(d,e){for(var c=0;c<e.length;++c){var b=e[c];"boolean"==typeof b?d.push(b?1:0):"number"==typeof b?d.push(b):b instanceof Array?this._collectArgs(d,b):"x"in b&&"y"in b&&d.push(b.x,
b.y)}},moveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"M":"m",d);return this},lineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"L":"l",d);return this},hLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"H":"h",d);return this},vLineTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);
this._pushSegment(this.absolute?"V":"v",d);return this},curveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"C":"c",d);return this},smoothCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"S":"s",d);return this},qCurveTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"Q":"q",d);return this},qSmoothCurveTo:function(){this._confirmSegmented();
var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"T":"t",d);return this},arcTo:function(){this._confirmSegmented();var d=[];this._collectArgs(d,arguments);this._pushSegment(this.absolute?"A":"a",d);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var d=this.shape.path;this.shape.path=[];this._setPath(d);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(d){d=
m.isArray(d)?d:d.match(l.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(d){for(var e="",c=[],b=d.length,a=0;a<b;++a){var f=d[a],r=parseFloat(f);isNaN(r)?(e&&this._pushSegment(e,c),c=[],e=f):c.push(r)}this._pushSegment(e,c)}},setShape:function(d){this.inherited(arguments,["string"==typeof d?{path:d}:d]);this.segmented=!1;this.segments=[];l.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});k=k("dojox.gfx.path.TextPath",e,{constructor:function(d){"text"in
this||(this.text=m.clone(l.defaultTextPath));"fontStyle"in this||(this.fontStyle=m.clone(l.defaultFont))},getText:function(){return this.text},setText:function(d){this.text=l.makeParameters(this.text,"string"==typeof d?{text:d}:d);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(d){this.fontStyle="string"==typeof d?l.splitFontString(d):l.makeParameters(l.defaultFont,d);this._setFont();return this}});return l.path={Path:e,TextPath:k}})},"xl/monkeypatch/dijit/focus":function(){define("dijit/focus dijit/registry dojo/on dijit/a11y xl/util/stacktrace xl/util/domMethods".split(" "),
function(l,m,k,f,e,d){l.constructor.extend({ignoreIFrame:!1,registerWin:function(e,c){var b=this,a=e.document&&e.document.body,s;if(a){var r=k(e.document,"mousedown, touchstart",function(a){b._justMouseDowned=!0;setTimeout(function(){b._justMouseDowned=!1},0);if(!a||!(a.target&&null==a.target.parentNode))s=c&&"dijitEditorIFrame"==c.className&&a.target&&(d.domNodeIsParentedByClass(a.target,"eqEditor")||d.domNodeIsParentedByClass(a.target,"xlMathPalette"))?null:c,b._onTouchNode(s||a.target,"mouse")}),
t=k(a,"focusin",function(a){if(a.target.tagName){s=c&&"dijitEditorIFrame"==c.className&&a.target&&(d.domNodeIsParentedByClass(a.target,"eqEditor")||d.domNodeIsParentedByClass(a.target,"xlMathPalette"))?null:c;var h=a.target.tagName.toLowerCase();if(!("#document"==h||"body"==h)){if("iframe"==h){if(b.ignoreIFrame){b.ignoreIFrame=!1;return}b.ignoreIFrame=!1}f.isTabNavigable(a.target)?b._onFocusNode(s||a.target):b._onTouchNode(s||a.target)}}}),h=k(a,"focusout",function(a){s=c&&"dijitEditorIFrame"==c.className&&
a.target&&(d.domNodeIsParentedByClass(a.target,"eqEditor")||d.domNodeIsParentedByClass(a.target,"xlMathPalette"))?null:c;b._onBlurNode(s||a.target)});return{remove:function(){r.remove();t.remove();h.remove();a=r=t=h=null}}}}});return l})},"xl/util/stacktrace":function(){(function(l,m){"object"===typeof exports?module.exports=m():"function"===typeof define&&define.amd?define(m):l.printStackTrace=m()})(this,function(){function l(m){m=m||{guess:!0};var k=m.e||null;m=!!m.guess;var f=new l.implementation,
k=f.run(k);return m?f.guessAnonymousFunctions(k):k}l.implementation=function(){};l.implementation.prototype={run:function(l,k){l=l||this.createException();k=k||this.mode(l);return"other"===k?this.other(arguments.callee):this[k](l)},createException:function(){try{this.undef()}catch(l){return l}},mode:function(l){return l.arguments&&l.stack?"chrome":l.stack&&l.sourceURL?"safari":l.stack&&l.number?"ie":l.stack&&l.fileName?"firefox":l.message&&l["opera#sourceloc"]?!l.stacktrace||-1<l.message.indexOf("\n")&&
l.message.split("\n").length>l.stacktrace.split("\n").length?"opera9":"opera10a":l.message&&l.stack&&l.stacktrace?0>l.stacktrace.indexOf("called from line")?"opera10b":"opera11":l.stack&&!l.fileName?"chrome":"other"},instrumentFunction:function(m,k,f){m=m||window;var e=m[k];m[k]=function(){f.call(this,l().slice(4));return m[k]._instrumented.apply(this,arguments)};m[k]._instrumented=e},deinstrumentFunction:function(l,k){l[k].constructor===Function&&(l[k]._instrumented&&l[k]._instrumented.constructor===
Function)&&(l[k]=l[k]._instrumented)},chrome:function(l){return(l.stack+"\n").replace(/^[\s\S]+?\s+at\s+/," at ").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(0,-1)},safari:function(l){return l.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(l){return l.stack.replace(/^\s*at\s+(.*)$/gm,
"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(l){return l.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(l){var k=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/;l=l.stacktrace.split("\n");for(var f=[],e=0,d=l.length;e<d;e+=2){var n=k.exec(l[e]);if(n){var c=n[4]+":"+n[1]+":"+n[2],n=n[3]||"global code",n=n.replace(/<anonymous function: (\S+)>/,
"$1").replace(/<anonymous function>/,"{anonymous}");f.push(n+"@"+c+" -- "+l[e+1].replace(/^\s+/,""))}}return f},opera10b:function(l){var k=/^(.*)@(.+):(\d+)$/;l=l.stacktrace.split("\n");for(var f=[],e=0,d=l.length;e<d;e++){var n=k.exec(l[e]);n&&f.push((n[1]?n[1]+"()":"global code")+"@"+n[2]+":"+n[3])}return f},opera10a:function(l){var k=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;l=l.stacktrace.split("\n");for(var f=[],e=0,d=l.length;e<d;e+=2){var n=k.exec(l[e]);n&&f.push((n[3]||
"{anonymous}")+"()@"+n[2]+":"+n[1]+" -- "+l[e+1].replace(/^\s+/,""))}return f},opera9:function(l){var k=/Line (\d+).*script (?:in )?(\S+)/i;l=l.message.split("\n");for(var f=[],e=2,d=l.length;e<d;e+=2){var n=k.exec(l[e]);n&&f.push("{anonymous}()@"+n[2]+":"+n[1]+" -- "+l[e+1].replace(/^\s+/,""))}return f},other:function(l){for(var k=/function(?:\s+([\w$]+))?\s*\(/,f=[],e,d,n=Array.prototype.slice;l&&10>f.length;){e=k.test(l.toString())?RegExp.$1||"{anonymous}":"{anonymous}";try{d=n.call(l.arguments||
[])}catch(c){d=["Cannot access arguments: "+c]}f[f.length]=e+"("+this.stringifyArguments(d)+")";try{l=l.caller}catch(b){f[f.length]="Cannot access caller: "+b;break}}return f},stringifyArguments:function(l){for(var k=[],f=Array.prototype.slice,e=0;e<l.length;++e){var d=l[e];void 0===d?k[e]="undefined":null===d?k[e]="null":d.constructor&&(k[e]=d.constructor===Array?3>d.length?"["+this.stringifyArguments(d)+"]":"["+this.stringifyArguments(f.call(d,0,1))+"..."+this.stringifyArguments(f.call(d,-1))+"]":
d.constructor===Object?"#object":d.constructor===Function?"#function":d.constructor===String?'"'+d+'"':d.constructor===Number?d:"?")}return k.join(",")},sourceCache:{},ajax:function(l){var k=this.createXMLHTTPObject();if(k)try{return k.open("GET",l,!1),k.send(null),k.responseText}catch(f){}return""},createXMLHTTPObject:function(){for(var l,k=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],
f=0;f<k.length;f++)try{return l=k[f](),this.createXMLHTTPObject=k[f],l}catch(e){}},isSameDomain:function(l){return"undefined"!==typeof location&&-1!==l.indexOf(location.hostname)},getSource:function(l){l in this.sourceCache||(this.sourceCache[l]=this.ajax(l).split("\n"));return this.sourceCache[l]},guessAnonymousFunctions:function(l){for(var k=0;k<l.length;++k){var f=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,e=l[k],d=/\{anonymous\}\(.*\)@(.*)/.exec(e);if(d){var n=f.exec(d[1]);n&&(f=n[1],d=n[2],n=
n[3]||0,f&&(this.isSameDomain(f)&&d)&&(f=this.guessAnonymousFunction(f,d,n),l[k]=e.replace("{anonymous}",f)))}}return l},guessAnonymousFunction:function(l,k,f){var e;try{e=this.findFunctionName(this.getSource(l),k)}catch(d){e="getSource failed with url: "+l+", exception: "+d.toString()}return e},findFunctionName:function(l,k){for(var f=/function\s+([^(]*?)\s*\(([^)]*)\)/,e=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,d=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,
n="",c,b=Math.min(k,20),a,s=0;s<b;++s)if(c=l[k-s-1],a=c.indexOf("//"),0<=a&&(c=c.substr(0,a)),c)if(n=c+n,(c=e.exec(n))&&c[1]||(c=f.exec(n))&&c[1]||(c=d.exec(n))&&c[1])return c[1];return"(?)"}};return l})},"xl/util/domMethods":function(){define("dojo/dom-geometry dojo/has dojo/dom-style dojo/_base/lang dojo/dom-attr dojo/_base/array dojo/dom dojo/query dojo/dom-construct dijit/registry".split(" "),function(l,m,k,f,e,d,n,c,b,a){var s={getMarginBox:function(a){var b=null;m("mozilla")&&(b=k.getComputedStyle(a),
b={left:NaN,top:NaN,marginTop:b.marginTop,marginLeft:b.marginLeft,marginRight:b.marginRight,marginBottom:b.marginBottom});return l.getMarginBox(a,b)},domNodeIsParentedByClass:function(a,b){for(;a;){if(0<=(a.className||"").indexOf(b))return!0;a=a.parentNode}return!1},getAccessibleText:function(a,b){b=f.mixin(b,{includeContentWhenHasAriaLabel:!1});var h=[],c=!1;if(e.has(a,"aria-label"))h.push(e.get(a,"aria-label")),c=!0;else if(e.has(a,"aria-labelledby")){var c=e.get(a,"aria-labelledby"),d=n.byId(c);
d?c=!0:(d=n.byId(c,a),c=null!=d);c&&(d.fp_isarialabel=!0,h.push(s.getAccessibleText(d,b)))}if(!c||b.includeContentWhenHasAriaLabel)for(var d=a.childNodes,c=d.length,k=0;k<c;k++)if(3===d[k].nodeType){var l=d[k].nodeValue.replace(/^\s+|\s+$/gm,"");""!=l&&h.push(l)}else 1===d[k].nodeType&&(!d[k].fp_isarialabel&&"true"!=e.get(d[k],"aria-hidden"))&&h.push(s.getAccessibleText(d[k],b));return h.join(" ").trim()},cloneNode:function(a,b){if(!a||!a.cloneNode)return null;var h=a.cloneNode(!0);if(!b)return h;
h.removeAttribute("id");c("*",h).forEach(function(a){a.removeAttribute("id")});return h},closest:function(a,b){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);var h=a;do{if(h.matches(b))return h;h=h.parentElement||h.parentNode}while(null!==h&&1===h.nodeType);return null},deleteNode:function(c){d.forEach(a.findWidgets(c),function(a){a.destroyRecursive()});b.destroy(c)},addLangAttrToHtmlTag:function(a){a&&a.culture&&(a=a.culture.split("-"),c("html").attr("lang",
a[0]))}};return s})},"xl/monkeypatch/dojo/dnd/Mover":function(){define(["dojo/dnd/Mover"],function(l){l.extend({onMouseUp:function(l){this.destroy();l.preventDefault();l.stopPropagation()}})})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t){return m("dojo.dnd.Mover",[b],{constructor:function(b,c,e){function r(a){a.preventDefault();
a.stopPropagation()}this.node=d.byId(b);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=e;b=b.ownerDocument;this.events=[a(b,s.move,k.hitch(this,"onFirstMove")),a(b,s.move,k.hitch(this,"onMouseMove")),a(b,s.release,k.hitch(this,"onMouseUp")),a(b,"dragstart",r),a(b.body,"selectstart",r)];t.autoScrollStart(b);if(c&&c.onMoveStart)c.onMoveStart(this)},onMouseMove:function(a){t.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();
a.stopPropagation()},onMouseUp:function(a){(f("webkit")&&f("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var b=this.node.style,d,r=this.host;switch(b.position){case "relative":case "absolute":d=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;default:b.position="absolute";b=n.getMarginBox(this.node);d=e.doc.body;var f=c.getComputedStyle(d),t=n.getMarginBox(d,f),f=n.getContentBox(d,
f);d=b.l-(f.l-t.l);b=b.t-(f.t-t.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=b-this.marginBox.t;if(r&&r.onFirstMove)r.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){l.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(l,m,k,f){var e=k.getObject("dojo.dnd",!0);e.getCopyKeyState=
function(d){return d[l("mac")?"metaKey":"ctrlKey"]};e._uniqueId=0;e.getUniqueId=function(){var d;do d=m._scopeName+"Unique"+ ++e._uniqueId;while(f.byId(d));return d};e._empty={};e.isFormElement=function(d){d=d.target;3==d.nodeType&&(d=d.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+d.tagName.toLowerCase()+" ")};return e})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(l,m,k,
f,e,d){var n={};l.setObject("dojo.dnd.autoscroll",n);n.getViewport=d.getBox;n.V_TRIGGER_AUTOSCROLL=32;n.H_TRIGGER_AUTOSCROLL=32;n.V_AUTOSCROLL_VALUE=16;n.H_AUTOSCROLL_VALUE=16;var c,b=k.doc,a=Infinity,s=Infinity;n.autoScrollStart=function(e){b=e;c=d.getBox(b);e=k.body(b).parentNode;a=Math.max(e.scrollHeight-c.h,0);s=Math.max(e.scrollWidth-c.w,0)};n.autoScroll=function(e){var f=c||d.getBox(b),h=k.body(b).parentNode,q=0,u=0;e.clientX<n.H_TRIGGER_AUTOSCROLL?q=-n.H_AUTOSCROLL_VALUE:e.clientX>f.w-n.H_TRIGGER_AUTOSCROLL&&
(q=Math.min(n.H_AUTOSCROLL_VALUE,s-h.scrollLeft));e.clientY<n.V_TRIGGER_AUTOSCROLL?u=-n.V_AUTOSCROLL_VALUE:e.clientY>f.h-n.V_TRIGGER_AUTOSCROLL&&(u=Math.min(n.V_AUTOSCROLL_VALUE,a-h.scrollTop));window.scrollBy(q,u)};n._validNodes={div:1,p:1,td:1};n._validOverflow={auto:1,scroll:1};n.autoScrollNodes=function(a){for(var b,h,c,d,s,l,x=0,A=0,z=a.target;z;){if(1==z.nodeType&&z.tagName.toLowerCase()in n._validNodes){c=e.getComputedStyle(z);d=c.overflow.toLowerCase()in n._validOverflow;s=c.overflowX.toLowerCase()in
n._validOverflow;l=c.overflowY.toLowerCase()in n._validOverflow;if(d||s||l)b=f.getContentBox(z,c),h=f.position(z,!0);if(d||s){c=Math.min(n.H_TRIGGER_AUTOSCROLL,b.w/2);s=a.pageX-h.x;if(m("webkit")||m("opera"))s+=k.body().scrollLeft;x=0;0<s&&s<b.w&&(s<c?x=-c:s>b.w-c&&(x=c),z.scrollLeft+=x)}if(d||l){d=Math.min(n.V_TRIGGER_AUTOSCROLL,b.h/2);l=a.pageY-h.y;if(m("webkit")||m("opera"))l+=k.body().scrollTop;A=0;0<l&&l<b.h&&(l<d?A=-d:l>b.h-d&&(A=d),z.scrollTop+=A)}if(x||A)return}try{z=z.parentNode}catch(C){z=
null}}n.autoScroll(a)};return n})},"xl/monkeypatch/dojo/dnd/Source":function(){define(["dojo/dnd/Source","dojo/dnd/common"],function(l,m){l.extend({onDropExternal:function(k,f,e){var d=this._normalizedCreator;this._normalizedCreator=this.creator?function(e,c){return d.call(this,k.getItem(e.id).data,c)}:e?function(d){var c=k.getItem(d.id);d=d.cloneNode(!0);d.id=m.getUniqueId();return{node:d,data:c.data,type:c.type}}:function(d){var c=k.getItem(d.id);k.delItem(d.id);return{node:d,data:c.data,type:c.type}};
this.selectNone();!e&&!this.creator&&k.selectNone();this.disallowInsertNodes||this.insertNodes(!0,f,this.before,this.current);!e&&this.creator&&k.deleteSelectedNodes();this._normalizedCreator=d}})})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r){k.isAsync||c(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});
var t=m("dojo.dnd.Source",s,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,c){f.mixin(this,f.mixin({},c));var d=this.accept;if(d.length){this.accept={};for(var r=0;r<d.length;++r)this.accept[d[r]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&e.add(this.node,"dojoDndSource");this.targetState=
"";this.accept&&e.add(this.node,"dojoDndTarget");this.horizontal&&e.add(this.node,"dojoDndHorizontal");this.topics=[b.subscribe("/dnd/source/over",f.hitch(this,"onDndSourceOver")),b.subscribe("/dnd/start",f.hitch(this,"onDndStart")),b.subscribe("/dnd/drop",f.hitch(this,"onDndDrop")),b.subscribe("/dnd/cancel",f.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,e=!1,r=0;r<d.length;++r)if(d[r]in
this.accept){e=!0;break}if(!e)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==r.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){t.superclass.destroy.call(this);l.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(b){if(!(this.isDragging&&"Disabled"==this.targetState)){t.superclass.onMouseMove.call(this,b);var c=r.manager();if(!this.isDragging&&this.mouseDown&&
this.isSource&&(Math.abs(b.pageX-this._lastX)>this.delay||Math.abs(b.pageY-this._lastY)>this.delay)){var e=this.getSelectedNodes();e.length&&c.startDrag(this,e,this.copyState(a.getCopyKeyState(b),!0))}if(this.isDragging){e=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=d.position(this.current,!0);e=this.horizontal?b.pageX-this.targetBox.x<this.targetBox.w/2==d.isBodyLtr(this.current.ownerDocument):b.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=
this.targetAnchor||e!=this.before)this._markTargetAnchor(e),c.canDrop(!this.current||c.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(b){if(!this.mouseDown&&this._legalMouseDown(b)&&(!this.skipForm||!a.isFormElement(b)))this.mouseDown=!0,this._lastX=b.pageX,this._lastY=b.pageY,t.superclass.onMouseDown.call(this,b)},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,t.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&
this._unmarkTargetAnchor()):this.isDragging&&(a=r.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?"":"Disabled");this==a&&r.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,d){if(this==d)this.onDrop(a,b,c);
this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(b,c,d){var e=this._normalizedCreator;this._normalizedCreator=this.creator?function(a,c){return e.call(this,b.getItem(a.id).data,c)}:d?function(c){var d=b.getItem(c.id);
c=c.cloneNode(!0);c.id=a.getUniqueId();return{node:c,data:d.data,type:d.type}}:function(a){var c=b.getItem(a.id);b.delItem(a.id);return{node:a,data:c.data,type:c.type}};this.selectNone();!d&&!this.creator&&b.selectNone();this.insertNodes(!0,c,this.before,this.current);!d&&this.creator&&b.deleteSelectedNodes();this._normalizedCreator=e},onDropInternal:function(b,c){var d=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(a,
b){return d.call(this,this.getItem(a.id).data,b)}:function(b){var c=this.getItem(b.id);b=b.cloneNode(!0);b.id=a.getUniqueId();return{node:b,data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,b,this.before,this.current);this._normalizedCreator=d}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){t.superclass.onOverEvent.call(this);
r.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){t.superclass.onOutEvent.call(this);r.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&
this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!n.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(e.contains(a,"dojoDndHandle"))return!0;
if(e.contains(a,"dojoDndItem")||e.contains(a,"dojoDndIgnore"))break}return!1}});return t})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r){var t=m("dojo.dnd.Selector",r,{constructor:function(c,d){d||(d={});this.singular=d.singular;this.autoSync=d.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;
this.events.push(b(this.node,a.press,f.hitch(this,"onMouseDown")),b(this.node,a.release,f.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new c,b=s._empty,d;for(d in this.selection)d in b||a.push(e.byId(d));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,b){this._addItemClass(e.byId(b),"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=s._empty,
b;for(b in this.selection)if(!(b in a)){var c=e.byId(b);this.delItem(b);d.destroy(c)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||k.global;var c=this.selection,d=s._empty,e;for(e in c)e in d||a.call(b,this.getItem(e),e,this)},sync:function(){t.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=s._empty,c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);l.forEach(a,function(a){delete this.selection[a]},
this);return this},insertNodes:function(a,b,c,d){var e=this._normalizedCreator;this._normalizedCreator=function(b,c){var d=e.call(this,b,c);a?(this.anchor?this.anchor!=d.node&&(this._removeItemClass(d.node,"Anchor"),this._addItemClass(d.node,"Selected")):(this.anchor=d.node,this._removeItemClass(d.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[d.node.id]=1):(this._removeItemClass(d.node,"Selected"),this._removeItemClass(d.node,"Anchor"));return d};t.superclass.insertNodes.call(this,
b,c,d);this._normalizedCreator=e;return this},destroy:function(){t.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!s.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,n.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){s.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=
b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var c=0,d;c<b.length&&!(d=b[c],d==this.anchor||d==this.current);++c);for(++c;c<b.length;++c){d=b[c];if(d==this.anchor||d==this.current)break;this._addItemClass(d,"Selected");this.selection[d.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?s.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=
this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):s.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=
1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=b(this.node,
a.move,f.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=s._empty,b;for(b in this.selection)if(!(b in a)){var c=e.byId(b);c&&this._removeItemClass(c,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this.anchor=null);return this}});return t})},"dojo/_base/NodeList":function(){define(["./kernel","../query",
"./array","./html","../NodeList-dom"],function(l,m,k){m=m.NodeList;var f=m.prototype;f.connect=m._adaptAsForEach(function(){return l.connect.apply(this,arguments)});f.coords=m._adaptAsMap(l.coords);m.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");k.forEach(m.events,function(e){var d="on"+e;f[d]=function(e,c){return this.connect(d,e,c)}});return l.NodeList=m})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),
function(l,m,k,f,e,d,n,c){l.byId=m.byId;l.isDescendant=m.isDescendant;l.setSelectable=m.setSelectable;l.getAttr=f.get;l.setAttr=f.set;l.hasAttr=f.has;l.removeAttr=f.remove;l.getNodeProp=f.getNodeProp;l.attr=function(b,a,c){return 2==arguments.length?f["string"==typeof a?"get":"set"](b,a):f.set(b,a,c)};l.hasClass=d.contains;l.addClass=d.add;l.removeClass=d.remove;l.toggleClass=d.toggle;l.replaceClass=d.replace;l._toDom=l.toDom=n.toDom;l.place=n.place;l.create=n.create;l.empty=function(b){n.empty(b)};
l._destroyElement=l.destroy=function(b){n.destroy(b)};l._getPadExtents=l.getPadExtents=c.getPadExtents;l._getBorderExtents=l.getBorderExtents=c.getBorderExtents;l._getPadBorderExtents=l.getPadBorderExtents=c.getPadBorderExtents;l._getMarginExtents=l.getMarginExtents=c.getMarginExtents;l._getMarginSize=l.getMarginSize=c.getMarginSize;l._getMarginBox=l.getMarginBox=c.getMarginBox;l.setMarginBox=c.setMarginBox;l._getContentBox=l.getContentBox=c.getContentBox;l.setContentSize=c.setContentSize;l._isBodyLtr=
l.isBodyLtr=c.isBodyLtr;l._docScroll=l.docScroll=c.docScroll;l._getIeDocumentElementOffset=l.getIeDocumentElementOffset=c.getIeDocumentElementOffset;l._fixIeBiDiScrollLeft=l.fixIeBiDiScrollLeft=c.fixIeBiDiScrollLeft;l.position=c.position;l.marginBox=function(b,a){return a?c.setMarginBox(b,a):c.getMarginBox(b)};l.contentBox=function(b,a){return a?c.setContentSize(b,a):c.getContentBox(b)};l.coords=function(b,a){l.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");b=m.byId(b);var d=
k.getComputedStyle(b),d=c.getMarginBox(b,d),e=c.position(b,a);d.x=e.x;d.y=e.y;return d};l.getProp=e.get;l.setProp=e.set;l.prop=function(b,a,c){return 2==arguments.length?e["string"==typeof a?"get":"set"](b,a):e.set(b,a,c)};l.getStyle=k.get;l.setStyle=k.set;l.getComputedStyle=k.getComputedStyle;l.__toPixelValue=l.toPixelValue=k.toPixelValue;l.style=function(b,a,c){switch(arguments.length){case 1:return k.get(b);case 2:return k["string"==typeof a?"get":"set"](b,a)}return k.set(b,a,c)};return l})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(l,m,k,f,e,d,n,c,b){function a(a){return function(b,c,h){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,h)}}var s=function(a){return 1==a.length&&"string"==typeof a[0]},r=function(a){var b=a.parentNode;b&&b.removeChild(a)},t=m.NodeList,h=t._adaptWithCondition,q=t._adaptAsForEach,u=t._adaptAsMap;f.extend(t,{_normalize:function(a,b){var c=!0===a.parse;if("string"==typeof a.template){var h=a.templateFunc||l.string&&l.string.substitute;a=h?h(a.template,a):a}h=typeof a;
"string"==h||"number"==h?(a=d.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?f._toArray(a.childNodes):[a]):f.isArrayLike(a)?f.isArray(a)||(a=f._toArray(a)):a=[a];c&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,b,c,h){if(!(1!=b.nodeType&&"only"==c))for(var q,e=a.length,r=e-1;0<=r;r--){var f=h?this._cloneNode(a[r]):a[r];if(a._runParse&&l.parser&&l.parser.parse){q||(q=b.ownerDocument.createElement("div"));q.appendChild(f);l.parser.parse(q);for(f=q.firstChild;q.firstChild;)q.removeChild(q.firstChild)}r==
e-1?d.place(f,b,c):b.parentNode.insertBefore(f,b);b=f}},position:u(n.position),attr:h(a(c),s),style:h(a(b),s),addClass:q(e.add),removeClass:q(e.remove),toggleClass:q(e.toggle),replaceClass:q(e.replace),empty:q(d.empty),removeAttr:q(c.remove),marginBox:u(n.getMarginBox),place:function(a,b){var c=m(a)[0];return this.forEach(function(a){d.place(a,c,b)})},orphan:function(a){return(a?m._filterResult(this,a):this).forEach(r)},adopt:function(a,b){return m(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;
var b=new t;this.map(function(c){m(a,c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,c=this,h=0;if("string"==typeof a){c=m._filterResult(this,b[0]);if(1==b.length)return c._stash(this);h=1}return this._wrap(k.filter(c,b[h],b[h+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var c=0,h;h=this[c];c++)a.length?this._place(a,h,b,0<c):d.empty(h);return this}});return t})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h){m=m("dojo.dnd.Container",b,{skipForm:!1,allowNested:!1,constructor:function(a,b){this.node=d.byId(a);b||(b={});this.creator=b.creator||null;this.skipForm=b.skipForm;this.parent=b.dropParent&&d.byId(b.dropParent);this.map={};this.current=null;this.containerState="";n.add(this.node,"dojoDndContainer");(!b||!b._skipStartup)&&this.startup();this.events=[s(this.node,t.over,f.hitch(this,"onMouseOver")),s(this.node,t.out,f.hitch(this,"onMouseOut")),s(this.node,"dragstart",
f.hitch(this,"onSelectStart")),s(this.node,"selectstart",f.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){b=b||k.global;var c=this.map,d=h._empty,e;for(e in c)e in d||a.call(b,c[e],e,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return r((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=
this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=h.getUniqueId();var c=b.getAttribute("dndType"),d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){this.parent.firstChild?b?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var h;if(c)for(b=0;b<a.length;++b)h=this._normalizedCreator(a[b]),this.setItem(h.node.id,{data:h.data,type:h.type}),c.parentNode.insertBefore(h.node,c);else for(b=0;b<
a.length;++b)h=this._normalizedCreator(a[b]),this.setItem(h.node.id,{data:h.data,type:h.type}),this.parent.appendChild(h.node);return this},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=
a[0])}this.defaultCreator=h._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&b!=this.node;)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&
(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||!h.isFormElement(a))a.stopPropagation(),a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,h=a.toLowerCase()+"State";n.replace(this.node,c+b,c+this[h]);this[h]=b},_addItemClass:function(a,b){n.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){n.remove(a,"dojoDndItem"+b)},
_getChildByEvent:function(a){if(a=a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&n.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,b){var c=(this.creator||this.defaultCreator).call(this,a,b);f.isArray(c.type)||(c.type=["text"]);c.node.id||(c.node.id=h.getUniqueId());n.add(c.node,"dojoDndItem");return c}});h._createNode=function(a){return!a?h._createSpan:function(b){return c.create(a,{innerHTML:b})}};h._createTrTd=function(a){var b=
c.create("tr");c.create("td",{innerHTML:a},b);return b};h._createSpan=function(a){return c.create("span",{innerHTML:a})};h._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};h._defaultCreator=function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?h._createTrTd:h._createNode(h._defaultCreatorNodes[a]);return function(a,c){var d=a&&f.isObject(a),q,e;d&&a.tagName&&a.nodeType&&a.getAttribute?(q=a.getAttribute("dndData")||a.innerHTML,d=(d=a.getAttribute("dndType"))?d.split(/\s*,\s*/):
["text"],e=a):(q=d&&a.data?a.data:a,d=d&&a.type?a.type:["text"],e=("avatar"==c?h._createSpan:b)(String(q)));e.id||(e.id=h.getUniqueId());return{node:e,data:q,type:d}}};return m})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h){var q=m("dojo.dnd.Manager",[d],{constructor:function(){this.source=this.avatar=
null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:n("touch")?0:16,OFFSET_Y:n("touch")?-64:16,overSource:function(b){this.avatar&&(this.target=b&&"Disabled"!=b.targetState?b:null,this.canDropFlag=Boolean(this.target),this.avatar.update());a.publish("/dnd/source/over",b)},outSource:function(b){this.avatar?this.target==b&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),a.publish("/dnd/source/over",null)):a.publish("/dnd/source/over",null)},startDrag:function(c,
h,d){function q(a){a.preventDefault();a.stopPropagation()}t.autoScrollStart(f.doc);this.source=c;this.nodes=h;this.copy=Boolean(d);this.avatar=this.makeAvatar();f.body().appendChild(this.avatar.node);a.publish("/dnd/start",c,h,this.copy);this.events=[b(f.doc,s.move,k.hitch(this,"onMouseMove")),b(f.doc,s.release,k.hitch(this,"onMouseUp")),b(f.doc,"keydown",k.hitch(this,"onKeyDown")),b(f.doc,"keyup",k.hitch(this,"onKeyUp")),b(f.doc,"dragstart",q),b(f.body(),"selectstart",q)];e.add(f.body(),"dojoDnd"+
(d?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){e.remove(f.body(),["dojoDndCopy","dojoDndMove"]);l.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new h(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var b=this.avatar;b&&(t.autoScrollNodes(a),b=b.node.style,
b.left=a.pageX+this.OFFSET_X+"px",b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(r.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b));n("touch")&&a.preventDefault()},onMouseUp:function(b){if(this.avatar){if(this.target&&this.canDropFlag){var c=Boolean(this.source.copyState(r.getCopyKeyState(b)));a.publish("/dnd/drop/before",this.source,this.nodes,c,this.target,b);a.publish("/dnd/drop",this.source,this.nodes,c,this.target,b)}else a.publish("/dnd/cancel");this.stopDrag()}},
onKeyDown:function(b){if(this.avatar)switch(b.keyCode){case c.CTRL:b=Boolean(this.source.copyState(!0));this.copy!=b&&this._setCopyStatus(b);break;case c.ESCAPE:a.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==c.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();e.replace(f.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?
"Move":"Copy"))}});r._manager=null;q.manager=r.manager=function(){r._manager||(r._manager=new q);return r._manager};return q})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),function(l,m,k,f,e,d,n,c){return l("dojo.dnd.Avatar",null,{constructor:function(b){this.manager=b;this.construct()},construct:function(){var b=d.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",
margin:"0px"}}),a=this.manager.source,c,e=d.create("tbody",null,b),t=d.create("tr",null,e),h=d.create("td",null,t),q=Math.min(5,this.manager.nodes.length),u=0;n("highcontrast")&&d.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},h);d.create("span",{innerHTML:a.generateText?this._generateText():""},h);for(f.set(t,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});u<q;++u)a.creator?c=a._normalizedCreator(a.getItem(this.manager.nodes[u].id).data,"avatar").node:(c=this.manager.nodes[u].cloneNode(!0),
"tr"==c.tagName.toLowerCase()&&(t=d.create("table"),d.create("tbody",null,t).appendChild(c),c=t)),c.id="",t=d.create("tr",null,e),h=d.create("td",null,t),h.appendChild(c),f.set(t,{"class":"dojoDndAvatarItem",style:{opacity:(9-u)/10}});this.node=b},destroy:function(){d.destroy(this.node);this.node=!1},update:function(){e.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(n("highcontrast")){var b=k.byId("a11yIcon"),a="+";this.manager.canDropFlag&&!this.manager.copy?a="\x3c ":!this.manager.canDropFlag&&
!this.manager.copy?a="o":this.manager.canDropFlag||(a="x");b.innerHTML=a}c("tr.dojoDndAvatarHeader td span"+(n("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},"xl/monkeypatch/dijit/_HasDropDown":function(){define("dijit/_HasDropDown dojo/has dojo/_base/event dojo/dom-geometry dojo/dom-class dijit/registry".split(" "),function(l,m,k,f,e,
d){l.extend({_onDropDownMouseUp:function(k){k&&this._docHandler&&(this._docHandler.remove(),this._docHandler=null);var c=this.dropDown,b=!1;if(k&&this._opened){var a=f.position(this._buttonNode,!0);if(!(k.pageX>=a.x&&k.pageX<=a.x+a.w)||!(k.pageY>=a.y&&k.pageY<=a.y+a.h)){for(a=k.target;a&&!b;)e.contains(a,"dijitPopup")?b=!0:a=a.parentNode;if(b){a=k.target;if(c.onItemClick){for(b=null;a&&!(b=d.byNode(a));)a=a.parentNode;if(b&&(b.onClick&&b.getParent)&&b.getParent())b.getParent().onItemClick(b,k)}return}}}if(this._opened){if(c.focus&&
(!1!==c.autoFocus||"mouseup"===k.type&&!this.hovering))this._focusDropDownTimer=this.defer(function(){c.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")}});return l})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u){return l("dijit._HasDropDown",
u,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(b){!this.disabled&&!this.readOnly&&("MSPointerDown"!=b.type&&"pointerdown"!=b.type&&b.preventDefault(),this._docHandler=this.own(s(this.ownerDocument,r.release,a.hitch(this,"_onDropDownMouseUp")))[0],this.toggleDropDown())},_onDropDownMouseUp:function(a){a&&this._docHandler&&(this._docHandler.remove(),
this._docHandler=null);var b=this.dropDown,c=!1;if(a&&this._opened){var h=d.position(this._buttonNode,!0);if(!(a.pageX>=h.x&&a.pageX<=h.x+h.w)||!(a.pageY>=h.y&&a.pageY<=h.y+h.h)){for(h=a.target;h&&!c;)e.contains(h,"dijitPopup")?c=!0:h=h.parentNode;if(c){h=a.target;if(b.onItemClick){for(var q;h&&!(q=t.byNode(h));)h=h.parentNode;if(q&&q.onClick&&q.getParent)q.getParent().onItemClick(q,a)}return}}}if(this._opened){if(b.focus&&(!1!==b.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=
this.defer(function(){b.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";e.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var b=this.focusNode||this.domNode;this.own(s(this._buttonNode,r.press,a.hitch(this,"_onDropDownMouseDown")),s(this._buttonNode,"click",a.hitch(this,"_onDropDownClick")),s(b,"keydown",a.hitch(this,"_onKey")),s(b,"keyup",a.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||
this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var c=this.dropDown,h=a.target;if(c&&(this._opened&&c.handleKey)&&!1===c.handleKey(a))a.stopPropagation(),a.preventDefault();else if(c&&this._opened&&a.keyCode==b.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==b.DOWN_ARROW||(a.keyCode==b.ENTER||a.keyCode==b.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&
("input"!==(h.tagName||"").toLowerCase()||h.type&&"text"!==h.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var b=this.dropDown;b&&b.focus&&this.defer(a.hitch(b,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var b=new m,c=a.hitch(this,function(){this.openDropDown();
b.resolve(this.dropDown)});this.isLoaded()?c():this.loadDropDown(c);return b},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var b=this.dropDown,c=b.domNode,h=this._aroundNode||this.domNode,r=this,u=q.open({parent:this,popup:b,around:h,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){r.closeDropDown(!0)},onCancel:function(){r.closeDropDown(!0)},onClose:function(){f.set(r._popupStateNode,
"popupActive",!1);e.remove(r._popupStateNode,"dijitHasDropDownOpen");r._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&h.offsetWidth>b._popupWrapper.offsetWidth)h={w:h.offsetWidth-(b._popupWrapper.offsetWidth-b.domNode.offsetWidth)},a.isFunction(b.resize)?b.resize(h):d.setMarginBox(c,h);f.set(this._popupStateNode,"popupActive","true");e.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",
b.id);"presentation"!==c.getAttribute("role")&&!c.getAttribute("aria-labelledby")&&c.setAttribute("aria-labelledby",this.id);return u},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus(),q.close(this.dropDown),this._opened=!1)}})})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),
function(l,m,k,f,e,d,n){var c=function(){},b=Object.freeze||function(){},a=l.Deferred=function(s){function r(a){if(q)throw Error("This deferred has already been resolved");h=a;q=!0;t()}function t(){for(var a;!a&&A;){var b=A;A=A.next;if(a=b.progress==c)q=!1;var r=l?b.error:b.resolved;e("config-useDeferredInstrumentation")&&l&&m.instrumentRejected&&m.instrumentRejected(h,!!r);if(r)try{var f=r(h);f&&"function"===typeof f.then?f.then(d.hitch(b.deferred,"resolve"),d.hitch(b.deferred,"reject"),d.hitch(b.deferred,
"progress")):(r=a&&void 0===f,a&&!r&&(l=f instanceof Error),b.deferred[r&&l?"reject":"resolve"](r?h:f))}catch(u){b.deferred.reject(u)}else l?b.deferred.reject(h):b.deferred.resolve(h)}}var h,q,u,n,l,x,A,z=this.promise=new k;this.isResolved=z.isResolved=function(){return 0==n};this.isRejected=z.isRejected=function(){return 1==n};this.isFulfilled=z.isFulfilled=function(){return 0<=n};this.isCanceled=z.isCanceled=function(){return u};this.resolve=this.callback=function(a){this.fired=n=0;this.results=
[a,null];r(a)};this.reject=this.errback=function(a){l=!0;this.fired=n=1;e("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(a,!!A);r(a);this.results=[null,a]};this.progress=function(a){for(var b=A;b;){var c=b.progress;c&&c(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,c);return this};z.then=this.then=function(b,h,d){var e=d==c?this:new a(z.cancel);b={resolved:b,error:h,progress:d,deferred:e};A?x=x.next=b:A=x=b;q&&t();return e.promise};var C=this;z.cancel=
this.cancel=function(){if(!q){var a=s&&s(C);q||(a instanceof Error||(a=new f(a)),a.log=!1,C.reject(a))}u=!0};b(z)};d.extend(a,{addCallback:function(a){return this.addCallbacks(d.hitch.apply(l,arguments))},addErrback:function(a){return this.addCallbacks(null,d.hitch.apply(l,arguments))},addBoth:function(a){var b=d.hitch.apply(l,arguments);return this.addCallbacks(b,b)},fired:-1});a.when=l.when=n;return a})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u){function v(){this._popupWrapper&&(d.destroy(this._popupWrapper),delete this._popupWrapper)}k=k(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=n.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var h=this._stack[b].wrapper.style;h.top=parseInt(h.top,10)+a+"px";"auto"==h.right?h.left=parseInt(h.left,10)+
c+"px":h.right=parseInt(h.right,10)-c+"px"}}this._aroundMoveListener=setTimeout(s.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;b||(b=d.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,m.after(a,"destroy",v,!0));return b},moveOffScreen:function(a){var b=
this._createWrapper(a);a=n.isBodyLtr(a.ownerDocument);var h={visibility:"hidden",top:"-9999px",display:""};h[a?"left":"right"]="-9999px";h[a?"right":"left"]="auto";c.set(b,h);return b},hide:function(a){var b=this._createWrapper(a);c.set(b,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(d){for(var u=
this._stack,k=d.popup,l=k.domNode,v=d.orient||["below","below-alt","above","above-alt"],m=d.parent?d.parent.isLeftToRight():n.isBodyLtr(k.ownerDocument),B=d.around,D=d.around&&d.around.id?d.around.id+"_dropdown":"popup_"+this._idGen++;u.length&&(!d.parent||!f.isDescendant(d.parent.domNode,u[u.length-1].widget.domNode));)this.close(u[u.length-1].widget);var E=this.moveOffScreen(k);k.startup&&!k._started&&k.startup();var J,N=n.position(l);if("maxHeight"in d&&-1!=d.maxHeight)J=d.maxHeight||Infinity;
else{J=q.getEffectiveBox(this.ownerDocument);var O=B?n.position(B,!1):{y:d.y-(d.padding||0),h:2*(d.padding||0)};J=Math.floor(Math.max(O.y,J.h-(O.y+O.h)))}N.h>J&&(N=c.getComputedStyle(l),c.set(E,{overflowY:"scroll",height:J+"px",border:N.borderLeftWidth+" "+N.borderLeftStyle+" "+N.borderLeftColor}),l._originalStyle=l.style.cssText,l.style.border="none");e.set(E,{id:D,style:{zIndex:this._beginZIndex+u.length},"class":"dijitPopup "+(k.baseClass||k["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:d.parent?
d.parent.id:""});0==u.length&&B&&(this._firstAroundNode=B,this._firstAroundPosition=n.position(B,!0),this._aroundMoveListener=setTimeout(s.hitch(this,"_repositionAll"),50));b("config-bgIframe")&&!k.bgIframe&&(k.bgIframe=new h(E));D=k.orient?s.hitch(k,"orient"):null;v=B?t.around(E,B,v,m,D):t.at(E,d,"R"==v?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],d.padding,D);E.style.visibility="visible";l.style.visibility="visible";l=[];l.push(r(E,"keydown",s.hitch(this,function(b){if(b.keyCode==a.ESCAPE&&d.onCancel)b.stopPropagation(),
b.preventDefault(),d.onCancel();else if(b.keyCode==a.TAB&&(b.stopPropagation(),b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));k.onCancel&&d.onCancel&&l.push(k.on("cancel",d.onCancel));l.push(k.on(k.onExecute?"execute":"change",s.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));u.push({widget:k,wrapper:E,parent:d.parent,onExecute:d.onExecute,onCancel:d.onCancel,onClose:d.onClose,handlers:l});if(k.onOpen)k.onOpen(v);return v},close:function(a){for(var b=
this._stack;a&&l.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),h=c.widget,d=c.onClose;if(h.onClose)h.onClose();for(var q;q=c.handlers.pop();)q.remove();h&&h.domNode&&this.hide(h);d&&d()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return u.popup=new k})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),
function(l,m,k,f,e,d,n){function c(a,b,c,f){var h=d.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&e.body(a.ownerDocument).appendChild(a);var q=null;l.some(b,function(b){var d=b.corner,e=b.pos,u=0,k={w:{L:h.l+h.w-e.x,R:e.x-h.l,M:h.w}[d.charAt(1)],h:{T:h.t+h.h-e.y,B:e.y-h.t,M:h.h}[d.charAt(0)]},s=a.style;s.left=s.right="auto";c&&(u=c(a,b.aroundCorner,d,k,f),u="undefined"==typeof u?0:u);var n=a.style,l=n.display,v=n.visibility;"none"==n.display&&
(n.visibility="hidden",n.display="");s=m.position(a);n.display=l;n.visibility=v;l={L:e.x,R:e.x-s.w,M:Math.max(h.l,Math.min(h.l+h.w,e.x+(s.w>>1))-s.w)}[d.charAt(1)];v={T:e.y,B:e.y-s.h,M:Math.max(h.t,Math.min(h.t+h.h,e.y+(s.h>>1))-s.h)}[d.charAt(0)];e=Math.max(h.l,l);n=Math.max(h.t,v);l=Math.min(h.l+h.w,l+s.w);v=Math.min(h.t+h.h,v+s.h);l-=e;v-=n;u+=s.w-l+(s.h-v);if(null==q||u<q.overflow)q={corner:d,aroundCorner:b.aroundCorner,x:e,y:n,w:l,h:v,overflow:u,spaceAvailable:k};return!u});q.overflow&&c&&c(a,
q.aroundCorner,q.corner,q.spaceAvailable,f);b=m.isBodyLtr(a.ownerDocument);var u=q.y,n=b?q.x:h.w-q.x-q.w;/relative|absolute/.test(k.get(e.body(a.ownerDocument),"position"))&&(u-=k.get(e.body(a.ownerDocument),"marginTop"),n-=(b?1:-1)*k.get(e.body(a.ownerDocument),b?"marginLeft":"marginRight"));var w=a.style;w.top=u+"px";w[b?"left":"right"]=n+"px";w[b?"right":"left"]="auto";return q}var b={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return n.place={at:function(a,d,e,f,h){e=l.map(e,function(a){var c={corner:a,
aroundCorner:b[a],pos:{x:d.x,y:d.y}};f&&(c.pos.x+="L"==a.charAt(1)?f.x:-f.x,c.pos.y+="T"==a.charAt(0)?f.y:-f.y);return c});return c(a,e,h)},around:function(a,b,d,e,h){function q(a,b){E.push({aroundCorner:a,corner:b,pos:{x:{L:C,R:C+B,M:C+(B>>1)}[a.charAt(1)],y:{T:F,B:F+D,M:F+(D>>1)}[a.charAt(0)]}})}var u;if("string"==typeof b||"offsetWidth"in b){if(u=m.position(b,!0),/^(above|below)/.test(d[0])){var n=m.getBorderExtents(b),w=b.firstChild?m.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},x=m.getBorderExtents(a),
A=a.firstChild?m.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};u.y+=Math.min(n.t+w.t,x.t+A.t);u.h-=Math.min(n.t+w.t,x.t+A.t)+Math.min(n.b+w.b,x.b+A.b)}}else u=b;if(b.parentNode){n="absolute"==k.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){w=m.position(b,!0);x=k.getComputedStyle(b);/relative|absolute/.test(x.position)&&(n=!1);if(!n&&/hidden|auto|scroll/.test(x.overflow)){var A=Math.min(u.y+u.h,w.y+w.h),z=Math.min(u.x+u.w,w.x+w.w);u.x=Math.max(u.x,w.x);u.y=
Math.max(u.y,w.y);u.h=A-u.y;u.w=z-u.x}"absolute"==x.position&&(n=!0);b=b.parentNode}}var C=u.x,F=u.y,B="w"in u?u.w:u.w=u.width,D="h"in u?u.h:(f.deprecated("place.around: dijit/place.__Rectangle: { x:"+C+", y:"+F+", height:"+u.height+", width:"+B+" } has been deprecated.  Please use { x:"+C+", y:"+F+", h:"+u.height+", w:"+B+" }","","2.0"),u.h=u.height),E=[];l.forEach(d,function(a){var b=e;switch(a){case "above-centered":q("TM","BM");break;case "below-centered":q("BM","TM");break;case "after-centered":b=
!b;case "before-centered":q(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":q(b?"TL":"TR",b?"TR":"TL");q(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":q(b?"BL":"BR",b?"TL":"TR");q(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":q(b?"TL":"TR",b?"BL":"BR");q(b?"TR":"TL",b?"BR":"BL");break;default:q(a.aroundCorner,a.corner)}});a=c(a,E,h,{w:B,h:D});a.aroundNodePos=u;return a}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady",
"dojo/sniff","dojo/window"],function(l,m,k,f,e){var d=new l,n;k(function(){var c=e.getBox();d._rlh=m(window,"resize",function(){var a=e.getBox();c.h==a.h&&c.w==a.w||(c=a,d.emit("resize"))});if(8==f("ie")){var b=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=b&&(b=screen.deviceXDPI,d.emit("resize"))},500)}f("ios")&&(m(document,"focusin",function(a){n=a.target}),m(document,"focusout",function(a){n=null}))});d.getEffectiveBox=function(c){c=e.getBox(c);var b=n&&n.tagName&&n.tagName.toLowerCase();
if(f("ios")&&n&&!n.readOnly&&("textarea"==b||"input"==b&&/^(color|email|number|password|search|tel|text|url)$/.test(n.type)))c.h*=0==orientation||180==orientation?0.66:0.4,b=n.getBoundingClientRect(),c.h=Math.max(c.h,b.top+b.height);return c};return d})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(l,m,k,f,e,d,n,c){c.add("config-bgIframe",!c("touch"));var b=new function(){var a=
[];this.pop=function(){var b;a.length?(b=a.pop(),b.style.display=""):(9>c("ie")?(b="\x3ciframe src\x3d'"+(k.dojoBlankHtmlUrl||l.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",b=document.createElement(b)):(b=f.create("iframe"),b.src='javascript:""',b.className="dijitBackgroundIframe",b.setAttribute("role","presentation"),e.set(b,"opacity",0.1)),b.tabIndex=-1);return b};
this.push=function(b){b.style.display="none";a.push(b)}};m.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(c("config-bgIframe")){var f=this.iframe=b.pop();a.appendChild(f);7>c("ie")||c("quirks")?(this.resize(a),this._conn=n(a,"resize",d.hitch(this,"resize",a))):e.set(f,{width:"100%",height:"100%"})}};d.extend(m.BackgroundIframe,{resize:function(a){this.iframe&&e.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),
this._conn=null);this.iframe&&(b.push(this.iframe),delete this.iframe)}});return m.BackgroundIframe})},"xl/monkeypatch/dijit/popup":function(){define(["dijit/popup","dojo/_base/lang","xl/ZOrder/ZOrderManager"],function(l,m,k){var f=m.hitch(l,l.open);l.open=function(e){f(e);e=l.getTopPopup();k.bringToTop(e.wrapper)};return l})},"xl/ZOrder/ZOrderManager":function(){define(["dojo/_base/declare","dojo/dom-style"],function(l,m){var k={_beginZIndex:1200,bringToTop:function(f){k._beginZIndex+=2;m.set(f,
{zIndex:k._beginZIndex});return k._beginZIndex}};return k})},"xl/monkeypatch/dojo/_base/lang":function(){define(["dojo/_base/lang","xl/util/logger"],function(l,m){var k=l.replace;l.replace=function(f,e,d){try{return k(f,e,d)}catch(n){return m.log(n),"object"===typeof e&&"function"===typeof e.join?"Missing Localization: "+e.join(","):"Missing Localization"}}})},"xl/util/logger":function(){define("dojo/_base/xhr dojo/_base/lang dojo/json dojo/topic dojo/_base/kernel xl/player/AssemblyInfo dojo/_base/config ./stacktrace".split(" "),
function(l,m,k,f,e,d,n,c){function b(a){var b=null,c=r.apiUrl();c&&!s()&&a&&(a=k.stringify(a),b=l.post({url:c,handleAs:"json",postData:a,headers:{"Content-Type":"application/json",Accept:"application/json"}}));return b}function a(a,b){var h;switch(b.severity){case r.severity.Critical:h=console.error;break;case r.severity.Info:h=console.info;break;case r.severity.Normal:h=console.warn;break;case r.severity.Audit:h=console.log;break;default:h=console.log}if(void 0==h||"function"!=typeof h)h=console.log;
h&&h.call(console,"Error Audit: "+a);h=c({e:b.error});h={message:b.error.message,stackTrace:h.join("\n")};if(b.error.response)try{var q=k.stringify({postedData:k.parse(b.error.response.options.data),responseText:b.error.response.text,url:b.error.response.url,status:b.error.response.status},null," ");h.stackTrace+="\n Response Object: "+q}catch(e){}console.log("Error:",h);return{exception:h,message:a,category:b.category,severity:b.severity,serverGuid:b.guid,serverName:b.serverName,clientVersion:d,
silent:b.silent,requestCorrelationId:b.requestCorrelationId,status:b.status,url:b.url}}function s(){var a=(new Date).getMinutes();if(q)return!0;if(a===t){if(h++>r.maxLogsPerMinute)return q=!0}else t=a,h=1;return!1}var r={category:{General:"General",Javascript:"Javascript",VersionMismatch:"VersionMismatch",ClientRequest:"ClientRequest"},severity:{Critical:"Critical",Normal:"Normal",Info:"Info",Audit:"Audit",Timeout:"Timeout"},maxLogsPerMinute:5,apiUrl:function(){return n.loggerApiUrl}},t=0,h=0,q=!1;
r.defaultCategory=r.category.Javascript;r.defaultSeverity=r.severity.Normal;r.log=function(c,h,d){d=d||!1;var q=m.mixin({category:r.defaultCategory,severity:r.defaultSeverity,error:Error(c)},h);h=a(c,q);if(d){var e;q.guid||(e=b(h));e?e.then(function(a){r.showMessage(c,a)},function(a){r.showMessage(c,q)}):r.showMessage(c,q)}else b(h)};r.showMessage=function(a,b){console.log("logger.showMessage")};"undefined"!=typeof window&&r.apiUrl()&&(window.onerror=function(a,b,c,h,d){d&&d.stack?b=d.stack:(b=b+
":"+c,0<=h&&(b+=","+h));d={stack:b,message:a};r.log(a,{category:r.category.Javascript,error:d,severity:r.severity.Critical},!1)});return r})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u){l._xhrObj=q._create;var v=l.config;l.objectToQuery=f.objectToQuery;l.queryToObject=f.queryToObject;l.fieldToObject=
d.fieldToObject;l.formToObject=d.toObject;l.formToQuery=d.toQuery;l.formToJson=d.toJson;l._blockAsync=!1;var w=l._contentHandlers=l.contentHandlers={text:function(a){return a.responseText},json:function(a){return b.fromJson(a.responseText||null)},"json-comment-filtered":function(a){c.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
a=a.responseText;var h=a.indexOf("/*"),d=a.lastIndexOf("*/");if(-1==h||-1==d)throw Error("JSON was not comment filtered");return b.fromJson(a.substring(h+2,d))},javascript:function(a){return l.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&(m("dom-qsa2.1")&&!b.querySelectorAll&&m("dom-parser"))&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(m("ie")&&(!b||!b.documentElement)){var c=function(a){return"MSXML"+a+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),
c(3),c(2)];s.some(c,function(c){try{var h=new ActiveXObject(c);h.async=!1;h.loadXML(a.responseText);b=h}catch(d){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?w["json-comment-filtered"](a):w.json(a)}};l._ioSetArgs=function(b,c,h,q){var r={args:b,url:b.url},u=null;if(b.form){var u=e.byId(b.form),t=u.getAttributeNode("action");r.url=r.url||(t?t.value:null);u=d.toObject(u)}t=[{}];u&&t.push(u);b.content&&t.push(b.content);
b.preventCache&&t.push({"dojo.preventCache":(new Date).valueOf()});r.query=f.objectToQuery(a.mixin.apply(null,t));r.handleAs=b.handleAs||"text";var k=new n(function(a){a.canceled=!0;c&&c(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});k.addCallback(h);var s=b.load;s&&a.isFunction(s)&&k.addCallback(function(a){return s.call(b,a,r)});var m=b.error;m&&a.isFunction(m)&&k.addErrback(function(a){return m.call(b,a,r)});var A=b.handle;A&&a.isFunction(A)&&
k.addBoth(function(a){return A.call(b,a,r)});k.addErrback(function(a){return q(a,k)});v.ioPublish&&(l.publish&&!1!==r.args.ioPublish)&&(k.addCallbacks(function(a){l.publish("/dojo/io/load",[k,a]);return a},function(a){l.publish("/dojo/io/error",[k,a]);return a}),k.addBoth(function(a){l.publish("/dojo/io/done",[k,a]);return a}));k.ioArgs=r;return k};var x=function(a){a=w[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},A=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},z=function(a){0>=
C&&(C=0,v.ioPublish&&(l.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&l.publish("/dojo/io/stop"))},C=0;t.after(h,"_onAction",function(){C-=1});t.after(h,"_onInFlight",z);l._ioCancelAll=h.cancelAll;l._ioNotifyStart=function(a){v.ioPublish&&(l.publish&&!1!==a.ioArgs.args.ioPublish)&&(C||l.publish("/dojo/io/start"),C+=1,l.publish("/dojo/io/send",[a]))};l._ioWatch=function(b,c,d,q){b.ioArgs.options=b.ioArgs.args;a.mixin(b,{response:b.ioArgs,isValid:function(a){return c(b)},isReady:function(a){return d(b)},
handleResponse:function(a){return q(b)}});h(b);z(b)};l._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};l.xhr=function(a,b,c){var h,d=l._ioSetArgs(b,function(a){h&&h.cancel()},x,A),e=d.ioArgs;"postData"in b?e.query=b.postData:"putData"in b?e.query=b.putData:"rawBody"in b?e.query=b.rawBody:(2<arguments.length&&!c||-1==="POST|PUT".indexOf(a.toUpperCase()))&&l._ioAddQueryToUrl(e);var r={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,
ioArgs:e};"undefined"!==typeof b.headers&&(r.headers=b.headers);"undefined"!==typeof b.contentType&&(r.headers||(r.headers={}),r.headers["Content-Type"]=b.contentType);"undefined"!==typeof e.query&&(r.data=e.query);"undefined"!==typeof b.sync&&(r.sync=b.sync);l._ioNotifyStart(d);try{h=q(e.url,r,!0)}catch(f){return d.cancel(),d}d.ioArgs.xhr=h.response.xhr;h.then(function(){d.resolve(d)}).otherwise(function(a){e.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);
d.reject(a)});return d};l.xhrGet=function(a){return l.xhr("GET",a)};l.rawXhrPost=l.xhrPost=function(a){return l.xhr("POST",a,!0)};l.rawXhrPut=l.xhrPut=function(a){return l.xhr("PUT",a,!0)};l.xhrDelete=function(a){return l.xhr("DELETE",a)};l._isDocumentOk=function(a){return u.checkStatus(a.status)};l._getText=function(a){var b;l.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};a.mixin(l.xhr,{_xhrObj:l._xhrObj,fieldToObject:d.fieldToObject,formToObject:d.toObject,objectToQuery:f.objectToQuery,
formToQuery:d.toQuery,formToJson:d.toJson,queryToObject:f.queryToObject,contentHandlers:w,_ioSetArgs:l._ioSetArgs,_ioCancelAll:l._ioCancelAll,_ioNotifyStart:l._ioNotifyStart,_ioWatch:l._ioWatch,_ioAddQueryToUrl:l._ioAddQueryToUrl,_isDocumentOk:l._isDocumentOk,_getText:l._getText,get:l.xhrGet,post:l.xhrPost,put:l.xhrPut,del:l.xhrDelete});return l.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(l){var m={};return{objectToQuery:function(k){var f=encodeURIComponent,e=[],d;for(d in k){var n=
k[d];if(n!=m[d]){var c=f(d)+"\x3d";if(l.isArray(n))for(var b=0,a=n.length;b<a;++b)e.push(c+f(n[b]));else e.push(c+f(n))}}return e.join("\x26")},queryToObject:function(k){var f=decodeURIComponent;k=k.split("\x26");for(var e={},d,n,c=0,b=k.length;c<b;++c)if(n=k[c],n.length){var a=n.indexOf("\x3d");0>a?(d=f(n),n=""):(d=f(n.slice(0,a)),n=f(n.slice(a+1)));"string"==typeof e[d]&&(e[d]=[e[d]]);l.isArray(e[d])?e[d].push(n):e[d]=n}return e}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query",
"./json"],function(l,m,k,f){var e={fieldToObject:function(d){var e=null;if(d=m.byId(d)){var c=d.name,b=(d.type||"").toLowerCase();if(c&&b&&!d.disabled)if("radio"==b||"checkbox"==b)d.checked&&(e=d.value);else if(d.multiple){e=[];for(d=[d.firstChild];d.length;)for(c=d.pop();c;c=c.nextSibling)if(1==c.nodeType&&"option"==c.tagName.toLowerCase())c.selected&&e.push(c.value);else{c.nextSibling&&d.push(c.nextSibling);c.firstChild&&d.push(c.firstChild);break}}else e=d.value}return e},toObject:function(d){var f=
{};d=m.byId(d).elements;for(var c=0,b=d.length;c<b;++c){var a=d[c],k=a.name,r=(a.type||"").toLowerCase();if(k&&r&&0>"file|submit|image|reset|button".indexOf(r)&&!a.disabled){var t=f,h=k,a=e.fieldToObject(a);if(null!==a){var q=t[h];"string"==typeof q?t[h]=[q,a]:l.isArray(q)?q.push(a):t[h]=a}"image"==r&&(f[k+".x"]=f[k+".y"]=f[k].x=f[k].y=0)}}return f},toQuery:function(d){return k.objectToQuery(e.toObject(d))},toJson:function(d,k){return f.stringify(e.toObject(d),null,k?4:0)}};return e})},"dojo/json":function(){define(["./has"],
function(l){var m="undefined"!=typeof JSON;l.add("json-parse",m);l.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(f,e){return e||1}));if(l("json-stringify"))return JSON;var k=function(f){return('"'+f.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:l("json-parse")?JSON.parse:function(f,e){if(e&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(f))throw new SyntaxError("Invalid characters in JSON");
return eval("("+f+")")},stringify:function(f,e,d){function n(b,a,f){e&&(b=e(f,b));var r;r=typeof b;if("number"==r)return isFinite(b)?b+"":"null";if("boolean"==r)return b+"";if(null===b)return"null";if("string"==typeof b)return k(b);if("function"==r||"undefined"==r)return c;if("function"==typeof b.toJSON)return n(b.toJSON(f),a,f);if(b instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,c,h){a=b["getUTC"+c]()+(h?1:0);return 10>a?"0"+
a:a});if(b.valueOf()!==b)return n(b.valueOf(),a,f);var t=d?a+d:"",h=d?" ":"",q=d?"\n":"";if(b instanceof Array){var h=b.length,u=[];for(f=0;f<h;f++)r=n(b[f],t,f),"string"!=typeof r&&(r="null"),u.push(q+t+r);return"["+u.join(",")+q+a+"]"}u=[];for(f in b){var l;if(b.hasOwnProperty(f)){if("number"==typeof f)l='"'+f+'"';else if("string"==typeof f)l=k(f);else continue;r=n(b[f],t,f);"string"==typeof r&&u.push(q+t+l+":"+h+r)}}return"{"+u.join(",")+q+a+"}"}var c;"string"==typeof e&&(d=e,e=null);return n(f,
"","")}}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(l,m){l.fromJson=function(k){return eval("("+k+")")};l._escapeString=m.stringify;l.toJsonIndentStr="\t";l.toJson=function(k,f){return m.stringify(k,function(e,d){if(d){var f=d.__json__||d.json;if("function"==typeof f)return f.call(d)}return d},f&&l.toJsonIndentStr)};return l})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(l,m,k,f,e,d){function n(){for(var d=+new Date,e=0,f;e<a.length&&(f=a[e]);e++){var h=f.response,q=h.options;if(f.isCanceled&&f.isCanceled()||f.isValid&&!f.isValid(h))a.splice(e--,1),c._onAction&&c._onAction();else if(f.isReady&&f.isReady(h))a.splice(e--,1),f.handleResponse(h),c._onAction&&c._onAction();else if(f.startTime&&f.startTime+(q.timeout||0)<d)a.splice(e--,1),f.cancel(new m("Timeout exceeded",h)),c._onAction&&c._onAction()}c._onInFlight&&c._onInFlight(f);a.length||(clearInterval(b),
b=null)}function c(c){c.response.options.timeout&&(c.startTime=+new Date);c.isFulfilled()||(a.push(c),b||(b=setInterval(n,50)),c.response.options.sync&&n())}var b=null,a=[];c.cancelAll=function(){try{f.forEach(a,function(a){try{a.cancel(new k("All requests canceled."))}catch(b){}})}catch(b){}};e&&(d&&e.doc.attachEvent)&&d(e.global,"unload",function(){c.cancelAll()});return c})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(l,m,k,f,e,d,n,c){function b(a){return s(a)}function a(a){return a.data||a.text}l.deepCopy=function(a,b){for(var c in b){var d=a[c],e=b[c];d!==e&&(d&&"object"===typeof d&&e&&"object"===typeof e?l.deepCopy(d,e):a[c]=e)}return a};l.deepCreate=function(a,b){b=b||{};var c=n.delegate(a),d,e;for(d in a)(e=a[d])&&"object"===typeof e&&(c[d]=l.deepCreate(e,b[d]));return l.deepCopy(c,b)};var s=Object.freeze||function(a){return a};l.deferred=function(d,e,h,q,u,v){var w=new f(function(a){e&&e(w,d);return!a||
!(a instanceof m)&&!(a instanceof k)?new k("Request canceled",d):a});w.response=d;w.isValid=h;w.isReady=q;w.handleResponse=u;h=w.then(b).otherwise(function(a){a.response=d;throw a;});l.notify&&h.then(n.hitch(l.notify,"emit","load"),n.hitch(l.notify,"emit","error"));q=h.then(a);u=new c;for(var x in q)q.hasOwnProperty(x)&&(u[x]=q[x]);u.response=h;s(u);v&&w.then(function(a){v.call(w,a)},function(a){v.call(w,d,a)});w.promise=u;w.then=u.then;return w};l.addCommonMethods=function(a,b){d.forEach(b||["GET",
"POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(c,d){d=n.delegate(d||{});d.method=b;return a(c,d)}})};l.parseArgs=function(a,b,c){var d=b.data,f=b.query;d&&!c&&"object"===typeof d&&(b.data=e.objectToQuery(d));f?("object"===typeof f&&(f=e.objectToQuery(f)),b.preventCache&&(f+=(f?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(f="request.preventCache\x3d"+ +new Date);a&&f&&(a+=(~a.indexOf("?")?"\x26":"?")+f);return{url:a,options:b,getHeader:function(a){return null}}};
l.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(l){return l("RequestError",function(l,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(l,m){return l("RequestTimeoutError",null,m,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(l,m,k,f,e){function d(a,
b){var c=a.xhr;a.status=a.xhr.status;a.text=c.responseText;"xml"===a.options.handleAs&&(a.data=c.responseXML);if(!b)try{k(a)}catch(h){b=h}b?this.reject(b):f.checkStatus(c.status)?this.resolve(a):(b=new l("Unable to load "+a.url+" status: "+c.status,a),this.reject(b))}function n(a){return this.xhr.getResponseHeader(a)}function c(q,k,u){var A=f.parseArgs(q,f.deepCreate(h,k),e("native-formdata")&&k&&k.data&&k.data instanceof FormData);q=A.url;k=A.options;var z,C=f.deferred(A,r,b,a,d,function(){z&&z()}),
F=A.xhr=c._create();if(!F)return C.cancel(new l("XHR was not created")),u?C:C.promise;A.getHeader=n;s&&(z=s(F,C,A));var B=k.data,D=!k.sync,E=k.method;try{F.open(E,q,D,k.user||t,k.password||t);k.withCredentials&&(F.withCredentials=k.withCredentials);var J=k.headers;q="application/x-www-form-urlencoded";if(J)for(var N in J)"content-type"===N.toLowerCase()?q=J[N]:J[N]&&F.setRequestHeader(N,J[N]);q&&!1!==q&&F.setRequestHeader("Content-Type",q);(!J||!("X-Requested-With"in J))&&F.setRequestHeader("X-Requested-With",
"XMLHttpRequest");f.notify&&f.notify.emit("send",A,C.promise.cancel);F.send(B)}catch(O){C.reject(O)}m(C);F=null;return u?C:C.promise}e.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});e.add("dojo-force-activex-xhr",function(){return e("activex")&&!document.addEventListener&&"file:"===window.location.protocol});e.add("native-xhr2",function(){if(e("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==
typeof a.upload)}});e.add("native-formdata",function(){return"function"===typeof FormData});var b,a,s,r;e("native-xhr2")?(b=function(a){return!this.isFulfilled()},r=function(a,b){b.xhr.abort()},s=function(a,b,c){function h(a){b.handleResponse(c)}function d(a){a=new l("Unable to load "+c.url+" status: "+a.target.status,c);b.handleResponse(c,a)}function q(a){a.lengthComputable&&(c.loaded=a.loaded,c.total=a.total,b.progress(c))}a.addEventListener("load",h,!1);a.addEventListener("error",d,!1);a.addEventListener("progress",
q,!1);return function(){a.removeEventListener("load",h,!1);a.removeEventListener("error",d,!1);a.removeEventListener("progress",q,!1);a=null}}):(b=function(a){return a.xhr.readyState},a=function(a){return 4===a.xhr.readyState},r=function(a,b){var c=b.xhr,h=typeof c.abort;("function"===h||"object"===h||"unknown"===h)&&c.abort()});var t,h={data:null,query:null,sync:!1,method:"GET"};c._create=function(){throw Error("XMLHTTP not available");};if(e("native-xhr")&&!e("dojo-force-activex-xhr"))c._create=
function(){return new XMLHttpRequest};else if(e("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),c._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(q){try{new ActiveXObject("Microsoft.XMLHTTP"),c._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(u){}}f.addCommonMethods(c);return c})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(l,m,k,f){function e(b){var a=c[b.options.handleAs];
b.data=a?a(b):b.data||b.text;return b}f.add("activex","undefined"!==typeof ActiveXObject);f.add("dom-parser",function(b){return"DOMParser"in b});var d;if(f("activex")){var n=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];d=function(b){var a=b.data;a&&(f("dom-qsa2.1")&&!a.querySelectorAll&&f("dom-parser"))&&(a=(new DOMParser).parseFromString(b.text,"application/xml"));if(!a||!a.documentElement){var c=b.text;k.some(n,function(b){try{var d=new ActiveXObject(b);
d.async=!1;d.loadXML(c);a=d}catch(h){return!1}return!0})}return a}}var c={javascript:function(b){return m.eval(b.text||"")},json:function(b){return l.parse(b.text||null)},xml:d};e.register=function(b,a){c[b]=a};return e})},"xl/player/AssemblyInfo":function(){define([],function(){"undefined"===typeof window.TDX_CLIENT_VERSION&&(window.TDX_CLIENT_VERSION="46.2.1-1",console.log("TDX Client Version: 46.2.1-1"));return"46.2.1-1"})},"xl/monkeypatch/dojo/dnd/Moveable":function(){define(["dojo/dnd/Moveable",
"dojo/topic","dojo/dom-class","dojo/_base/window"],function(l,m,k,f){l.extend({onMoveStop:function(e){m.publish("/dnd/move/stop",e);k.remove(f.body(),"dojoMove");this.node&&k.remove(this.node,"dojoMoveItem")}})})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r){return m("dojo.dnd.Moveable",[d],{handle:"",delay:0,skip:!1,constructor:function(a,
c){this.node=f.byId(a);c||(c={});this.handle=c.handle?f.byId(c.handle):null;this.handle||(this.handle=this.node);this.delay=0<c.delay?c.delay:0;this.skip=c.skip;this.mover=c.mover?c.mover:s;this.events=[n(this.handle,b.press,k.hitch(this,"onMouseDown")),n(this.handle,"dragstart",k.hitch(this,"onSelectStart")),n(this.handle,"selectstart",k.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.events=this.node=
this.handle=null},onMouseDown:function(c){if(!this.skip||!a.isFormElement(c)){if(this.delay)this.events.push(n(this.handle,b.move,k.hitch(this,"onMouseMove")),n(this.handle,b.release,k.hitch(this,"onMouseUp"))),this._lastX=c.pageX,this._lastY=c.pageY;else this.onDragDetected(c);c.stopPropagation();c.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},
onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(b){if(!this.skip||!a.isFormElement(b))b.stopPropagation(),b.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){c.publish("/dnd/move/start",a);e.add(r.body(),"dojoMove");e.add(this.node,"dojoMoveItem")},onMoveStop:function(a){c.publish("/dnd/move/stop",a);e.remove(r.body(),"dojoMove");e.remove(this.node,"dojoMoveItem")},
onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"xl/monkeypatch/dojo/hccss":function(){define(["dojo/dom-class","dojo/has","dojo/domReady","dojo/_base/window"],function(l,m,k,f){k(function(){m("highcontrast")&&l.remove(f.body(),"dj_a11y")})})},"xl/util/errorPanel":function(){define(["dojo/_base/lang","xl/player/dialogs/BaseDialog","xl/util/localization!html5player/error",
"dojo/_base/config","xl/util/logger"],function(l,m,k,f,e){var d={displayError:function(d){var c=[];d.message&&c.push(d.message);d.serverName&&c.push(d.serverName);d.serverGuid&&c.push(d.serverGuid);c.push(k.timestamp+": "+new Date+"\x3chr\x3e"+k.errorPersists);d=c.join("\x3cbr/\x3e");(new m({title:"Error!",isModal:!0,content:d})).show()},showMessage:function(e,c){d.displayError(c?c.errorAuditGuid?{message:e,serverName:c.serverName,serverGuid:c.errorAuditGuid}:{message:e,serverName:c.serverName,serverGuid:c.guid}:
{message:e});return null}};e.showMessage=d.showMessage;return d})},"xl/player/dialogs/BaseDialog":function(){define("dojo/_base/declare dojo/html dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/connect dojo/window dojo/dom-construct dojo/dom dojo/_base/lang dojo/on dojo/_base/Deferred dojo/_base/fx dojo/keys dojo/has dojo/aspect xl/dojo-ext/Moveable dijit/Dialog dijit/a11y dijit/focus dijit/place dojo/_base/array xl/util/standbyHandler xl/util/stringUtils dijit/_WidgetsInTemplateMixin dojox/dtl dojox/dtl/Context dojox/dtl/tag/logic xl/player/controls/_NeedsPlayerViewer xl/dijit-bootstrap/Button ./DialogUnderlay xl/ZOrder/ZOrderManager dojo/text!./templates/BaseDialog.html dojo/dom-attr xl/util/localization!html5player/player xl/util/localization!html5player/popup".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O,H,K,M,P,I,L,Q){l=l("xl.player.dialogs.BaseDialog",[w,D,O],{templateString:P,contentString:null,buttons:null,_movable:null,canMinimize:!1,isModal:!1,ariaRole:null,_modalId:null,_shownAsModal:!1,_underlay:null,_widgets:null,parseOnLoad:!1,_placeAroundNode:null,_placeDockPositions:null,_referrerFocusableNode:null,_firstFocusableNode:null,_lastFocusableNode:null,minimized:!1,viewportSize:null,defaultButton:null,parentDomElement:null,draggable:!1,
_orientationChanged:!1,preferredContainerWidth:null,manuallySized:!1,_dialogMaxWidth:null,_dialogMaxHeight:null,minContentHeight:0,constructor:function(a){a&&(a.title&&!a.isCustomTitle&&this.getViewer()&&this.getViewer().useSentenceCase)&&(a.title=B.sentenceCase(a.title));this.ariaRole="dialog";this.buttons=[]},create:function(){this.inherited(arguments)},postMixInProperties:function(){if(this.contentString){var a=this.templateString.indexOf("\x3c!--put main content here--\x3e");if(0<=a){var b=a+
28;this.templateString=this.templateString.substring(0,a)+this.contentString+this.templateString.substring(b)}}this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.setupDialog();this.content_start_span&&(this.content_start_span.innerHTML=Q.modal_content_start);this.content_end_span&&(this.content_end_span.innerHTML=Q.modal_content_end);I.set(this.titleNode,{tabindex:"-1"});0<this.titleNode.innerText.trim().length&&I.set(this.titleNode,{role:"heading","aria-level":"2"});
!q("android")&&!q("ios")&&(this._movable=new v(this.domNode,{handle:this.titleBar,delay:2}),s(this._movable,"Moved",a.hitch(this,this._moveableMoved)),s(this._movable,"MoveStop",a.hitch(this,this._endDrag)));var b=this.getViewer();null!=b&&(this.parentDomElement&&c.place(this.domNode,b.domNode,"first"),b.registerPopup(this));this.minimizeButtonNode&&(I.set(this.minimizeButtonNode,"aria-label",L.minimize),I.set(this.minimizeButtonNode,"title",L.minimize));this.minimizeText&&I.set(this.minimizeText,
"aria-label",L.minimize);this.canMinimize&&k.remove(this.minimizeButtonNode,"hidden");this._adjustCancelX();q("touch")?(this.orientationEvent=s(window,"orientationchange",a.hitch(this,function(a){this.open&&(this._orientationChanged=!0,this.orientationChanged(a))})),this.resizeEvent=s(window,"resize",a.hitch(this,this.onWindowResize))):this.resizeEvent=s(window,"resize",a.hitch(this,function(a){this.open&&this.resize(!a.manualResize)}))},_adjustCancelX:function(){this.hideClose?c.destroy(this.closeButtonNode):
this.closeButtonNode&&(I.set(this.closeButtonNode,"title",L.cancel),this.closeText&&I.set(this.closeText,"title",L.cancel))},onWindowResize:function(){if(this.open&&8>q("ios")){var a=n.getBox(this.ownerDocument);0>(this.viewportSize.h-this.viewportSize.w)*(a.h-a.w)&&(this._orientationChanged=!0)}this._orientationChanged&&(this._orientationChanged=!1,this.open&&(this.viewportSize&&(this.viewportSize=n.getBox(this.ownerDocument)),this._size(),this._position()))},_setup:function(){this.inherited(arguments);
(this.underlayAttrs.parentDomElement=this.parentDomElement)&&e.set(this.parentDomElement,"position","relative")},orientationChanged:function(){},show:function(){if(!this.open){this.isModal&&(this._modalId=F.startModal());var b=this;e.set(this.domNode,{opacity:0,display:"",top:"0px"});this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),delete this._fadeOutDeferred);this.minimizedIcon&&(c.destroy(this.minimizedIcon),
delete this.minimizedIcon);if(this.isModal){this._shownAsModal=!0;var h=n.get(this.ownerDocument);this._modalconnects.push(s(h,"scroll",a.hitch(this,"resize")));this._modalconnects.push(s(this.domNode,d._keypress,a.hitch(this,"_onKey")))}else this._shownAsModal=!1,s(this.domNode,d._keypress,a.hitch(this,"_onKey"));this._set("open",!0);this._onShow();this._size();this._position();var q;this._fadeInDeferred=new r(a.hitch(this,function(){q.stop();delete b._fadeInDeferred}));q=t.fadeIn({node:this.domNode,
duration:this.duration,beforeBegin:a.hitch(this,function(){b._referrerFocusableNode=A.curNode;W.show(b,b.underlayAttrs)}),onEnd:a.hitch(this,function(){b._fadeInDeferred.resolve(!0);b.autofocus&&W.isTop(b)&&(b.setFocusable(b.domNode),A.focus(this.dialogNode));delete b._fadeInDeferred})}).play();this.onShown();return this._fadeInDeferred}},resize:function(a){"none"!==this.domNode.style.display&&(this._size(),q("touch")||!1!==a&&this._position())},_size:function(){this._checkIfSingleChild();this._singleChild?
"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle):e.set(this.containerNode,{width:this.preferredContainerWidth||"auto",height:"auto"});var b=f.position(this.domNode),c=n.getBox(this.ownerDocument);this.viewportSize&&a.mixin(c,this.viewportSize);c.w*=this.maxRatio;c.h*=this.maxRatio;if(b.w>=c.w||b.h>=c.h){b.h>=c.h&&e.set(this.domNode,{height:"auto"});var h=Math.min(b.w,c.w),c=Math.min(b.h,
c.h);this._dialogMaxWidth=h;this._dialogMaxHeight=c;var d=f.position(this.containerNode),h=h-(b.w-d.w),b=c-(b.h-d.h);this._singleChild&&this._singleChild.resize?("undefined"==typeof this._singleChildOriginalStyle&&null==this.viewportSize&&(this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText),c=b,0<this.minContentHeight&&(c=Math.max(c,this.minContentHeight)),this._singleChild.resize({w:h,h:c}),q("ios")?e.set(this.containerNode,{width:h+"px",height:b+"px",overflow:"auto",position:"relative"}):
c!==b&&e.set(this.containerNode,{height:b+"px",overflowY:"auto",position:"relative"})):e.set(this.containerNode,{width:h+"px",height:b+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize();this.manuallySized&&this.layoutContents()},resetContainerSize:function(){e.set(this.containerNode,{width:this.preferredContainerWidth||"auto",height:"auto"});e.set(this.domNode,{width:"auto",height:"auto"})},resolvedDeferred:function(){var a=new r;
a.resolve(!0);return a},hide:function(b){if(!this._alreadyInitialized||!this.open)return this._modalId&&F.endModal(this._modalId),this.resolvedDeferred();var c=this;this._fadeInDeferred&&this._fadeInDeferred.cancel();var h;this._fadeOutDeferred=new r(a.hitch(this,function(){h.stop();delete c._fadeOutDeferred}));this._fadeOutDeferred.then(a.hitch(this,"onHide",b),function(){});h=t.fadeOut({node:this.domNode,duration:this.duration,onEnd:a.hitch(this,function(){c.domNode.style.display="none";W.hide(this);
c._fadeOutDeferred.resolve(!0);delete c._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);this.onHidden();this._modalId&&F.endModal(this._modalId);return this._fadeOutDeferred},_position:function(){if(!k.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,b=this.viewportSize||n.getBox(this.ownerDocument),c=this._relativePosition,h=c?null:f.position(a),
d=Math.floor(b.l+(c?c.x:(b.w-h.w)/2)),b=Math.floor(b.t+(c?c.y:(b.h-h.h)/2));this._placeAroundNode&&this._placeDockPositions?z.around(a,this._placeAroundNode,this._placeDockPositions,!0):e.set(a,{left:d+"px",top:b+"px"})}},addButton:function(a,b,c,h,d){var q=this;a.label&&(this.getViewer()&&this.getViewer().useSentenceCase)&&(a.label=B.sentenceCase(a.label));a.baseClass="btn btn-secondary";h&&d&&(a.baseClass="btn btn-primary");a=this.createButton(a);a.on("click",function(a){q.buttonClicked(a,b)});
this.buttons.push(a);c&&a.placeAt(this.dialogButtons);h&&(this.defaultButton=a);return a},getDialogButtons:function(){return this.buttons},tabKeyPress:function(a){"minimizeText"===a?A.focus(this._lastFocusableNode):A.focus(this._firstFocusableNode)},buttonClicked:function(){},createButton:function(a){return new H(a)},setupDialog:function(){this.setupStyles();this.setupHeader();this.setupContent();this.setupFooter()},setupStyles:function(){},setupHeader:function(a){a&&(this.getViewer()&&this.getViewer().useSentenceCase&&
(a=B.sentenceCase(a)),c.create("span",{innerHTML:a},this.dialogHeader),k.remove(this.dialogHeader,"hidden"),this._size())},setupContent:function(){},setupFooter:function(){for(var a=null,b=0;b<this.buttons.length;b++)a=this.buttons[b],a.placeAt(this.dialogButtons);0<this.buttons.length&&(this._firstFocusableNode=this.canMinimize?this.minimizeText:this.hideClose?this.buttons[0].domNode:this.closeText,this._lastFocusableNode=this.buttons[this.buttons.length-1].domNode);return a},setFocusable:function(a){this._getFocusItems(a);
this._firstFocusableNode=this._firstFocusItem;this._lastFocusableNode=this._lastFocusItem},destroy:function(){this.inherited(arguments);this.orientationEvent&&this.orientationEvent.remove();this.resizeEvent&&this.resizeEvent.remove();this.defaultButton=null;var a=this.getViewer();null!=a&&a.deRegisterPopup(this);this._widgets&&this._widgets.forEach(function(a){a.destroy()});this.minimizedIcon&&(c.destroy(this.minimizedIcon),delete this.minimizedIcon)},destroyButtons:function(){this.buttons&&(this.buttons.forEach(function(a){a.destroy()}),
this.buttons=[]);this.defaultButton=null},onMinimize:function(){this.minimized=!0;this.hide(!0);this.minimizedIcon=c.create("div",{"class":"xlMinimizedWindow",title:this.title,alt:this.title},document.body);var a=this;this.minimizedIconEvent=s.once(this.minimizedIcon,"click",function(){a.minimized=!1;a.show()})},onShown:function(){},onHidden:function(){},focusReferrer:function(){A.focus(this._referrerFocusableNode)},setupContentWidgets:function(a,b){this.contentString=(new E.Template(a)).render(b)},
_onKey:function(a){if(a.keyCode===h.ENTER&&this.defaultButton&&this.defaultButton.onClick&&(!a.originalTarget||a.originalTarget&&"button"!==a.originalTarget.type))this.defaultButton.onClick();else if(this.closable&&a.keyCode===h.ESCAPE)this.onCancel(),a.stopPropagation(),a.preventDefault();else if(a.keyCode===h.TAB)a.target===this._lastFocusableNode&&!a.shiftKey?(A.focus(this._firstFocusableNode),a.stopPropagation(),a.preventDefault()):a.target===this._firstFocusableNode&&a.shiftKey&&(A.focus(this._lastFocusableNode),
a.stopPropagation(),a.preventDefault());else if(a.keyCode===h.F6&&(a.ctrlKey||a.metaKey)&&!this._shownAsModal)this.focusReferrer(),a.stopPropagation(),a.preventDefault()},_moveableMoved:function(){this.constrainMove();this.set("docked",!1)},_endDrag:function(){this.constrainPosition()},onMoved:function(){this.constrainPosition()},constrainPosition:function(){var a=f.position(this.domNode),b=n.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);e.set(this.domNode,
{left:Math.floor(b.l+a.x)+"px",top:Math.floor(b.t+a.y)+"px"})},constrainMove:function(){var a=f.position(this.domNode),b=n.getBox(this.ownerDocument),c=f.position(this.titleBar);a.y=Math.min(Math.max(a.y,0),b.h-c.h);e.set(this.domNode,{left:Math.floor(b.l+a.x)+"px",top:Math.floor(b.t+a.y)+"px"})},layoutContents:function(){var a=f.getContentBox(this.domNode),b=this.titleBar?f.getMarginBox(this.titleBar):{h:0},c=this.dialogFooter?f.getMarginBox(this.dialogFooter):{h:0},h=f.getPadExtents(this.containerNode),
b={h:a.h-b.h-c.h-h.h,w:a.w-h.w};this._singleChild&&(this._singleChild.resize?this._singleChild.resize(b):f.setMarginBox(this._singleChild.domNode,b));return a},_getFocusItems:function(a){a=x._getTabNavigable(a||this.domNode);this._firstFocusItem=a.lowest||a.first||this.closeButtonNode||this.domNode;this._lastFocusItem=a.last||a.highest||this._firstFocusItem}});var W=l._DialogLevelManager=a.mixin(w._DialogLevelManager,{_beginZIndex:950,show:function(a,b){R[R.length-1].focus=A.curNode;var c=M.bringToTop(a.domNode);
("undefined"==typeof a.isModal||a.isModal)&&K.show(b,c-1);R.push({dialog:a,underlayAttrs:b,zIndex:c})},hide:function(a){if(R[R.length-1].dialog===a){R.pop();var c=R[R.length-1];1===R.length||c.dialog&&"undefined"!=typeof c.dialog.isModal&&!c.dialog.isModal?K._singleton&&K._singleton.open&&K.hide():K.show(c.underlayAttrs,c.zIndex-1);if(a.refocus){a=c.focus;if(c.dialog&&c.dialog.domNode&&(!a||!b.isDescendant(a,c.dialog.domNode)))c.dialog._getFocusItems(c.dialog.domNode),a=c.dialog._firstFocusItem;if(a)try{a.focus()}catch(h){}}}else c=
C.indexOf(C.map(R,function(a){return a.dialog}),a),-1!==c&&R.splice(c,1)},isTop:function(a){return R[R.length-1].dialog===a}}),R=l._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];A.watch("curNode",function(a,b,c){var h=R[R.length-1].dialog;if(c&&h&&h.isModal&&!h._fadeOutDeferred&&c.ownerDocument===h.ownerDocument){var d=c;do if(c===h.domNode||k.contains(c,"dijitPopup")||k.contains(c,"xlCalculator"))return;while(c=c.parentNode);setTimeout(function(){d&&"function"===typeof d.blur&&d.blur();
h.focus()},100)}});return l})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(l,m,k,f,e,d,n){var c=0,b={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:d.empty,_setNodeContent:function(a,b){d.empty(a);if(b)if("string"==typeof b&&(b=d.toDom(b,a.ownerDocument)),!b.nodeType&&m.isArrayLike(b))for(var c=b.length,e=0;e<b.length;e=c==b.length?
e+1:0)d.place(b[e],a,"last");else d.place(b,a,"last");return a},_ContentSetter:f("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:l._scopeName,startup:!0,constructor:function(a,b){m.mixin(this,a||{});b=this.node=e.byId(this.node||b);this.id||(this.id=["Setter",b?b.id||b.tagName:"",c++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?
c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=b._setNodeContent(a,this.content)}catch(c){var d=this.onContentError(c);try{a.innerHTML=d}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&
(k.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);d.empty(this.node)},onBegin:function(){var a=this.content;if(m.isString(a)&&(this.cleanContent&&(a=b._secureForInnerHtml(a)),this.extractContent)){var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;
delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};k.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=n.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},
function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(d){this._onError("Content",d,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,c,d){a=this["on"+a+"Error"].call(this,c);d?console.error(d,c):a&&b._setNodeContent(this.node,a,!0)}}),set:function(a,c,d){void 0==c&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),c="");return d?(new b._ContentSetter(m.mixin(d,{content:c,node:a}))).set():b._setNodeContent(a,c,!0)}};m.setObject("dojo.html",
b);return b})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u){function v(a){return eval("("+a+")")}function w(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<A){var b=a._nameCaseMap={},h;for(h in c)"_"!==h.charAt(0)&&(b[h.toLowerCase()]=h);b._extendCnt=A}return b}function x(a,b){var c=
a.join();if(!z[c]){for(var h=[],d=0,q=a.length;d<q;d++){var e=a[d];h[h.length]=z[e]=z[e]||k.getObject(e)||~e.indexOf("/")&&(b?b(e):l(e))}d=h.shift();z[c]=h.length?d.createSubclass?d.createSubclass(h):d.extend.apply(d,h):d}return z[c]}new Date("X");var A=0;b.after(k,"extend",function(){A++},!0);var z={},C={_clearCache:function(){A++;z={}},_functionFromScript:function(a,b){var c="",h="",d=a.getAttribute(b+"args")||a.getAttribute("args"),q=a.getAttribute("with"),d=(d||"").split(/\s*,\s*/);q&&q.length&&
f.forEach(q.split(/\s*,\s*/),function(a){c+="with("+a+"){";h+="}"});return new Function(d,c+a.innerHTML+h)},instantiate:function(a,b,c){b=b||{};c=c||{};var h=(c.scope||m._scopeName)+"Type",d="data-"+(c.scope||m._scopeName)+"-",q=d+"type",e=d+"mixins",r=[];f.forEach(a,function(a){var c=h in b?b[h]:a.getAttribute(q)||a.getAttribute(h);if(c){var d=a.getAttribute(e),c=d?[c].concat(d.split(/\s*,\s*/)):[c];r.push({node:a,types:c})}});return this._instantiate(r,b,c)},_instantiate:function(b,c,h,d){function q(a){!c._started&&
!h.noStart&&f.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}b=f.map(b,function(a){var b=a.ctor||x(a.types,h.contextRequire);if(!b)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(b,a.node,c,h,a.scripts,a.inherited)},this);return d?a(b).then(q):q(b)},construct:function(a,d,e,r,u,n){function l(a){W&&k.setObject(W,a);for(L=0;L<ca.length;L++)b[ca[L].advice||"after"](a,ca[L].method,k.hitch(a,ca[L].func),!0);for(L=0;L<
V.length;L++)V[L].call(a);for(L=0;L<X.length;L++)a.watch(X[L].prop,X[L].func);for(L=0;L<fa.length;L++)q(a,fa[L].event,fa[L].func);return a}var A=a&&a.prototype;r=r||{};var z={};r.defaults&&k.mixin(z,r.defaults);n&&k.mixin(z,n);var x;t("dom-attributes-explicit")?x=d.attributes:t("dom-attributes-specified-flag")?x=f.filter(d.attributes,function(a){return a.specified}):(n=(/^input$|^img$/i.test(d.nodeName)?d:d.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,
"").replace(/\s*>.*$/,""),x=f.map(n.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==d.nodeName&&"value"==a||"enctype"==b?d.getAttribute(b):d.getAttributeNode(b).value}}));var C=r.scope||m._scopeName;n="data-"+C+"-";var I={};"dojo"!==C&&(I[n+"props"]="data-dojo-props",I[n+"type"]="data-dojo-type",I[n+"mixins"]="data-dojo-mixins",I[C+"type"]="dojoType",I[n+"id"]="data-dojo-id");for(var L=0,Q,C=[],W,R;Q=x[L++];){var T=Q.name,U=T.toLowerCase();Q=Q.value;switch(I[U]||U){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;
case "data-dojo-props":R=Q;break;case "data-dojo-id":case "jsid":W=Q;break;case "data-dojo-attach-point":case "dojoattachpoint":z.dojoAttachPoint=Q;break;case "data-dojo-attach-event":case "dojoattachevent":z.dojoAttachEvent=Q;break;case "class":z["class"]=d.className;break;case "style":z.style=d.style&&d.style.cssText;break;default:if(T in A||(T=w(a)[U]||T),T in A)switch(typeof A[T]){case "string":z[T]=Q;break;case "number":z[T]=Q.length?Number(Q):NaN;break;case "boolean":z[T]="false"!=Q.toLowerCase();
break;case "function":""===Q||-1!=Q.search(/[^\w\.]+/i)?z[T]=new Function(Q):z[T]=k.getObject(Q,!1)||new Function(Q);C.push(T);break;default:U=A[T],z[T]=U&&"length"in U?Q?Q.split(/\s*,\s*/):[]:U instanceof Date?""==Q?new Date(""):"now"==Q?new Date:s.fromISOString(Q):U instanceof c?m.baseUrl+Q:v(Q)}else z[T]=Q}}for(x=0;x<C.length;x++)I=C[x].toLowerCase(),d.removeAttribute(I),d[I]=null;if(R)try{R=v.call(r.propsThis,"{"+R+"}"),k.mixin(z,R)}catch(Y){throw Error(Y.toString()+" in data-dojo-props\x3d'"+
R+"'");}k.mixin(z,e);u||(u=a&&(a._noScript||A._noScript)?[]:h("\x3e script[type^\x3d'dojo/']",d));var ca=[],V=[],X=[],fa=[];if(u)for(L=0;L<u.length;L++)I=u[L],d.removeChild(I),e=I.getAttribute(n+"event")||I.getAttribute("event"),r=I.getAttribute(n+"prop"),R=I.getAttribute(n+"method"),C=I.getAttribute(n+"advice"),x=I.getAttribute("type"),I=this._functionFromScript(I,n),e?"dojo/connect"==x?ca.push({method:e,func:I}):"dojo/on"==x?fa.push({event:e,func:I}):z[e]=I:"dojo/aspect"==x?ca.push({method:R,advice:C,
func:I}):"dojo/watch"==x?X.push({prop:r,func:I}):V.push(I);a=(u=a.markupFactory||A.markupFactory)?u(z,d,a):new a(z,d);return a.then?a.then(l):l(a)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,h=c(a.parent),b={dir:b.getAttribute("dir")||h.dir,lang:b.getAttribute("lang")||h.lang,textDir:b.getAttribute(t)||h.textDir},d;for(d in b)b[d]&&(a.inherited[d]=b[d])}return a.inherited}var h=[],d=[],q={},e=(b.scope||m._scopeName)+"Type",k="data-"+(b.scope||m._scopeName)+"-",u=
k+"type",t=k+"textdir",k=k+"mixins",n=a.firstChild,s=b.inherited;if(!s){var v=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&v(a.parentNode,b)},s={dir:v(a,"dir"),lang:v(a,"lang"),textDir:v(a,t)},A;for(A in s)s[A]||delete s[A]}for(var s={inherited:s},z,w;;)if(n)if(1!=n.nodeType)n=n.nextSibling;else if(z&&"script"==n.nodeName.toLowerCase())(C=n.getAttribute("type"))&&/^dojo\/\w/i.test(C)&&z.push(n),n=n.nextSibling;else if(w)n=n.nextSibling;else{var C=n.getAttribute(u)||n.getAttribute(e);
A=n.firstChild;if(!C&&(!A||3==A.nodeType&&!A.nextSibling))n=n.nextSibling;else{w=null;if(C){var U=n.getAttribute(k);z=U?[C].concat(U.split(/\s*,\s*/)):[C];try{w=x(z,b.contextRequire)}catch(Y){}w||f.forEach(z,function(a){~a.indexOf("/")&&!q[a]&&(q[a]=!0,d[d.length]=a)});U=w&&!w.prototype._noScript?[]:null;s={types:z,ctor:w,parent:s,node:n,scripts:U};s.inherited=c(s);h.push(s)}else s={node:n,scripts:z,parent:s};z=U;w=n.stopParser||w&&w.prototype.stopParser&&!b.template;n=A}}else{if(!s||!s.node)break;
n=s.node.nextSibling;w=!1;s=s.parent;z=s.scripts}var ca=new r;d.length?(b.contextRequire||l)(d,function(){ca.resolve(f.filter(h,function(a){if(!a.ctor)try{a.ctor=x(a.types,b.contextRequire)}catch(c){}for(var h=a.parent;h&&!h.types;)h=h.parent;var d=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(d&&d.stopParser&&!b.template);a.instantiate=!h||h.instantiate&&h.instantiateChildren;return a.instantiate}))}):ca.resolve(h);return ca.promise},_require:function(a,b){var c=v("{"+a.innerHTML+"}"),h=[],d=
[],q=new r,e=b&&b.contextRequire||l,f;for(f in c)h.push(f),d.push(c[f]);e(d,function(){for(var a=0;a<h.length;a++)k.setObject(h[a],arguments[a]);q.resolve(arguments)});return q.promise},_scanAmd:function(a,b){var c=new r,d=c.promise;c.resolve(!0);var q=this;h("script[type\x3d'dojo/require']",a).forEach(function(a){d=d.then(function(){return q._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(a,b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&k.isObject(a)&&!("nodeType"in a)?b=
a:c=a;c=c?d.byId(c):n.body();b=b||{};var h=b.template?{template:!0}:{},q=[],e=this,f=this._scanAmd(c,b).then(function(){return e.scan(c,b)}).then(function(a){return e._instantiate(a,h,b,!0)}).then(function(a){return q=q.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});k.mixin(q,f);return q}};m.parser=C;e.parseOnLoad&&u(100,C,"parse");return C})},"dojo/_base/url":function(){define(["./kernel"],function(l){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
k=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,f=function(){for(var e=arguments,d=[e[0]],n=1;n<e.length;n++)if(e[n]){var c=new f(e[n]+""),d=new f(d[0]+"");if(""==c.path&&!c.scheme&&!c.authority&&!c.query)null!=c.fragment&&(d.fragment=c.fragment),c=d;else if(!c.scheme&&(c.scheme=d.scheme,!c.authority&&(c.authority=d.authority,"/"!=c.path.charAt(0)))){for(var d=(d.path.substring(0,d.path.lastIndexOf("/")+1)+c.path).split("/"),b=0;b<d.length;b++)"."==d[b]?b==d.length-1?d[b]="":(d.splice(b,
1),b--):0<b&&(!(1==b&&""==d[0])&&".."==d[b]&&".."!=d[b-1])&&(b==d.length-1?(d.splice(b,1),d[b-1]=""):(d.splice(b-1,2),b-=2));c.path=d.join("/")}d=[];c.scheme&&d.push(c.scheme,":");c.authority&&d.push("//",c.authority);d.push(c.path);c.query&&d.push("?",c.query);c.fragment&&d.push("#",c.fragment)}this.uri=d.join("");e=this.uri.match(m);this.scheme=e[2]||(e[1]?"":null);this.authority=e[4]||(e[3]?"":null);this.path=e[5];this.query=e[7]||(e[6]?"":null);this.fragment=e[9]||(e[8]?"":null);null!=this.authority&&
(e=this.authority.match(k),this.user=e[3]||null,this.password=e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null)};f.prototype.toString=function(){return this.uri};return l._Url=f})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(l,m,k){var f=l.some;return function(e){var d,n;e instanceof Array?n=e:e&&"object"===typeof e&&(d=e);var c,b=[];if(d){n=[];for(var a in d)Object.hasOwnProperty.call(d,a)&&(b.push(a),n.push(d[a]));c={}}else n&&(c=[]);if(!n||!n.length)return(new m).resolve(c);
var s=new m;s.promise.always(function(){c=b=null});var r=n.length;f(n,function(a,h){d||b.push(h);k(a,function(a){s.isFulfilled()||(c[b[h]]=a,0===--r&&s.resolve(c))},s.reject);return s.isFulfilled()});return s.promise}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(l,m){var k={};l.setObject("dojo.date.stamp",k);k.fromISOString=function(f,e){k._isoRegExp||(k._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);
var d=k._isoRegExp.exec(f),n=null;if(d){d.shift();d[1]&&d[1]--;d[6]&&(d[6]*=1E3);e&&(e=new Date(e),m.forEach(m.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return e["get"+a]()}),function(a,b){d[b]=d[b]||a}));n=new Date(d[0]||1970,d[1]||0,d[2]||1,d[3]||0,d[4]||0,d[5]||0,d[6]||0);100>d[0]&&n.setFullYear(d[0]||1970);var c=0,b=d[7]&&d[7].charAt(0);"Z"!=b&&(c=60*(d[8]||0)+(Number(d[9])||0),"-"!=b&&(c*=-1));b&&(c-=n.getTimezoneOffset());c&&n.setTime(n.getTime()+6E4*
c)}return n};k.toISOString=function(f,e){var d=function(a){return 10>a?"0"+a:a};e=e||{};var k=[],c=e.zulu?"getUTC":"get",b="";"time"!=e.selector&&(b=f[c+"FullYear"](),b=["0000".substr((b+"").length)+b,d(f[c+"Month"]()+1),d(f[c+"Date"]())].join("-"));k.push(b);if("date"!=e.selector){b=[d(f[c+"Hours"]()),d(f[c+"Minutes"]()),d(f[c+"Seconds"]())].join(":");c=f[c+"Milliseconds"]();e.milliseconds&&(b+="."+(100>c?"0":"")+d(c));if(e.zulu)b+="Z";else if("time"!=e.selector)var c=f.getTimezoneOffset(),a=Math.abs(c),
b=b+((0<c?"-":"+")+d(Math.floor(a/60))+":"+d(a%60));k.push(b)}return k.join("T")};return k})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(l,m,k,f,e,d,n,c,b){var a=k.mixin,s={},r=s._Line=function(a,b){this.start=a;this.end=b};r.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var t=s.Animation=function(b){a(this,b);k.isArray(this.curve)&&(this.curve=new r(this.curve[0],this.curve[1]))};
t.prototype=new f;k.extend(t,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var c=b||[];if(this[a])if(m.debugAtAllCosts)this[a].apply(this,c);else try{this[a].apply(this,c)}catch(h){console.error("exception in animation handler for:",a),console.error(h)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&
!this._paused)return this;this._fire("beforeBegin",[this.node]);var c=a||this.delay,h=k.hitch(this,"_play",b);if(0<c)return this._delayTimer=setTimeout(h,c),this;h();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",
[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",
[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?
this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var h=0,q=null,u={run:function(){}};k.extend(t,{_startTimer:function(){this._timer||(this._timer=d.after(u,"run",k.hitch(this,"_cycle"),!0),h++);q||(q=setInterval(k.hitch(u,"run"),this.rate))},_stopTimer:function(){this._timer&&
(this._timer.remove(),this._timer=null,h--);0>=h&&(clearInterval(q),q=null,h=0)}});var v=n("ie")?function(a){var c=a.style;!c.width.length&&"auto"==b.get(a,"width")&&(c.width="auto")}:function(){};s._fade=function(h){h.node=c.byId(h.node);var q=a({properties:{}},h);h=q.properties.opacity={};h.start=!("start"in q)?function(){return+b.get(q.node,"opacity")||0}:q.start;h.end=q.end;h=s.animateProperty(q);d.after(h,"beforeBegin",k.partial(v,q.node),!0);return h};s.fadeIn=function(b){return s._fade(a({end:1},
b))};s.fadeOut=function(b){return s._fade(a({end:0},b))};s._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var w=function(a){this._properties=a;for(var b in a){var c=a[b];c.start instanceof e&&(c.tempColor=new e)}};w.prototype.getValue=function(a){var b={},c;for(c in this._properties){var h=this._properties[c],d=h.start;d instanceof e?b[c]=e.blendColors(d,h.end,a,h.tempColor).toCss():k.isArray(d)||(b[c]=(h.end-d)*a+d+("opacity"!=c?h.units||"px":0))}return b};s.animateProperty=function(h){var q=
h.node=c.byId(h.node);h.easing||(h.easing=l._defaultEasing);h=new t(h);d.after(h,"beforeBegin",k.hitch(h,function(){var c={},h;for(h in this.properties){if("width"==h||"height"==h)this.node.display="block";var d=this.properties[h];k.isFunction(d)&&(d=d(q));d=c[h]=a({},k.isObject(d)?d:{end:d});k.isFunction(d.start)&&(d.start=d.start(q));k.isFunction(d.end)&&(d.end=d.end(q));var f=0<=h.toLowerCase().indexOf("color"),r=function(a,c){var h={height:a.offsetHeight,width:a.offsetWidth}[c];if(void 0!==h)return h;
h=b.get(a,c);return"opacity"==c?+h:f?h:parseFloat(h)};"end"in d?"start"in d||(d.start=r(q,h)):d.end=r(q,h);f?(d.start=new e(d.start),d.end=new e(d.end)):d.start="opacity"==h?+d.start:parseFloat(d.start)}this.curve=new w(c)}),!0);d.after(h,"onAnimate",k.hitch(b,"set",h.node),!0);return h};s.anim=function(a,b,c,h,d,q){return s.animateProperty({node:a,duration:c||t.prototype.duration,properties:b,easing:h,onEnd:d}).play(q||0)};a(l,s);l._Animation=t;return s})},"xl/dojo-ext/Moveable":function(){define("dojo/_base/declare dojo/_base/lang dojo/touch dojo/dnd/common dojo/on dojo/_base/array dojo/dnd/Moveable xl/dojo-ext/Mover".split(" "),
function(l,m,k,f,e,d,n,c){return l("xl/dojo-ext/Moveable",[n],{constructor:function(){this.mover=c},_delayEvents:null,onMouseDown:function(b){if(!this.skip||!f.isFormElement(b)){if(this.delay){this._destroyDelayEvents();this._delayEvents=[];var a=this.handle.ownerDocument;this._delayEvents.push(e(a,k.move,m.hitch(this,this.onMouseMove)),e(a,k.release,m.hitch(this,this.onMouseUp)));this._lastX=b.pageX;this._lastY=b.pageY}else this.onDragDetected(b);b.stopPropagation();b.preventDefault()}},onMouseMove:function(b){if(Math.abs(b.pageX-
this._lastX)>this.delay||Math.abs(b.pageY-this._lastY)>this.delay)this.onMouseUp(b),this.onDragDetected(b);b.stopPropagation();b.preventDefault()},onMove:function(b,a){var c=b.node.style,d=a.l+"px",e=a.t+"px",h=parseInt(c.left)+"px",q=parseInt(c.top)+"px";if(d!=h||e!=q)if(this.onMoving(b,a),c.left=a.l+"px",c.top=a.t+"px",d=a.l,e=a.t,this.onMoved(b,a),h=parseInt(c.left),c=parseInt(c.top),4<=Math.abs(e-c)||4<=Math.abs(d-h))b.onEdge=!0},onMouseUp:function(b){this._destroyDelayEvents();b.stopPropagation();
b.preventDefault()},onMouseLeave:function(b){this._destroyDelayEvents();b.stopPropagation();b.preventDefault()},onDragDetected:function(b){new c(this.node,b,this)},_destroyDelayEvents:function(){this._delayEvents&&(d.forEach(this._delayEvents,function(b){b.remove()}),this._delayEvents=null)},destroy:function(){this.inherited(arguments);this._destroyDelayEvents()}})})},"xl/dojo-ext/Mover":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/sniff dojo/_base/window dojo/window dojo/dom dojo/dom-geometry dojo/dom-style dojo/Evented dojo/on dojo/touch dojo/mouse dojo/dnd/common dojo/dnd/autoscroll".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q){return m("xl.dojo-ext.Mover",[a],{constructor:function(a,b,c){function h(a){a.preventDefault();a.stopPropagation()}this.node=n.byId(a);this.marginBox={l:b.pageX,t:b.pageY};this.mouseButton=b.button;b=this.host=c;a=a.ownerDocument;this.events=[s(a,r.move,k.hitch(this,"onFirstMove")),s(a,r.move,k.hitch(this,"onMouseMove")),s(a,r.release,k.hitch(this,"onMouseUp")),s(a,r.leave,k.hitch(this,"onMouseLeave")),s(a,"dragstart",h),s(a.body,"selectstart",h)];q.autoScrollStart(a);
if(b&&b.onMoveStart)b.onMoveStart(this)},onMouseMove:function(a){q.autoScroll(a);var b=this.marginBox,c=d.getBox(this.ownerDocument);if(0>a.pageX||0>a.pageY||a.pageX>c.w-10||a.pageY>c.h||this.onEdge)this.onMouseUp(a);else this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){this.destroy();a.preventDefault();a.stopPropagation()},onMouseLeave:function(a){this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var h=
this.node.style,d,q=this.host;switch(h.position){case "relative":case "absolute":d=Math.round(parseFloat(h.left))||0;h=Math.round(parseFloat(h.top))||0;break;default:h.position="absolute";h=c.getMarginBox(this.node);d=e.doc.body;var f=b.getComputedStyle(d),r=c.getMarginBox(d,f),f=c.getContentBox(d,f);d=h.l-(f.l-r.l);h=h.t-(f.t-r.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=h-this.marginBox.t;if(q&&q.onFirstMove)q.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){l.forEach(this.events,
function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane dojo/text!./templates/Dialog.html dojo/i18n!./nls/common".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O){z=f("dijit._DialogBase"+(u("dojo-bidi")?"_NoBidi":""),[F,D,E,B],{templateString:O,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:z.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,_setClosableAttr:function(a){this.closeButtonNode.style.display=
a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=s.getLocalization("dijit","common");t.mixin(this,a);this.inherited(arguments)},postCreate:function(){b.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);k.after(this,"onExecute",t.hitch(this,"hide"),!0);k.after(this,"onCancel",t.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this._size();this._position();this.autofocus&&K.isTop(this)&&
(this._getFocusItems(this.domNode),A.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems(this.domNode);A.focus(this._firstFocusItem)},_endDrag:function(){var a=c.position(this.domNode),b=v.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==u("ie")?x:w)(a,{handle:this.titleBar}),
k.after(this._moveable,"onMoveStop",t.hitch(this,"_endDrag"),!0)):n.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":m.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:t.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();this._singleChild?"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle):
b.set(this.containerNode,{width:"auto",height:"auto"});var a=c.position(this.domNode),h=v.getBox(this.ownerDocument);h.w*=this.maxRatio;h.h*=this.maxRatio;if(a.w>=h.w||a.h>=h.h){var d=c.position(this.containerNode),q=Math.min(a.w,h.w)-(a.w-d.w),a=Math.min(a.h,h.h)-(a.h-d.h);this._singleChild&&this._singleChild.resize?("undefined"==typeof this._singleChildOriginalStyle&&(this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText),this._singleChild.resize({w:q,h:a})):b.set(this.containerNode,
{width:q+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!n.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,h=v.getBox(this.ownerDocument),d=this._relativePosition,q=d?null:c.position(a);b.set(a,{left:Math.floor(h.l+(d?d.x:(h.w-q.w)/2))+"px",top:Math.floor(h.t+(d?d.y:(h.h-q.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==r.TAB){this._getFocusItems(this.domNode);var b=a.target;
this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(A.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey&&(A.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&a.keyCode==r.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(!this.open){this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=
!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),K.hide(this));var c=v.get(this.ownerDocument);this._modalconnects.push(h(c,"scroll",t.hitch(this,"resize")));this._modalconnects.push(h(this.domNode,"keydown",t.hitch(this,"_onKey")));b.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var d;this._fadeInDeferred=new e(t.hitch(this,function(){d.stop();delete this._fadeInDeferred}));c=this._fadeInDeferred.promise;d=a.fadeIn({node:this.domNode,
duration:this.duration,beforeBegin:t.hitch(this,function(){K.show(this,this.underlayAttrs)}),onEnd:t.hitch(this,function(){this.autofocus&&K.isTop(this)&&(this._getFocusItems(this.domNode),A.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return c}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var b;this._fadeOutDeferred=new e(t.hitch(this,function(){b.stop();delete this._fadeOutDeferred}));
this._fadeOutDeferred.then(t.hitch(this,"onHide"));var c=this._fadeOutDeferred.promise;b=a.fadeOut({node:this.domNode,duration:this.duration,onEnd:t.hitch(this,function(){this.domNode.style.display="none";K.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var h;h=this._modalconnects.pop();)h.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return c}},resize:function(){"none"!=
this.domNode.style.display&&(this._size(),u("touch")||this._position())},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();K.hide(this);this.inherited(arguments)}});u("dojo-bidi")&&(z=f("dijit._DialogBase",z,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&
this.textDir!=a&&(this._set("textDir",a),this.set("title",this.title))}}));var H=f("dijit.Dialog",[N,z],{});H._DialogBase=z;var K=H._DialogLevelManager={_beginZIndex:950,show:function(a,c){M[M.length-1].focus=A.curNode;var h=M[M.length-1].dialog?M[M.length-1].zIndex+2:H._DialogLevelManager._beginZIndex;b.set(a.domNode,"zIndex",h);J.show(c,h-1);M.push({dialog:a,underlayAttrs:c,zIndex:h})},hide:function(a){if(M[M.length-1].dialog==a){M.pop();var b=M[M.length-1];1==M.length?J.hide():J.show(b.underlayAttrs,
b.zIndex-1);if(a.refocus){a=b.focus;if(b.dialog&&(!a||!d.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(b.dialog.domNode),a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(c){}}}else b=m.indexOf(m.map(M,function(a){return a.dialog}),a),-1!=b&&M.splice(b,1)},isTop:function(a){return M[M.length-1].dialog==a}},M=H._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];A.watch("curNode",function(a,b,c){a=M[M.length-1].dialog;if(c&&a&&!a._fadeOutDeferred&&c.ownerDocument==a.ownerDocument){do if(c==
a.domNode||n.contains(c,"dijitPopup"))return;while(c=c.parentNode);a.focus()}});u("dijit-legacy-requires")&&q(0,function(){l(["dijit/TooltipDialog"])});return H})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(l,m,k,f,e,d,n,c,b){k.add("dojo-preload-i18n-Api",1);n=l.i18n={};var a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,s=function(a,b,c,h){var d=[c+h];b=b.split("-");for(var q="",e=0;e<b.length;e++)if(q+=
(q?"-":"")+b[e],!a||a[q])d.push(c+q+"/"+h),d.specificity=q;return d},r={},t=function(a,b,c){c=c?c.toLowerCase():l.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(c)?a+"/nls/"+b:a+"/nls/"+c+"/"+b},h=l.getL10nName=function(a,c,h){return b.id+"!"+t(a,c,h)},q=function(a,b,c,h,q,e){a([b],function(f){var k=d.clone(f.root||f.ROOT),u=s(!f._v1x&&f,q,c,h);a(u,function(){for(var a=1;a<u.length;a++)k=d.mixin(d.clone(k),arguments[a]);r[b+"/"+q]=k;k.$locale=u.specificity;e()})})},u=function(a){var b=
e.extraLocale||[],b=d.isArray(b)?b:[b];b.push(a);return b},v=function(b,h,e){if(k("dojo-preload-i18n-Api")){var n=b.split("*"),t="preload"==n[1];t&&(r[b]||(r[b]=1,C(n[2],c.parse(n[3]),1,h)),e(1));if(!(n=t))A&&z.push([b,h,e]),n=A;if(n)return}b=a.exec(b);var s=b[1]+"/",m=b[5]||b[4],v=s+m,n=(b=b[5]&&b[4])||l.locale||"",w=v+"/"+n;b=b?[n]:u(n);var x=b.length,B=function(){--x||e(d.delegate(r[w]))};f.forEach(b,function(a){var b=v+"/"+a;k("dojo-preload-i18n-Api")&&F(b);r[b]?B():q(h,v,s,m,a,B)})};if(k("dojo-unit-tests"))var w=
n.unitTests=[];k("dojo-preload-i18n-Api");var x=n.normalizeLocale=function(a){a=a?a.toLowerCase():l.locale;return"root"==a?"ROOT":a},A=0,z=[],C=n._preloadLocalizations=function(a,b,c,h){function d(a,b){h([a],b)}function q(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function e(c){c=x(c);q(c,function(c){if(0<=f.indexOf(b,c)){var h=a.replace(/\./g,"/")+"_"+c;A++;d(h,function(a){for(var b in a)r[m.toAbsMid(b)+"/"+c]=a[b];for(--A;!A&&z.length;)v.apply(null,z.shift())});
return!0}return!1})}h=h||m;e();f.forEach(l.config.extraLocale,e)},F=function(){},B={},D=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
F=function(a){for(var b,c=a.split("/"),h=l.global[c[0]],d=1;h&&d<c.length-1;h=h[c[d++]]);h&&((b=h[c[d]])||(b=h[c[d].replace(/-/g,"_")]),b&&(r[a]=b));return b};n.getLocalization=function(a,b,c){var h;a=t(a,b,c);v(a,m,function(a){h=a});return h};k("dojo-unit-tests")&&w.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=D("{prop:1}",F,"nonsense",B);a.is({prop:1},b);a.is(void 0,b[1]);b=D("({prop:1})",F,"nonsense",B);a.is({prop:1},b);a.is(void 0,b[1]);b=D("{'prop-x':1}",F,"nonsense",B);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=D("({'prop-x':1})",F,"nonsense",B);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=D("define({'prop-x':1})",F,"nonsense",B);a.is(B,b);a.is({"prop-x":1},B.result);b=D("define('some/module', {'prop-x':1})",F,"nonsense",B);a.is(B,b);a.is({"prop-x":1},B.result);b=D("this is total nonsense and should throw an error",F,"nonsense",B);a.is(b instanceof Error,!0)})});return d.mixin(n,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:v,cache:r,getL10nName:h})})},
"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(l,m){var k=m.prototype.onMove;return l("dojo.dnd.TimedMoveable",m,{timeout:40,constructor:function(f,e){e||(e={});e.timeout&&("number"==typeof e.timeout&&0<=e.timeout)&&(this.timeout=e.timeout)},onMoveStop:function(f){f._timer&&(clearTimeout(f._timer),k.call(this,f,f._leftTop));m.prototype.onMoveStop.apply(this,arguments)},onMove:function(f,e){f._leftTop=e;if(!f._timer){var d=this;f._timer=setTimeout(function(){f._timer=
null;k.call(d,f,f._leftTop)},this.timeout)}}})})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(l,m,k,f,e){var d={};l.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(e){d[e]=f[e]});k.mixin(d,{defaultDuration:m.defaultDuration||200});k.mixin(e,d);return e})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),
function(l,m,k,f,e,d){return m("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(d){var c=[];l.forEach(d||this.getChildren(),function(b){"value"in b?c.push(b):c=c.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return c},reset:function(){l.forEach(this._getDescendantFormWidgets(),function(d){d.reset&&d.reset()})},validate:function(){var e=!1;return l.every(l.map(this._getDescendantFormWidgets(),function(c){c._hasBeenBlurred=!0;var b=c.disabled||!c.validate||
c.validate();!b&&!e&&(d.scrollIntoView(c.containerNode||c.domNode),c.focus(),e=!0);return b}),function(c){return c})},setValues:function(d){k.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",d)},_setValueAttr:function(d){var c={};l.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var b in c)if(c.hasOwnProperty(b)){var a=c[b],e=f.getObject(b,!1,d);void 0!==e&&(e=[].concat(e),
"boolean"==typeof a[0].checked?l.forEach(a,function(a){a.set("value",-1!=l.indexOf(e,a._get("value")))}):a[0].multiple?a[0].set("value",e):l.forEach(a,function(a,b){a.set("value",e[b])}))}},getValues:function(){k.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var d={};l.forEach(this._getDescendantFormWidgets(),function(c){var b=c.name;if(b&&!c.disabled){var a=c.get("value");"boolean"==typeof c.checked?
/Radio/.test(c.declaredClass)?!1!==a?f.setObject(b,a,d):(a=f.getObject(b,!1,d),void 0===a&&f.setObject(b,null,d)):(c=f.getObject(b,!1,d),c||(c=[],f.setObject(b,c,d)),!1!==a&&c.push(a)):(c=f.getObject(b,!1,d),"undefined"!=typeof c?f.isArray(c)?c.push(a):f.setObject(b,[c,a],d):f.setObject(b,a,d))}});return d},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var d=l.map(this._descendants,function(c){return c.get("state")||""});return 0<=l.indexOf(d,"Error")?
"Error":0<=l.indexOf(d,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(d){this._descendants=this._getDescendantFormWidgets();l.forEach(this._descendants,function(c){c._started||c.startup()});d||this._onChildChange()},_onChildChange:function(d){(!d||"state"==d||"disabled"==d)&&this._set("state",this._getState());if(!d||"value"==d||"disabled"==d||"checked"==d)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var d=this;this.own(e(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=d.domNode&&d._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(c,b,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},
"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(l,m){return l("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var k=m._getTabNavigable(this.containerNode);this._firstFocusItem=k.lowest||k.first||this.closeButtonNode||this.domNode;this._lastFocusItem=k.last||k.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){var t=l("dijit.DialogUnderlay",[c,b],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){f.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(d(this.domNode,"keydown",m.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var c=n.getBox(this.ownerDocument);b.top=c.t+"px";b.left=c.l+"px";a.width=c.w+"px";a.height=c.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new a(this.domNode);var b=n.get(this.ownerDocument);this._modalConnects=[s.on("resize",m.hitch(this,"layout")),d(b,"scroll",
m.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});t.show=function(a,b){var c=t._singleton;!c||c._destroyed?c=r._underlay=t._singleton=new t(a):a&&c.set(a);e.set(c.domNode,"zIndex",b);c.open||c.show()};t.hide=function(){var a=
t._singleton;a&&!a._destroyed&&a.hide()};return t})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v){return a("dijit.layout.ContentPane",[k,f,e],{href:"",content:"",extractContent:!1,
parseOnLoad:!0,parserScope:l._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,
markupFactory:function(a,b,c){var h=new c(a,b);return!h.href&&h._contentSetter&&h._contentSetter.parseDeferred&&!h._contentSetter.parseDeferred.isFulfilled()?h._contentSetter.parseDeferred.then(function(){return h}):h},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=r.byId(b);for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);a=m.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);
var a=u.getLocalization("dijit","loading",this.lang);this.loadingMessage=d.substitute(this.loadingMessage,a);this.errorMessage=d.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&b.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&m.isFunction(a.startup))&&(a.startup(),a._started=
!0)},this)},_startChildren:function(){b.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&m.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&b.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&m.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){l.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();
this.onLoadDeferred=new s(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){l.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new s(m.hitch(this,"cancel"));this._created&&
this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&
!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new s(m.hitch(this,"cancel"));this.onLoadDeferred.then(m.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};m.isObject(this.ioArgs)&&m.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||
q.get)(b),h;c.then(function(b){h=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return h});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var c=this._contentSetter;b.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});c&&(b.forEach(c.parseResults,function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete c.parseResults);a||
h.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var c=this._contentSetter;c&&c instanceof n._ContentSetter||(c=this._contentSetter=new n._ContentSetter({node:this.containerNode,_onError:m.hitch(this,this._onError),onContentError:m.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+" could not change content due to "+b.message,b)}})}));var h=m.mixin({cleanContent:this.cleanContent,
extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),h=c.set(m.isObject(a)&&a.domNode?a.domNode:a,h),d=this;return v(h&&h.then?h:c.parseDeferred,function(){delete d._contentSetterParams;b||(d._started&&(d._startChildren(),d._scheduleLayout()),d._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);
c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query dojo/sniff ../registry ../Viewport ./utils".split(" "),function(l,m,k,f,e,
d,n,c,b,a,s){return m("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var b=this.getParent();this._childOfLayoutWidget=b&&b.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",d.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],c=!1;n("\x3e *",this.containerNode).some(function(h){var d=b.byNode(h);d&&
d.resize?a.push(d):!/script|link|style/i.test(h.nodeName)&&h.offsetHeight&&(c=!0)});this._singleChild=1==a.length&&!c?a[0]:null;k.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,b){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&f.setMarginBox(this.domNode,
a);var c=this.containerNode;if(c===this.domNode){var q=b||{};d.mixin(q,a||{});if(!("h"in q)||!("w"in q))q=d.mixin(f.getMarginBox(c),q);this._contentBox=s.marginBox2contentBox(c,q)}else this._contentBox=f.getContentBox(c);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||f.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),b,c=0;b=
a[c++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!k.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/layout/utils":function(){define(["dojo/_base/array",
"dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(l,m,k,f,e){function d(c,b){var a=c.resize?c.resize(b):k.setMarginBox(c.domNode,b);a?e.mixin(c,a):(e.mixin(c,k.getMarginBox(c.domNode)),e.mixin(c,b))}var n={marginBox2contentBox:function(c,b){var a=f.getComputedStyle(c),d=k.getMarginExtents(c,a),e=k.getPadBorderExtents(c,a);return{l:f.toPixelValue(c,a.paddingLeft),t:f.toPixelValue(c,a.paddingTop),w:b.w-(d.w+e.w),h:b.h-(d.h+e.h)}},layoutChildren:function(c,b,a,f,r){b=
e.mixin({},b);m.add(c,"dijitLayoutContainer");a=l.filter(a,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(l.filter(a,function(a){return"center"==a.region||"client"==a.layoutAlign}));l.forEach(a,function(a){var c=a.domNode,q=a.region||a.layoutAlign;if(!q)throw Error("No region setting for "+a.id);var e=c.style;e.left=b.l+"px";e.top=b.t+"px";e.position="absolute";m.add(c,"dijitAlign"+(q.substring(0,1).toUpperCase()+q.substring(1)));c={};f&&f==a.id&&(c["top"==a.region||"bottom"==
a.region?"h":"w"]=r);"leading"==q&&(q=a.isLeftToRight()?"left":"right");"trailing"==q&&(q=a.isLeftToRight()?"right":"left");"top"==q||"bottom"==q?(c.w=b.w,d(a,c),b.h-=a.h,"top"==q?b.t+=a.h:e.top=b.t+b.h+"px"):"left"==q||"right"==q?(c.h=b.h,d(a,c),b.w-=a.w,"left"==q?b.l+=a.w:e.left=b.l+b.w+"px"):("client"==q||"center"==q)&&d(a,b)})}};e.setObject("dijit.layout.utils",n);return n})},"dijit/nls/loading":function(){define({root:{loadingState:"Loading...",errorState:"Sorry, an error occurred"},zh:!0,"zh-tw":!0,
uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"dijit/nls/common":function(){define({root:{buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,
bg:!0,az:!0,ar:!0})},"xl/util/standbyHandler":function(){define(["dojo/topic","xl/util/array"],function(l,m){function k(){for(;0<d.length;)if(d[d.length-1].completed)d.pop();else break;var b=!1,a=!1;0<d.length&&(a=m.some(d,function(a){return a.modal}),b=!d[d.length-1].modal);f(b,a)}function f(b,a){if(!(n==b&&c==a)){var d=n,e=c;n=b;c=a;n!=d&&l.publish("standbyToggle",{state:n});c!=e&&l.publish("modalToggle",{state:c})}}var e=0,d=[],n=!1,c=!1;return{registerStandbyNotify:function(b){return l.subscribe("standbyToggle",
b)},startStandby:function(){var b="s"+ ++e;d.push({id:b,modal:!1,completed:!1});k();return b},endStandby:function(b){for(var a=d.length-1;0<=a;a--){var c=d[a];c.id==b&&!c.modal&&(c.completed=!0)}k()},registerModalNotify:function(b){return l.subscribe("modalToggle",b)},startModal:function(){var b="m"+ ++e;d.push({id:b,modal:!0,completed:!1});k();return b},endModal:function(b){for(var a=[],c=d.length-1;0<=c;c--){var e=d[c];if(e.id==b&&e.modal){e.completed=!0;for(b=0;b<a.length;b++)a[b].completed=!0;
break}else a.push(e)}k()},getCurrent:function(){return{standbyState:n,modalState:c}},reset:function(){e=0;d=[];c=n=!1}}})},"xl/util/array":function(){define(["dojo/_base/array"],function(l){function m(f){var e=1,d=0,n=0;f||(e=d=n=-1);return function(c,b,a,s){if(s&&0<e)return l.lastIndexOf(c,b,a);s=c&&c.length||0;var r=f?s+n:d;a===k?a=f?d:s+n:0>a?(a=s+a,0>a&&(a=d)):a=a>=s?s+n:a;s&&"string"==typeof c&&(c=c.split(""));if("function"==typeof b&&"function"!=typeof c[0])for(;a!==r;a+=e){if(b(c[a],a))return a}else for(;a!==
r;a+=e)if(c[a]==b)return a;return-1}}var k;l.indexOf=m(!0);l.lastIndexOf=m(!1);l.removeItem=function(f,e){var d=l.indexOf(f,e);return f.splice(d,1)[0]};l.findFirst=function(f,e){var d=l.indexOf(f,e);return 0>d?null:f[d]};return l})},"xl/util/stringUtils":function(){define("dojo/_base/declare xl/util/IPMath xl/util/enums xl/util/IPNumberFormatter dojo/_base/lang dojo/dom-construct dojo/dom-geometry dojo/_base/window dojo/json dojo/_base/config".split(" "),function(l,m,k,f,e,d,n,c,b,a){var s={substitute:function(a){if(null==
a)return"";var b;b=2==arguments.length&&arguments[1]instanceof Array?arguments[1]:arguments.slice(1);for(var c=0;c<b.length;c++)a=a.replace(RegExp("\\{"+c+"\\}","gi"),b[c]);return a},sameText:function(a,b){return a.toLowerCase()==b.toLowerCase()},trim:function(a,b){b||(b=" ");return!a?"":s.trimBack(s.trimFront(a,b),b)},trimFront:function(a,b){b||(b=" ");if(!a)return"";b=s.stringToCharacter(b);for(var c=0,h=a.length;c<h&&a.charAt(c)==b;)c++;return 0<c?a.substr(c):a},trimBack:function(a,b){b||(b=" ");
if(!a)return"";b=s.stringToCharacter(b);for(var c=a.length,h=c-1;0<=h&&a.charAt(h)==b;)h--;return h<c-1?a.substr(0,h+1):a},stringToCharacter:function(a){return 1==a.length?a:a.slice(0,1)},dupeString:function(a,b){var c,h="";for(c=0;c<b;c++)h+=a;return h},formatTimeSpan:function(a){a=Math.round(a);var b=Math.floor(a/3600);a-=3600*b;var c=Math.floor(a/60);a=Math.round(a-60*c);b+="";c+="";a+="";2>b.length&&(b="0"+b);2>c.length&&(c="0"+c);2>a.length&&(a="0"+a);return b+":"+c+":"+a}},r=function(a,b){var c=
b.sicommadecimal?",":".",h=a;if(b.zeros<b.precision)for(var d=a.indexOf(c)+1;h.length>d+b.zeros;)if("0"==a.charAt(h.length-1))h=t(h,h.length-1,1);else break;a.charAt(h.length-1)==c&&(h=t(h,h.length-1,1));return h},t=function(a,b,c){return 0<c?a.substring(0,b)+a.substring(b+1):a},h=function(a,b){var c;"string"==typeof a&&(a=parseFloat(a));if(1E-12>Math.abs(a))c=0;else{c=m.getEpsilon(a);var h=Math.pow(10,-(b.precision+2));c>h&&(c=h);c=0<a?a+c:0>a?a-c:a}return c};s.getFormatInfo=function(a){var b={};
b.width=a.length;b.comma=0<=a.indexOf(",");b.exponent=0<=a.indexOf("E");b.dollar=0<=a.indexOf("$");b.negparen=0<=a.indexOf("(")&&0<=a.indexOf(")");for(var c=b.wholewidth=0;c<a.length&&!("E"==a.charAt(c)||"."==a.charAt(c));c++)"#"==a.charAt(c)&&b.wholewidth++;b.precision=0;b.zeros=0;c=a.indexOf(".");if(0<=c){for(c+=1;c<a.length&&"E"!=a.charAt(c);c++)"#"==a.charAt(c)?13>b.precision?(b.precision++,b.zeros++):b.width--:"-"==a.charAt(c)&&(13>b.precision?b.precision++:b.width--);0==b.precision&&b.width--}1>
b.width&&(b.width=1);b.expwidth=0;if(b.exponent){c=a.indexOf("E");for(c+=1;c<a.length;c++)"#"==a.charAt(c)&&b.expwidth++}b.sicommaformatting=!1;b.sicommachar=" ";b.sicommadecimal=!1;return b};s.formatFloat=function(a,b,c){c||(c=k.CurrencyType.CURRDOLLAR);b=this.getFormatInfo(b);return this.formatFloatEx(a,b,c)};s.formatFloatWithDecimal=function(a,b,c,h){c||(c=k.CurrencyType.CURRDOLLAR);b=this.getFormatInfo(b);b.sicommadecimal=h;return this.formatFloatEx(a,b,c)};s.formatFloatEx=function(a,b,c){var d;
c||(c=k.CurrencyType.CURRDOLLAR);if(b.comma)d=new f,b.sicommadecimal&&(d.decimalSeparatorTo=","),d.precision=b.precision,d.rounding=k.IPNumberBaseRoundType.NEAREST,d.thousandsSeparatorTo=b.sicommachar,d.useNegativeSign=!0,d.useThousandsSeparator=b.comma,d=d.format(h(a,b)),d=r(d,b);else if(b.exponent){d=b.wholewidth;0>a&&d--;d=1<d?b.precision+d-1:b.precision;d=h(a,b).toExponential(d);var e,n=d.indexOf("e");if(!(0>n)){e="-"==d.charAt(n+1)?!0:!1;var l=parseInt(d.substr(n+2));e&&(l=-l);e=b.wholewidth;
0>a&&e--;if(1<e){var l=l-(e-1),m=d.substring(0,d.indexOf(".")),F=d.substring(d.indexOf(".")+1,n),m=m+F.substr(0,e-1),F=t(F,0,e-1);d=r(m+"."+F,b)+d.charAt(n)+l.toString()}else d=r(d.substr(0,n),b)+d.charAt(n)+l.toString();d=d.toUpperCase()}b.sicommadecimal&&(d=d.replace(/\./g,","))}else{l=h(a,b);n=b.precision;if(0>n||20<n)throw new RangeError("Precision must be betweeen 0 and 20");if(0==n)d=Math.round(l).toString()+".";else{d=!1;e=l;0>l&&(d=!0,e=-l);"string"==typeof e&&(e=parseFloat(e));m=e.toExponential(20);
l=m.charAt(0);F=m.indexOf("e",1);0>F&&(F=m.indexOf("E",1));var B=!1,D=0;0>F?e=m.substr(2):(e=m.substring(2,F),B="-"==m.charAt(F+1),D=parseInt(m.substr(F+2)),B&&(D=-D));-1>=D?(e=s.dupeString("0",-D-1)+l+e,l="0"):0<D&&(e+=s.dupeString("0",D-e.length),l+=e.substr(0,D),e=e.substr(D));m=e.length;if(n>m)e+=s.dupeString("0",n-m);else if(n<m)if(m=e.charAt(n),"5">m)e=e.substr(0,n);else{F=l.length;for(B=n-1;;)if(0<=B)if(m=e.charAt(B),m="9"==m?"0":String.fromCharCode(m.charCodeAt(0)+1),e=e.substring(0,B)+m+
e.substring(B+1,n),"0"==m)B--;else break;else if(0<=F+B)if(m=l.charAt(F+B),m="9"==m?"0":String.fromCharCode(m.charCodeAt(0)+1),l=l.substr(0,F+B)+m+l.substr(F+B+1),"0"==m)B--;else break;else{l="1"+l;break}}n=l+"."+e;if(d)try{if(0!=l||0!=e)n="-"+n}catch(E){n="-"+n}d=n}b.sicommadecimal&&(d=d.replace(/\./g,","));d=r(d,b)}!b.dollar&&!b.negparen&&(n=d.replace(RegExp("["+b.sicommachar+"]","gi"),"").indexOf(b.sidecimalchar),0<=n?b.wholewidth>n&&(d=this.dupeString(" ",b.wholewidth-n)+d):b.wholewidth>d.length&&
(d=this.dupeString(" ",b.wholewidth-d.length)+d));if(b.dollar||b.negparen)0>a?(n=d.indexOf("-"),0<=n&&(d=t(d,n,1),b.negparen?(d=d.substring(0,n)+"("+d.substring(n)+")",b.dollar&&(d=c.symbol+d)):b.dollar&&(d=d.substring(0,n)+"-"+c.symbol+d.substring(n)))):b.dollar&&(d=c.symbol+d);return d};s.textToHtml=function(a){return a.replace(/(\r\n|\n)/,"\x3cbr/\x3e")};s.fpLocale=function(a){return a?a.substr(0,2).toLowerCase()+"_"+a.substr(3,2).toUpperCase():""};s.padString=function(a,b,c){c||(c=" ");return!b||
b<=a.length?a:Array(b-a.length+1).join(c)+a};String.prototype.format||(String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})});s._getTextSizeCache={};s.getMSize=function(a,b){return s.getTextSize(a,b,"m")};s.getTextSize=function(a,b,h){var f=h+"_"+a+b,r=s._getTextSizeCache[f];void 0==r&&(a=d.create("span",{style:{fontFamily:a,fontSize:b},innerHTML:h},c.body()),r=n.getContentBox(a),r={w:r.w,h:r.h},d.destroy(a),s._getTextSizeCache[f]=
r);return e.mixin({},r)};s.guid=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:c&3|8).toString(16)})};s.startsWith=function(a,b){return!a||!b?!1:0===a.indexOf(b,0)};s.endsWith=function(a,b){return!a||!b?!1:-1!==a.indexOf(b,a.length-b.length)};s.parsePostMessage=function(a){try{return b.parse(a)}catch(c){return console.log("Invalid JSON sent as postmessage: ",a),{}}};s.sentenceCase=
function(b){var c=a.culture?a.culture.toLowerCase():"";if(!b||s.startsWith(c,"de"))return b;b=b.trim().split(" ").map(function(a){var b=["A","E","O","U","Y"];return a.toUpperCase()==a&&-1==b.indexOf(a)?a:a.toLowerCase()}).join(" ");b=b[0].toUpperCase()+b.substring(1);return b=b.replace(/([.?!>]\s*)([a-z])/g,function(a){return a.toUpperCase()})};return s})},"xl/util/IPMath":function(){define(["dojo/_base/declare"],function(l){var m={DEF_EPS:1E-12,P_MAX:14,ensureRange:function(k,f,e){k<f?k=f:k>e&&(k=
e);return k},compareValue:function(k,f,e){e||(e=m.DEF_EPS);return m.sameValue(k,f,e)?0:k<f?-1:1},isFloatEqual:function(k,f,e){e||(e=0);m.isInfinite(k)||m.isInfinite(f)?k=m.isInfinite(k)&&m.isInfinite(f)&&0<k*f?!0:!1:(0==e&&(e=Math.max(1E-8*Math.min(k,f),1E-8)),k=m.sameValue(k,f,e));return k},sameValue:function(k,f,e){e||(e=m.DEF_EPS);return Math.abs(k-f)<=e},isInfinite:function(k){return Infinity==k||-Infinity==k},log10:function(k){return Math.log(k)/Math.LN10},logX:function(k,f){return Math.log(f)/
Math.log(k)},getEpsilon:function(k,f){f||(f=13);var e;1E-10>Math.abs(k)?e=1E-10:(e=m.log10(Math.abs(k)),e=m.intPower(10,Math.ceil(e)-f));return e},intPower:function(k,f){var e=1,d,n;n=0>f?-f:f;for(d=0;d<n;d++)e*=k;0>f&&(e=1/e);return e},sqr:function(k){return k*k},hypot:function(k,f){return Math.sqrt(k*k+f*f)},isZero:function(k,f){f||(f=1E-12);return Math.abs(k)<=f},min:function(k,f){return isNaN(k)?f:isNaN(f)?k:Math.min(k,f)},max:function(k,f){return isNaN(k)?f:isNaN(f)?k:Math.max(k,f)},round:function(k){return 0<=
k?parseInt(k+0.5+this.getEpsilon(k)):parseInt(k-(0.5+this.getEpsilon(k)))},incrementDigit:function(k){return"9"==k?"0":String.fromCharCode(k.charCodeAt(0)+1)},toFixed:function(k,f){if(0>f||20<f)throw new RangeError("Precision must be betweeen 0 and 20");if(0==f)return Math.round(k).toString()+".";var e=!1,d=k;0>k&&(e=!0,d=-k);var n=d.toExponential(20),d=n.charAt(0),c=n.indexOf("e",1);0>c&&(c=n.indexOf("E",1));var b=!1,a=0,s;0>c?s=n.substr(2):(s=n.substring(2,c),b="-"==n.charAt(c+1),a=parseInt(n.substr(c+
2)),b&&(a=-a));-1>=a?(s=m.dupeString("0",-a-1)+d+s,d="0"):0<a&&(s+=m.dupeString("0",a-s.length),d+=s.substr(0,a),s=s.substr(a));n=s.length;if(f>n)s+=m.dupeString("0",f-n);else if(f<n)if(n=s.charAt(f),"5">n)s=s.substr(0,f);else{c=d.length;for(b=f-1;;)if(0<=b)if(n=s.charAt(b),n=m.incrementDigit(n),s=s.substring(0,b)+n+s.substring(b+1,f),"0"==n)b--;else break;else if(0<=c+b)if(n=d.charAt(c+b),n=m.incrementDigit(n),d=d.substr(0,c+b)+n+d.substr(c+b+1),"0"==n)b--;else break;else{d="1"+d;break}}n=d+"."+
s;if(e)try{if(0!=Number(d)||0!=Number(s))n="-"+n}catch(r){n="-"+n}return n},sigFigs:function(k,f,e){if(isNaN(k))return k.toString();var d=Math.floor(Math.log(Math.abs(k))/Math.LN10);0==k&&(d=0);f=f-d-1;if(0<=f){k=m.toFixed(k,f);if(!e&&(e=k.indexOf("."),0<=e)){f=k.length;for(d=f-1;d>e&&"0"==k.charAt(d);)d--;d<f-1&&(k=k.substring(0,d+1));d==e&&(k=k.substring(0,e))}return k}k=Math.round(k*Math.pow(10,f))*Math.pow(10,-f);return m.toFixed(k,0)},sigFigsL:function(k,f,e,d){k=m.sigFigs(k,f,e);return d?k.replace(".",
","):k},dupeString:function(k,f){var e,d="";for(e=0;e<f;e++)d+=k;return d},sign:function(k){return 0<k?1:0>k?-1:0},roundUp:function(k){return 0>k?Math.floor(k):Math.ceil(k)},fixValue:function(k,f){f||(f=this.P_MAX);var e=k.toString();return-1!=e.indexOf(".")&&e.substring(e.indexOf("."),e.length).length>f?parseFloat(k.toPrecision(f)):k},isNumber:function(k){return"number"===typeof k&&k===k}};return m})},"xl/util/enums":function(){define(["dojo/_base/declare"],function(l){l={};l.CurrencyType={CURRDOLLAR:{symbol:"$"},
CURRPOUND:{symbol:String.fromCharCode(163)},CURREURO:{symbol:"u20AC"},CURRYEN:{symbol:String.fromCharCode(165)}};l.IPNumberBaseRoundType={DOWN:"down",NEAREST:"nearest",NONE:"none",UP:"up"};return l})},"xl/util/IPNumberFormatter":function(){define(["dojo/_base/declare","xl/util/enums","xl/util/IPNumberBase"],function(l,m,k){return l("xl.util.IPNumberFormatter",[],{decimalSeparatorFrom:".",decimalSeparatorTo:".",precision:-1,rounding:m.IPNumberBaseRoundType.NONE,thousandsSeparatorFrom:",",thousandsSeparatorTo:",",
useNegativeSign:!0,useThousandsSeparator:!0,format:function(f){if(this.useThousandsSeparator&&(this.decimalSeparatorFrom==this.thousandsSeparatorFrom&&null!=this.decimalSeparatorFrom||this.decimalSeparatorTo==this.thousandsSeparatorTo&&null!=this.decimalSeparatorFrom)||""==this.decimalSeparatorTo||!isNaN(this.decimalSeparatorTo))return"";var e=new k(this.decimalSeparatorFrom,this.thousandsSeparatorFrom,this.decimalSeparatorTo,this.thousandsSeparatorTo);"string"===typeof f&&(f=e.parseNumberString(f));
if(null==f||isNaN(f))return"";var d=0>f;f=f.toString();var n=f.split(".");if(this.precision<=(n[1]?n[1].length:0))this.rounding!=m.IPNumberBaseRoundType.NONE&&(f=e.formatRoundingWithPrecision(f,this.rounding,this.precision));n=f;1<=Math.abs(n)?(n=f.split("."),f=this.useThousandsSeparator?e.formatThousands(n[0]):n[0],f=null!=n[1]&&""!=n[1]?f+this.decimalSeparatorTo+n[1]:f):0<Math.abs(n)&&(-1!=f.indexOf("e")&&(f=(Math.abs(n)+1).toString()),f=this.decimalSeparatorTo+f.substring(f.indexOf(".")+1));f=
e.formatPrecision(f,this.precision);0==f&&(d=!1);d&&(f=e.formatNegative(f,this.useNegativeSign));return!e.isValid?"":f}})})},"xl/util/IPNumberBase":function(){define(["dojo/_base/declare","xl/util/enums"],function(l,m){return l("xl.util.IPNumberBase",[],{constructor:function(k,f,e,d){this.decimalSeparatorFrom=k;this.thousandsSeparatorFrom=f;this.decimalSeparatorTo=e;this.thousandsSeparatorTo=d;this.isValid=!0},decimalSeparatorFrom:null,decimalSeparatorTo:null,isValid:!1,thousandsSeparatorFrom:null,
thousandsSeparatorTo:null,formatRounding:function(k,f){var e=k;if(f!=m.IPNumberBaseRoundType.NONE)if(f==m.IPNumberBaseRoundType.UP)e=Math.ceil(e);else if(f==m.IPNumberBaseRoundType.DOWN)e=Math.floor(e);else if(f==m.IPNumberBaseRoundType.NEAREST)e=Math.round(e);else return this.isValid=!1,"";return e.toString()},formatRoundingWithPrecision:function(k,f,e){if(f!=m.IPNumberBaseRoundType.NONE){0>e&&(e=0);k*=Math.pow(10,e);k=k.toString();if(f==m.IPNumberBaseRoundType.UP)k=Math.ceil(k);else if(f==m.IPNumberBaseRoundType.DOWN)k=
Math.floor(k);else if(f==m.IPNumberBaseRoundType.NEAREST)k=Math.round(k);else return this.isValid=!1,"";k/=Math.pow(10,e)}return k.toString()},formatDecimal:function(k){return k.split(".").join(this.decimalSeparatorTo)},formatThousands:function(k){var f=0>k;k=Math.abs(k).toString();k=k.split(-1!=k.indexOf(this.decimalSeparatorTo)?this.decimalSeparatorTo:".");var e=k[0].length;if(3<e){var d=Math.floor(e/3);0==e%3&&d--;for(var n=e-3,c=[],b=0;b<=d;b++)c[b]=k[0].slice(n,e),n=Math.max(n-3,0),e=Math.max(e-
3,1);c.reverse();k[0]=c.join(this.thousandsSeparatorTo)}k=k.join(this.decimalSeparatorTo);f&&(k="-"+k);return k.toString()},formatPrecision:function(k,f){if(-1==f)return k;var e=k.split(this.decimalSeparatorTo);e[0]=0==e[0].length?"0":e[0];k=0<f?e[0]+this.decimalSeparatorTo+((e[1]?e[1]:"")+"000000000000000000000000000000000").substr(0,f):e[0];return k.toString()},formatNegative:function(k,f){f?"-"!=k.charAt(0)&&(k="-"+k):("-"==k.charAt(0)&&(k=k.substr(1,k.length-1)),k="("+k+")");return k},parseNumberString:function(k){if(2<
k.split(this.decimalSeparatorFrom).length)return null;for(var f=k.length,e=0,d,n,c=!1;e<f;)if(d=k.charAt(e),e++,"0"<=d&&"9">=d||d==this.decimalSeparatorFrom){"-"==k.charAt(e-2)&&(c=!0);n="";e--;for(var b=e;b<f;b++)if(d=k.charAt(e),e++,"0"<=d&&"9">=d)n+=d;else if(d==this.decimalSeparatorFrom)n+=".";else if(d!=this.thousandsSeparatorFrom||e>=f)break}return c?"-"+n:n}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],
function(l,m,k,f,e){return k("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var d=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);e.parse(d,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(f.hitch(this,function(d){this._startupWidgets=
d;for(var c=0;c<d.length;c++)this._processTemplateNode(d[c],function(b,a){return b[a]},function(b,a,c){return a in b?b.connect(b,a,c):b.on(a,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(d,
e,c){return e(d,"dojoType")||e(d,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){l.forEach(this._startupWidgets,function(d){d&&(!d._started&&d.startup)&&d.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojox/dtl":function(){define(["./dtl/_base"],function(l){return l})},"dojox/dtl/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojox/string/tokenize dojo/_base/json dojo/dom dojo/_base/xhr dojox/string/Builder dojo/_base/Deferred".split(" "),function(l,
m,k,f,e,d,n,c){l.experimental("dojox.dtl");var b=m.getObject("dojox.dtl",!0);b._base={};b.TOKEN_BLOCK=-1;b.TOKEN_VAR=-2;b.TOKEN_COMMENT=-3;b.TOKEN_TEXT=3;b._Context=m.extend(function(a){a&&(m._mixin(this,a),a.get&&(this._getter=a.get,delete this.get))},{push:function(){var a=this,b=m.delegate(this);b.pop=function(){return a};return b},pop:function(){throw Error("pop() called on empty Context");},get:function(a,b){var c=this._normalize;if(this._getter){var h=this._getter(a);if(void 0!==h)return c(h)}return void 0!==
this[a]?c(this[a]):b},_normalize:function(a){a instanceof Date&&(a.year=a.getFullYear(),a.month=a.getMonth()+1,a.day=a.getDate(),a.date=a.year+"-"+("0"+a.month).slice(-2)+"-"+("0"+a.day).slice(-2),a.hour=a.getHours(),a.minute=a.getMinutes(),a.second=a.getSeconds(),a.microsecond=a.getMilliseconds());return a},update:function(a){var b=this.push();a&&m._mixin(this,a);return b}});var a=/("(?:[^"\\]*(?:\\.[^"\\]*)*)"|'(?:[^'\\]*(?:\\.[^'\\]*)*)'|[^\s]+)/g,s=/\s+/g,r=function(a,b){a=a||s;a instanceof RegExp||
(a=RegExp(a,"g"));if(!a.global)throw Error("You must use a globally flagged RegExp with split "+a);a.exec("");for(var c,h=[],d=0,e=0;(c=a.exec(this))&&!(h.push(this.slice(d,a.lastIndex-c[0].length)),d=a.lastIndex,b&&++e>b-1););h.push(this.slice(d));return h};b.Token=function(a,b){this.token_type=a;this.contents=new String(m.trim(b));this.contents.split=r;this.split=function(){return String.prototype.split.apply(this.contents,arguments)}};b.Token.prototype.split_contents=function(b){var c,h=[],d=0;
for(b=b||999;d++<b&&(c=a.exec(this.contents));)c=c[0],'"'==c.charAt(0)&&'"'==c.slice(-1)?h.push('"'+c.slice(1,-1).replace('\\"','"').replace("\\\\","\\")+'"'):"'"==c.charAt(0)&&"'"==c.slice(-1)?h.push("'"+c.slice(1,-1).replace("\\'","'").replace("\\\\","\\")+"'"):h.push(c);return h};var t=b.text={_get:function(a,c,h){a=b.register.get(a,c.toLowerCase(),h);if(!a){if(!h)throw Error("No tag found for "+c);return null}h=a[1];a=a[2];-1!=h.indexOf(":")&&(h=h.split(":"),h=h.pop());var d=a;/\./.test(a)&&(a=
a.replace(/\./g,"/"));require([a],function(){});a=m.getObject(d);return a[h||c]||a[c+"_"]||a[h+"_"]},getTag:function(a,b){return t._get("tag",a,b)},getFilter:function(a,b){return t._get("filter",a,b)},getTemplate:function(a){return new b.Template(t.getTemplateString(a))},getTemplateString:function(a){return d._getText(a.toString())||""},_resolveLazy:function(a,c,h){return c?h?h.fromJson(d._getText(a))||{}:b.text.getTemplateString(a):d.get({handleAs:h?"json":"text",url:a})},_resolveTemplateArg:function(a,
b){if(t._isTemplate(a)){if(!b){var h=new c;h.callback(a);return h}return a}return t._resolveLazy(a,b)},_isTemplate:function(a){return void 0===a||"string"==typeof a&&(a.match(/^\s*[<{]/)||-1!=a.indexOf(" "))},_resolveContextArg:function(a,b){if(a.constructor==Object){if(!b){var h=new c;h.callback(a);return h}return a}return t._resolveLazy(a,b,!0)},_re:/(?:\{\{\s*(.+?)\s*\}\}|\{%\s*(load\s*)?(.+?)\s*%\})/g,tokenize:function(a){return k(a,t._re,t._parseDelims)},_parseDelims:function(a,c,h){if(a)return[b.TOKEN_VAR,
a];if(c){a=m.trim(h).split(/\s+/g);for(c=0;h=a[c];c++)/\./.test(h)&&(h=h.replace(/\./g,"/")),require([h])}else return[b.TOKEN_BLOCK,h]}};b.Template=m.extend(function(a,c){var h=c?a:t._resolveTemplateArg(a,!0)||"",h=t.tokenize(h);this.nodelist=(new b._Parser(h)).parse()},{update:function(a,c){return t._resolveContextArg(c).addCallback(this,function(c){var h=this.render(new b._Context(c));a.forEach?a.forEach(function(a){a.innerHTML=h}):e.byId(a).innerHTML=h;return this})},render:function(a,c){c=c||
this.getBuffer();a=a||new b._Context({});return this.nodelist.render(a,c)+""},getBuffer:function(){return new n}});var h=/\{\{\s*(.+?)\s*\}\}/g;b.quickFilter=function(a){if(!a)return new b._NodeList;if(-1==a.indexOf("{%"))return new b._QuickNodeList(k(a,h,function(a){return new b._Filter(a)}))};b._QuickNodeList=m.extend(function(a){this.contents=a},{render:function(a,b){for(var c=0,h=this.contents.length;c<h;c++)b=this.contents[c].resolve?b.concat(this.contents[c].resolve(a)):b.concat(this.contents[c]);
return b},dummyRender:function(a){return this.render(a,b.Template.prototype.getBuffer()).toString()},clone:function(a){return this}});b._Filter=m.extend(function(a){if(!a)throw Error("Filter must be called with variable name");this.contents=a;var b=this._cache[a];b?(this.key=b[0],this.filters=b[1]):(this.filters=[],k(a,this._re,this._tokenize,this),this._cache[a]=[this.key,this.filters])},{_cache:{},_re:/(?:^_\("([^\\"]*(?:\\.[^\\"])*)"\)|^"([^\\"]*(?:\\.[^\\"]*)*)"|^([a-zA-Z0-9_.]+)|\|(\w+)(?::(?:_\("([^\\"]*(?:\\.[^\\"])*)"\)|"([^\\"]*(?:\\.[^\\"]*)*)"|([a-zA-Z0-9_.]+)|'([^\\']*(?:\\.[^\\']*)*)'))?|^'([^\\']*(?:\\.[^\\']*)*)')/g,
_values:{"0":'"',1:'"',2:"",8:'"'},_args:{4:'"',5:'"',6:"",7:"'"},_tokenize:function(){for(var a,b,c=0,h=[];c<arguments.length;c++)h[c]=void 0!==arguments[c]&&"string"==typeof arguments[c]&&arguments[c];if(this.key){for(a in this._args)if(h[a]){b=arguments[a];"'"==this._args[a]?b=b.replace(/\\'/g,"'"):'"'==this._args[a]&&(b=b.replace(/\\"/g,'"'));b=[!this._args[a],b];break}a=t.getFilter(arguments[3]);if(!m.isFunction(a))throw Error(arguments[3]+" is not registered as a filter");this.filters.push([a,
b])}else for(a in this._values)if(h[a]){this.key=this._values[a]+arguments[a]+this._values[a];break}},getExpression:function(){return this.contents},resolve:function(a){if(void 0===this.key)return"";for(var b=this.resolvePath(this.key,a),c=0,h;h=this.filters[c];c++)b=h[1]?h[1][0]?h[0](b,this.resolvePath(h[1][1],a)):h[0](b,h[1][1]):h[0](b);return b},resolvePath:function(a,c){var h,d;h=a.charAt(0);d=a.slice(-1);if(isNaN(parseInt(h)))if('"'==h&&h==d)h=a.slice(1,-1);else{if("true"==a)return!0;if("false"==
a)return!1;if("null"==a||"None"==a)return null;d=a.split(".");h=c.get(d[0]);if(m.isFunction(h)){var e=c.getThis&&c.getThis();h=h.alters_data?"":e?h.call(e):""}for(e=1;e<d.length;e++){var q=d[e];if(h){var f=h;if(m.isObject(h)&&"items"==q&&void 0===h[q]){var q=[],r;for(r in h)q.push([r,h[r]]);h=q}else{if(h.get&&m.isFunction(h.get)&&h.get.safe)h=h.get(q);else if(void 0===h[q]){h=h[q];break}else h=h[q];m.isFunction(h)?h=h.alters_data?"":h.call(f):h instanceof Date&&(h=b._Context.prototype._normalize(h))}}else return""}}else h=
-1==a.indexOf(".")?parseInt(a):parseFloat(a);return h}});b._TextNode=b._Node=m.extend(function(a){this.contents=a},{set:function(a){this.contents=a;return this},render:function(a,b){return b.concat(this.contents)},isEmpty:function(){return!m.trim(this.contents)},clone:function(){return this}});b._NodeList=m.extend(function(a){this.contents=a||[];this.last=""},{push:function(a){this.contents.push(a);return this},concat:function(a){this.contents=this.contents.concat(a);return this},render:function(a,
b){for(var c=0;c<this.contents.length;c++)if(b=this.contents[c].render(a,b),!b)throw Error("Template must return buffer");return b},dummyRender:function(a){return this.render(a,b.Template.prototype.getBuffer()).toString()},unrender:function(a,b){return b},clone:function(){return this},rtrim:function(){for(;;)if(i=this.contents.length-1,this.contents[i]instanceof b._TextNode&&this.contents[i].isEmpty())this.contents.pop();else break;return this}});b._VarNode=m.extend(function(a){this.contents=new b._Filter(a)},
{render:function(a,c){var h=this.contents.resolve(a);h.safe||(h=b._base.escape(""+h));return c.concat(h)}});b._noOpNode=new function(){this.render=this.unrender=function(a,b){return b};this.clone=function(){return this}};b._Parser=m.extend(function(a){this.contents=a},{i:0,parse:function(a){var c={},h;a=a||[];for(var d=0;d<a.length;d++)c[a[d]]=!0;for(d=new b._NodeList;this.i<this.contents.length;)if(h=this.contents[this.i++],"string"==typeof h)d.push(new b._TextNode(h));else{var e=h[0];h=h[1];if(e==
b.TOKEN_VAR)d.push(new b._VarNode(h));else if(e==b.TOKEN_BLOCK){if(c[h])return--this.i,d;var q=h.split(/\s+/g);q.length&&(q=q[0],(q=t.getTag(q))&&d.push(q(this,new b.Token(e,h))))}}if(a.length)throw Error("Could not find closing tag(s): "+a.toString());this.contents.length=0;return d},next_token:function(){var a=this.contents[this.i++];return new b.Token(a[0],a[1])},delete_first_token:function(){this.i++},skip_past:function(a){for(;this.i<this.contents.length;){var c=this.contents[this.i++];if(c[0]==
b.TOKEN_BLOCK&&c[1]==a)return}throw Error("Unclosed tag found when looking for "+a);},create_variable_node:function(a){return new b._VarNode(a)},create_text_node:function(a){return new b._TextNode(a||"")},getTemplate:function(a){return new b.Template(a)}});b.register={_registry:{attributes:[],tags:[],filters:[]},get:function(a,c){for(var h=b.register._registry[a+"s"],d=0,e;e=h[d];d++)if("string"==typeof e[0]){if(e[0]==c)return e}else if(c.match(e[0]))return e},getAttributeTags:function(){for(var a=
[],c=b.register._registry.attributes,h=0,d;d=c[h];h++)if(3==d.length)a.push(d);else{var e=m.getObject(d[1]);e&&m.isFunction(e)&&(d.push(e),a.push(d))}return a},_any:function(a,c,h){for(var d in h)for(var e=0,q;q=h[d][e];e++){var f=q;m.isArray(q)&&(f=q[0],q=q[1]);if("string"==typeof f){if("attr:"==f.substr(0,5)){var r=q;"attr:"==r.substr(0,5)&&(r=r.slice(5));b.register._registry.attributes.push([r.toLowerCase(),c+"."+d+"."+r])}f=f.toLowerCase()}b.register._registry[a].push([f,q,c+"."+d])}},tags:function(a,
c){b.register._any("tags",a,c)},filters:function(a,c){b.register._any("filters",a,c)}};var q=/&/g,u=/</g,v=/>/g,w=/'/g,x=/"/g;b._base.escape=function(a){return b.mark_safe(a.replace(q,"\x26amp;").replace(u,"\x26lt;").replace(v,"\x26gt;").replace(x,"\x26quot;").replace(w,"\x26#39;"))};b._base.safe=function(a){"string"==typeof a&&(a=new String(a));"object"==typeof a&&(a.safe=!0);return a};b.mark_safe=b._base.safe;b.register.tags("dojox.dtl.tag",{date:["now"],logic:["if","for","ifequal","ifnotequal"],
loader:["extends","block","include","load","ssi"],misc:"comment debug filter firstof spaceless templatetag widthratio with".split(" "),loop:["cycle","ifchanged","regroup"]});b.register.filters("dojox.dtl.filter",{dates:["date","time","timesince","timeuntil"],htmlstrings:["linebreaks","linebreaksbr","removetags","striptags"],integers:["add","get_digit"],lists:"dictsort dictsortreversed first join length length_is random slice unordered_list".split(" "),logic:["default","default_if_none","divisibleby",
"yesno"],misc:["filesizeformat","pluralize","phone2numeric","pprint"],strings:"addslashes capfirst center cut fix_ampersands floatformat iriencode linenumbers ljust lower make_list rjust slugify stringformat title truncatewords truncatewords_html upper urlencode urlize urlizetrunc wordcount wordwrap".split(" ")});b.register.filters("dojox.dtl",{_base:["escape","safe"]});return b})},"dojox/string/tokenize":function(){define(["dojo/_base/lang","dojo/_base/sniff"],function(l,m){var k=l.getObject("dojox.string",
!0).tokenize;return k=function(f,e,d,k){var c=[],b,a;for(a=0;b=e.exec(f);){a=f.slice(a,e.lastIndex-b[0].length);a.length&&c.push(a);if(d){if(m("opera")){for(a=b.slice(0);a.length<b.length;)a.push(null);b=a}b=d.apply(k,b.slice(1).concat(c.length));"undefined"!=typeof b&&c.push(b)}a=e.lastIndex}a=f.slice(a);a.length&&c.push(a);return c}})},"dojox/string/Builder":function(){define(["dojo/_base/lang"],function(l){return l.getObject("string",!0,dojox).Builder=function(l){var k="";this.length=0;this.append=
function(f){if(1<arguments.length){var e="";switch(arguments.length){case 9:e=""+arguments[8]+e;case 8:e=""+arguments[7]+e;case 7:e=""+arguments[6]+e;case 6:e=""+arguments[5]+e;case 5:e=""+arguments[4]+e;case 4:e=""+arguments[3]+e;case 3:e=""+arguments[2]+e;case 2:k+=""+arguments[0]+arguments[1]+e;break;default:for(var d=0;d<arguments.length;)e+=arguments[d++];k+=e}}else k+=f;this.length=k.length;return this};this.concat=function(f){return this.append.apply(this,arguments)};this.appendArray=function(f){return this.append.apply(this,
f)};this.clear=function(){k="";this.length=0;return this};this.replace=function(f,e){k=k.replace(f,e);this.length=k.length;return this};this.remove=function(f,e){void 0===e&&(e=k.length);if(0==e)return this;k=k.substr(0,f)+k.substr(f+e);this.length=k.length;return this};this.insert=function(f,e){k=0==f?e+k:k.slice(0,f)+e+k.slice(f);this.length=k.length;return this};this.toString=function(){return k};l&&this.append(l)}})},"dojox/dtl/Context":function(){define(["dojo/_base/lang","./_base"],function(l,
m){return m.Context=l.extend(function(k){this._this={};m._Context.call(this,k)},m._Context.prototype,{getKeys:function(){var k=[],f;for(f in this)this.hasOwnProperty(f)&&"_this"!=f&&k.push(f);return k},extend:function(k){return l.delegate(this,k)},filter:function(k){var f=new m.Context,e=[],d,n;if(k instanceof m.Context)e=k.getKeys();else if("object"==typeof k)for(var c in k)e.push(c);else for(d=0;n=arguments[d];d++)"string"==typeof n&&e.push(n);d=0;for(c;c=e[d];d++)f[c]=this[c];return f},setThis:function(k){this._this=
k},getThis:function(){return this._this},hasKey:function(k){return this._getter&&"undefined"!=typeof this._getter(k)||"undefined"!=typeof this[k]?!0:!1}})})},"dojox/dtl/tag/logic":function(){define(["dojo/_base/lang","../_base"],function(l,m){var k=l.getObject("tag.logic",!0,m);k.IfNode=l.extend(function(f,e,d,k){this.bools=f;this.trues=e;this.falses=d;this.type=k},{render:function(f,e){var d,k,c;if("or"==this.type){for(d=0;k=this.bools[d];d++)if(c=k[0],k=k[1],(k=k.resolve(f))&&!c||c&&!k)return this.falses&&
(e=this.falses.unrender(f,e)),this.trues?this.trues.render(f,e,this):e;this.trues&&(e=this.trues.unrender(f,e));return this.falses?this.falses.render(f,e,this):e}for(d=0;k=this.bools[d];d++)if(c=k[0],k=k[1],k=k.resolve(f),k==c)return this.trues&&(e=this.trues.unrender(f,e)),this.falses?this.falses.render(f,e,this):e;this.falses&&(e=this.falses.unrender(f,e));return this.trues?this.trues.render(f,e,this):e},unrender:function(f,e){e=this.trues?this.trues.unrender(f,e):e;return e=this.falses?this.falses.unrender(f,
e):e},clone:function(f){var e=this.trues?this.trues.clone(f):null;f=this.falses?this.falses.clone(f):null;return new this.constructor(this.bools,e,f,this.type)}});k.IfEqualNode=l.extend(function(f,e,d,k,c){this.var1=new m._Filter(f);this.var2=new m._Filter(e);this.trues=d;this.falses=k;this.negate=c},{render:function(f,e){var d=this.var1.resolve(f),k=this.var2.resolve(f),d="undefined"!=typeof d?d:"",k="undefined"!=typeof d?k:"";if(this.negate&&d!=k||!this.negate&&d==k)return this.falses&&(e=this.falses.unrender(f,
e,this)),this.trues?this.trues.render(f,e,this):e;this.trues&&(e=this.trues.unrender(f,e,this));return this.falses?this.falses.render(f,e,this):e},unrender:function(f,e){return k.IfNode.prototype.unrender.call(this,f,e)},clone:function(f){var e=this.trues?this.trues.clone(f):null;f=this.falses?this.falses.clone(f):null;return new this.constructor(this.var1.getExpression(),this.var2.getExpression(),e,f,this.negate)}});k.ForNode=l.extend(function(f,e,d,k){this.assign=f;this.loop=new m._Filter(e);this.reversed=
d;this.nodelist=k;this.pool=[]},{render:function(f,e){var d,k,c,b=!1,a=this.assign;for(c=0;c<a.length;c++)if("undefined"!=typeof f[a[c]]){b=!0;f=f.push();break}!b&&f.forloop&&(b=!0,f=f.push());c=this.loop.resolve(f)||[];var s=[];if(l.isObject(c)&&!l.isArrayLike(c))for(d in c)s.push(c[d]);else s=c;for(d=s.length;d<this.pool.length;d++)this.pool[d].unrender(f,e,this);this.reversed&&(s=s.slice(0).reverse());var r=f.forloop={parentloop:f.get("forloop",{})};for(d=k=0;d<s.length;d++){var t=s[d];r.counter0=
k;r.counter=k+1;r.revcounter0=s.length-k-1;r.revcounter=s.length-k;r.first=!k;r.last=k==s.length-1;if(1<a.length&&l.isArrayLike(t)){b||(b=!0,f=f.push());var h={};for(c=0;c<t.length&&c<a.length;c++)h[a[c]]=t[c];l.mixin(f,h)}else f[a[0]]=t;k+1>this.pool.length&&this.pool.push(this.nodelist.clone(e));e=this.pool[k++].render(f,e,this)}delete f.forloop;if(b)f.pop();else for(c=0;c<a.length;c++)delete f[a[c]];return e},unrender:function(f,e){for(var d=0,k;k=this.pool[d];d++)e=k.unrender(f,e);return e},clone:function(f){return new this.constructor(this.assign,
this.loop.getExpression(),this.reversed,this.nodelist.clone(f))}});l.mixin(k,{if_:function(f,e){var d,n,c,b=[],a=e.contents.split();a.shift();e=a.join(" ");a=e.split(" and ");if(1==a.length)c="or",a=e.split(" or ");else{c="and";for(d=0;d<a.length;d++)if(-1!=a[d].indexOf(" or "))throw Error("'if' tags can't mix 'and' and 'or'");}for(d=0;n=a[d];d++){var s=!1;0==n.indexOf("not ")&&(n=n.slice(4),s=!0);b.push([s,new m._Filter(n)])}d=f.parse(["else","endif"]);n=!1;e=f.next_token();"else"==e.contents&&(n=
f.parse(["endif"]),f.next_token());return new k.IfNode(b,d,n,c)},_ifequal:function(f,e,d){var n=e.split_contents();if(3!=n.length)throw Error(n[0]+" takes two arguments");var c="end"+n[0],b=f.parse(["else",c]),a=!1;e=f.next_token();"else"==e.contents&&(a=f.parse([c]),f.next_token());return new k.IfEqualNode(n[1],n[2],b,a,d)},ifequal:function(f,e){return k._ifequal(f,e)},ifnotequal:function(f,e){return k._ifequal(f,e,!0)},for_:function(f,e){var d=e.contents.split();if(4>d.length)throw Error("'for' statements should have at least four words: "+
e.contents);var n="reversed"==d[d.length-1],c=n?-3:-2;if("in"!=d[d.length+c])throw Error("'for' tag received an invalid argument: "+e.contents);for(var b=d.slice(1,c).join(" ").split(/ *, */),a=0;a<b.length;a++)if(!b[a]||-1!=b[a].indexOf(" "))throw Error("'for' tag received an invalid argument: "+e.contents);a=f.parse(["endfor"]);f.next_token();return new k.ForNode(b,d[d.length+c+1],n,a)}});return k})},"xl/player/controls/_NeedsPlayerViewer":function(){define(["dojo/_base/declare","dijit/registry"],
function(l,m){return l("xl.player.controls._NeedsPlayerViewer",[],{_playerViewer:void 0,getViewer:function(){if(void 0==this._playerViewer)if(null!=this.domNode){var k=this;do k=k.getParent();while(k&&-1==k.declaredClass.indexOf("PlayerViewer"));this._playerViewer=k}else this._playerViewer=null;if(null==this._playerViewer&&(this._playerViewer=m.byId("playerViewer")))this._playerViewer.guided?this._playerViewer=this._playerViewer.guided:this._playerViewer.sample&&(this._playerViewer=this._playerViewer.sample);
return this._playerViewer}})})},"xl/dijit-bootstrap/Button":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dijit/_WidgetBase dijit/form/_ButtonMixin dijit/form/_FormWidgetMixin dojo/dom-attr".split(" "),function(l,m,k,f,e,d,n,c){return m("xl.dijit-bootstrap.Button",[e,n,d],{baseClass:"btn btn-default",_setTypeAttr:null,duration:1E3,toggle:function(){},_onClick:function(b){var a=this.inherited(arguments);this.toggle();return a},buildRendering:function(){if(this.srcNodeRef){if(this._cv){var b=
this.srcNodeRef.firstChild;b&&3===b.nodeType&&(b.nodeValue=this._cv(b.nodeValue))}}else this.srcNodeRef=f.create("button",{type:this.type});this.inherited(arguments);c.has(this.srcNodeRef,"type")||c.set(this.domNode,"type",this.type);this.updateIcon();this.focusNode=this.domNode},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onclick","_onClick")},_setLabelAttr:function(b){this.inherited(arguments,[this._cv?this._cv(b):b])},_setIconAttr:function(b){this.icon!=b&&(this.icon=
b,this.updateIcon())},updateIcon:function(){this.icon?(this.containerNode||(f.empty(this.domNode),this.containerNode=f.create("span",{"class":this.icon},this.domNode),this.updateLabel()),c.set(this.containerNode,"class",this.icon)):this.containerNode&&(f.destroy(this.containerNode),delete this.containerNode,this.updateLabel())},updateLabel:function(){this._setLabelAttr(this.label)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(l,
m,k,f){var e=l("dijit.form._ButtonMixin"+(k("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(d){d.stopPropagation();d.preventDefault();this.disabled||this.valueNode.click(d);return!1},_onClick:function(d){if(this.disabled)return d.stopPropagation(),d.preventDefault(),!1;!1===this.onClick(d)&&d.preventDefault();var e=d.defaultPrevented;if(!e&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var c=this.domNode;c.parentNode;c=c.parentNode){var b=f.byNode(c);if(b&&
"function"==typeof b._onSubmit){b._onSubmit(d);d.preventDefault();e=!0;break}}return!e},postCreate:function(){this.inherited(arguments);m.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(d){this._set("label",d);(this.containerNode||this.focusNode).innerHTML=d}});k("dojo-bidi")&&(e=l("dijit.form._ButtonMixin",e,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return e})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(l,m,k,f,e,d,n,c,b,a){return m("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);k.set(this.focusNode,"disabled",b);this.valueNode&&k.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",
!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",l.forEach(e.isArray(b)?b:[b],function(b){b=this[b];c("webkit")||a.hasDefaultTabStop(b)?b.setAttribute("tabIndex","-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.own(n(this.focusNode,"focus",function(){d.remove();c.remove()}))[0],d=this.own(n(this.ownerDocumentBody,
"mouseup, touchend",e.hitch(this,function(a){d.remove();c.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){b.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=f.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?
isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&
this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"xl/player/dialogs/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window dojo/dom-construct dojo/dom-geometry dijit/_Widget dijit/_TemplatedMixin dijit/BackgroundIframe dijit/Viewport dijit/main".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h){var q=l("xl.player.dialogs.DialogUnderlay",[a,s],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],parentDomElement:null,_setDialogIdAttr:function(a){f.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",
a)},postCreate:function(){this.parentDomElement?this.parentDomElement.appendChild(this.domNode):this.ownerDocumentBody.appendChild(this.domNode);this.own(d(this.domNode,"keydown",m.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,h=this.domNode.style;h.display="none";this.parentDomElement&&c.place(this.domNode,this.parentDomElement,"first");var d=n.getBox(this.ownerDocument);h.top=d.t+"px";h.left=d.l+"px";if(this.parentDomElement){var e=b.getMarginBox(this.parentDomElement);
a.width=e.w+"px"}else a.width=d.w+"px";a.height=d.h+"px";h.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new r(this.domNode);var a=n.get(this.ownerDocument);this._modalConnects=[t.on("resize",m.hitch(this,"layout")),d(a,"scroll",m.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();
this.inherited(arguments)},_onKeyDown:function(){}});q.show=function(a,b){var c=q._singleton;!c||c._destroyed?c=h._underlay=q._singleton=new q(a):a&&c.set(a);e.set(c.domNode,"zIndex",b);c.open||c.show()};q.hide=function(){var a=q._singleton;a&&!a._destroyed&&a.hide()};return q})},"xl/util/localization":function(){define("dojo/text dojo/_base/lang dojo/json dojo/_base/config dojo/Deferred dojo/promise/all dojo/topic".split(" "),function(l,m,k,f,e,d,n){var c={parse:k.parse,stringify:k.stringify,loadedResources:{}},
c=m.mixin(c,l);c.load=function(b,a,d){var e=b;b=f.culture?"localization/"+f.culture+"/"+b:"localization/"+b;f.localizationLastModified&&(b=b+"?localizationLastModified\x3d"+f.localizationLastModified);l.load(b,a,function(a){a=k.parse(a);if("ResourceId"===f.culture)for(var b in a)a.hasOwnProperty(b)&&(a[b]=e+"."+b);c.loadedResources[e]?m.mixin(c.loadedResources[e],a):c.loadedResources[e]=a;d(c.loadedResources[e])})};c.AVAILABLE_LOCALES="ResourceId fr-CA pt-BR de-AT fr-FR it-IT en-GB de-DE en-IE en-US es-MX".split(" ");
c.changeLocale=function(b){if(f.culture==b){var a=new e;a.resolve();return a}f.culture=b;var a=[],k;for(k in c.loadedResources)a.push(function(a){var b=new e;c.load(a,require,function(){b.resolve()});return b}(k));return d(a).then(function(){n.publish("localizationChanged",b)})};return c})},"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u){var v=k("dijit.layout._Splitter",[t,h],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=m(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=this.horizontal?"h":"w",b=d.getMarginBox(this.child.domNode)[a],c=l.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],
a=d.getContentBox(c.domNode)[a]-10;return Math.min(this.child.maxSize,b+a)},_startDrag:function(c){this.cover||(this.cover=e.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));f.add(this.cover,"dijitSplitterCoverActive");this.fake&&e.destroy(this.fake);if(!(this._resize=this.live))(this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),f.add(this.domNode,"dijitSplitterShadow"),e.place(this.fake,this.domNode,"after");f.add(this.domNode,"dijitSplitterActive dijitSplitter"+
(this.horizontal?"H":"V")+"Active");this.fake&&f.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var h=this._factor,q=this.horizontal,r=q?"pageY":"pageX",k=c[r],t=this.domNode.style,q=q?"h":"w",u=n.getComputedStyle(this.child.domNode),l=d.getMarginBox(this.child.domNode,u)[q],m=this._computeMaxSize(),v=Math.max(this.child.minSize,d.getPadBorderExtents(this.child.domNode,u)[q]+10),q=this.region,w="top"==q||"bottom"==q?"top":"left",H=parseInt(t[w],10),K=this._resize,
M=b.hitch(this.container,"_layoutChildren",this.child.id),q=this.ownerDocument;this._handlers=this._handlers.concat([a(q,s.move,this._drag=function(a,b){var c=a[r]-k,d=h*c+l,e=Math.max(Math.min(d,m),v);(K||b)&&M(e);t[w]=c+H+h*(e-d)+"px"}),a(q,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),a(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();a.preventDefault()}),a(q,s.release,b.hitch(this,"_stopDrag"))]);c.stopPropagation();c.preventDefault()},_onMouse:function(a){a=
"mouseover"==a.type||"mouseenter"==a.type;f.toggle(this.domNode,"dijitSplitterHover",a);f.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(a){try{this.cover&&f.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&e.destroy(this.fake),f.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),this._drag(a),this._drag(a,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&
m(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(a){this._resize=!0;var b=this.horizontal,h=1;switch(a.keyCode){case b?c.UP_ARROW:c.LEFT_ARROW:h*=-1;case b?c.DOWN_ARROW:c.RIGHT_ARROW:break;default:return}b=d.getMarginSize(this.child.domNode)[b?"h":"w"]+this._factor*h;this.container._layoutChildren(this.child.id,Math.max(Math.min(b,this._computeMaxSize()),this.child.minSize));
a.stopPropagation();a.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),w=k("dijit.layout._Gutter",[t,h],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitGutter"+(this.horizontal?
"H":"V"))}});k=k("dijit.layout.BorderContainer",q,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:v,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(a){this.inherited(arguments);var c=a.region,h=a.isLeftToRight();"leading"==c&&(c=h?"left":"right");"trailing"==c&&(c=h?"right":"left");if(c&&"center"!=c&&(a.splitter||this.gutters)&&!a._splitterWidget)h=a.splitter?this._splitterClass:w,b.isString(h)&&
(h=b.getObject(h)),h=new h({id:a.id+"_splitter",container:this,child:a,region:c,live:this.liveSplitters}),h.isSplitter=!0,a._splitterWidget=h,c="bottom"==c||c==(this.isLeftToRight()?"right":"left"),e.place(h.domNode,a.domNode,c?"before":"after"),h.startup()},layout:function(){this._layoutChildren()},removeChild:function(a){var b=a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);this.inherited(arguments)},getChildren:function(){return l.filter(this.inherited(arguments),function(a){return!a.isSplitter})},
getSplitter:function(a){return l.filter(this.getChildren(),function(b){return b.region==a})[0]._splitterWidget},resize:function(a,b){if(!this.cs||!this.pe){var c=this.domNode;this.cs=n.getComputedStyle(c);this.pe=d.getPadExtents(c,this.cs);this.pe.r=n.toPixelValue(c,this.cs.paddingRight);this.pe.b=n.toPixelValue(c,this.cs.paddingBottom);n.set(c,"padding","0px")}this.inherited(arguments)},_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var c=[];l.forEach(this._getOrderedChildren(),
function(a){c.push(a);a._splitterWidget&&c.push(a._splitterWidget)});u.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},c,a,b)}},destroyRecursive:function(){l.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});k.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:Infinity};b.mixin(k.ChildWidgetProperties,q.ChildWidgetProperties);b.extend(r,k.ChildWidgetProperties);
k._Splitter=v;k._Gutter=w;return k})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(l,m){l.cookie=function(k,f,e){var d=document.cookie,n;if(1==arguments.length)n=(n=d.match(RegExp("(?:^|; )"+m.escapeString(k)+"\x3d([^;]*)")))?decodeURIComponent(n[1]):void 0;else{e=e||{};d=e.expires;if("number"==typeof d){var c=new Date;c.setTime(c.getTime()+864E5*d);d=e.expires=c}d&&d.toUTCString&&(e.expires=d.toUTCString());f=encodeURIComponent(f);var d=k+"\x3d"+f,b;for(b in e)d+="; "+b,
c=e[b],!0!==c&&(d+="\x3d"+c);document.cookie=d}return n};l.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return l.cookie})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(l,m){var k={};m.setObject("dojo.regexp",k);k.escapeString=function(f,e){return f.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(d){return e&&-1!=e.indexOf(d)?d:"\\"+d})};k.buildGroupRE=function(f,e,d){if(!(f instanceof Array))return e(f);for(var n=[],c=0;c<f.length;c++)n.push(e(f[c]));return k.group(n.join("|"),d)};k.group=function(f,e){return"("+(e?"?:":"")+f+")"};return k})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(l,m,k,f,e,d,n,c){m=m("dijit.layout.LayoutContainer",
n,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(l.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(b){this.inherited(arguments);b.region&&k.add(b.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var b=l.map(this.getChildren(),function(a,b){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);b.sort(function(a,
b){for(var c=a.weight,d=b.weight,h=0;h<c.length;h++)if(c[h]!=d[h])return c[h]-d[h];return 0});return l.map(b,function(a){return a.pane})},layout:function(){c.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(b,a){this.inherited(arguments);this._started&&this.layout()},removeChild:function(b){this.inherited(arguments);this._started&&this.layout();k.remove(b.domNode,this.baseClass+"Pane");f.set(b.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});
f.set(b.domNode,/top|bottom/.test(b.region)?"width":"height","auto")}});m.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};e.extend(d,m.ChildWidgetProperties);return m})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(l,m,k,f,e,d,n,c,b){return d("dijit.layout._LayoutWidget",[m,k,f],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,
buildRendering:function(){this.inherited(arguments);n.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(e.on("resize",l.hitch(this,"resize")))}},resize:function(a,d){var e=this.domNode;a&&c.setMarginBox(e,a);var f=d||{};l.mixin(f,a||{});if(!("h"in f)||!("w"in f))f=l.mixin(c.getMarginBox(e),f);var h=b.getComputedStyle(e),q=c.getMarginExtents(e,h),k=c.getBorderExtents(e,
h),f=this._borderBox={w:f.w-(q.w+k.w),h:f.h-(q.h+k.h)},q=c.getPadExtents(e,h);this._contentBox={l:b.toPixelValue(e,h.paddingLeft),t:b.toPixelValue(e,h.paddingTop),w:f.w-q.w,h:f.h-q.h};this.layout()},layout:function(){},_setupChild:function(a){n.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){n.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+
this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(l,m){return l("dijit._Contained",null,{_getSibling:function(k){var f=this.domNode;do f=f[k+"Sibling"];while(f&&1!=f.nodeType);return f&&m.byNode(f)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var k=this.getParent();return!k||!k.getIndexOfChild?
-1:k.getIndexOfChild(this)}})})},"xl/util/ga":function(){define(["dojo/has","dojo/_base/lang","dojo/_base/config"],function(l,m,k){if(function(){var d=window&&window.piSession&&window.piSession.piCookiePreferences?window.piSession.piCookiePreferences():null;if(null===d)return!0;var c=/^C0002:(0|1)$/,b=!1;(d||"").split(",").some(function(a){(a=a.match(c))&&(b="1"===a[1]);return a});return b}()){var f=document.createElement("script");l=document.getElementsByTagName("script")[0];var e=k.googleAnalyticsId;
f.async=1;f.src="//www.googletagmanager.com/gtag/js?id\x3d"+e;l.parentNode.insertBefore(f,l);k=document.createElement("script");f=document.createTextNode("window.dataLayer \x3d window.dataLayer || [];");k.appendChild(f);f=document.createTextNode("function gtag(){dataLayer.push(arguments);}");k.appendChild(f);l.parentNode.insertBefore(k,l);var d=window.navigator.userAgent;l=[RegExp(/\(iP.+; CPU .*OS (12+)[_\d]*.*\) AppleWebKit\//),RegExp(/Chrom[^ \/]+\/(5|6+)[\.\d]* /),RegExp(/^Mozilla\/[\.\d]+ \(Macintosh;.*Mac OS X (10+)_(14+)[_\d]*.*\) AppleWebKit\/[\.\d]+ \(KHTML, like Gecko\)$/),
RegExp(/\(Macintosh;.*Mac OS X (10+)_(14+)[_\d]*.*\) AppleWebKit\/(?=.*Version\/.* Safari\/)/)].some(function(e){return e.test(d)});gtag("js",new Date);l?gtag("config",e):gtag("config",e,{cookie_flags:"SameSite \x3d None; Secure"})}else gtag=function(){};return{currentPageParameters:{},sendEvent:function(d,c,b,a){c=m.mixin({event_category:d,event_action:c,event_label:b,event_value:a,send_to:e},this.currentPageParameters);gtag("event",d,c)},setupDimensions:function(d){this.currentPageParameters=d},
setPageTitle:function(d){gtag("set","page_title",d)}}})},"xl/modulepatch/dojo/on":function(){define(["dojo/has!dom-addeventlistener?:dojo/aspect","dojo/_base/kernel","dojo/sniff"],function(l,m,k){function f(a,d,e,q,f){if(q=d.match(/(.*):(.*)/))return d=q[2],q=q[1],c.selector(q,d).call(f,a,e);k("touch")&&(b.test(d)&&(e=F(e)),!k("event-orientationchange")&&"orientationchange"==d&&(d="resize",a=window,e=F(e)));h&&(e=h(e));if(a.addEventListener){var n=d in r,t=n?r[d]:d;"touchmove"==d&&(n={passive:!1});
a.addEventListener(t,e,n);return{remove:function(){a.removeEventListener(t,e,n)}}}if(w&&a.attachEvent)return w(a,"on"+d,e);throw Error("Target must be an event emitter");}function e(){this.cancelable=!1;this.defaultPrevented=!0}function d(){this.bubbles=!1}var n=window.ScriptEngineMajorVersion;k.add("jscript",n&&n()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);
k.add("edge",parseFloat(navigator.userAgent.split("Edge/")[1])||void 0);k.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints,!0,!0);k.add("event-focusin",function(a,b,c){return"onfocusin"in c});k("touch")&&k.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;b.target=null;return null===b.target}catch(c){return!1}});var c=function(a,b,h,d){return"function"==
typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,h):c.parse(a,b,h,f,d,this)};c.pausable=function(a,b,h,d){var e;a=c(a,b,function(){if(!e)return h.apply(this,arguments)},d);a.pause=function(){e=!0};a.resume=function(){e=!1};return a};c.once=function(a,b,h,d){var e=c(a,b,function(){e.remove();return h.apply(this,arguments)});return e};c.parse=function(a,b,c,h,d,e){if(b.call)return b.call(e,a,c);if(-1<b.indexOf(",")){b=b.split(/\s*,\s*/);for(var q=[],f=0,r;r=b[f++];)q.push(h(a,r,c,d,e));q.remove=
function(){for(var a=0;a<q.length;a++)q[a].remove()};return q}return h(a,b,c,d,e)};var b=/^touch/;c.selector=function(a,b,h){return function(d,e){function q(b){for(f=f&&f.matches?f:m.query;!f.matches(b,a,d);)if(b==d||!1===h||!(b=b.parentNode)||1!=b.nodeType)return;return b}var f="function"==typeof a?{matches:a}:this,r=b.bubble;return r?c(d,r(q),e):c(d,b,function(a){var b=q(a.target);if(b)return e.call(b,a)})}};var a=[].slice,s=c.emit=function(b,c,h){var q=a.call(arguments,2),f="on"+c;if("parentNode"in
b){var r=q[0]={},k;for(k in h)r[k]=h[k];r.preventDefault=e;r.stopPropagation=d;r.target=b;r.type=c;h=r}do b[f]&&b[f].apply(b,q);while(h&&h.bubbles&&(b=b.parentNode));return h&&h.cancelable&&h},r=k("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!k("event-stopimmediatepropagation"))var t=function(){this.modified=this.immediatelyStopped=!0},h=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=t,a.apply(this,arguments)}};if(k("dom-addeventlistener"))c.emit=
function(a,b,h){if(a.dispatchEvent&&document.createEvent){var d=(a.ownerDocument||document).createEvent("HTMLEvents");d.initEvent(b,!!h.bubbles,!!h.cancelable);for(var e in h)e in d||(d[e]=h[e]);return a.dispatchEvent(d)&&d}return s.apply(c,arguments)};else{c._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{q&&(a.type==q.type&&a.srcElement==q.target)&&(a=q)}catch(c){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,
"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=x,a.preventDefault=A),a.type){case "keypress":var h="charCode"in a?a.charCode:a.keyCode;10==h?(h=0,a.keyCode=13):13==h||27==h?h=0:3==h&&(h=99);a.charCode=h;h=a;h.keyChar=h.charCode?String.fromCharCode(h.charCode):"";h.charOrCode=h.keyChar||h.keyCode}return a};var q,u=function(a){this.handle=a};u.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var v=function(a){return function(b){b=c._fixEvent(b,this);var h=a.call(this,b);b.modified&&(q||setTimeout(function(){q=null}),q=b);return h}},w=function(a,b,c){c=v(c);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var h=a[b];if(!h||!h.listeners){var d=h,h=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
h.listeners=[];a[b]=h;h.global=this;d&&h.listeners.push(_dojoIEListeners_.push(d)-1)}h.listeners.push(a=h.global._dojoIEListeners_.push(c)-1);return new u(a)}return l.after(a,b,c,!0)},x=function(){this.cancelBubble=!0},A=c._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(k("touch"))var z=function(){},C=window.orientation,F=function(a){return function(b){var c=b.corrected;if(!c){var h=
b.type;try{delete b.type}catch(d){}if(b.type){if(k("touch-can-modify-event-delegate"))z.prototype=b,c=new z;else{var c={},e;for(e in b)c[e]=b[e]}c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=h;b.corrected=c;if("resize"==h){if(C==window.orientation)return null;C=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);var h=c.changedTouches[0],q;for(q in h)delete c[q],c[q]=h[q]}return a.call(this,
c)}};return c})},"xl/figure/Figure":function(){define("dojo/_base/declare dojo/_base/connect dojo/dom-construct dojo/dom-attr dijit/_WidgetBase dojo/_base/array dojo/_base/lang dojox/gfx dijit/registry dojo/dom-style dojo/topic ./Ellipse ./Rectangle ./Line ./Arc ./Polygon ./Polyline ./Text ./Image ./FigureControl dojo/on xl/util/DijitLoadMonitor xl/player/controls/_AltTextToolTip".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F){return l("xl.figure.Figure",[e,F],{_surface:null,objects:null,
figureList:null,width:null,height:null,altText:null,baseClass:"xlFigure",createOwnAccLabel:!0,alwaysHideChildren:!0,magicAltStrings:["decorative image","null"],hideIfNoAltText:!0,destroy:function(){this.inherited(arguments)},startup:function(){this.initializeObjects();this.inherited(arguments);this.initialize()},postCreate:function(){var b=this.domNode;do null!=b&&(b=b.parentNode);while(null!=b&&(null==b.className||0>b.className.toLowerCase().indexOf("rvparagraph")));if(null!=b){for(var c=this.domNode.parentNode.children,
h=!1,d=0;d<c.length;d++){var e=c[d].className;null!=e&&0>e.toLowerCase().indexOf("figure")&&(h=!0)}h||a.set(b,{lineHeight:"1px",fontSize:"1px"});C.staticFunctions.loadingStarted(this)}},resize:function(){a.set(this.domNode,{width:this.width+"px",height:this.height+"px"});var c=b.findWidgets(this.domNode);d.forEach(c,function(a){a.resize&&a.resize()})},initialize:function(){this._surface||(this._surface=c.createSurface(this.domNode,this.width,this.height),this.hasAltText()?(f.remove(this.domNode,"aria-label"),
f.set(this._surface.rawNode,"aria-label",this.altText)):(f.remove(this.domNode,"aria-hidden"),f.set(this._surface.rawNode,"aria-hidden","true")),f.set(this._surface.rawNode,"role","img"));a.set(this.domNode,{width:this.width+"px",height:this.height+"px"});var b=this;this._surface.whenLoaded(this,function(){b.draw();var a=this.getParent&&this.getParent();(!a||!a.isLayoutContainer)&&this.resize()})},initializeObjects:function(){var a=this,b;this.figureList=[];d.forEach(this.objects,function(c,d){switch(c.type){case "ellipse":b=
new r({parent:a});break;case "rectangle":b=new t({parent:a});break;case "line":b=new h({parent:a});break;case "arc":b=new q({parent:a});break;case "polygon":b=new u({parent:a});break;case "polyline":b=new v({parent:a});break;case "text":b=new w({parent:a});break;case "picture":b=new x({parent:a});break;case "control":b=new A({parent:a})}b&&(n.mixin(b,n.clone(c)),b.calculatePositioning(),a.figureList.push(b))})},draw:function(){var a=this;d.forEach(this.figureList,function(b,c){b.draw(a._surface)});
C.staticFunctions.loadingCompleted(this)},parseData:function(a){n.mixin(this,a)}})})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(l,m,k){m.switchTo(k);return m})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(l,m,k,f,e){var d=null;k.add("vml",function(d,c,b){b.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';d="adj"in b.firstChild;b.innerHTML="";return d});return{load:function(n,
c,b){function a(){c(["dojox/gfx/"+s],function(a){l.renderer=s;d=a;b(a)})}if(d&&"force"!=n)b(d);else{var s=e.forceGfxRenderer;n=!s&&(m.isString(e.gfxRenderer)?e.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var r,t;!s&&n.length;)switch(n.shift()){case "svg":"SVGAngle"in f.global&&(s="svg");break;case "vml":k("vml")&&(s="vml");break;case "silverlight":try{k("ie")?(r=new ActiveXObject("AgControl.AgControl"))&&r.IsVersionSupported("1.0")&&(t=!0):navigator.plugins["Silverlight Plug-In"]&&(t=
!0)}catch(h){t=!1}finally{r=null}t&&(s="silverlight");break;case "canvas":f.global.CanvasRenderingContext2D&&(s="canvas")}"canvas"===s&&!1!==e.canvasEvents&&(s="canvasWithEvents");e.isDebug&&console.log("gfx renderer \x3d "+s);"svg"==s&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(a):a()}}}})},"xl/figure/Ellipse":function(){define(["dojo/_base/declare","./BaseFigureObject","./_FillableObject","dojox/gfx/matrix","../util/graphUtils"],function(l,m,k,f,e){return l("xl.figure.Ellipse",[m,
k],{fill:null,backColor:null,draw:function(d){var k=this.getParent().height,c=this.positionX-this.getOffsetX(),b=k-this.positionY+this.getOffsetY();d=0==this.width||0==this.height?d.createLine({x1:c,y1:b,x2:c+this.width,y2:b-this.height}):d.createEllipse({cx:c+this.width/2,cy:b-this.height/2,ry:Math.abs(this.height/2),rx:Math.abs(this.width/2)});this.isFilled()&&d.setFill(this.backColor);d.setStroke(this.color);k=f.rotategAt(-this.angle,e.fixPixel(this.originX),e.fixPixel(k-this.originY));d.setTransform(k)}})})},
"xl/figure/BaseFigureObject":function(){define(["dojo/_base/declare","dojox/gfx/matrix"],function(l,m){return l("xl.figure.BaseFigureObject",[],{type:null,name:null,shiftX:null,shiftY:null,originX:null,originY:null,insertX:null,insertY:null,positionX:null,positionY:null,color:null,width:null,height:null,angle:0,isTwoDimensional:!0,_parent:null,convertOrigin:!1,constructor:function(k){k.parent&&(this._parent=k.parent)},getOffsetX:function(){return this.insertX*this.width},getOffsetY:function(){return this.insertY*
this.height},calculatePositioning:function(){this.positionX=this.originX+this.shiftX;this.positionY=this.originY+this.shiftY;if(this.isTwoDimensional&&this.convertOrigin){var k=m.normalize([m.rotate(this.angle/180*Math.PI),m.translate(this.positionX,this.positionY)]),k=m.multiplyPoint(k,-this.insertX*this.width,-this.insertY*this.height);this.positionX=k.x;this.positionY=k.y;this.insertY=this.insertX=0}},getParent:function(){return this._parent}})})},"xl/figure/_FillableObject":function(){define(["dojo/_base/declare"],
function(l){return l("xl.figure._FillableObject",[],{_filled:void 0,isFilled:function(){void 0==this._fillable&&(this._filled=this.fill&&"fSolid"==this.fill?!0:!1);return this._filled}})})},"xl/util/graphUtils":function(){define("dojo/_base/declare dojox/gfx dojo/dom-construct dojo/_base/window dojo/dom-style dojo/dom-geometry dojo/_base/lang xl/grapher/Rectangle xl/util/IPMath xl/grapher/enums dojox/gfx/matrix".split(" "),function(l,m,k,f,e,d,n,c,b,a,s){var r={_getHeightCache:{},defaultLineHeight:"1.2",
getTextHeight:function(a,b,c){c||(c="normal");var d=a+b+c,e=r._getHeightCache[d];void 0==e&&(e=r._getTextHeight(a,b,c),r._getHeightCache[d]=e);return n.mixin({},e)},_getTextHeight:function(a,b,c){a=k.create("div",{style:{fontSize:b,fontFamily:a,fontWeight:c,lineHeight:r.defaultLineHeight}});b=k.create("span",{innerHTML:"Hg"},a);c=k.create("div",{style:{display:"inline-block",width:"1px",height:"0px"}},a);k.place(a,f.body());var n={};try{e.set(c,{verticalAlign:"baseline"}),n.ascent=Math.round(d.position(c).y-
d.position(b).y),e.set(c,{verticalAlign:"bottom"}),n.height=Math.round(d.position(c).y-d.position(b).y),n.descent=n.height-n.ascent}finally{k.destroy(a)}return n},drawLine:function(a,b,c,d,e,f,k,n){f||(f="black");k||(k="solid");n||(n="1px");k=r.normalizeGfxLineStyles(k);return a.createLine({x1:b+0.5,y1:c+0.5,x2:d+0.5,y2:e+0.5}).setStroke({color:f,style:k,width:n})},SURFACE_TYPE:{CANVAS:"canvas",SVG:"svg",OTHER:"other"},getSurfaceType:function(a){return"dojox.gfx.svg.Surface"==a.declaredClass?r.SURFACE_TYPE.SVG:
"dojox.gfx.canvas.Surface"==a.declaredClass?r.SURFACE_TYPE.CANVAS:r.SURFACE_TYPE.OTHER},drawText:function(a,b,c,d,e,f,k,n,s,l){e||(e="black");f||(f="11px");k||(k="Arial");s||(s="normal");var F=r.getTextHeight(k,f,s).ascent;n||(c+=F);d=d.replace(/ /g,"\u00a0");b=a&&(a.isInstanceOf(m.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?a.createText({x:b,y:c,text:d,align:"start"}).setFont({family:k,size:f,weight:s}).setFill(e):a.setShape({x:b,y:c,text:d});l&&r.getSurfaceType(a)===r.SURFACE_TYPE.SVG&&
(b.rawNode.setAttribute("textLength",l),b.rawNode.setAttribute("lengthAdjust","spacingAndGlyphs"));return b},measureText:function(a,b,c,d,e){c||(c="11px");d||(d="Arial");e||(e="normal");b=b.toString();b=b.replace(/ /g,"\u00a0");c=c.toString();-1==c.indexOf("px")&&(c+="px");var f=r.getTextHeight(d,c,e);a=a.createText({x:0,y:0,text:b,align:"start"}).setFont({family:d,size:c,weight:e});try{f.width=a.getTextWidth()}finally{a.removeShape()}return f},getWrappedTextHeight:function(a,b,c,e){a||(a="11px");
b||(b="Arial");if(!e)return null;a=k.create("div",{innerHTML:c,style:{fontFamily:b,fontSize:a,width:e,lineHeight:r.defaultLineHeight}});k.place(a,f.body());b=d.position(a);k.destroy(a);return b.h},drawSymbol:function(b,c,d){switch(c){case a.IPGrShapes.CIRCLE:return r.drawCircle(b,d.x,d.y,d.size,d.aColor,d.fillColor,d.borderWidth,d.addOffsetWidthProp,d.fillSymbol);case a.IPGrShapes.SQUARE:return r.drawSquare(b,d.x,d.y,d.size,d.aColor,d.fillColor,d.addOffsetWidthProp,d.fillSymbol,d.borderWidth);case a.IPGrShapes.DIAMOND:return r.drawDiamond(b,
d.x,d.y,d.size,d.aColor,d.fillColor,d.fillSymbol,d.borderWidth);case a.IPGrShapes.CROSS:return r.drawCross(b,d.x,d.y,d.size,d.aColor,d.borderWidth);case a.IPGrShapes.PLUS:return r.drawPlus(b,d.x,d.y,d.size,d.aColor,d.borderWidth);case a.IPGrShapes.TRIANGLE:return r.drawTriangle(b,d.x,d.y,d.size,d.aColor,d.fillColor,d.fillSymbol,d.borderWidth)}},drawCircle:function(a,b,c,d,e,f,r,k,n){e||(e="black");f||(f="white");r||(r=1);!1===n&&(f=null);a=a&&(a.isInstanceOf(m.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?
a.createCircle({cx:b,cy:c,r:d}):a.setShape({cx:b,cy:c,r:d});a=a.setStroke({color:e,width:r}).setFill(f);k&&(a.rawNode.offsetWidth=0);return a},drawSquare:function(a,b,c,d,e,f,r,k,n){e||(e="black");f||(f="white");!1===k&&(f=null);n||(n=1);a=a&&(a.isInstanceOf(m.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?a.createRect({x:b-d,y:c-d,width:2*d,height:2*d}):a.setShape({x:b-d,y:c-d,width:2*d,height:2*d});a.setStroke({color:e,width:n}).setFill(f);return a},drawRectangle:function(a,b,c,d,e,f,r,
k,n,s){f||(f="black");r||(r="transparent");!1===n&&(r=null);s||(s=1);b+=0.5;c+=0.5;a=a&&(a.isInstanceOf(m.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?a.createRect({x:b,y:c,width:d,height:e}):a.setShape({x:b,y:c,width:d,height:e});a=a.setStroke({color:f,width:s});r&&a.setFill(r);return a},drawRectangleObj:function(a,b,c,d){return r.drawRectangle(a,b.left,b.top,b.right-b.left,b.bottom-b.top,c,d)},fixRectangle:function(a){if(a.left>a.right){var b=a.left;a.left=a.right;a.right=b}a.top>a.bottom&&
(b=a.top,a.top=a.bottom,a.bottom=b)},drawDiamond:function(a,b,c,d,e,f,k,n){return r.drawRectangle(a,b-d/2,c-d/2,d,d,e,f,!1,k,n).setTransform([m.matrix.rotategAt(45,b,c)])},drawCross:function(a,b,d,e,f,r){f||(f="black");r||(r=1);b=new c({left:b-e,top:d-e,right:b+e,bottom:d+e});a=a.createGroup();a.createPath().moveTo(b.left,b.top).lineTo(b.right,b.bottom).moveTo(b.left,b.bottom).lineTo(b.right,b.top).setStroke({color:f,width:r});return a},drawPlus:function(a,b,c,d,e,f){return r.drawCross(a,b,c,d,e,
f).setTransform([m.matrix.rotategAt(45,b,c)])},drawTriangle:function(a,b,d,e,f,r,k,n){f||(f="black");r||(r="white");!1===k&&(r=null);n||(n=1);d=new c({left:b-e,top:d-e,right:b+e,bottom:d+e});a=a.createGroup();a.createPath().moveTo(d.left,d.bottom).lineTo(b,d.top).lineTo(d.right,d.bottom).lineTo(d.left,d.bottom).setStroke({color:f,width:n}).setFill(r);return a},drawArrow:function(a,b){var c=a.createGroup(),d=b.start.x,e=b.start.y,f=b.end.x,r=b.end.y;b.preCorrected||(d+=0.5,e+=0.5,f+=0.5,r+=0.5);var k=
Math.sqrt(Math.pow(f-d,2)+Math.pow(r-e,2)),n={color:"black",style:"solid",width:1};c.createLine({x1:0,y1:0,x2:0+k,y2:0}).setStroke(b.stroke||n);var s=b.arrowHeight||4,l=b.arrowWidth||3,B=b.arrowOffset||0,D=b.arrowHeadLength||3;c.createPath().moveTo(k-s,0).lineTo(k-s-D,-l).lineTo(k+B,0).lineTo(k-s-D,l).lineTo(k-s,0).setStroke(b.headStroke||b.stroke||n).setFill(b.stroke?b.stroke.color:"black");r=180*Math.asin((r-e)/k)/Math.PI;f<=d&&(r=180-r);c.setTransform([m.matrix.translate(d,e),m.matrix.rotategAt(r,
0,0)])},drawFunctionArrow:function(a,c,d,e,f){f||(f=10);e||(e="black");var r,k,n;k=c.y==d.y?Math.abs(c.x-d.x):c.x==d.x?Math.abs(c.y-d.y):b.hypot(c.x-d.x,c.y-d.y);b.isZero(k)?c=r=0:(r=(d.x-c.x)/k,c=(c.y-d.y)/k);k=1*f;n=f/3;f=d.x-k*r;k=d.y+k*c;c*=n;r*=n;f+=0.5;k+=0.5;d.x+=0.5;d.y+=0.5;if(a&&(a.isInstanceOf(m.Surface)||0<=a.getUID().toLowerCase().indexOf("group")))return a.createPath().moveTo(d.x,d.y).lineTo(f-c,k-r).lineTo(f+c,k+r).lineTo(d.x,d.y).setStroke({color:e,width:1}).setFill(e);a.setShape("");
return a.moveTo(d.x,d.y).lineTo(f-c,k-r).lineTo(f+c,k+r).lineTo(d.x,d.y).setStroke({color:e,width:1}).setFill(e)},drawPolyline:function(a,b,c,d,e,f){d||(d=1);e||(e="solid");e=r.normalizeGfxLineStyles(e);if(a=a&&(a.isInstanceOf(m.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?a.createPolyline():a){for(var k=0;k<b.length;k++)b[k].x=(f?b[k].x:Math.floor(b[k].x))+0.5,b[k].y=(f?b[k].y:Math.floor(b[k].y))+0.5;a.setShape({points:b});return a.setStroke({color:c,width:d,style:e,cap:"butt"})}},drawPolygon:function(a,
b,c,d){return r.drawPolyline(a,b,c).setFill(d)},pointInPolygon:function(a,b,c){var d,e,f,r,k;d=f=c.length-1;r=!1;for(e=0;e<=d;e++){k=c[e];f=c[f];if((k.y<=b&&b<f.y||f.y<=b&&b<k.y)&&a<(f.x-k.x)*(b-k.y)/(f.y-k.y)+k.x)r=!r;f=e}return r},TOLERANCE:1E-6,segmentDistance:function(a,c,d,e,f,k,n){n||(n=!1);var s,l;s=-1;s=(d-f)*(d-f)+(e-k)*(e-k);s>r.TOLERANCE?(l=((e-c)*(e-k)-(d-a)*(f-d))/s,0<=l&&1>=l||n?(a=((e-c)*(f-d)-(d-a)*(k-e))/s,s=Math.sqrt(a*a*s)):s=Math.min(b.hypot(a-d,c-e),b.hypot(a-f,c-k))):s=Math.min(b.hypot(a-
d,c-e),b.hypot(a-f,c-k));return s},drawArc:function(a,b,c,d,e,f,r,k,n,s){var l=(c+e)/2,m=(d+f)/2;c=Math.abs((e-c)/2);d=Math.abs((f-d)/2);r=Math.atan2(k-m,r-l);n=Math.atan2(s-m,n-l);n>r&&(n-=2*Math.PI);s=2*Math.PI*Math.max(c,d);s=Math.round(s/4);s=Math.max(s,8);k=l+c*Math.cos(r);f=m+d*Math.sin(r);a=a.createPath();a.moveTo(k,f);for(e=1;e<=s;e++)f=r+(n-r)*e/s,k=l+c*Math.cos(f),f=m+d*Math.sin(f),a.lineTo(k,f);a.setStroke(b.color);return a},drawWedge:function(a,b,c,d,e,f,r,k,n){a=a.createPath();a.moveTo(b,
c);n||(n=f);var s=e-d;360<Math.abs(s)&&(s=360);e=Math.ceil(Math.abs(s)/45);var s=-(s/e/180)*Math.PI,l=-(d/180)*Math.PI;if(0<e){var m=b+Math.cos(d/180*Math.PI)*f;d=c+Math.sin(-d/180*Math.PI)*n;a.lineTo(m,d);for(d=0;d<e;d++){var l=l+s,D=l-s/2,m=b+Math.cos(l)*f,E=c+Math.sin(l)*n,J=b+Math.cos(D)*(f/Math.cos(s/2)),D=c+Math.sin(D)*(n/Math.cos(s/2));a.qCurveTo(J,D,m,E)}a.lineTo(b,c);a.setStroke({color:r,width:1}).setFill(k)}return a},drawBucket:function(a,b,c,d,e,f,k){!b||!b.group||!b.group.parent?(a=a.createGroup(),
b=Array(5),b[0]={x:6,y:0},b[1]={x:1,y:5},b[2]={x:-5,y:1},b[3]={x:-1,y:-6},b[4]=n.clone(b[0]),f&&r.drawPolygon(a,b,e,k),r.drawPolyline(a,b,e),r.drawLine(a,2,-1,2,-9,e),b=Array(7),b[0]={x:2,y:-2},b[1]={x:7,y:-1},b[2]={x:9,y:1},b[3]={x:10,y:5},b[4]={x:8,y:5},b[5]={x:7,y:1},b[6]={x:4,y:-1},r.drawPolygon(a,b,e,k)):a=b.group;c=s.translate(c,d);a.setTransform(c);return{group:a}},normalizeGfxLineStyles:function(a){a=a.toLowerCase();switch(a){case "solid":return"Solid";case "dashed":return"ShortDash"}return a},
fixPixel:function(a){return Math.floor(a+0.001)+0.5}};return r})},"xl/grapher/Rectangle":function(){define(["dojo/_base/declare"],function(l){var m=l("xl.grapher.Rectangle",null,{constructor:function(k){l.safeMixin(this,k)},left:null,top:null,bottom:null,right:null,getWidth:function(){return this.right-this.left},getHeight:function(){return this.bottom-this.top},clone:function(){return new m({left:this.left,top:this.top,bottom:this.bottom,right:this.right})},contains:function(k,f){return k>=this.left&&
k<=this.right&&f>=this.top&&f<=this.bottom?!0:!1},inflate:function(k,f){this.left-=k;this.right+=k;this.top-=f;this.bottom+=f}});return m})},"xl/grapher/enums":function(){define([],function(){return{IPGraphAxisOrientation:{HORIZONTAL:"horizontal",VERTICAL:"vertical"},IPGraphAxisOrigin:{ZERO:0,MINIMUM:1,MAXIMUM:2,CUSTOM:3},IPGraphAxisType:{LINEAR:"linear",LOG:"log"},IPGraphTickType:{NONE:"none",MINOR:"minor",MAJOR:"major"},IPGraphAlignment:{LEFT:0,RIGHT:1,CENTER:2,TOP:0,BOTTOM:1,MIDDLE:2},IPGraphStyle:{NORMAL:"normal",
TI82:"ti82"},IPGraphTickStyle:{NORMAL:"normal",INVERTED:"inverted",FULL:"full"},IPGraphLineStyle:{SOLID:"solid",DOTTED:"dot",DASHED:"dash",DASHDOT:"dashdot"},IPGrShapes:{NONE:"None",CIRCLE:"Circle",SQUARE:"Square",DIAMOND:"Diamond",CROSS:"Cross",PLUS:"Plus",TRIANGLE:"Triangle"},IPGraphTitlePosition:{TOP:0,BOTTOM:1},IPGraphLocationUnits:{PLOTCOORDS:0,GRAPHPERCENT:1,XAXIS:2,YAXIS:3},IPBarOrientation:{BARVERTICAL:0,BARHORIZONTAL:1},IPPieLegendAlign:{LEFT:0,RIGHT:1,TOP:2,BOTTOM:3},IPPieLegendFormat:{PERCENT:0,
DECIMAL:1,FRACTION:2,DATAVALUES:3,LABELONLY:4},IPGraphBlobState:{PRESSED:"pressed",DRAGGED:"dragged",UP:"up",MOVED:"moved",KEYBOARD:"keyboard",FOCUSED:"focused"},IPGraphBlobEvent:{BLOB_MOVED:"moved",BLOB_FOCUS_GAINED:"BLOB_FOCUS_GAINED",BLOB_FOCUS_LOST:"BLOB_FOCUS_LOST"},IPSplineBoundary:{NATURAL:"natural",SLOPESTART:"slopestart",SLOPEEND:"slopeend",SLOPEBOTH:"slopeboth",PARABOLIC:"parabolic",CUBIC:"cubic"}}})},"xl/figure/Rectangle":function(){define(["dojo/_base/declare","./BaseFigureObject","./_FillableObject",
"dojox/gfx/matrix","../util/graphUtils"],function(l,m,k,f,e){return l("xl.figure.Rectangle",[m,k],{style:null,fill:null,backColor:null,draw:function(d){0>this.height&&(this.insertY=1-this.insertY,this.height=-this.height);0>this.width&&(this.insertX=1-this.insertX,this.width=-this.width);var k=this.getParent().height,c=this.positionX-this.getOffsetX(),b=k-this.positionY+this.getOffsetY(),c=e.fixPixel(c),b=e.fixPixel(b-this.height);d=0==this.width||0==this.height?d.createLine({x1:c,y1:b,x2:c+this.width,
y2:b+this.height}):d.createRect({x:c,y:b,width:this.width,height:this.height});this.isFilled()&&d.setFill(this.backColor);switch(this.style){case "Solid":d.setStroke(this.color);break;case "Dotted":d.setStroke({color:this.color,style:"Dot"});break;case "Dashed":d.setStroke({color:this.color,style:"Dash"});break;default:d.setStroke(this.color)}k=f.rotategAt(-this.angle,e.fixPixel(this.originX),e.fixPixel(k-this.originY));d.setTransform(k)}})})},"xl/figure/Line":function(){define(["dojo/_base/declare",
"./BaseFigureObject","dojox/gfx/matrix","../util/graphUtils"],function(l,m,k,f){var e=l("xl.figure.Line",[m],{length:null,style:null,thickness:null,arrowStyle:null,arrowSize:null,draw:function(d){var n=this.positionX-this.insertX*this.length,c=n+this.length,b=this.getParent().height,a=this.arrowSize+3*(Math.max(1,this.thickness)-1),s=Math.round(a/3),r=0,l=0,h=f.fixPixel(b-this.positionY),n=f.fixPixel(n),c=f.fixPixel(c);d=d.createGroup();var q;if(this.arrowStyle==e.ArrowType.HEAD||this.arrowStyle==
e.ArrowType.BOTH)q=d.createPath(),q.moveTo(c,h),q.lineTo(c-a,h+s),q.lineTo(c-(a-s),h),q.lineTo(c-a,h-s),q.lineTo(c,h),l=a-s,q.setStroke({color:this.color,width:1,cap:"butt"}).setFill(this.color);if(this.arrowStyle==e.ArrowType.TAIL||this.arrowStyle==e.ArrowType.BOTH)q=d.createPath(),q.moveTo(n,h),q.lineTo(n+a,h+s),q.lineTo(n+a-s,h),q.lineTo(n+a,h-s),q.lineTo(n,h),r=a-s,q.setStroke({color:this.color,width:1,cap:"butt"}).setFill(this.color);a=d.createPath();a.moveTo(n+r,h);a.lineTo(c-l,h);switch(this.style){case "Solid":a.setStroke({color:this.color,
width:this.thickness});break;case "Dotted":a.setStroke({color:this.color,style:"Dot",width:this.thickness});break;case "Dashed":a.setStroke({color:this.color,style:"Dash",width:this.thickness})}0!=this.angle&&(n=k.rotategAt(-this.angle,f.fixPixel(this.originX+this.shiftX),f.fixPixel(b-this.originY-this.shiftY)),d.setTransform(n))},isTwoDimensional:!1});e.ArrowType={NONE:"arNone",TAIL:"arTail",HEAD:"arHead",BOTH:"arBoth"};return e})},"xl/figure/Arc":function(){define(["dojo/_base/declare","./BaseFigureObject",
"dojox/gfx/matrix","xl/util/graphUtils"],function(l,m,k,f){return l("xl.figure.Arc",[m],{draw:function(e){var d=this.getParent().height,n=k.rotategAt(-this.angle,this.originX,d-this.originY),c=this.positionX-this.getOffsetX(),d=d-this.positionY+this.getOffsetY(),b=c,a=d,s=k.multiplyPoint(n,b,a),c=s.x,d=s.y,b=b+this.width,a=a-this.height,s=k.multiplyPoint(n,b,a),n=s.x,b=s.y,s=n-c,a=d-b,r,l=d-2*a,h=c+s,q=d;r=f.fixPixel(c-s);l=f.fixPixel(l);h=f.fixPixel(h);q=f.fixPixel(q);c=f.fixPixel(c);d=f.fixPixel(d);
n=f.fixPixel(n);b=f.fixPixel(b);0<s?0<a?f.drawArc(e,{color:this.color},r,l,h,q,c,d,n,b):f.drawArc(e,{color:this.color},r,l,h,q,n,b,c,d):0<a?f.drawArc(e,{color:this.color},r,l,h,q,n,b,c,d):f.drawArc(e,{color:this.color},r,l,h,q,c,d,n,b)}})})},"xl/figure/Polygon":function(){define(["dojo/_base/declare","./BaseFigureObject","./_FillableObject","dojox/gfx/matrix","../util/graphUtils"],function(l,m,k,f,e){return l("xl.figure.Polygon",[m,k],{style:null,fill:null,backColor:null,draw:function(d){for(var k=
this.getParent().height,c=this.positionX-this.getOffsetX(),b=k-this.positionY+this.getOffsetY(),a=0;a<this.points.length;a++)this.points[a].x*=this.width,this.points[a].y*=this.height,this.points[a].x+=c,this.points[a].y+=this.height-b,this.points[a].y=this.height-this.points[a].y,this.points[a].x=e.fixPixel(this.points[a].x),this.points[a].y=e.fixPixel(this.points[a].y);this.points.push(this.points[0]);d=d.createPolyline(this.points);switch(this.style){case "Solid":d.setStroke(this.color);break;
case "Dotted":d.setStroke({color:this.color,style:"Dot"});break;case "Dashed":d.setStroke({color:this.color,style:"Dash"})}this.isFilled()&&d.setFill(this.backColor);0!=this.angle&&(k=f.rotategAt(-this.angle,e.fixPixel(this.originX),e.fixPixel(k-this.originY)),d.setTransform(k))}})})},"xl/figure/Polyline":function(){define(["dojo/_base/declare","./BaseFigureObject","dojox/gfx/matrix","../util/graphUtils"],function(l,m,k,f){return l("xl.figure.Polyline",[m],{style:null,points:null,draw:function(e){for(var d=
this.getParent().height,n=this.positionX-this.getOffsetX(),c=d-this.positionY+this.getOffsetY(),b=0;b<this.points.length;b++)this.points[b].x*=this.width,this.points[b].y*=this.height,this.points[b].x+=n,this.points[b].y+=this.height-c,this.points[b].y=this.height-this.points[b].y,this.points[b].x=f.fixPixel(this.points[b].x),this.points[b].y=f.fixPixel(this.points[b].y);e=e.createPolyline(this.points);switch(this.style){case "Solid":e.setStroke(this.color);break;case "Dotted":e.setStroke({color:this.color,
style:"Dot"});break;case "Dashed":e.setStroke({color:this.color,style:"Dash"})}d=k.rotategAt(-this.angle,f.fixPixel(this.originX),f.fixPixel(d-this.originY));e.setTransform(d)}})})},"xl/figure/Text":function(){define("dojo/_base/declare dojo/dom-construct dojo/parser dojo/dom-geometry dojo/_base/lang dojo/dom-style ./BaseFigureObject xl/util/ForeignObject xl/util/graphUtils".split(" "),function(l,m,k,f,e,d,n,c,b){return l("xl.figure.Text",[n],{fontName:null,fontSize:null,content:null,bold:!1,italic:!1,
underline:!1,strikeout:!1,isFormula:!1,interpretFunctions:!1,eqDoc:null,mathImage:!1,mathIsPlot:!1,mathEvaluate:!1,mathPlotWidth:0,mathPlotHeight:0,clientId:"",isPlainText:!0,_x:0,_y:0,draw:function(a){var c=this.getParent().height,d=this.positionX-this.getOffsetX(),f=c-this.positionY+this.getOffsetY();this._x=d;this._y=f;var h=this.color;if(this.isPlainText){if(this.content){var q=this.content.replace(/ /g,"\u00a0"),k=b.measureText(a,q,this.fontSize,this.fontName);this.width=k.width;this.height=
k.height;d=this.positionX-this.getOffsetX();f=c-this.positionY+this.getOffsetY();f+=this.height;this._y=f-=k.descent;this._x=d;this.underline&&a.createLine({x1:d+1,y1:f+2,x2:d+k.width+(this.italic?4:1),y2:f+2}).setStroke(h);a.createText({x:d,y:f,id:this.clientId,text:q}).setFont({style:this.italic?"italic":"normal",family:this.fontName,size:this.fontSize,weight:this.bold?"bold":"normal"}).setFill(h);this.strikeout&&a.createLine({x1:d+1,y1:f-k.ascent/3+1,x2:d+k.width+(this.italic?4:1),y2:f-k.ascent/
3+1}).setStroke(h)}}else if(this.mathImage)a.createImage({x:d,y:f-this.mathPlotHeight,width:this.mathPlotWidth,height:this.mathPlotHeight,src:this.content});else if(c=m.create("div",{innerHTML:this.content}),this.shape=a=a.createForeignObject({x:d,y:f,width:1,height:1,content:c,id:this.clientId,fontFamily:this.fontName,fontSize:this.fontSize,fontColor:h,bold:this.bold,italic:this.italic,underline:this.underline,strikeout:this.strikeout}),a.on)a.on("resized",e.hitch(this,this.objectResized))},objectResized:function(a){this.updatePosition(a.foreignObject,
a.box)},updatePosition:function(a,b){var c=a.domNode,e=d.get(c,"display");d.set(c,{display:""});var h=b||f.getContentBox(c);d.set(c,{display:e});this.height=h.h;this.width=h.w;e=this.getParent().height;c=this.positionX-this.getOffsetX();e=e-this.positionY+this.getOffsetY();try{c=Math.floor(c),e=Math.floor(e)-1,a.setPosition(c,e)}catch(q){}},getOffsetY:function(){return Math.floor((this.insertY-1)*this.height)}})})},"xl/util/ForeignObject":function(){define("dojo/_base/declare dojo/dom-style dojo/dom-class dojo/dom-construct dojo/_base/array dojo/Evented dojo/dom-geometry dojo/_base/lang dojo/_base/window dojo/parser dojo/has dojo/sniff dojox/gfx/_base dojox/gfx/shape dojox/gfx dojox/gfx/svg dijit/_WidgetBase dijit/registry".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w){s.add("foreignobjects",function(){return!1});var x=l("xl.util.ForeignObjectHolder",[v],{baseClass:"foreignobjectreset",foreignObject:null,canClear:!1,isLayoutContainer:!0,resize:function(){this.foreignObject.resize(this.domNode)},startup:function(){(!this.getParent()||!this.getParent().isLayoutContainer)&&this.resize()},addChild:function(a){}});u.Switch=l("xl.util.Switch",[u.Group],{});u.Switch.nodeType="switch";var A={type:"foreignobject",x:0,y:0,width:0,
height:0,content:"",id:"",fontFamily:"Arial",fontSize:"13px",bold:!1,italic:!1,underline:!1,strikeout:!1,fontColor:"#000000",layerPosition:"before"},z=function(a){return"object"===typeof Node?a instanceof Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName},C=l("xl.util.ForeignObject",[u.Shape,d],{addedToDom:null,_widgets:null,constructor:function(){this.shape=A},_setParent:function(){this.inherited(arguments)},startup:function(){this.holder&&this.holder.startup()},
moveToBack:function(){var a=this.getParent().getParent();a&&(a._moveChildToBack(this.getParent()),this.getParent()._moveToBack());return this},resize:function(a){var b=w.findWidgets(a);e.forEach(b,function(a){a.resize&&a.resize()});a=n.getContentBox(a);b=this.rawNode;this.emit("resized",{foreignObject:this,box:a});b.setAttribute("width",a.w);b.setAttribute("height",a.h)},setPosition:function(a,b){this.rawNode&&(this.rawNode.x.baseVal.value=a,this.rawNode.y.baseVal.value=b)},setBox:function(a){this.rawNode&&
(this.rawNode.x.baseVal.value=a.x,this.rawNode.y.baseVal.value=a.y,this.rawNode.width.baseVal.value=a.w,this.rawNode.height.baseVal.value=a.h)},getWidgets:function(){this._widgets||(this._widgets=w.findWidgets(this.domNode));return this._widgets},setShape:function(b){b=this.shape=t.makeParameters(this.shape,b);this.bbox=null;var c=this.rawNode;if(!b.content)return null;c.setAttribute("x",b.x);c.setAttribute("y",b.y);c.setAttribute("stroke-opacity",1);c.setAttribute("width",b.width);c.setAttribute("height",
b.height);b.fontSize==parseInt(b.fontSize)&&(b.fontSize+="px");var d=" ";b.underline&&(d+="underline ");b.strikeout&&(d+="line-through ");var h=new x;h.foreignObject=this;this.holder=h;h=h.domNode;m.set(h,{"white-space":"normal",fontFamily:b.fontFamily,fontSize:b.fontSize,"text-align":"center",fontStyle:b.italic?"italic":"normal",fontWeight:b.bold?"bold":"normal","text-decoration":d,color:b.fontColor});h.setAttribute("xmlns",C.requiredExtension);d=this.isNode(b.content)?b.content:f.toDom(b.content);
"#text"==d.nodeName&&(d=f.create("div",{innerHTML:b.content}));h.appendChild(d);c.appendChild(h);this._widgets=a.parse(h);this.domNode=h;this.rawNode.style&&(this.rawNode.style.lineHeight=1);return this},isNode:z});C.nodeType="foreignObject";C.requiredExtension="http://www.w3.org/1999/xhtml";c.extend(u.Surface,{foreignObjectContainer:void 0,clearForeignObjects:function(){if(void 0!=this.foreignObjectContainer){var a=w.findWidgets(this.foreignObjectContainer);e.forEach(a,function(a){a.canClear&&a.destroy()})}},
createForeignObject:function(b){if(!s("foreignobjects")){var c=this;void 0==this.foreignObjectContainer&&(this.foreignObjectContainer=f.create("div",{"class":"foreignObjectContainer",style:{overflow:"hidden"}},this.rawNode,"replace"),this.foreignObjectContainer.resize=function(){var a,b;a=n.getContentBox(this.parentNode);b=s("ios")&&-1!=c.rawNode.height.baseVal.valueAsString.indexOf("%")?0:a.h;a=s("ios")&&-1!=c.rawNode.width.baseVal.valueAsString.indexOf("%")?0:a.w;m.set(this,{height:b+"px",width:a+
"px"})},f.place(this.rawNode,this.foreignObjectContainer));var h=t.makeParameters(A,b);h.fontSize==parseInt(h.fontSize)&&(h.fontSize+="px");var q=" ";h.underline&&(q+="underline ");h.strikeout&&(q+="line-through ");var r=new x;r.canClear=b.canClear;var l=r.domNode;r.foreignObject=new d;var v=r.foreignObject;v.resize=function(){var a,b;b=s("ios")&&-1!=c.rawNode.height.baseVal.valueAsString.indexOf("%")?0:c.rawNode.height.baseVal.value;a=s("ios")&&-1!=c.rawNode.width.baseVal.valueAsString.indexOf("%")?
0:c.rawNode.width.baseVal.value;m.set(c.foreignObjectContainer,{height:b+"px",width:a+"px"});a=w.findWidgets(l);e.forEach(a,function(a){a.resize&&a.resize()});this.emit("resized",{foreignObject:this})};v.setPosition=function(a,b,c,d){if(c=this.holder.domNode.parentNode){var h=n.getContentBox(c);m.set(this.holder.domNode,{display:"initial"});d=n.getContentBox(this.holder.domNode);c=d.w;d=d.h;a+c<h.l||a>h.l+h.w||b+d<h.t||b>h.t+h.h?m.set(this.holder.domNode,{display:"none"}):m.set(this.holder.domNode,
{display:"initial"});m.set(l,{left:a+"px",top:b+"px"})}};v.setBox=function(a){var b=this.holder.domNode.parentNode;if(b){var b=n.getContentBox(b),c=n.getContentBox(this.holder.domNode),d=c.h;a.x+c.w<b.l||a.x>b.l+b.w||a.y+d<b.t||a.y>b.t+b.h?m.set(this.holder.domNode,{display:"none"}):m.set(this.holder.domNode,{display:"initial"});m.set(l,{left:a.x+"px",top:a.y+"px",width:a.w+"px",height:a.h+"px"})}};v.startup=function(){r.startup()};v.getWidgets=function(){return w.findWidgets(this.domNode)};v.holder=
r;v.moveToBack=function(){};v.moveToFront=function(){this.holder&&(this.holder.domNode&&this.holder.domNode.parentNode)&&f.place(this.holder.domNode,this.holder.domNode.parentNode,"last")};v.destroy=function(){f.destroy(this.domNode)};m.set(l,{"white-space":"normal",fontFamily:h.fontFamily,fontSize:h.fontSize,"text-align":"center",fontStyle:h.italic?"italic":"normal",fontWeight:h.bold?"bold":"normal","text-decoration":q,position:"absolute",left:h.x+"px",top:h.y+"px",color:h.fontColor});b.classNames&&
k.add(l,b.classNames);b=z(h.content)?h.content:f.toDom(h.content);"#text"===b.nodeName&&(b=f.create("div",{innerHTML:h.content}));l.appendChild(b);v.domNode=l;f.place(l,this.rawNode,h.layerPosition);a.parse(l);r.startup();return r.foreignObject}return this.createObject(u.Switch,{}).createObject(C,b)}});return C})},"xl/figure/Image":function(){define(["dojo/_base/declare","./BaseFigureObject"],function(l,m){return l("xl.figure.Image",[m],{imageData:null,draw:function(k){var f=this.getParent().height,
e=this.positionX-this.getOffsetX(),f=f-this.positionY+this.getOffsetY();k.createImage({x:e,y:f-this.height,width:this.width,height:this.height,src:this.imageData})}})})},"xl/figure/FigureControl":function(){define("dojo/_base/declare dojo/dom-construct dojo/parser dojo/dom-geometry dojo/_base/lang dojo/dom-style xl/figure/BaseFigureObject xl/util/ForeignObject xl/draganddrop/DropTarget xl/draganddrop/DragSourceContainer dojo/_base/array dijit/registry dojo/dom-attr dojo/dom dojo/query".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q){return l("xl.figure.control",[n],{clientId:"",containerDivID:"",draw:function(a){this.containerDivID="divcontrolContainer_"+this.clientId;var b=m.create("div",{innerHTML:this.content,id:this.containerDivID}),c=this.getParent().height,d=this.positionX-this.getOffsetX(),h=c-(this.positionY+this.getOffsetY());a=a.createForeignObject({x:d,y:h,content:b,id:this.clientId});d=f.getContentBox(a.domNode);this.height=d.h;this.width=d.w;d=this.positionX-this.getOffsetX();
h=c-(this.positionY+(this.isNumeric(this.height)?this.height:0)+this.getOffsetY());try{d=Math.floor(d),h=Math.floor(h)-1,0>h&&(h=0),0>d&&(d=0),a.setPosition(d,h)}catch(q){}this.shape=b;if(a.on)a.on("resized",e.hitch(this,this.objectResized))},objectResized:function(a){this.updatePosition(a.foreignObject,a.box)},updatePosition:function(a,b){var c=a.domNode,h=d.get(c,"display");d.set(c,{display:""});var e=b||f.getContentBox(c);d.set(c,{display:h});this.height=e.h;this.width=e.w;h=this.isNumeric(this.getParent().height)?
this.getParent().height:0;c=this.positionX-this.getOffsetX();h=h-this.positionY+this.getOffsetY();try{c=Math.floor(c),h=Math.floor(h)-1,0>h&&(h=0),0>c&&(c=0),a.setPosition(c,h)}catch(q){}},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},getOffsetY:function(){return Math.floor((this.insertY-1)*this.height)}})})},"xl/draganddrop/DropTarget":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class xl/player/controls/_AltTextToolTip dojo/dnd/Source dojo/dom-geometry xl/player/controls/_InputObject dojo/dom-attr dojo/dom-construct xl/util/domMethods".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h){return l("xl.draganddrop.DropTarget",[b,c],{baseClass:"droptarget",name:null,width:null,height:null,altText:null,borderColor:null,borderWidth:null,backgroundColor:null,flowDirection:null,maxItems:null,snapping:null,isAnswered:null,isCorrect:null,printing:!1,leftLabel:null,centerLabel:null,rightLabel:null,constructor:function(a){},destroy:function(a){if(!this.destroyed)for(var b=this.getAllNodes(),c=0;c<b.length;c++)n.replace(b[c],"dragitem-inert","dragitem");
this.inherited(arguments);this.destroyed=!0},startup:function(){this.domNode=this.node;this.inherited(arguments);var a=this.node,b=0;this._hasTargetLabels()&&(b=20);d.set(this.node,{top:b+"px"});this.width&&"0px"!==this.width&&d.set(a,this.printing?"width":"minWidth",this.width);this.height&&"0px"!==this.height?d.set(a,this.printing?"height":"minHeight",this.height):d.set(this.node,"minHeight","calc(100% - "+(this.node.previousElementSibling&&0<this.node.previousElementSibling.clientHeight?this.node.previousElementSibling.clientHeight:
b)+1+"px");n.add(a,this.baseClass);this.horizontal=0===this.flowDirection?!0:!1;this.getAllNodes().forEach(f.hitch(this,function(a){n.add(a,0===this.flowDirection?"dragitem-inlineblock":"dragitem-block");r.set(a,0===this.flowDirection?"horizontal":"vertical","")}));1===this.maxItems&&n.add(a,"indicator-inactive");this.printing&&d.set(a,"pointer-events","none");r.set(a,"role","img")},getCurrentAnswers:function(){for(var a=this.getAllNodes(),b=[],c=0;c<a.length;c++){var d=[e.byNode(a[c]).name];b.push(d)}return b},
onDrop:function(b,c,d,h){var f=c[0],k=e.byNode(f);if(this.group&&k.group&&0!=this.group.localeCompare(k.group))this._hasTargetLabels()?n.remove(this.node.parentNode,"droptarget-hover"):n.remove(this.node,"droptarget-hover");else{this._hasTargetLabels()?n.remove(this.node.parentNode,"droptarget-hover"):n.remove(this.node,"droptarget-hover");if(null!=k.clones){if(b===this)return;b.isInstanceOf(xl.draganddrop.DropTarget)?d=!1:0===k.clones||k.getCloneCount()<k.clones?(k.incrementCloneCount(),d=!0):d=
!1}else d=!1;var s=this.getAllNodes().length;if(this.maxItems)if(1===this.maxItems&&1===this.getAllNodes().length&&!h){s=this.getAllNodes();if(e.byNode(s[0])===k)return;b.onDrop(this,s,!1,!0);this.current=null}else if(this.maxItems===s&&!h)return;n.remove(f,"dragitem-inlineblock");n.remove(f,"dragitem-block");r.remove(f,"horizontal");r.remove(f,"vertical");n.add(f,0===this.flowDirection?"dragitem-inlineblock":"dragitem-block");r.set(f,0===this.flowDirection?"horizontal":"vertical","");s=a.position(this.node,
!0);this.inherited(arguments);k={h:parseInt(k.height,10),w:parseInt(k.width,10)};this.offsetTargetContainer(s,k);this.offsetSourceContainer(b,h);b.isInstanceOf(xl.draganddrop.DragSource)&&(b.updateItemLayout(f),b.addDraggedItem(f))}},offsetTargetContainer:function(a,b){var c=this.node.parentNode;if(h.domNodeIsParentedByClass(c,"DnDLabeling")){var e=(b.h-a.h)/2,f=(b.w-a.w)/2;d.set(c,"position","relative");d.set(c,"top","-"+e+"px");d.set(c,"left","-"+f+"px")}},offsetSourceContainer:function(a,b){var c=
a.node;h.domNodeIsParentedByClass(this.node,"DnDLabeling")&&(a.isInstanceOf(xl.draganddrop.DropTarget)&&!c.children.length&&!b)&&(d.set(c.parentNode,"top",""),d.set(c.parentNode,"left",""))},onDraggingOver:function(){this._hasTargetLabels()?n.add(this.node.parentNode,"droptarget-hover"):n.add(this.node,"droptarget-hover");this.inherited(arguments)},onDraggingOut:function(){this._hasTargetLabels()?n.remove(this.node.parentNode,"droptarget-hover"):n.remove(this.node,"droptarget-hover");this.inherited(arguments)},
_hasTargetLabels:function(){return this.leftLabel||this.rightLabel||this.centerLabel}})})},"xl/player/controls/_AltTextToolTip":function(){define("dojo/_base/declare dijit/Tooltip ./_NeedsPlayerViewer dojo/on dojo/mouse dojo/_base/lang dojo/dom-attr xl/util/eqUtils dojo/dom-construct dojo/dom-class dojo/_base/array".split(" "),function(l,m,k,f,e,d,n,c,b,a,s){return l("xl.player.controls._AltTextToolTip",[k],{altText:null,createOwnAccLabel:null,magicAltStrings:[],alwaysHideChildren:!1,hideIfNoAltText:!1,
startup:function(){this._started||(this.hasAltText()?(this.addAriaLabel(),this.addAccLabel()):this.addAriaHidden(),this.inherited(arguments))},_showToolTip:function(a){if((a=this.getViewer())&&a.showAltText){var b=this.domNode;m.show(this.altText,b,["above","below"]);f.once(this.domNode,e.leave,function(){m.hide(b)})}},destroy:function(){this.inherited(arguments)},hasAltText:function(){return this.altText&&!s.some(this.magicAltStrings,function(a){return a===this.altText.toLowerCase()},this)},addAriaLabel:function(){this.altText=
c.altTextExpander(this.altText);f(this.domNode,e.enter,d.hitch(this,this._showToolTip));n.set(this.domNode,"aria-label",this.altText)},addAccLabel:function(){if(!this.createOwnAccLabel){var a=b.create("span",{"class":"eqAccessibleLabel",innerHTML:this.altText});b.place(a,this.domNode,"first")}},addAriaHidden:function(){var a=this.hasAltText();this.hideIfNoAltText&&!a?n.set(this.domNode,"aria-hidden","true"):(this.alwaysHideChildren||a)&&this._hideChildren()},_hideChildren:function(){for(var b=this.domNode.childNodes,
c=0;c<b.length;c++)try{a.contains(b[c],"eqAccessibleLabel")||n.set(b[c],"aria-hidden","true")}catch(d){}}})})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w){var x=m("dijit._MasterTooltip",
[h,q],{duration:r.defaultDuration,templateString:v,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new u(this.domNode);this.fadeIn=k.fadeIn({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onShow")});this.fadeOut=k.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onHide")})},show:function(a,b,d,h,e){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;
else{this.containerNode.innerHTML=a;e&&this.set("textDir",e);this.containerNode.align=h?"right":"left";var f=t.around(this.domNode,b,d&&d.length?d:A.defaultPosition,!h,c.hitch(this,"orient")),q=f.aroundNodePos;"M"==f.corner.charAt(0)&&"M"==f.aroundCorner.charAt(0)?(this.connectorNode.style.top=q.y+(q.h-this.connectorNode.offsetHeight>>1)-f.y+"px",this.connectorNode.style.left=""):"M"==f.corner.charAt(1)&&"M"==f.aroundCorner.charAt(1)?this.connectorNode.style.left=q.x+(q.w-this.connectorNode.offsetWidth>>
1)-f.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");n.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,b,c,h,e){this.connectorNode.style.top="";var f=h.h;h=h.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight",
"TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var q=d.position(this.domNode);9==s("ie")&&(q.w+=2);var k=Math.min(Math.max(h,1),q.w);d.setMarginBox(this.domNode,{w:k});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=d.position(a),b=this.connectorNode.offsetHeight,a.h>f?(this.connectorNode.style.top=f-(e.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(e.h/2-b/
2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,q.w-h)},_onShow:function(){s("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),
this._onDeck=null)}});s("dojo-bidi")&&x.extend({_setAutoTextDir:function(a){this.applyTextDir(a);l.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});w.showTooltip=function(a,b,c,d,h){c&&(c=l.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));A._masterTT||(w._masterTT=A._masterTT=new x);return A._masterTT.show(a,b,
c,d,h)};w.hideTooltip=function(a){return A._masterTT&&A._masterTT.hide(a)};var A=m("dijit.Tooltip",h,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(d){l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this._connectIds=l.filter(c.isArrayLike(d)?d:d?[d]:[],function(a){return f.byId(a,this.ownerDocument)},this);this._connections=l.map(this._connectIds,function(d){d=f.byId(d,this.ownerDocument);var h=this.selector,e=h?function(b){return a.selector(h,
b)}:function(a){return a},q=this;return[a(d,e(b.enter),function(){q._onHover(this)}),a(d,e("focusin"),function(){q._onHover(this)}),a(d,e(b.leave),c.hitch(q,"_onUnHover")),a(d,e("focusout"),c.hitch(q,"_onUnHover"))]},this);this._set("connectId",d)},addTarget:function(a){a=a.id||a;-1==l.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=l.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},
buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;l.forEach(c.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},_onHover:function(a){this._showTimer||(this._showTimer=this.defer(function(){this.open(a)},this.showDelay))},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&
(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);b&&(A.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position))},close:function(){this._connectNode&&(A.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},
this);this.inherited(arguments)}});A._MasterTooltip=x;A.show=w.showTooltip;A.hide=w.hideTooltip;A.defaultPosition=["after-centered","before-centered"];return A})},"xl/util/eqUtils":function(){define(["xl/eqeditor/AssessmentsComponents","dojo/has","xl/eqeditor/EqLabel"],function(l,m,k){var f=l.EquationClasses.EqParser,e=l.EquationClasses.EqDocument;return{evalEq:function(d){var k=new e;d=(new f(k,d)).parse();k.insertEq(d,0);k.processRow();try{var c=k.getJSText();if((m("chrome")||m("ff"))&&c.includes("**"))return NaN;
var b=eval(c)}catch(a){b=NaN}return b},altTextExpander:function(d){for(var e=/\u263b(\d)\u263a(.*?)\u263b\d\u263a/g,c="",b=0,a=e.exec(d);null!=a;a=e.exec(d))c+=d.substr(b,a.index-b),b=new k({docSettings:{interpretFunctions:"1"===a[1]},accessible:!0}),b.startup(),b.setEqText(a[2]),a=b.getAccessibleName(),b.destroy(),c+=a,b=e.lastIndex;return c+=d.substr(b)},ParseIn:function(d){try{var e=d;if(-1<d.indexOf("@MNUM{")){var c=d.indexOf("@MNUM{"),b=d.indexOf("}",c),a=d.substr(c+6,b-c-6).split(";");if(3===
a.length)var f=a[0]+" "+a[1]+"/"+a[2],e=e.replace(e.substr(c,b-c+1),f)}for(c=-1;-1<(c=e.indexOf("\x26",c+1));){var k=e.indexOf(";",c);if(-1===k)break;switch(e.substr(c+1,k-c-1)){case "ge":e=e.replace("\x26ge;","\x3e\x3d");break;case "le":e=e.replace("\x26le;","\x3c\x3d");break;case "ne":e=e.replace("\x26ne;","\x3c\x3e")}}return e}catch(l){}return d}}})},"xl/eqeditor/AssessmentsComponents":function(){define(["xl/nonamd/ac/ac"],function(l){return window.AssessmentsComponents||l})},"xl/nonamd/ac/ac":function(){var l=
"xl/nonamd/ac/src/assessments-components.js";"undefined"!==typeof window&&(window&&window.localStorage&&window.localStorage["acs-override-ac"])&&(l=window.localStorage.getItem("acs-override-ac"));define([["dojo/text!",l].join("")],function(l){var k;k=document.createElement("script");k.type="text/javascript";k.textContent=l;document.getElementsByTagName("head")[0].appendChild(k);return null})},"xl/eqeditor/EqLabel":function(){define("dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/dom-attr dojo/html dijit/registry dojo/_base/array dijit/_WidgetBase ./AssessmentsComponents".split(" "),
function(l,m,k,f,e,d,n,c,b){return l("xl.eqeditor.EqLabel",[c],{baseClass:"eqLabel",_label:null,isLayoutContainer:!0,accessible:!1,_hasEqTextProp:!1,_eqText:null,constructor:function(a,c){a||(a={});a.docSettings||(a.docSettings={});a.inputs&&(a.docSettings.instantiateInput=k.hitch(this,this.instantiateInput));this._label=new b.EquationLabel(a,c,!0)},instantiateInput:function(a,b){e.set(a,b,{parseContent:!0,startup:!1});var c=d.findWidgets(a);n.forEach(c,function(a){a.startup()})},setInputs:function(a){this._label.inputs=
a},destroy:function(){this.inherited(arguments);this._label&&this._label.destroy()},getEqDoc:function(){return this._label.getEqDocument()},buildRendering:function(){this.domNode=this._label.domNode;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.accessible&&(this._label.accessible=this.accessible);if(!this._hasEqTextProp&&this.srcNodeRef&&this.srcNodeRef.textContent){var a=k.trim(this.srcNodeRef.textContent);a&&this.setEqText(a)}this._label&&(this._label._eqDoc&&this.docSettings)&&
this._label._eqDoc.setItalicizeVariables(this.docSettings.italicizeVariables)},resize:function(){this.doLayout()},startup:function(){if(!this._started){this._label.startup();this.inherited(arguments);var a=this.getParent&&this.getParent();(!a||!a.isLayoutContainer)&&this.resize()}},doLayout:function(){this._label&&this._started&&this._label.doLayout()},clear:function(){this._label.clear();this.doLayout()},setEqText:function(a){a!=this._eqText&&(this._eqText=a,this._label.setEqText(a))},getEqText:function(){return this._label.getEqText()},
_setEqTextAttr:function(a){this.setEqText(a);this._hasEqTextProp=!0},_getEqTextAttr:function(a){return this.getEqText()},getAccessibleName:function(){return this._label.getAccessibleName()},getEmbeddedInputs:function(){if(!this.domNode)return null;var a=d.findWidgets(this.domNode),b={};n.forEach(a,function(a){a.getInputData&&(b[a.get("id")]=a)});return b}})})},"xl/player/controls/_InputObject":function(){define("dojo/_base/declare dojo/_base/connect dojo/dom dojo/dom-construct dojo/dom-attr dojo/on dojo/_base/lang dojo/_base/array dojo/touch dojo/has ./_InputFeedbackObject xl/util/eqUtils".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){return l("xl.player.controls._InputObject",[s],{inputFilled:!1,isAnswered:!1,isCorrect:!1,_inputNode:null,constructor:function(){this.isTouch=a("touch")},postCreate:function(){this._inputNode=this.domNode;this.inherited(arguments)},inputChanged:function(){d.emit(this._inputNode||this.domNode,"input_changed",{bubbles:!0,cancelable:!0,sourceObject:this})},isInputEmpty:function(){return!this.inputFilled},startup:function(){this._started||(this.inherited(arguments),this.isStatic()||
m.publish("input_added",this))},destroy:function(){this.isStatic()||m.publish("input_removed",this);this._inputNode=null;this.inherited(arguments)},isTouch:!1,inputEntered:function(){var a=this;setTimeout(function(){d.emit(a.domNode,"input_entered",{bubbles:!0,cancelable:!0,sourceObject:a})},250)},getInputData:function(){return null},isStatic:function(){return!1},canShowToolTip:function(){return this.isAnswered&&!this.isCorrect&&this.toolTipContent},clear:function(){},createAriaLabelledBy:function(a,
b,c){var d=this._getAriaLabel(c);c=this._getAriaAttributeId(c,"label");k.byId(c)&&f.destroy(c);f.create("span",{innerHTML:r.altTextExpander(d),id:c},b);e.set(a,"aria-labelledby",c)},_getAriaLabel:function(a){if(this.ariaLabel)return this.ariaLabel;var b=this.getDefaultAccessibleName();return a?a+" "+b:b},_getAriaAttributeId:function(a,b){var c=this.id+"_";a&&(c+=a+"_");return c+b},createAriaDescribedBy:function(a,b,c,d){c=this._getDescriptionText(c);d=this._getAriaAttributeId(d,"description");k.byId(d)&&
f.destroy(d);f.create("span",{innerHTML:r.altTextExpander(c),id:d},b);e.set(a,"aria-describedby",d)},_getDescriptionText:function(a){a&&(this.ariaDescription=a);return this.ariaDescription}})})},"xl/player/controls/_InputFeedbackObject":function(){define("dojo/_base/declare dojo/_base/connect dijit/Tooltip xl/player/dialogs/InputFeedbackDialog dojo/dom dojo/on dijit/popup dojo/mouse dojo/_base/lang dojo/_base/array dojo/touch dojo/dom-class dojo/dom-attr dojo/keys dojo/has dojo/dom-style".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u){return l("xl.player.controls._InputFeedbackObject",null,{toolTip:null,showFeedbackLink:!1,toolTipContent:null,focusBackToNode:null,constructor:function(){this._mouseEvents=[]},destroy:function(){this.inherited(arguments);this.toolTip&&this.toolTip.destroyRecursive();this._clearMouseEvents();this._wrapperKeyEvent&&this._wrapperKeyEvent.remove()},canShowToolTip:function(){return this.toolTipContent},updateToolTip:function(a){a||(a=this.domNode);this.canShowToolTip()?
this.toolTip=new k({connectId:[a],label:this.toolTipContent,position:["below","after","before","above"]}):this.toolTip&&(this.toolTip.removeTarget(this.domNode),this.toolTip=null)},_wrapperKeyEvent:null,_evtDocumentClick:null,_mouseEvents:null,updateToolTipDijit:function(a,c){var d=a?e.byId(a):this.domNode;this.toolTip&&this._destroyToolTip();this.canShowToolTip()&&(this.toolTip=new f({id:this.id+"_tooltip",baseClass:"xlTooltip",content:this.toolTipContent,showFeedbackLink:this.showFeedbackLink,onCancel:b.hitch(this,
function(){this._hideToolTip()}),inputId:this.parentClientId?this.parentClientId:this.id}),"offsetWidth"in d||(d.offsetWidth=0),u.set(this.toolTip.containerNode,"max-width",0.7*this.getViewer().domNode.offsetWidth+"px"),this._setMouseEvents(d,c))},_setMouseEvents:function(a,c){this._mouseEvents.push(d.once(this.toolTip,"show",function(){this.startup()}));this._mouseEvents.push(d(a,s.release,b.hitch(this,function(b){this._showToolTip(a);b.preventDefault();b.stopPropagation()})));c||(this._wrapperKeyEvent=
this.wrapDomNode(a,b.hitch(this,function(){this._showToolTip(a)})))},_destroyToolTip:function(){this.toolTip.destroy();this.toolTip=null;this._clearMouseEvents()},_clearMouseEvents:function(){this._evtDocumentClick&&this._evtDocumentClick.remove();this._evtDocumentClick=null;a.forEach(this._mouseEvents,function(a){a.remove()});this._mouseEvents=[]},_showToolTip:function(a){if(this.toolTip){n.open({popup:this.toolTip,around:a});var c=this;this._evtDocumentClick&&this._evtDocumentClick.remove();this._evtDocumentClick=
d(window.document,s.press,b.hitch(this,function(a){(!c.toolTip||!e.isDescendant(a.target,c.toolTip.domNode))&&c._hideToolTip()}))}},showToolTip:function(a,b){this.focusBackToNode=b;this._showToolTip(a)},_hideToolTip:function(){n.close(this.toolTip);this._evtDocumentClick&&(this._evtDocumentClick.remove(),this._evtDocumentClick=null);this.focusBackToNode?this.focusBackToNode.focus():this.domNode&&this.domNode.focus()},wrapDomNode:function(a,c,e){var f={"class":"incorrectInput",tabindex:"0"};e&&b.mixin(f,
e);t.set(a,"tabindex","0");r.add(a,"incorrectInput");return d(a,"keydown",b.hitch(this,function(a){a.keyCode===h.ENTER&&(a.stopPropagation(),a.preventDefault(),c())}))}})})},"xl/player/dialogs/InputFeedbackDialog":function(){define("dojo/_base/declare dijit/TooltipDialog dijit/form/Button dijit/form/Textarea dijit/_WidgetsInTemplateMixin dojo/text!./templates/InputFeedbackDialog.html dojo/dom-style dojo/dom-geometry dojo/dom-construct xl/util/localization!html5player/popup dojo/_base/lang dojo/on xl/player/controls/_NeedsPlayerViewer xl/util/localization!html5player/player dojo/dom-attr".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q){return l("xl.player.dialogs.InputFeedbackDialog",[m,e,t],{isModal:!0,showFeedbackLink:!1,feebackLink:null,feedbackAction:null,templateString:d,constructor:function(a){},postCreate:function(){this.inherited(arguments);if(this.showFeedbackLink){var c=b.create("div");this.addFocusableCloseButton(c);b.place("\x3cdiv\x3e"+this.content+"\x3c/div\x3e",c);var d=b.create("div",{"class":"feedbackLink"},c),d=this.feebackLink=b.create("a",{href:"void:javascript(0);",title:a.answerfeedback,
innerHTML:a.answerfeedback},d);this.own(r(d,"click",s.hitch(this,this.linkClicked)));this.set("content",c)}this.closeText&&q.set(this.closeText,"title",h["button.close"])},onCancel:function(){},linkClicked:function(a){a.preventDefault();a.stopPropagation();if(a=this.getViewer())a.postCommand("getinputfeedback",{id:this.inputId}),this.onCancel()},onShow:function(){this.inherited(arguments);this.showFeedbackLink&&this.feebackLink?this.feebackLink.focus():this.closeButtonNode.focus();if(this._popupWrapper){var a=
this._popupWrapper,b=c.position(a,!0),d=c.position(this.domNode,!0);d.h>b.h&&(n.set(a,{overflowY:"visible"}),n.set(this.domNode,{overflowY:"scroll",height:b.h-10+"px"}));d.w>b.w&&(n.set(a,{overflowX:"visible"}),n.set(this.domNode,{overflowX:"scroll",width:b.w-10+"px"}))}},addFocusableCloseButton:function(a){n.set(this.closeButtonNode,{display:"none"});a=b.create("span",{"class":"dijitDialogCloseIcon toolTipClose",title:"Close",role:"button",tabindex:"0"},a);a.textContent="X";this.own(r(a,"click",
s.hitch(this,this.onCancel)));this.own(r(a,"keydown",s.hitch(this,this.keyPressCloseHandler)));this.closeText&&q.set(a,"title",h["button.close"])},keyPressCloseHandler:function(a){if(13===a.keyCode||32===a.keyCode)this.onCancel()}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(l,
m,k,f,e,d,n,c,b,a,s,r,t){l=l("dijit.TooltipDialog",[c,s,a,b],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:r,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(d(this.containerNode,"keydown",e.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];m.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems(this.containerNode);
n.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==
f.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==f.TAB){var b=a.target;this._getFocusItems(this.containerNode);this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(n.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey?(n.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault()):a.stopPropagation()}}});k("dojo-bidi")&&l.extend({_setTitleAttr:function(a){this.containerNode.title=
this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title))}});return l})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),
function(l,m,k,f,e,d,n,c,b,a){f("dijit-legacy-requires")&&n(0,function(){l(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});n=m("dijit.form.Button"+(f("dojo-bidi")?"_NoBidi":""),[c,b],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){if(a&&(!this.params||!("label"in
this.params)))if(a=d.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&k.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){e.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=d.trim(this.containerNode.innerText||this.containerNode.textContent||
""))}});f("dojo-bidi")&&(n=m("dijit.form.Button",n,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return n})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(l,
m,k,f,e,d,n,c){m("dijit-legacy-requires")&&f(0,function(){require(["dijit/form/_FormValueWidget"])});return l("dijit.form._FormWidget",[e,n,d,c],{setDisabled:function(b){k.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");this.set("disabled",b)},setValue:function(b){k.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){k.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.",
"","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!m("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/form/Textarea":function(){define(["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(l,m,k,f){return l("dijit.form.Textarea",[f,k],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);
m.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),function(l,m,k,f,e,d,n){k.add("textarea-needs-help-shrinking",function(){var c=d.body(),b=m.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",
height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},c,"last"),a=b.scrollHeight>=b.clientHeight;c.removeChild(b);return a});return l("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var c=this.textbox;c.style.overflowY="hidden";
this.own(e(c,"focus, resize",f.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(n.on("resize",f.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(c){this.inherited(arguments);this.resize()},_estimateHeight:function(){var c=this.textbox;c.rows=(c.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},resize:function(){function c(){var a=!1;""===b.value&&(b.value=" ",a=!0);var c=b.scrollHeight;a&&(b.value="");return c}var b=
this.textbox;"hidden"==b.style.overflowY&&(b.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(c()||b.offsetHeight){var a=c()+Math.max(b.offsetHeight-b.clientHeight,0),d=a+"px";d!=b.style.height&&(b.style.height=d,b.rows=1);if(k("textarea-needs-help-shrinking")){var e=c(),f=b.style.minHeight,h=4,q=b.scrollTop;b.style.minHeight=d;for(b.style.height="auto";0<a;){b.style.minHeight=Math.max(a-h,4)+"px";d=c();e-=d;a-=e;if(e<h)break;e=d;h<<=1}b.style.height=a+"px";b.style.minHeight=f;b.scrollTop=
q}b.style.overflowY=c()>b.clientHeight?"auto":"hidden";"hidden"==b.style.overflowY&&(b.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(l,m,k,f){return l("dijit.form.SimpleTextarea",f,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",
postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);k("ie")&&this.cols&&m.add(this.textbox,"dijitTextAreaCols")},filter:function(e){e&&(e=e.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(e){if(this.maxLength){var d=parseInt(this.maxLength),f=this.textbox.value.replace(/\r/g,""),d=f.length-d;if(0<d){var c=this.textbox;if(c.selectionStart){var b=c.selectionStart,
a=0;k("opera")&&(a=(this.textbox.value.substring(0,b).match(/\r/g)||[]).length);this.textbox.value=f.substring(0,b-d-a)+f.substring(b-a);c.setSelectionRange(b-d,b-d)}else this.ownerDocument.selection&&(c.focus(),f=this.ownerDocument.selection.createRange(),f.moveStart("character",-d),f.text="",f.select())}}this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s){c=l("dijit.form.TextBox"+(n("dojo-bidi")?"_NoBidi":""),[c,b],{templateString:a,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:n("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||
("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>n("ie")&&this.defer(function(){try{var a=k.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||
(this._attachPoints.push("_phspan"),this._phspan=m.create("span",{onmousedown:function(a){a.preventDefault()},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(d(this._phspan,"touchend, pointerup, MSPointerUp",e.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){f.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){f.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),n("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});9>n("ie")&&(c.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},s._setSelectionRange=b._setSelectionRange=function(a,
b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});n("dojo-bidi")&&(c=l("dijit.form.TextBox",c,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));return c})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(l,m,k,f){return l("dijit.form._FormValueWidget",[k,f],{_layoutHackIE7:function(){if(7==
m("ie"))for(var e=this.domNode,d=e.parentNode,f=e.firstChild||e,c=f.style.filter,b=this;d&&0==d.clientHeight;)(function(){var a=b.connect(d,"onscroll",function(){b.disconnect(a);f.style.filter=(new Date).getMilliseconds();b.defer(function(){f.style.filter=c})})})(),d=d.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormWidgetMixin".split(" "),function(l,m,k,f,e,d,n){return l("dijit.form._FormValueMixin",
n,{readOnly:!1,_setReadOnlyAttr:function(c){m.set(this.focusNode,"readOnly",c);this._set("readOnly",c)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(c,b){this._handleOnChange(c,b)},_handleOnChange:function(c,b){this._set("value",c);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,
!0)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(l,m,k,f,e,d,n,c){var b=m("dijit.form._TextBoxMixin"+(f("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),
"string"!=typeof c&&(c=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),
void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",
this.textbox.value);this.inherited(arguments);this.own(n(this.textbox,"keydown, keypress, paste, cut, input, compositionend",d.hitch(this,function(a){var b;if("keydown"==a.type){b=a.keyCode;switch(b){case e.SHIFT:case e.ALT:case e.CTRL:case e.META:case e.CAPS_LOCK:case e.NUM_LOCK:case e.SCROLL_LOCK:return}if(!a.ctrlKey&&!a.metaKey&&!a.altKey){switch(b){case e.NUMPAD_0:case e.NUMPAD_1:case e.NUMPAD_2:case e.NUMPAD_3:case e.NUMPAD_4:case e.NUMPAD_5:case e.NUMPAD_6:case e.NUMPAD_7:case e.NUMPAD_8:case e.NUMPAD_9:case e.NUMPAD_MULTIPLY:case e.NUMPAD_PLUS:case e.NUMPAD_ENTER:case e.NUMPAD_MINUS:case e.NUMPAD_PERIOD:case e.NUMPAD_DIVIDE:return}if(65<=
b&&90>=b||48<=b&&57>=b||b==e.SPACE)return;b=!1;for(var c in e)if(e[c]===a.keyCode){b=!0;break}if(!b)return}}(b=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||(b=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==e.SPACE?String.fromCharCode(a.keyCode):a.keyCode);b||(b=229);if("keypress"==a.type){if("string"!=typeof b)return;if("a"<=b&&"z">=b||"A"<=b&&"Z">=b||"0"<=b&&"9">=b||" "===b)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var f={faux:!0},h;for(h in a)"layerX"!=h&&"layerY"!=h&&(c=a[h],"function"!=typeof c&&"undefined"!=typeof c&&(f[h]=c));d.mixin(f,{charOrCode:b,_wasConsumed:!1,preventDefault:function(){f._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(f)&&(f.preventDefault(),f.stopPropagation());f._wasConsumed||(this.defer(function(){this._onInput(f)}),"keypress"==a.type&&a.stopPropagation())})))},_blankValue:"",filter:function(a){if(null===
a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=d.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},
_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=n.once(this.domNode,"mouseup, touchend",d.hitch(this,function(a){this._isTextSelected()||b.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});
f("dojo-bidi")&&(b=m("dijit.form._TextBoxMixin",b,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));b._setSelectionRange=c._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};b.selectInputText=c.selectInputText=function(a,c,d){a=k.byId(a);isNaN(c)&&(c=0);
isNaN(d)&&(d=a.value?a.value.length:0);try{a.focus(),b._setSelectionRange(a,c,d)}catch(e){}};return b})},"xl/draganddrop/DragSourceContainer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/registry xl/draganddrop/DragSource dojo/_base/lang dojo/dom-construct dijit/_Container xl/player/controls/_InputObject dojo/dom-class dojo/parser dojo/_base/array dojo/dom-style dojo/dom-geometry dojo/query xl/util/DijitLoadMonitor".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q){return l("xl.draganddrop.DragSourceContainer",
[m,n,c],{constructor:function(a){delete a.minWidth;delete a.minHeight;delete a.xyz;this._params=e.mixin({},a);this.inputFilled=this._params._skipStartup=!0},_params:null,_source:null,targetIDs:null,_correctSourceNodes:null,isAnswered:!1,shouldSetMinSizes:function(a){return!0},getInputData:function(){var a={},b=this.showIndeterminate?{}:null;if(!this.targetIDs)return{indeterminate:b,answers:a};for(var c=0;c<this.targetIDs.length;c++){var d=k.byId(this.targetIDs[c]);d&&(a[d.name]=d._target.getCurrentAnswers(),
this.showIndeterminate&&(b[d.name]=d._target.getIndeterminateAnswer()))}return{indeterminate:b,answers:a}},processCommand:function(a,b){switch(a){case "setup":this.targetIDs=b.targetIDs;this._checkPrepopulatedAnswers();this._adjustMinSize();break;case "incorrect":this._correctSourceNodes=b.correctSourceNodes;this.updateControlState();break;case "answerapplied":this.answerAppliedCommand(b)}},setInputFilled:function(a){if(!a&&this.showIndeterminate&&this.targetIDs)for(var b=0;b<this.targetIDs.length;b++){var c=
k.byId(this.targetIDs[b]);if(c&&c._target.getIndeterminateAnswer()){a=!0;break}}this.inputFilled=a;this.inputChanged()},clear:function(){for(var a=0;a<this.targetIDs.length;a++){var b=k.byId(this.targetIDs[a]);if(!b.isAnswered){for(var c=b.getAllNodes(),h=0;h<c.length;h++){var e=k.byNode(c[h]);e.resetCloneCount();var f;if(e.containerClientID===this.id)(f=this._containsDropItem(e.name,k.findWidgets(this._source.node)))?d.destroy(c[h]):(d.place(c[h],this._source.node,e.containerIndex),this._source.removeDraggedItem(c[h]));
else{var q=k.byId(e.containerClientID);f=q?this._containsDropItem(e.name,k.findWidgets(q.domNode)):null;null!==f?d.place(c[h],q.domNode,e.containerIndex):d.destroy(c[h])}}b.allowEquivalency&&b.clearTargets(c)}}this.setInputFilled(!1)},answerAppliedCommand:function(b){s.forEach(k.findWidgets(this._source.node),function(a){a.destroyRecursive?a.destroyRecursive(!1):a.destroy&&a.destroy(!1)});d.empty(this._source.node);b=d.toDom(b.correctSourceNodes);""!==b.innerHTML&&d.place(b.innerHTML,this._source.node,
"only");a.parse(this._source.node);this._source.startup()},updateControlState:function(){s.forEach(k.findWidgets(this._source.node),function(a){a.destroyRecursive?a.destroyRecursive(!1):a.destroy&&a.destroy(!1)});d.empty(this._source.node);var c=d.toDom(this._correctSourceNodes);""!=c.innerHTML&&d.place(c.innerHTML,this._source.node,"only");a.parse(this._source.node);this._source.startup();this._source.getAllNodes().forEach(e.hitch(this,function(a){b.replace(a,"dragitem-inert","dragitem")}));this.sizeDragItems()},
destroy:function(a){this.inherited(arguments);this._source.destroy();delete this._source},postCreate:function(){this.inherited(arguments);this.removeUnwantedNodes();q.staticFunctions.loadingStarted(this)},removeUnwantedNodes:function(){for(var a=this.domNode.firstChild;a;){var b=a.nextSibling;3===a.nodeType&&this.domNode.removeChild(a);a=b}},setAvatarClass:function(a){this._source.avatarClass=a},setShowIndeterminate:function(a){this.showIndeterminate=a},startup:function(){this.inputFilled=this.userAnswered;
var a=e.mixin({},this._params);this._source=new f(this.domNode,a);this.inherited(arguments);this._source.startup();q.staticFunctions.loadingCompleted(this);this.userAnswered&&this.inputChanged()},sizeDragItems:function(a){a||(a=this.maxSize);var b=k.findWidgets(this._source.node);if(b.length&&a){var c=a/b.length-10;s.forEach(b,function(a){if(a.domNode){a=a.domNode;var b=h(".tdxImage",a).length?"minWidth":"maxWidth";r.set(a,b,c+"px")}}.bind(this));this.maxSize=a}},_checkPrepopulatedAnswers:function(){for(var a=
0;a<this.targetIDs.length;a++){var b=k.byId(this.targetIDs[a]);if(b)for(var b=b.getAllNodes(),c=this._source.getAllNodes(),d=0;d<b.length;d++)for(var h=k.byNode(b[d]),e=0;e<c.length;e++){var f=k.byNode(c[e]);f.name===h.name&&0!==f.clones&&(f.destroy(),c=this._source.getAllNodes())}}},_containsDropItem:function(a,b){for(var c=0;c<b.length;c++)if(b[c].name===a)return!0;return!1},_adjustMinSize:function(){if(this.shouldSetMinSizes&&this.shouldSetMinSizes(this._params.flowDirection)){var a=t.position(this.domNode);
r.set(this.domNode,{minWidth:a.w+"px",minHeight:a.h+"px"})}},getSize:function(){return t.position(this.domNode,!0)||{h:0,w:0}}})})},"xl/draganddrop/DragSource":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class dojo/dom-construct dijit/_Container dojo/dnd/Source dojo/dnd/Manager dojo/dom-geometry dojo/on dojo/dom xl/player/controls/_AltTextToolTip ./DndAvatar dojo/dom-attr dojo/has dojo/topic xl/draganddrop/DropTargetEquivalency".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A){return l("xl.draganddrop.DragSource",[a,q],{_HORIZONTAL:0,_VERTICAL:1,_DEFAULT_WIDTH:150,_DEFAULT_HEIGHT:150,baseClass:"dragsource",avatarClass:null,name:null,minWidth:null,maxWidth:null,minHeight:null,height:null,altText:null,borderColor:null,borderWidth:null,borderStyle:null,backgroundColor:null,flowDirection:null,_startTopic:null,_cancelTopic:null,_dropTopic:null,_container:null,avatarClass:null,constructor:function(a){this._container=e.byNode(a);
this.autoSync=!0},destroy:function(){this.inherited(arguments);this._startTopic.remove();this._cancelTopic.remove();this._dropTopic.remove()},startup:function(){this.domNode=this.node;this.inherited(arguments);s.manager().makeAvatar=this.makeAvatar;s.manager().OFFSET_X=3;s.manager().OFFSET_Y=3;this._startTopic=x.subscribe("/dnd/start",f.hitch(this,this.startDrag));this._cancelTopic=x.subscribe("/dnd/cancel",f.hitch(this,this.dragCancel));this._dropTopic=x.subscribe("/dnd/drop",f.hitch(this,this.dragCancel));
this._draggedItems=[];var a=this.node;null!==this.borderColor&&d.set(a,"borderColor",this.borderColor);null!==this.backgroundColor&&"none"!==this.backgroundColor&&d.set(a,"backgroundColor",this.backgroundColor);null!==this.minWidth&&"0px"!==this.minWidth&&d.set(a,"minWidth",this.minWidth);null!==this.maxWidth&&"0px"!==this.maxWidth&&d.set(a,"maxWidth",this.maxWidth);null!==this.minHeight&&"0px"!==this.minHeight&&d.set(a,"minHeight",this.minHeight);null!=this.borderWidth&&1!==this.borderWidth&&d.set(a,
"borderWidth",this.borderWidth);null!==this.borderStyle&&d.set(a,"borderStyle",this.borderStyle);n.add(a,this.baseClass);w("touch")&&(w("ie")||w("trident")||w("edge"))&&d.set(a,"touch-action","none");this.horizontal=0===this.flowDirection;var b=this;this.getAllNodes().forEach(function(a){n.add(a,b.horizontal?"dragitem-inlineblock":"dragitem-block");v.set(a,b.horizontal?"horizontal":"vertical","")});this.printing&&d.set(a,"pointer-events","none");v.set(a,"role","img")},_activeDraggedItem:null,_activeDraggedSource:null,
_dragActive:!1,_draggedItems:[],startDrag:function(a,b,c){a===this&&(this._dragActive=!0);s.manager().OFFSET_X=-s.manager().avatar.node.offsetWidth/2;s.manager().OFFSET_Y=-s.manager().avatar.node.offsetHeight/2;d.set(s.manager().avatar.node,"pointer-events","none");document.documentElement.style.cursor="grabbing";c=e.byNode(b[0]);if(!(0===c.clones||c.clones<c.getCloneCount())||a.isInstanceOf(xl.draganddrop.DropTarget))this._activeDraggedItem=b[0],this._activeDraggedSource=a,d.set(this._activeDraggedItem,
"visibility","hidden")},dragCancel:function(a,b,c){this._activeDraggedItem&&(d.set(this._activeDraggedItem,"visibility","visible"),this._activeDraggedSource=this._activeDraggedItem=null);s.manager().OFFSET_X=3;s.manager().OFFSET_Y=3;d.set(s.manager().avatar.node,"pointer-events","auto");document.documentElement.style.cursor="auto";this._dragActive=!1},onDrop:function(a,b,h){n.remove(this.node,"dragsource-hover");d.set(this.node,"width","");d.set(this.node,"height","");var f=b[0];v.remove(f,"horizontal");
v.remove(f,"vertical");n.remove(f,"dragitem-inlineblock");n.remove(f,"dragitem-block");n.add(f,0===this.flowDirection?"dragitem-inlineblock":"dragitem-block");v.set(f,0===this.flowDirection?"horizontal":"vertical","");var q=e.byNode(b[0]);if(null!=q.clones&&a!==this){for(var k,r=e.findWidgets(this.node),l=0;l<r.length;l++){k=r[l];if(q===k)break;k=null}if(null!=k){c.destroy(b[0]);q.decrementCloneCount();1==q.getCloneCount()&&this.removeDraggedItem(q);return}}this.removeDraggedItem(q);this.inherited(arguments);
d.set(f,{position:"relative",left:"",top:""});a.allowEquivalency&&a.isInstanceOf(xl.draganddrop.DropTargetEquivalency)&&(e.byNode(f),A=a,A.clearItemsFromNestedTarget(f));a.isInstanceOf(xl.draganddrop.DropTarget)&&a.offsetSourceContainer(a)},onDraggingOver:function(){n.add(this.node,"dragsource-hover");this.inherited(arguments)},onDraggingOut:function(){n.remove(this.node,"dragsource-hover",this);this.inherited(arguments)},makeAvatar:function(){var a=new u(this);this.avatarClass&&n.add(a.node,this.avatarClass);
return a},updateItemLayout:function(a){var b=e.byNode(a.parentNode);null!=b&&b.id==this.id&&(v.remove(a,"horizontal"),v.remove(a,"vertical"),n.remove(a,"dragitem-inlineblock"),n.remove(a,"dragitem-block"),n.add(a,0==this.flowDirection?"dragitem-inlineblock":"dragitem-block"),v.set(a,0==this.flowDirection?"horizontal":"vertical",""))},addDraggedItem:function(a){var b=e.byNode(a);-1==this._draggedItems.indexOf(a.id)&&this._draggedItems.push(b.id);this._container.setInputFilled(!0)},removeDraggedItem:function(a){var b=
this._draggedItems.indexOf(a.id);a.clones||0==a.clones?1==a.getCloneCount()&&-1<b&&(this._draggedItems.splice(b,1),0==this._draggedItems.length&&this._container.setInputFilled(!1)):-1<b&&(this._draggedItems.splice(b,1),0==this._draggedItems.length&&this._container.setInputFilled(!1))}})})},"xl/draganddrop/DndAvatar":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dojo/dnd/Avatar dojo/dom-style dojo/dom-class".split(" "),function(l,m,k,f,e,d){return l("xl.draganddrop.DndAvatar",
[f],{construct:function(){this.inherited(arguments);var f=this.node.children[0].children[1].children[0].children[0];d.add(f,"dragitem-avatar");e.set(f,"top","0px");e.set(f,"left","0px")},_generateText:function(){return""}})})},"xl/draganddrop/DropTargetEquivalency":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class xl/player/controls/_AltTextToolTip dojo/dnd/Source dojo/dom-geometry xl/player/controls/_InputObject dojo/dom-attr dojo/dom-construct dojo/on dojo/query dojo/dom dojo/has dojo/number xl/draganddrop/DnDNestedTarget xl/draganddrop/DnDFreeSpace".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A){return l("xl.draganddrop.DropTargetEquivalency",[b],{baseClass:"droptarget",name:null,width:null,height:null,altText:null,borderColor:null,borderWidth:null,backgroundColor:null,flowDirection:null,maxItems:null,snapping:null,isAnswered:null,isCorrect:null,printing:!1,leftLabel:null,centerLabel:null,rightLabel:null,inTarget:!1,outOfTarget:!0,currentDragItem:null,equDivTrack:0,blankDivTrack:0,constructor:function(a){},destroy:function(a){if(!this.destroyed)for(var b=
this.getAllNodes(),c=0;c<b.length;c++)n.replace(b[c],"dragitem-inert","dragitem");this.inherited(arguments);this.destroyed=!0},startup:function(){this.inherited(arguments);var b=this.node;"0px"!=this.width&&d.set(b,this.printing?"width":"minWidth",this.width);"0px"!=this.height&&d.set(b,this.printing?"height":"minHeight",this.height);n.add(b,this.baseClass);this.horizontal=0==this.flowDirection?!0:!1;this.getAllNodes().forEach(f.hitch(this,function(a){n.add(a,0==this.flowDirection?"dragitem-inlineblock":
"dragitem-block");r.set(a,0==this.flowDirection?"horizontal":"vertical","")}));1==this.maxItems&&n.add(b,"indicator-inactive");d.set(this.id,"position","relative");var c=2*this.borderWidth,b=a.position(this.node,!0),h=b.w-c,c=b.h-c,e=0;this._hasTargetLabels()&&(e=20);d.set(this.node,{position:"absolute",left:"0px",top:e+"px",minWidth:h+"px",minHeight:c+"px"});r.set(this.node,"id",this.id+"_node");this._hasTargetLabels()&&d.set(this.node.parentNode,"height",b.h+e+"px")},getSize:function(){return a.position(this.node,
!0)||{h:0,w:0}},getCurrentAnswers:function(){var b=[],c={};this._getAllNestedTarget().forEach(function(b){var d=a.position(b.domNode,!0);c[d.x]=b.id});for(var d=this._sortDictionary(c),h=0;h<d.length;h++){for(var f=e.byId(d[h].value),q=[],k=0;k<f.containItem.length;k++)q.push(e.byNode(f.containItem[k]).name);b.push(q)}return b},getIndeterminateAnswer:function(){return this.isIndeterminateChecked},onDrop:function(b,c,h,f){var q=c[0],k=e.byNode(q);if(!(this.id!=b.id&&(b.isInstanceOf(xl.draganddrop.DropTargetEquivalency)||
b.isInstanceOf(xl.draganddrop.DropTarget))))if(this.group&&k.group&&0!=this.group.localeCompare(k.group))this._hasTargetLabels()?n.remove(this.node.parentNode,"droptarget-hover"):n.remove(this.node,"droptarget-hover");else{this._hasTargetLabels()?n.remove(this.node.parentNode,"droptarget-hover"):n.remove(this.node,"droptarget-hover");if(null!=k.clones&&1!=k.clones){if(b==this)return;b.isInstanceOf(xl.draganddrop.DropTarget)?h=!1:0==k.clones||k.getCloneCount()<k.clones?(k.incrementCloneCount(),h=!0):
h=!1}else h=!1;var l=this.getAllNodes().length;if(this.maxItems)if(1==this.maxItems&&1==this.getAllNodes().length&&!f){l=this.getAllNodes();if(e.byNode(l[0])==k)return;b.onDrop(this,l,!1,!0);this.current=null}else if(this.maxItems==l&&!f)return;n.remove(q,"dragitem-inlineblock dragitem-block");r.remove(q,"horizontal");r.remove(q,"vertical");n.add(q,0==this.flowDirection?"dragitem-inlineblock":"dragitem-block");r.set(q,"vertical","");var s=dojo.dnd.manager().avatar,t=a.position(s.node,!0),u=a.position(this.node,
!0),m=a.position(q,!0).w,k=u.h,l=t.x-u.x-s.manager.OFFSET_X,s=t.y-u.y+s.manager.OFFSET_Y;this._clearNestedTarget();if(t=this._getCurrentNestedTarget(l))this._sameItemDropAgain(q,t)?this._clearNestedTarget():(this.inherited(arguments),b.isInstanceOf(xl.draganddrop.DragSource)&&(b.updateItemLayout(q),b.addDraggedItem(q)),d.set(q,{position:"absolute",left:l+"px",top:s+"px","z-index":"1"}),t.addDragItem(q),this._removeOlderPlaceDropItem(t,q),this._clearNestedTarget(),this._arrangeTargetItems(this.node,
!0),this._rearrangeNestedTargetStep());else{if(this.id==b.id)if(t=this._getCurrentMovingItemNstTarget(q),1<this._getNumberOfItemInNstTarget(t)){if(this._getFreeSpace()+10<m)return}else this._handleDragOut(),this._clearNestedTarget(),this._fillBlankPlaces();else if(t=this._getFreeSpace(),m+10>t)return;this.inherited(arguments);b.isInstanceOf(xl.draganddrop.DragSource)&&(b.updateItemLayout(q),b.addDraggedItem(q));d.set(q,{position:"absolute",left:l+"px",top:s+"px"});m+=10;s=new x;s.width=m;s.height=
k-3;s.left=l;s.top=top;s.addDragItem(q);s.placeAt(this.node);this._removeOlderPlaceDropItem(s,q);this._clearNestedTarget();this._arrangeTargetItems(this.node,!0);this._rearrangeNestedTargetStep()}this._arrangeTargetItems(this.node,!0);this._fillBlankPlaces()}},onDraggingOver:function(){this._hasTargetLabels()?n.add(this.node.parentNode,"droptarget-hover"):n.add(this.node,"droptarget-hover");this.inherited(arguments)},onDraggingOut:function(){this._hasTargetLabels()?n.remove(this.node.parentNode,"droptarget-hover"):
n.remove(this.node,"droptarget-hover");this.inherited(arguments)},arrangeEqualentItems:function(){var b=this.getAllNodes(),c=0,h=this.node,f=this.id;b.forEach(function(b){var q=e.byNode(b).equalityId,k=e.byNode(b).name,n=b.id,l="eqd_"+f+"_"+q,q=u.byId(l),s=a.position(b,!0),m=a.position(h,!0);q?(k=q.attributes.containItemsNames.value,n=q.attributes.containItemsID.value,a.position(q,!0),k=k+e.byNode(b).name+"|",n=n+b.id+"|",r.set(q,"containItemsNames",k),r.set(q,"containItemsID",n),d.set(b,"position",
"absolute")):(q=t.create("div",{id:l,isNested:"true","class":"drop-nestedtarget-answered",style:{width:s.w+10+"px",height:m.h-3+"px",position:"absolute",left:c+"px",top:"1px","z-index":"0",paddingLeft:"4px",paddingRight:"4px"}},h),r.set(q,"containItemsNames",k+"|"),r.set(q,"containItemsID",n+"|"),d.set(b,"position","absolute"),c=c+s.w+10)});this._arrangeTargetItemsfromOut(this.node)},clearItemsFromNestedTarget:function(a){this._getAllNestedTarget().forEach(function(b){b.removeDragItem(a)});this._clearNestedTarget();
this._arrangeTargetItems(this.node,!0);this._fillBlankPlaces()},createSavedUserAnswer:function(b){if(b.length)for(var c=5,h=[],e=null,f=this.getSize().w/b.length-10,q=0;q<b.length;q++){d.set(b[q].domNode,"maxWidth",f+"px");var k=a.position(b[q].domNode),r=0;try{r=parseInt(b[q].minWidth.replace("px"))}catch(l){r=k.w}var k=b[q].equalityIdIncorrect,s=0;n.add(b[q].domNode,"useranswer-dragitem");0===r?s=a.position(b[q].domNode,!0).w:(d.set(b[q].domNode,{"min-width":r+"px"}),s=r);-1<h.indexOf(k)?e&&(e.addDragItem(b[q].domNode),
this._removeOlderPlaceDropItem(e,b[q].domNode),this._clearNestedTarget(),this._arrangeTargetItems(this.node,!1),this._rearrangeNestedTargetStep(),this._arrangeTargetItems(this.node,!1)):(r=new x({doHover:!1}),r.width=s+5,r.height=a.position(this.node,!0).h-3,r.left=c,r.top=3,r.addDragItem(b[q].domNode),r.placeAt(this.node),e=r,h.push(k),this._removeOlderPlaceDropItem(r,b[q].domNode),this._clearNestedTarget(),this._arrangeTargetItems(this.node,!1),this._rearrangeNestedTargetStep(),this._arrangeTargetItems(this.node,
!1),c=c+s+5)}},_getCurrentNestedTarget:function(b){var c=[],d=a.position(this.node,!0);this._getAllNestedTarget().forEach(function(h){var e=a.position(h.domNode,!0),f=e.x-d.x,e=f+e.w;f<=b&&e>=b&&c.push(h)});var h=null;0<c.length&&(h=c[0]);return h},_arrangeTargetItemsfromOut:function(b){this._getAllDivs().forEach(function(c){if(c.attributes.isNested){var h=0,e=c.attributes.containItemsID.value.split("|");e.forEach(function(a){""!=a&&(h+=1)});0==h&&(h=1);var f=a.position(c,!0),q=a.position(b,!0),k=
f.h/h,r=0,n=0,s=f.x-q.x+5;e.forEach(function(b){if(""!=b){var c=a.position(b,!0),h=c.w;h>n&&(n=h);c=r+(k-c.h)/2;d.set(b,"left",s+"px");d.set(b,"top",c+"px");r+=k}});n+=10;d.set(c,"width",n+"px")}});this._arrangeNestedTargetVerticallyOut(b)},_arrangeTargetItems:function(b,c){var h=this._getAllNestedTarget(),e=this._hasTargetLabels();h.forEach(function(h){var f=h.getNumberOfDragItem(),q=a.position(h.domNode,!0),k=a.position(b,!0),r=q.h/f,n=0;!c&&e&&(n=20);var s=0,l=q.x-k.x+5;h.containItem.forEach(function(b){if(b){var c=
a.position(b,!0),h=c.w;h>s&&(s=h);c=n+(r-c.h)/2;d.set(b,"left",l+"px");d.set(b,"top",c+"px");d.set(b,"z-index","1");n+=r}});s+=10;h.width=s;h.setNodeStyle()});this._arrangeNestedTargetVertically(b)},_sortNumerically:function(a,b){return a-b},_fillBlankPlaces:function(){this._getFreeSpaces().forEach(function(a){a&&a.destroy()});var b=this._getAllNestedTarget(),c={},d=a.position(this.node.id,!0);b.forEach(function(b){var h=a.position(b.domNode,!0);c[h.x-d.x]=b.id});for(var h=this._sortDictionary(c),
b=[],e=0,f=0;f<h.length;f++){var q=a.position(h[f].value,!0),k=q.x-d.x;0==f&&1<h.length?b.push({xPosLeft:0,xPosRight:k}):0<f&&f<h.length-1?b.push({xPosLeft:e,xPosRight:k}):(b.push({xPosLeft:e,xPosRight:k}),b.push({xPosLeft:k+q.w,xPosRight:d.w}));e=k+q.w}for(f=0;f<b.length;f++)e=b[f],h=e.xPosLeft,e=e.xPosRight-h,5<e&&(q=new A,q.width=e,q.height=d.h-3,q.left=h,q.top=1,q.zIndex="0",q.placeAt(this.node))},_clearNestedTarget:function(){var a=[];this._getAllNestedTarget().forEach(function(b){0>=b.getNumberOfDragItem()&&
a.push(b)});for(var b=0;b<a.length;b++)a[b].destroy()},clearAllNestedTargets:function(){for(var a=this._getAllNestedTarget(),b=0;b<a.length;b++)a[b].destroy();this._arrangeTargetItems(this.node,!0);this._fillBlankPlaces()},_handleDragOut:function(){var a=dojo.dnd.manager().avatar;this._getAllNestedTarget().forEach(function(b){b.removeDragItem(a.manager.nodes[0])})},_removeOlderPlaceDropItem:function(a,b){this._getAllNestedTarget().forEach(function(c){c.isNested&&c.id!=a.id&&c.isDragItemContains(b)&&
c.removeDragItem(b)})},_rearrangeNestedTargetStep:function(){a.position(this.node,!0);var b={};this._getAllNestedTarget().forEach(function(c){var d=a.position(c.domNode,!0);b[d.x]=c.id});for(var c=this._sortDictionary(b),d=0;d<c.length;d++){var h=e.byId(c[d].value);this._lefttoRight(h,c.length,d,c)}for(d=0;d<c.length;d++){var h=c.length-(1+d),f=e.byId(c[h].value);this._righttoLeft(f,c.length,h,c)}},_sortDictionary:function(a){var b=Object.keys(a).map(function(a){return parseFloat(a)}),c,d=b.length;
b.sort(this._sortNumerically);var h=[];for(c=0;c<d;c++){var e=b[c];h.push({key:e,value:a[e]})}return h},_lefttoRight:function(b,c,d,h){var e=a.position(this.node,!0);c=a.position(b.domNode,!0).x-e.x;0==d?0>c&&(b.left=0,b.setNodeStyle()):(d=a.position(h[d-1].value,!0),d=d.x-e.x+d.w,d>c&&(b.left=d,b.setNodeStyle()))},_righttoLeft:function(b,c,d,h){var e=a.position(this.node,!0),f=a.position(b.domNode,!0),q=f.x-e.x+f.w;d==c-1?q>e.w&&(b.left=e.w-f.w,b.setNodeStyle()):(c=a.position(h[d+1].value,!0).x-
e.x,c<q&&(b.left=c-f.w,b.setNodeStyle()))},_getFreeSpace:function(){var b=this._getAllNestedTarget(),c=0,d=0,d=a.position(this.node,!0);b.forEach(function(b){b=a.position(b.domNode,!0);c+=b.w});return d=d.w-c},_getAllDivs:function(){return q("#"+this.node.id+" \x3e div")},_getAllNestedTarget:function(){var a=[];e.findWidgets(this.node).forEach(function(b){b.isInstanceOf(xl.draganddrop.DnDNestedTarget)&&a.push(b)});return a},_getFreeSpaces:function(){var a=[];e.findWidgets(this.node).forEach(function(b){b.isInstanceOf(xl.draganddrop.DnDFreeSpace)&&
a.push(b)});return a},_getNestedTargetByEqualencyGroup:function(a){var b=[];e.findWidgets(this.node).forEach(function(c){c.isInstanceOf(xl.draganddrop.DnDNestedTarget)&&c.equalencyGroup==a&&b.push(c)});return b},_arrangeNestedTargetVerticallyOut:function(b){var c=a.position(b,!0);this._getAllDivs().forEach(function(b){if(b.attributes.isNested){b=b.attributes.containItemsID.value.split("|");var h=0;b.forEach(function(b){""!=b&&(b=a.position(b,!0),h+=b.h)});var e=10,f=1;h>c.h&&b.forEach(function(a){""!=
a&&(d.set(a,"top",e+"px"),d.set(a,"z-index",f));e+=20;f+=1})}})},_arrangeNestedTargetVertically:function(b){var c=a.position(b,!0);this._getAllNestedTarget().forEach(function(b){var h=0;b.containItem.forEach(function(b){b&&(b=a.position(b,!0),h+=b.h)});var e=10,f=1;h>c.h&&b.containItem.forEach(function(a){a&&(d.set(a,"top",e+"px"),d.set(a,"z-index",f));e+=20;f+=1})})},_getCurrentMovingItemNstTarget:function(a){var b=null;this._getAllNestedTarget().forEach(function(c){c.isDragItemContains(a)&&(b=c)});
return b},_getNumberOfItemInNstTarget:function(a){return a.getNumberOfDragItem()},_sameItemDropAgain:function(a,b){return b.isDragItemContains(a)},_hasTargetLabels:function(){return this.leftLabel||this.rightLabel||this.centerLabel},sizeDropItems:function(){var a=this.getSize().w,b=this.getAllNodes();if(b.length&&a){var c=a/b.length-10;k.forEach(b,function(a){var b=q(".tdxImage",a).length?"minWidth":"maxWidth";d.set(a,b,c+"px")})}}})})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number",
"./string","./regexp"],function(l,m,k,f,e){var d={};l.setObject("dojo.number",d);d.format=function(c,b){b=l.mixin({},b||{});var a=m.normalizeLocale(b.locale),a=m.getLocalization("dojo.cldr","number",a);b.customs=a;a=b.pattern||a[(b.type||"decimal")+"Format"];return isNaN(c)||Infinity==Math.abs(c)?null:d._applyPattern(c,a,b)};d._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;d._applyPattern=function(c,b,a){a=a||{};var e=a.customs.group,f=a.customs.decimal;b=b.split(";");var k=b[0];b=b[0>c?1:0]||"-"+k;if(-1!=
b.indexOf("%"))c*=100;else if(-1!=b.indexOf("\u2030"))c*=1E3;else if(-1!=b.indexOf("\u00a4"))e=a.customs.currencyGroup||e,f=a.customs.currencyDecimal||f,b=b.replace(/\u00a4{1,3}/,function(b){return a[["symbol","currency","displayName"][b.length-1]]||a.currency||""});else if(-1!=b.indexOf("E"))throw Error("exponential notation not supported");var h=d._numberPatternRE,k=k.match(h);if(!k)throw Error("unable to find a number expression in pattern: "+b);!1===a.fractional&&(a.places=0);return b.replace(h,
d._formatAbsolute(c,k[0],{decimal:f,group:e,places:a.places,round:a.round}))};d.round=function(c,b,a){a=10/(a||10);return(a*+c).toFixed(b)/a};if(0==(0.9).toFixed()){var n=d.round;d.round=function(c,b,a){var d=Math.pow(10,-b||0),e=Math.abs(c);if(!c||e>=d)d=0;else if(e/=d,0.5>e||0.95<=e)d=0;return n(c,b,a)+(0<c?d:-d)}}d._formatAbsolute=function(c,b,a){a=a||{};!0===a.places&&(a.places=0);Infinity===a.places&&(a.places=6);b=b.split(".");var e="string"==typeof a.places&&a.places.indexOf(","),k=a.places;
e?k=a.places.substring(e+1):0<=k||(k=(b[1]||[]).length);0>a.round||(c=d.round(c,k,a.round));c=String(Math.abs(c)).split(".");var n=c[1]||"";b[1]||a.places?(e&&(a.places=a.places.substring(0,e)),e=void 0!==a.places?a.places:b[1]&&b[1].lastIndexOf("0")+1,e>n.length&&(c[1]=f.pad(n,e,"0",!0)),k<n.length&&(c[1]=n.substr(0,k))):c[1]&&c.pop();k=b[0].replace(",","");e=k.indexOf("0");-1!=e&&(e=k.length-e,e>c[0].length&&(c[0]=f.pad(c[0],e)),-1==k.indexOf("#")&&(c[0]=c[0].substr(c[0].length-e)));var k=b[0].lastIndexOf(","),
h,q;-1!=k&&(h=b[0].length-k-1,b=b[0].substr(0,k),k=b.lastIndexOf(","),-1!=k&&(q=b.length-k-1));b=[];for(k=c[0];k;)e=k.length-h,b.push(0<e?k.substr(e):k),k=0<e?k.slice(0,e):"",q&&(h=q,delete q);c[0]=b.reverse().join(a.group||",");return c.join(a.decimal||".")};d.regexp=function(c){return d._parseInfo(c).regexp};d._parseInfo=function(c){c=c||{};var b=m.normalizeLocale(c.locale),b=m.getLocalization("dojo.cldr","number",b),a=c.pattern||b[(c.type||"decimal")+"Format"],f=b.group,k=b.decimal,n=1;if(-1!=
a.indexOf("%"))n/=100;else if(-1!=a.indexOf("\u2030"))n/=1E3;else{var h=-1!=a.indexOf("\u00a4");h&&(f=b.currencyGroup||f,k=b.currencyDecimal||k)}b=a.split(";");1==b.length&&b.push("-"+b[0]);b=e.buildGroupRE(b,function(a){a="(?:"+e.escapeString(a,".")+")";return a.replace(d._numberPatternRE,function(a){var b={signed:!1,separator:c.strict?f:[f,""],fractional:c.fractional,decimal:k,exponent:!1};a=a.split(".");var h=c.places;1==a.length&&1!=n&&(a[1]="###");1==a.length||0===h?b.fractional=!1:(void 0===
h&&(h=c.pattern?a[1].lastIndexOf("0")+1:Infinity),h&&void 0==c.fractional&&(b.fractional=!0),!c.places&&h<a[1].length&&(h+=","+a[1].length),b.places=h);a=a[0].split(",");1<a.length&&(b.groupSize=a.pop().length,1<a.length&&(b.groupSize2=a.pop().length));return"("+d._realNumberRegexp(b)+")"})},!0);h&&(b=b.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(a,b,d,h){a=e.escapeString(c[["symbol","currency","displayName"][d.length-1]]||c.currency||"");b=b?"[\\s\\xa0]":"";h=h?"[\\s\\xa0]":"";return!c.strict?
(b&&(b+="*"),h&&(h+="*"),"(?:"+b+a+h+")?"):b+a+h}));return{regexp:b.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:f,decimal:k,factor:n}};d.parse=function(c,b){var a=d._parseInfo(b),e=RegExp("^"+a.regexp+"$").exec(c);if(!e)return NaN;var f=e[1];if(!e[1]){if(!e[2])return NaN;f=e[2];a.factor*=-1}f=f.replace(RegExp("["+a.group+"\\s\\xa0]","g"),"").replace(a.decimal,".");return f*a.factor};d._realNumberRegexp=function(c){c=c||{};"places"in c||(c.places=Infinity);"string"!=typeof c.decimal&&(c.decimal=".");if(!("fractional"in
c)||/^0/.test(c.places))c.fractional=[!0,!1];"exponent"in c||(c.exponent=[!0,!1]);"eSigned"in c||(c.eSigned=[!0,!1]);var b=d._integerRegexp(c),a=e.buildGroupRE(c.fractional,function(a){var b="";a&&0!==c.places&&(b="\\"+c.decimal,b=Infinity==c.places?"(?:"+b+"\\d+)?":b+("\\d{"+c.places+"}"));return b},!0),f=e.buildGroupRE(c.exponent,function(a){return a?"([eE]"+d._integerRegexp({signed:c.eSigned})+")":""}),b=b+a;a&&(b="(?:(?:"+b+")|(?:"+a+"))");return b+f};d._integerRegexp=function(c){c=c||{};"signed"in
c||(c.signed=[!0,!1]);"separator"in c?"groupSize"in c||(c.groupSize=3):c.separator="";var b=e.buildGroupRE(c.signed,function(a){return a?"[-+]":""},!0),a=e.buildGroupRE(c.separator,function(a){if(!a)return"(?:\\d+)";a=e.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var b=c.groupSize,d=c.groupSize2;return d?(a="(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+a+"]\\d{"+d+"})*["+a+"]\\d{"+b+"})",0<b-d?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(b-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(b-1)+"}(?:["+a+"]\\d{"+b+"})*)"},!0);return b+
a};return d})},"dojo/cldr/nls/number":function(){define({root:{scientificFormat:"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]",infinity:"\u221e",list:";",percentSign:"%",minusSign:"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"\u00a0",nan:"NaN",plusSign:"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]",currencyFormat:"\u00a4\u00a0#,##0.00",
perMille:"\u2030",group:",",percentFormat:"#,##0%","decimalFormat-long":"000T",decimalFormat:"#,##0.###",decimal:".","currencySpacing-beforeCurrency-insertBetween":"\u00a0",exponential:"E"},ar:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,"en-gb":!0,es:!0,fi:!0,fr:!0,"fr-ch":!0,he:!0,hu:!0,it:!0,ja:!0,ko:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-hant":!0,"zh-hk":!0,"zh-tw":!0})},"dojo/cldr/nls/en/number":function(){define({group:",",percentSign:"%",exponential:"E",
scientificFormat:"#E0",percentFormat:"#,##0%",list:";",infinity:"\u221e",minusSign:"-",decimal:".",nan:"NaN",perMille:"\u2030",decimalFormat:"#,##0.###",currencyFormat:"\u00a4#,##0.00;(\u00a4#,##0.00)",plusSign:"+","decimalFormat-long":"000 trillion","decimalFormat-short":"000T"})},"xl/draganddrop/DnDNestedTarget":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/touch dojo/dom-geometry dojo/on".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){return l("xl.draganddrop.DnDNestedTarget",[m],{baseClass:"drop-nestedtarget",width:0,height:0,left:0,top:0,zIndex:"0",paddingLeft:"4px",paddingRight:"4px",containItem:null,isNested:!0,equalencyGroup:0,doHover:!0,constructor:function(a){this.containItem=[];a&&null!=a.doHover&&(this.doHover=a.doHover)},startup:function(){this.setNodeStyle();this.doHover||n.remove(this.domNode,"drop-nestedtarget");this.inherited(arguments)},postCreate:function(){this.doHover&&(this.own(r(this.domNode,
a.move,f.hitch(this,this.touchMove))),this.own(r(this.domNode,a.out,f.hitch(this,this.touchOut))));this.inherited(arguments)},touchMove:function(){n.add(this.domNode,"drop-nestedtarget-hover")},touchOut:function(){n.remove(this.domNode,"drop-nestedtarget-hover")},addDragItem:function(a){0>this.containItem.indexOf(a)&&this.containItem.push(a)},removeDragItem:function(a){a=this.containItem.indexOf(a);-1<a&&this.containItem.splice(a,1)},isDragItemContains:function(a){var b=!1;-1<this.containItem.indexOf(a)&&
(b=!0);return b},getNumberOfDragItem:function(){var a=0;this.containItem&&(a=this.containItem.length);return a},setNodeStyle:function(){d.set(this.domNode,{"z-index":this.zIndex,width:this.width+"px",height:this.height+"px",position:"absolute",left:this.left+"px",top:"0px"})}})})},"xl/draganddrop/DnDFreeSpace":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/array dojo/_base/lang dijit/registry dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/touch dojo/dom-geometry dojo/on".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){return l("xl.draganddrop.DnDFreeSpace",[m],{baseClass:"drop-filledarea",width:0,height:0,left:0,top:0,zIndex:"0",constructor:function(a){},startup:function(){this.setNodeStyle();this.inherited(arguments)},postCreate:function(){this.own(r(this.domNode,a.move,f.hitch(this,this.touchMove)));this.own(r(this.domNode,a.out,f.hitch(this,this.touchOut)));this.inherited(arguments)},touchMove:function(){n.add(this.domNode,"drop-filledarea-hover")},touchOut:function(){n.remove(this.domNode,
"drop-filledarea-hover")},setNodeStyle:function(){d.set(this.domNode,{"z-index":this.zIndex,width:this.width+"px",height:this.height+"px",position:"absolute",left:this.left+"px",top:"0px"})}})})},"xl/util/DijitLoadMonitor":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/json","dijit/Destroyable"],function(l,m,k,f,e){l=l("xl.util.DijitLoadMonitor",[e],{_widgetLoading:[],_loading:!1,_parent:null,_isSequenceNodeLoaded:!1,constructor:function(d){d&&(this._parent=d,this._setupEvents())},
loadStarted:function(){this._loading=!0;this._widgetsLoading=[];this._isSequenceNodeLoaded=!1;var d=this;setTimeout(function(){d._fireWidgetsLoaded()},6E3)},allWidgetsLoaded:function(){return 0===this._widgetLoading.length},checkCompleted:function(){this._loading&&(this.allWidgetsLoaded()&&this._isSequenceNodeLoaded)&&(this._isSequenceNodeLoaded=this._loading=!1,this._sendWidgetsLoadedMessage("all_loaded"))},setSequenceNodeLoadedStatus:function(d){this._isSequenceNodeLoaded=d},_setupEvents:function(){this.own(k(this._parent.domNode,
"widgetsloading",m.hitch(this,this._addLoadingWidget)),k(this._parent.domNode,"widgetsloaded",m.hitch(this,this._removeLoadingWidget)))},_addLoadingWidget:function(d){this._loading&&0>this._widgetLoading.indexOf(d.currentWidget)&&this._widgetLoading.push(d.currentWidget)},_removeLoadingWidget:function(d){this._loading&&(d=this._widgetLoading.indexOf(d.currentWidget),this._widgetLoading.splice(d,1),this.checkCompleted())},_sendWidgetsLoadedMessage:function(d){window.postMessage(f.stringify({"@status":d,
"@type":"WidgetsLoaded"}),"*")},_fireWidgetsLoaded:function(){this._loading&&(this._loading=!0,this._widgetsLoading=[],this._isSequenceNodeLoaded=!1,this._sendWidgetsLoadedMessage("timeout"))}});l.staticFunctions={loadingStarted:function(d,e){var c;(c=e?e:d.domNode)&&k.emit(c,"widgetsloading",{bubbles:!0,cancelable:!0,currentWidget:d})},loadingCompleted:function(d,e){var c;(c=e?e:d.domNode)&&k.emit(c,"widgetsloaded",{bubbles:!0,cancelable:!0,currentWidget:d})}};return l})},"xl/editgraph/GraphManager":function(){define("dojo/_base/declare dojo/_base/array dojo/Evented dojo/_base/connect dojo/touch dojo/_base/lang dojo/on dojo/dom-geometry dijit/DropDownMenu dijit/MenuItem dojo/string dojo/dom-construct dojo/dom-style dojo/parser dijit/popup dojo/has xl/player/dialogs/ConfirmationDialog xl/grapher/XYGraph2 xl/editgraph/IEditableGraphObject xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/util/IPMath xl/util/stringUtils dojox/gesture/tap dojo/keys xl/editgraph/GraphSettings xl/util/localization!html5player/player xl/util/localization!html5player/popup".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O){return l("xl.editgraph.GraphManager",[k],{_graph:null,_graphManager:null,_sdGrapher:null,_graphFactory:null,_cursor:null,_cursorText:null,_selectTolerance:null,_ignoreNextClick:!1,_onInitTransformObject:null,showPoints:null,_objectLabels:null,_requireLabels:null,_formulaLabels:null,_currentTool:null,_selectionTool:null,_toolType:null,_snapOptions:null,_defaultLineStyle:"solid",_moveObject:null,_moving:null,_xPos:null,_yPos:null,_movePoint:null,
_disableEdit:null,_disableDeSelectOnReturn:null,_editing:null,_labelMenu:null,_allowTypedCoordinates:!1,transformOptions:null,defaultTransformOptions:null,persistCurrentTool:!1,tapSelection:!1,constructor:function(a){a&&(a.graph&&(this._graph=a.graph,this._graph.setClipFunctions(!0),this._graph.setFocusBlob(this._cursor),this._graph.on("graphmousemoved",d.hitch(this,this.graphMouseMoved)),this._graph.on("graphclicked",d.hitch(this,this.graphClicked)),this._graph.on(e.release,d.hitch(this,this.graphMouseUp)),
this._graph.on("keydown",d.hitch(this,this.graphKeyDown)),this._graph.on("mouseClick",d.hitch(this,this.graphSingleClicked)),this._graph.on("openZoom",d.hitch(this,this.graphOpenZoom))),a.factory&&(this._graphFactory=a.factory,this._cursor=this._graphFactory.createCursor(this._graph),this._cursor.visible=!1,this._cursor.on("cursorDraw",d.hitch(this,this.cursorDraw)),this._cursor.on("blobMoved",d.hitch(this,this.cursorMoved))));this.showPoints=[];this._movePoint={};this._selectTolerance=u("touch")?
10:5;this._objectLabels=[];this.resetSnapInterval();this._lastPointClicked={};this._requireLabels=[]},setTapSelection:function(a){this.tapSelection=a;J.tapSelection=a},destroy:function(){this._cursor&&this._cursor.destroy();this._currentTool&&this._currentTool._blobGroup&&this._currentTool._blobGroup.destroyRecursive();this._selectionTool&&this._selectionTool._blobGroup&&this._selectionTool._blobGroup.destroyRecursive();this.inherited(arguments)},graphSingleClicked:function(){},getToolType:function(){return this._toolType},
_longPressListener:null,getSelectionTool:function(){if(this._currentTool&&this._currentTool.isInstanceOf(xl.editgraph.SelectionTool))return this._currentTool;if(this.tapSelection){if(null===this._selectionTool){var a=this.getFactory();this._selectionTool=a.createTool("select");this._selectionTool.setGraphManager(this);this._selectionTool.useCircleHandles=a.useCircleHandles;this._selectionTool.handleSize=a.handleSize}return this._selectionTool}return null},getActiveTool:function(){return this.getSelectedObject()?
this.getSelectionTool():this._currentTool},setToolType:function(a){this._ignoreNextClick=!1;this.stopEditing();this._longPressListener&&(this._longPressListener.remove(),this._longPressListener=null);var b=this.getFactory(),c=b.createTool(a),h=null;this._currentTool&&(this._currentTool.canMakeOnRemove()&&(h=this.makeObject()),this._currentTool.reset(),this._currentTool=null);this.tapSelection&&(this._toolType!==a&&this.getSelectedObject())&&this.selectObject(null);this._toolType=a;c&&(c.useCircleHandles=
b.useCircleHandles,c.handleSize=b.handleSize,this._currentTool=c,this._currentTool.setGraphManager(this));this._currentTool&&this._toolType!==z.GraphToolType.SELECT?(this._cursor.setVisible(!0),this._cursor.setSelect(!1),this._cursor.setFocused(!0),this._toolType===z.GraphToolType.REGION?(this._cursor.setSelect(!0),this._cursor.setShowCursor(!1)):this._toolType===z.GraphToolType.SELECT?(this._cursor.setShowCursor(!0),this._cursor.setSelect(!0)):(this._cursor.setShowCursor(!1),this._cursor.setSelect(!1))):
(this._cursor.setVisible(!1),this._currentTool&&(this._toolType===z.GraphToolType.SELECT&&h)&&this.selectObject(h));if(u("touch")&&this._currentTool&&(this._toolType===z.GraphToolType.POLYGON||this._toolType===z.GraphToolType.POLYLINE))this._longPressListener=this._graph.on(D.hold,d.hitch(this,this.graphLongPress));this.doToolChanged(this.getToolType());this.doCursorMoved(null);this.doUpdateMessage();this.getGraph().invalidateBlobs();this.getGraph().invalidatePlots();this.getGraph().validateGraph()},
makeObject:function(){var a=this._currentTool.makeObject();return a?(a instanceof A&&this.initTransformObject(a),a.setColor(this.getObjectDefColor(a)),a.setLineStyle(this._defaultLineStyle),0<=this.showPoints.indexOf(a.getObjectType())&&(a.showPoints=!0),this._requireLabels&&0<=this._requireLabels.indexOf(a.getObjectType())&&this.createObjectLabel(a),this.doObjectCreated(),a):null},completeTool:function(){if(this._currentTool){var a=this.makeObject();this.selectObject(a);this._currentTool.reset()}},
_lastPointClicked:null,_isDragged:function(a,b){var c=this.getGraph(),d=c.getAxisX().worldToView(this._xPos),h=c.getAxisY().worldToView(this._yPos),e=c.getAxisX().worldToView(a),c=c.getAxisY().worldToView(b);return 4<Math.abs(d-e)||4<Math.abs(h-c)},activeDrag:!1,cursorMoved:function(a){try{var b={value:!1},c=null===a.blob.getUnconstrainedPoint()?{x:a.x,y:a.y}:a.blob.getUnconstrainedPoint(),h=this.findObjectAt(c.x,c.y),e=this.getSelectionTool(),f=this._currentTool,q=this.getSelectedObject(),k=this.getToolType(),
r=this,n=function(){var a=null;f&&(f.canMakeOnRemove()&&(a=r.makeObject()),f.reset());a&&r.selectObject(a);return a},l=function(){null==n()&&(e.updateObject(),r.doObjectChanged(),r.getGraph().validateGraph())};switch(a.state){case C.IPGraphBlobState.PRESSED:this.disableSelect=!1;if(this._ignoreNextClick){this._ignoreNextClick=!1;return}this._lastPointClicked=d.clone(c);this._xPos=a.x;this._yPos=a.y;c=!1;if(f&&0<f.getPointCount())for(var s=0;s<f.getPointCount();s++)if(!(0===s&&f._supportsCloseClick&&
2<f.getPointCount())&&F.sameValue(a.x,f.getPoint(s).x)&&F.sameValue(a.y,f.getPoint(s).y))if(this.tapSelection)c="polyline"===k;else return;if(this.tapSelection&&"polyline"===k&&f.isActive()&&!c){l();return}if(this.tapSelection&&h&&q===h)this._startMovePt={x:a.x,y:a.y};else if(this._startMovePt=null,f){if(this.tapSelection&&null!=q){if(f.singlePointTool){this.disableSelect=!0;return}f.multiPointTool&&this.selectObject(null)}if(this.tapSelection&&f.singlePointTool&&h&&h.isInstanceOf(xl.editgraph.GraphPointObject))return;
this.tapSelection&&"polyline"===k?(c||0===f.getPointCount())&&f.mousePressed(a.x,a.y,b):f.mousePressed(a.x,a.y,b);this.tapSelection&&(f.multiPointTool&&!b.value)&&(this.disableSelect=!0)}break;case C.IPGraphBlobState.UP:this.activeDrag=!1;s=this._isDragged(a.x,a.y);if(this.disableSelect&&(this.disableSelect=!1,null!=q&&!s)){this.selectObject(null);l();return}if(this.tapSelection){if(q&&this._startMovePt){this._startMovePt=null;l();return}if(h&&!s){e.mousePressed(c.x,c.y);l();return}}if(this.tapSelection&&
!s&&!this._skipNextSelection){if(f&&f.isActive()&&f.multiPointTool)break;n();e.mousePressed(c.x,c.y,b)}else f&&f.mouseReleased(a.x,a.y,b);this._skipNextSelection=!1;this.doUpdateMessage();break;case C.IPGraphBlobState.DRAGGED:this.activeDrag=!0,q&&this._startMovePt&&(f.reset(),e.moveBy(c.x-this._startMovePt.x,c.y-this._startMovePt.y))}if(b.value){var t=this.makeObject();t&&this.selectObject(t);this.doUpdateMessage();(this.persistCurrentTool||this.tapSelection)&&this.setToolType(k);this.tapSelection&&
"point"===k&&(this._skipNextSelection=!0)}}finally{this._cursor&&this._cursor.visible&&this.doCursorMoved(a)}},getCurrentObj:function(){var a=null,b=this.getActiveTool();b&&b instanceof xl.editgraph.SelectionTool&&(a=b.getCurrentObj());return a},deleteCurrentObj:function(){var a=this.getActiveTool();a&&a instanceof xl.editgraph.SelectionTool&&a.deleteObject()},replaceCurrentObjectWithTool:function(){var a=this.getCurrentObj();if(a){var b=d.mixin({},a);this.deleteCurrentObj();this.selectObject(null);
b=b.getObjectType();this.setToolType(b);this._currentTool.initFromObject&&(this._currentTool.initFromObject(a),this.emit("initFromObject"))}},initTransformObject:function(a){var b=this.getOptionsForObject(a);if(b)for(var c in b)a.setParam(c,b[c].initValue),"base"==c&&(a.drawAsymptote=b[c].drawAsymptote)},createObjectLabel:function(a){a.addLabel(this)},selectObject:function(a){this.tapSelection?this.getSelectionTool().attach(a):(this.setToolType(z.GraphToolType.SELECT),this._currentTool&&a&&this._currentTool.attach(a));
this.doUpdateMessage()},graphMouseUp:function(){this._moveObject=null;var a=this.getSelectionTool();a&&this._moving&&(a.updateObject(),this.doObjectChanged(),this.getGraph().validateGraph());this._moving=!1},graphLongPress:function(a){if(!this.tapSelection){var b=a.keyCode;a.keyCode=E.ESCAPE;try{this.graphKeyDown(a),a.preventDefault(),a.stopPropagation(),n.once(this._graph.domNode,"contextmenu",function(a){a.preventDefault=!0;a.stopPropagation=!0;a.cancelBubble=!0;a.returnValue=!1})}finally{a.keyCode=
b}}},processKeyCode:function(a){this.getActiveTool()&&this.getActiveTool().keyDown({keyCode:a,stopPropagation:function(){},preventDefault:function(){}})},graphKeyDown:function(a){var b=a.target.id;if(""===b){for(b=a.target;b&&"xygraph"!==b.className;)b=b.parentNode;b=b.id}this.getActiveTool()&&b===this._graph.id&&(b=this.getActiveTool(),this.getActiveTool().keyDown(a),b.isInstanceOf(xl.editgraph.PolylineGraphTool)&&(27===a.keyCode&&this.tapSelection)&&(this._currentTool=null))},getToolColor:function(){var a,
b;b=this.getFactory().getToolColor(this.getToolType());if(this.getToolType()===z.GraphToolType.SELECT||this.getSelectedObject())if(b=J.objectSelectedColor,a=this.getSelectedObject())switch(a.getObjectType()){case z.GraphObjectType.POINT:b=this._graphFactory.getToolColor(z.GraphToolType.POINT);break;case z.GraphObjectType.ARROW:case z.GraphObjectType.DBLARROW:b=this._graphFactory.getToolColor(z.GraphToolType.ARROW)}return b},getObjectDefColor:function(a){return this._graphFactory.getObjectColor(a)},
getSelectedObject:function(){var a=null;this._currentTool&&this._currentTool.getObject&&(a=this._currentTool.getObject());null==a&&this._selectionTool&&(a=this._selectionTool.getObject());return a},processCommand:function(a,b){},updateControlState:function(){},getFactory:function(){return this._graphFactory},setFactory:function(a){this._graphFactory!==a&&(this._graphFactory=a,this._graph&&(this._cursor&&this._cursor.destroy(),this._cursor=this._graphFactory.createCursor(this._graph),this._cursor.visible=
!1,this._cursor.on("cursorDraw",d.hitch(this,this.cursorDraw)),this._graph.setFocusBlob(this._cursor),this._cursor.on("moved",d.hitch(this,this.cursorMoved))))},getGraph:function(){return this._graph},setGraph:function(a){this._graph=a;this._graph.setClipFunctions(!0);this._graph.on("graphmousemoved",d.hitch(this,this.graphMouseMoved));this._graph.on(e.release,d.hitch(this,this.graphMouseUp));this._graph.on("keydown",d.hitch(this,this.graphKeyDown));this._graph.on("mouseClick",d.hitch(this,this.graphSingleClicked));
this._graph.on("graphclicked",d.hitch(this,this.graphClicked));this._graph.on("openZoom",d.hitch(this,this.graphOpenZoom));this._cursor||(this._cursor=this.getFactory().createCursor(this.getGraph()),this._cursor.visible=!1,this._cursor.on("cursorDraw",d.hitch(this,this.cursorDraw)),this._cursor.on("moved",d.hitch(this,this.cursorMoved)),this._graph.setFocusBlob(this._cursor))},graphOpenZoom:function(a){var b=this.getGraphObjectsData();a.data.objects=b},canMove:function(a){return a.getCanMove()||a.getUndeletable()&&
!a.getIsStatic()},graphMouseMoved:function(a){var b;if(!this._editing&&!this._disableEdit&&this.getSelectionTool()&&(b=this.getSelectedObject())&&b===this._moveObject&&this.canMove(b))if(b={x:this.getGraph().getAxisX().worldToView(a.x),y:this.getGraph().getAxisY().worldToView(a.y)},b.x!==this._movePoint.x||b.y!==this._movePoint.y)this._moving=!0,this._movePoint=b,this.getSelectionTool().moveBy(a.x-this._xPos,a.y-this._yPos),a.event.preventDefault(),a.event.stopPropagation()},graphClicked:function(a){var b=
{value:!1};this._xPos=a.x;this._yPos=a.y;this._movePoint.x=this.getGraph().getAxisX().worldToView(a.x);this._movePoint.y=this.getGraph().getAxisY().worldToView(a.y);this.getDisableEdit()||(this.getToolType()===z.GraphToolType.SELECT&&(this._currentTool.mousePressed(a.x,a.y,b),this.doUpdateMessage()),this._moveObject=this.getSelectedObject())},cursorDraw:function(a){this._currentTool&&this._currentTool.draw(a.surface,a.x,a.y)},cursorXCoordFormat:function(a){return this._graph&&this._graph.getAxisX().isDate&&
null!=this._graph.onFormatDate?this._graph.onFormatDate(a,""):this.cursorCoordsString(a)},cursorYCoordFormat:function(a){return this._graph&&this._graph.getAxisY().isDate&&null!=this._graph.onFormatDate?this._graph.onFormatDate(a,""):this.cursorCoordsString(a)},doCursorMoved:function(a){null==a||isNaN(a.x)||isNaN(a.y)?this._cursorText="":this._cursorText="("+this.cursorXCoordFormat(a.x)+","+this.cursorYCoordFormat(a.y)+")";this.emit(z.GraphObjectEvent.CURSOR_MOVED,a)},resetSnapInterval:function(){switch(this._snapOptions){case z.GraphSnapOptions.GRID:this._cursor.setSnapIntervalX(this._graph.getAxisX().getTickSpacing());
this._cursor.setSnapIntervalY(this._graph.getAxisY().getTickSpacing());break;case z.GraphSnapOptions.NONE:this._cursor.setSnapIntervalX(0);this._cursor.setSnapIntervalY(0);break;case z.GraphSnapOptions.CUSTOM:this._cursor.setSnapIntervalX(this._snapX),this._cursor.setSnapIntervalY(this._snapY)}},getGraphObject:function(a){var b,c=0,d;for(b=0;b<this.getGraph().getPartCount();b++)if(d=this.getGraph().getPart(b),0>d.getTag()&&d.isInstanceOf(x)){if(c===a)return d;c++}return null},initGraphObject:function(a,
b){var c=this._graphFactory.createObject(this._graph,a.objectType);if(null==c)v.displayText(a.objectType+" is not available. ",O.alert,[v.BUTTON.OK]);else{if(a.params)for(var h in a.params)c.setParam(h,a.params[h]);a.text&&c.setText(a.text);a.font&&c.setFont(a.font);a.drawAsymptote&&(c.drawAsymptote=!0);a.isStatic&&c.setIsStatic(a.isStatic);a.undeletable&&c.setUndeletable(a.undeletable);c.setColor(a.color);c.setLineStyle(a.lineStyle);c.showPoints=a.showPoints;0<=this.showPoints.indexOf(c.getObjectType())&&
(c.showPoints=!0);if(a.points)for(h=0;h<a.points.length;h++)c.addPoint(a.points[h]);"copy"==b?c.setTag(a.tag):"undefined"!=typeof b&&c.setTag(b);a.labelpositionset&&(this._objectLabels?(c.addLabel(this),c.getObjLabel().setSelectedValue(a.objLabel),c.getObjLabel().setTag(c.getTag())):(c.addNewLabel(this,a),c.getObjLabel().setSelectedValue(a.objLabel)),c.getObjLabel().setRefPoint(a.labelrefpoint),c.getObjLabel().setLocation(d.clone(c.getPoint(a.labelrefpoint))),c.getObjLabel().setDx(a.labeldx),c.getObjLabel().setDy(a.labeldy),
c.getObjLabel().setDisableEdit(this._disableEdit))}},initGraphObjects:function(a,b){var c=this;a.forEach(function(a){c.initGraphObject(a,b)})},getGraphObjectCount:function(){var a,b=0;for(a=0;a<this.getGraph().getPartCount();a++)0>this.getGraph().getPart(a).getTag()&&this.getGraph().getPart(a).isInstanceOf(x)&&b++;return b},clearGraphObjects:function(){this.editable&&(this.stopEditing(),"undefined"!==typeof this._toolType&&this._toolType!==z.GraphToolType.NONE&&this.setToolType(z.GraphToolType.NONE));
for(var a=0;a<this.getGraph().getPartCount();)0>this.getGraph().getPart(a).getTag()&&this.getGraph().getPart(a).isInstanceOf(x)?this.getGraph().getPart(a).setGraph(null):a++;this.editable?(this.setToolType(z.GraphToolType.SELECT),this.doObjectSelectionChanged()):(this.getGraph().invalidateBlobs(),this.getGraph().invalidatePlots())},clearBlobLayer:function(){this.getGraph().getBlobSurfaceLayer().clear()},clearGraphPoints:function(){this.stopEditing();this.setToolType(z.GraphToolType.NONE);for(var a=
0;a<this.getGraph().getPartCount();){var b=this.getGraph().getPart(a);b&&(-1==b.getTag()||1==b.getTag())?b.setGraph(null):a++}this.doObjectSelectionChanged()},getGraphObjectsData:function(a){var b,c,d=[];for(b=0;b<this.getGraph().getPartCount();b++)c=this.getGraph().getPart(b),(a||0>c.getTag())&&c.isInstanceOf(x)&&d.push(c.getGraphData());return d},getGraphObjectPos:function(a){var b,c,d=0;for(b=0;b<this.getGraph().getPartCount();b++)if(0>this.getGraph().getPart(b).getTag()&&this.getGraph().getPart(b).isInstanceOf(x)){c=
this.getGraph().getPart(b);if(c===a)return d;d++}return-1},startEditing:function(a){this.getSelectedObject()!==a&&this.selectObject(a);a&&a.startEditing(this)&&(this._editing=!0)},_stopping:!1,stopEditing:function(){var a;if(!this._stopping){this._stopping=!0;try{if(this._editing){a=this.getSelectedObject();try{null!=a&&a.stopEditing()}finally{this._editing=!1}}}finally{this._stopping=!1}}},clearTool:function(){this.getActiveTool()&&(this.getGraph().isObjectDeleting=!0,this.stopEditing(),this.getActiveTool().clearObject(),
this.doObjectChanged(),this.getGraph().validateGraph())},findObjectAt:function(a,b){var c,d,h=3E4,e,f;for(c=0;c<this.getGraph().getPartCount();c++)d=this.getGraph().getPart(c),0>d.getTag()&&d.isInstanceOf(x)&&(e=d,0>e.getGraphPart().getTag()&&!e.getIsStatic()&&(d=e.getDistance(a,b),0<=d&&d<=this._selectTolerance&&(1===e.getPointCount()?(h=0,f=e):d<h&&(h=d,f=e))));return f},getBlobSnapX:function(){var a;switch(this._snapOptions){case z.GraphSnapOptions.GRID:a=this.getGraph().getAxisX().getTickSpacing();
break;case z.GraphSnapOptions.NONE:a=0;break;case z.GraphSnapOptions.CUSTOM:a=this._snapX;break;default:a=0}return a},getBlobSnapY:function(){var a;switch(this._snapOptions){case z.GraphSnapOptions.GRID:a=this.getGraph().getAxisY().getTickSpacing();break;case z.GraphSnapOptions.NONE:a=0;break;case z.GraphSnapOptions.CUSTOM:a=this._snapY;break;default:a=0}return a},cursorCoordsString:function(a){return B.formatFloat(a,"#.--")},doUpdateMessage:function(){f.publish(z.GraphObjectEvent.UPDATE_MESSAGE,
[{message:this.getMessage()}])},getCursorText:function(){return this._cursorText},getCurrentTool:function(){return this._currentTool},doToolChanged:function(a){this.emit("toolChanged",a)},doObjectChanged:function(){this.emit(z.GraphObjectEvent.OBJECT_CHANGED,{bubbles:!0})},doObjectCreated:function(){this.emit(z.GraphObjectEvent.OBJECT_CREATED,{bubbles:!0})},doObjectSelectionChanged:function(){this.emit(z.GraphObjectEvent.SELECTION_CHANGED,{selectedObj:this.getSelectedObject()})},mouseMoved:function(a){},
getDefaultGrLineStyle:function(){return this.getDefaultLineStyle()===z.GraphObjectLineStyle.DASHED?z.GraphObjectLineStyle.DASHED:z.GraphObjectLineStyle.SOLID},getDefaultLineStyle:function(){return this._defaultLineStyle},setDefaultLineStyle:function(a){this._defaultLineStyle=a},getSnapOptions:function(){return this._snapOptions},setSnapOptions:function(a){this._snapOptions=a},getDisableEdit:function(){return this._disableEdit},setDisableEdit:function(a){this._disableEdit=a},getDisableDeSelectOnReturn:function(){return this._disableDeSelectOnReturn},
setDisableDeSelectOnReturn:function(a){this._disableDeSelectOnReturn=a},getMessage:function(){return"select"==this.getToolType()&&0==this.getGraphObjectCount()?this._graphFactory.getMessage(z.GraphToolTypeMessage.NONE):this.getActiveTool()&&this.getActiveTool().getMessage?this.getActiveTool().getMessage():this.getGraph().hasXyCursor?N["status.xy_popup_selected"]:this._graphFactory.getMessage(z.GraphToolTypeMessage.NONE)},getGraphObjectLabels:function(){var a,b,c=[];for(a=0;a<this.getGraph().getPartCount();a++)b=
this.getGraph().getPart(a),0>b.getTag()&&(b.isInstanceOf(x)&&b.getObjLabel())&&c.push(b.getObjLabel());return c},getFormulaLabels:function(){return this._formulaLabels},setFormulaLabels:function(a){this._formulaLabels=a},getObjectLabels:function(){return this._objectLabels},setObjectLabels:function(a){this._objectLabels=a;this.clearLabelMenu()},getRequireLabels:function(){return this._requireLabels},setRequireLabels:function(a){this._requireLabels=a},closeMenu:function(){this._labelMenu&&q.close(this._labelMenu)},
graphObjectLabelMenuOpened:function(){this.emit("graphobjectlabel_menuopened")},graphObjectLabelMenuClosed:function(){this.emit("graphobjectlabel_menuclosed")},getLabelMenu:function(){if(!this._labelMenu){this._labelMenu=new b;for(var c,d,e=0;e<this.getObjectLabels().length;e++){d=this.getObjectLabels()[e];c=new a({label:"",plainValue:d});var f;this.getFormulaLabels()?(d=s.substitute("\x3cdiv data-dojo-type\x3d'xl.eqeditor.EqLabel' data-dojo-props\x3d'docSettings:{interpretFunctions:false}'\x3e${text}\x3c/div\x3e",
{text:d}),f=r.toDom(d)):(f=r.create("div"),f.innerHTML=d);r.place(f,c.containerNode);c.itemNode=f;this._labelMenu.addChild(c)}this._labelMenu.startup();h.parse(this._labelMenu.domNode);r.place(this._labelMenu.domNode,document.body);t.set(this._labelMenu.domNode,{position:"absolute",left:"-100000px",top:"-100000px"})}return this._labelMenu},getAllowTypedCoordinates:function(){return this._allowTypedCoordinates},setAllowTypedCoordinates:function(a){this._allowTypedCoordinates=a},getOptionsForObject:function(a){return this.getOptions(this.getSDObjectType(a))},
getSDObjectType:function(a){return a.getObjectType()},getOptions:function(a){return this.transformOptions[a]},clearLabelMenu:function(){this._labelMenu&&(this._labelMenu=null)},deselect:function(){this.editable&&(this.stopEditing(),null!=this._toolType&&this._toolType!=z.GraphToolType.NONE&&this.setToolType(z.GraphToolType.SELECT))}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){n=l("dijit.MenuItem"+(d("dojo-bidi")?"_NoBidi":""),[c,b,a,s],{templateString:r,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),d=a.substr(0,c);a=a.substr(c+3);c=d+b+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);k.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&k.set(this.accelKeyNode,"id",this.id+"_accel");m.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==d("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_onFocus:function(){this.getParent()._onItemFocus(this);
this.inherited(arguments)},_setSelected:function(a){f.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){e.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){e.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",
a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,k.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});d("dojo-bidi")&&(n=l("dijit.MenuItem",n,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return n})},"xl/player/dialogs/ConfirmationDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-style dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/html dojo/query dojo/on dojo/_base/Deferred dijit/registry xl/dijit-bootstrap/Button xl/util/stringUtils ./ModalBaseDialog xl/util/ga xl/util/localization!html5player/popup".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v){var w=/\d+(\.\d+)?/,x=l("xl.player.dialogs.ConfirmationDialog",[q],{contentString:"Set the contentString property to display text",commandButtons:null,executeCommand:null,_focusButton:null,postMixInProperties:function(){this.ariaRole="alertdialog";this.htmlContent&&(this.contentString=this.htmlContent);this.inherited(arguments);this.commandButtons&&n.forEach(this.commandButtons,function(a){this.addButton({label:a.label},a,!1,a["default"],!0)},this)},setupFooter:function(){var a=
this.inherited(arguments);this.defaultButton?this._focusButton=this.defaultButton:a&&(this._focusButton=a)},show:function(){var a=this.inherited(arguments),b=this;a.then(function(){b._focusButton.focus()});return a},_size:function(){if((buttons=this.getDialogButtons())&&0<buttons.length){var a=this._calcButtonsWidth();this._setDialogWidthStyle(a)}this.inherited(arguments)},_setDialogWidthStyle:function(a){var b=this.domNode,c=f.getComputedStyle(b),d=c.minWidth.match(w)||[0],h=c.width.match(w)||[0],
h=Math.max(parseFloat(d[0]),parseFloat(h[0]));a=e.getPadExtents(b,c).w+Math.ceil(a);dialogWith=Math.max(h,a);f.set(b,{width:dialogWith+"px"})},_calcButtonsWidth:function(){for(var a=0,b=0;b<buttons.length;b++)var c=f.getComputedStyle(buttons[b].domNode),d=c.width.match(/\d+(\.\d+)?/)||[0],c=e.getMarginExtents(buttons[b].domNode,c),a=a+(c.l+parseFloat(d[0])+c.r);return a},buttonClicked:function(a,b){this.executeCommand=b;this.hide()},onCancel:function(a){this.inherited(arguments);for(var b=0;b<this.commandButtons.length;b++){var c=
this.commandButtons[b].command;c&&(c.arguments&&c.arguments.isRemediationQuestion)&&u.sendEvent("RemediationStayed","FeedbackCancelButton","",0);if(c=this.commandButtons[b].actions)for(var d=0;d<c.length;d++)"saveresultcancelled"===c[d].action&&(this.executeCommand=this.commandButtons[b])}}});x.COMMAND={CANCEL:"cancel",OK:"ok",YES:"yes",NO:"no"};x.BUTTON={YES:{command:x.COMMAND.YES,label:v.yes},NO:{command:x.COMMAND.NO,label:v.no},OK:{command:x.COMMAND.OK,label:v.ok},CANCEL:{command:x.COMMAND.CANCEL,
label:v.cancel}};x.DEFAULT_WIDTH="400px";x.displayHtml=function(a,b,c,d,h){var e=new x({title:b,htmlContent:a,commandButtons:c,style:"width:"+(d||x.DEFAULT_WIDTH),"class":h||""}),f=new s;e.on("hide",function(a){f.resolve(e.executeCommand);e.destroy()});e.show();return f};x.displayText=function(a,b,c,d,e){return x.displayHtml(h.textToHtml(a),b,c,d,e)};return x})},"xl/player/dialogs/ModalBaseDialog":function(){define(["dojo/_base/declare","./BaseDialog","dojo/topic"],function(l,m){return l("xl.player.dialogs.ModalBaseDialog ",
[m],{isModal:!0})})},"xl/grapher/XYGraph2":function(){define("dojo/_base/declare dojo/_base/connect dijit/_WidgetBase dojo/string dojo/dom-construct dojo/dom-attr dojo/dom dojox/gfx dojo/dom-geometry dojo/_base/array dijit/_Container dojo/_base/event dojo/dom-style dojo/has dojo/query dojo/topic xl/util/IPMath xl/util/domMethods ./enums dojo/_base/lang dojox/gfx/canvas dojo/keys dijit/_FocusMixin dijit/focus dijit/place xl/player/controls/_AltTextToolTip dojo/string xl/grapher/XYGrid xl/grapher/IPGraphAxis xl/grapher/Rectangle xl/grapher/Margins xl/grapher/Point xl/grapher/IPGraphMetrics xl/grapher/IPGraphScatter xl/grapher/IPGraphCustomPlot xl/grapher/IPGraphHistogram xl/grapher/XYPointCursor ./IPNumberLinePlot xl/grapher/IPGraphFunction xl/grapher/IPGraphLabel xl/grapher/IPGraphRegion xl/grapher/IPGrapherKeyboard xl/grapher/IPGraphShape xl/grapher/IPGraphPart xl/grapher/IPGraphBlob xl/editgraph/IEditableGraphObject xl/util/graphUtils xl/util/imageProcessing dojo/on xl/player/controls/_NeedsPlayerViewer dojo/Evented dojo/dom-class xl/util/ForeignObject dojo/mouse dojo/touch dijit/TooltipDialog dijit/popup xl/player/dialogs/DataGrapherDialog xl/util/flex/DateFormatter xl/player/dialogs/InteractionsDialog xl/util/stringUtils dijit/registry dojo/_base/config xl/util/localization!html5player/player xl/util/localization!html5player/graphmanager xl/util/DijitLoadMonitor dojo/io-query xl/editgraph/GraphHoleObject".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O,H,K,M,P,I,L,Q,W,R,T,U,Y,ca,V,X,fa,$,aa,Z,ba,ja,la,ha,ga,ma,ea,G,da,qa,S,ta,ka,za,oa,Aa,na,ia,sa,wa){return l("xl.grapher.XYGraph2",[k,s,F,ja,E],{baseClass:"xygraph",_surface:null,_w:null,_h:null,plotMargins:null,_autoAdjustMargins:!0,renderMode:"svg",_surfaceList:null,_blobList:null,hasZoomButton:!1,_invalidating:null,_needsDrawing:!1,_lastMetrics:null,_grid:null,_xAxis:null,_yAxis:null,_yAxisAlt:null,_plotRect:null,dataGraphPrintData:null,
titlePosition:null,_gTitleLoc:null,_altXAxisTitlePos:null,_altYAxisTitlePos:null,_titleLeftMargin:0,_titleRightMargin:0,_titleSize:null,showGrid:!0,majorTickSize:5,minorTickSize:3,_plotList:null,_labelList:null,_regionList:null,_shapeList:null,extsize:15,titleFont:"Arial",titleFontSize:"10px",titleColor:"#080808",gridColor:"#919191",currentBlob:null,_resetting:!1,isZoomed:!1,isotropic:!1,isoVAlignTop:!1,squareGraph:!1,graphStyle:x.IPGraphStyle.NORMAL,showOutline:!1,outlineColor:"black",HINT_TOL:3.5,
_hintWindow:null,_trackBlob:null,_focusBlob:null,_dragBlob:null,_blobOffset:null,_lastPartClicked:null,_lastMouseX:0,_lastMouseY:0,_graphControl:null,clipFunctions:!1,enabled:!0,visible:!0,_blobLayerInvalidated:!1,_plotLayerInvalidated:!1,_labelLayerInvalidated:!1,_regionLayerInvalidated:!1,_hasDataGraph:!1,_dataGraphPlotIds:null,_hasInteractions:!1,hasSdGrapher:!1,hasXyCursor:!1,_xyCursors:null,showXyCursor:!1,defaultDateFormat:null,formatSettings:null,zoomScale:1,disableDraw:!1,selectedObj:null,
isObjectDeleting:!1,printing:!1,_disableInteractionDialog:!1,setDisableInteractionDialog:function(a){this._disableInteractionDialog=a},_setHasDataGraphAttr:function(a){this._hasDataGraph=a},_setHasInteractionsAttr:function(a){this._hasInteractions=a},getGraphControl:function(){return this._graphControl},setShowGrid:function(a){this.showGrid!=a&&(this.showGrid=a,this.invalidateGraph())},setIsotropic:function(a){this.isotropic!=a&&(this.isotropic=a,this.invalidateGraph())},setTitle:function(a){this.graphTitle!=
a&&(this.graphTitle=a,this.invalidateGraph())},setTitlePosition:function(a){this.titlePosition!=a&&(this.titlePosition=a,this.invalidateGraph())},constructor:function(a){this._plotList=[];this._labelList=[];this._regionList=[];this._shapeList=[];this._surfaceList={};this._blobList=[];this._dataGraphPlotIds=[];this._xyCursors=[];this.hasZoomButton=!0;this.plotMargins=new K({top:20,left:17,right:20,bottom:17});a.loadFromJson&&(this._w=a.width,this._h=a.height)},buildRendering:function(){this.inherited(arguments)},
postCreate:function(){this.domNode.setAttribute("tabindex",0);this.visible||t.set(this.domNode,"display","none");this._originalWidth=t.get(this.domNode,"width");this._originalHeight=t.get(this.domNode,"height");!this.isZoomed&&this.hasZoomButton&&(this.addZoomButton(),this._titleRightMargin+=this.zoomBtnWidth);this.own(ba(this.domNode,ea.move,A.hitch(this,this.mouseMoved)),ba(this.domNode,ea.press,A.hitch(this,this.mouseDown)),ba(this.domNode,ea.release,A.hitch(this,this.mouseUp)),ba(this.domNode,
"keydown",A.hitch(this,this._onKeyDown)));h("edge")&&h("touch")&&(t.set(this.domNode,"touch-action","none"),ba(this.domNode,"pointermove",A.hitch(this,this.mouseMoved)));this.printing&&t.set(this.domNode,"pointer-events","none");ia.staticFunctions.loadingStarted(this);this.inherited(arguments)},destroy:function(){this.inherited(arguments);this._tooltip&&this._tooltip.destroy();if(this._surfaceList)for(var a in this._surfaceList)if(this._surfaceList.hasOwnProperty(a)){var b=this._surfaceList[a];b.clearForeignObjects&&
b.clearForeignObjects();b.destroy()}},startup:function(){this._started||(this.initializeChildren(),this.inherited(arguments),this.initialize())},mouseMoved:function(a){if(this.domNode){var c,d;c=!1;var h=b.position(this.domNode,!0),e=this._lastMouseX=(a.pageX-h.x)/this.zoomScale,h=this._lastMouseY=(a.pageY-h.y)/this.zoomScale;this.processHints(e,h);this._trackBlob&&this._trackBlob.getVisible()&&(c=this.getAxisX().viewToWorld(e),d=this.getAxisY().viewToWorld(h),this._trackBlob.move(c,d,x.IPGraphBlobState.MOVED,
!1,!1),c=!0);this._dragBlob&&this._dragBlob.getVisible()&&this._dragBlob.getCanMove()&&(c=this.getAxisX().viewToWorld(e-this._blobOffset.x),d=this.getAxisY().viewToWorld(h-this._blobOffset.y),this._dragBlob.move(c,d,x.IPGraphBlobState.DRAGGED,!1),c=!0,a.preventDefault(),a.stopPropagation());c||(c=this.getAxisX().viewToWorld(e),d=this.getAxisY().viewToWorld(h),this.emit("graphMouseMoved",{graph:this,x:c,y:d,event:a}))}},_touchInteractor:null,mouseUp:function(a){if(this.enabled)if("graphZoomBtn"==a.target.className)a.stopPropagation();
else{var c=b.position(this.domNode,!0),d=(a.pageX-c.x)/this.zoomScale,c=(a.pageY-c.y)/this.zoomScale,d=this.getAxisX().viewToWorld(d),c=this.getAxisY().viewToWorld(c);this._dragBlob&&(this._dragBlob.move(this._dragBlob.getLocationX(),this._dragBlob.getLocationY(),x.IPGraphBlobState.UP,!0),this._dragBlob.redraw());this._dragBlob=null;this.emit("graphmouseup",{graph:this,x:d,y:c,event:a})}},mouseDown:function(a){var c=b.position(this.domNode,!0),d=(a.pageX-c.x)/this.zoomScale,c=(a.pageY-c.y)/this.zoomScale;
this.canFocus()&&this.setFocus();if("graphZoomBtn"==a.target.className){if(d=this.getGraphControl().getPalette())d.showPalette=!1}else if(0==a.button||"touchstart"==a.type){this._dragBlob=this.getBlobAtPos(d,c);a=this.getAxisX().viewToWorld(d);var h=this.getAxisY().viewToWorld(c);this._trackBlob&&this._dragBlob===this._trackBlob&&this._trackBlob.setLocation(a,h);this._dragBlob?this.pressDragBlob(d,c):((!this._focusBlob||!this._focusBlob.getStickyFocus())&&this.setFocusBlob(null),this.processLastObjectClicked(d,
c),this.doGraphClicked(a,h))}},pressDragBlob:function(a,b){if(this._dragBlob.getCanMove()){this.setFocusBlob(this._dragBlob);var c=this._dragBlob.getViewX(),d=this._dragBlob.getViewY();this._blobOffset={x:a-c,y:b-d}}c=this.getAxisX().viewToWorld(a);d=this.getAxisY().viewToWorld(b);this._dragBlob.move(c,d,x.IPGraphBlobState.PRESSED);this._dragBlob.redraw()},doGraphClicked:function(a,b){this.emit("graphclicked",{graph:this,x:a,y:b})},processLastObjectClicked:function(a,b){var c,d,h=null;this._lastPartClicked=
null;for(c=0;c<this.getPlotCount();c++)d=this.getPlot(c).getDistanceFrom(a,b),0<=d&&d<this.HINT_TOL&&(this.closestD=d,h=this.getPlot(c));h&&(this._lastPartClicked=h)},getBlobAtPos:function(a,b){for(var c=this.getAxisX().viewToWorld(a),d=this.getAxisY().viewToWorld(b),h=null,e=0;e<this.getBlobCount();e++){var f=this.getBlob(e);if(f.getVisible()&&f!==this._trackBlob&&(h=f.isUnderPoint(c,d)))return h.blob}this._trackBlob&&this._trackBlob.getVisible()&&(h=this._trackBlob);return h},setFocus:function(){},
_hintShowing:!1,_tooltip:null,processHints:function(a,c){var d,h,e,f;e=-1;f=null;if(!(0>a||a>this._w||0>c||c>this._h)){for(d=this._shapeList.length-1;0<=d;d--)if(this.getShape(d).hint&&(h=this.getShape(d).getDistanceFrom(a,c),0<=h&&h<this.HINT_TOL)){f=this.getShape(d);e=this.HINT_TOL/2;break}for(d=this.getPlotCount()-1;0<=d;d--)if(this.getPlot(d).hint&&(h=this.getPlot(d).getDistanceFrom(a,c),0<=h&&h<this.HINT_TOL&&(0>e||h<e)))e=h,f=this.getPlot(d);for(d=this.getLabelCount()-1;0<=d;d--)h=this.getLabel(d),
h.hint&&h.isUnderPoint(a,c)&&!h.isCorrect&&(f=h);if(f){if(this._tooltip||(this._tooltip=new G({id:f.id+"_tooltip","class":"graphTooltip"}),this._tooltip.set("closestPartId",f.id),ba.once(this._tooltip,"show",function(){this.startup()})),!this._hintShowing||this._tooltip.get("closestPartId")!=f.id)this._tooltip.set("content",f.hint),this._tooltip.set("closestPartId",f.id),d=b.position(this.domNode,!0),da.open({parent:this,popup:this._tooltip,x:d.x+a,y:d.y+c,orient:["above-centered","above-alt","below",
"below-alt"]}),d=b.getMarginBox(this._tooltip.domNode),d=t.get(this._tooltip.domNode.parentNode,"top")-d.h+"px",t.set(this._tooltip.domNode.parentNode,"top",d),this._hintShowing=!0}else this._tooltip&&(da.close(this._tooltip),this._tooltip.destroy(),this._tooltip=null),this._hintShowing=!1}},addMobileZoomOverlay:function(){},addZoomButton:function(){var a=w.closest(this.domNode,".graphControl");a&&(this._zoomScaleWrapper=w.closest(this.domNode,".scale-wrapper"),t.set(a,"minHeight","97px"),this._createActionMenu(a),
this._titleLeftMargin=25)},_zoomInBtn:null,_zoomOutBtn:null,_popOutBtn:null,_createActionMenu:function(a){this._fabContainer=e.create("ul",{"class":"fab open"},a);this._zoomInBtn=e.toDom(J.substitute("\x3cli class\x3d'inside first'\x3e\x3cbutton aria-label\x3d'${title}'\x3e\x3cspan class\x3d'zoomin'\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e",{title:na["sdg.zoom_in"]}));e.place(this._zoomInBtn,this._fabContainer);this.own(ba(this._zoomInBtn.childNodes[0],ea.release,A.hitch(this,this._incrementZoomScale)));
this.own(ba(this._zoomInBtn.childNodes[0],"keypress",A.hitch(this,this._zoomInKeyboardPress)));this._zoomOutBtn=e.toDom(J.substitute("\x3cli class\x3d'inside disabled' aria-disabled\x3dtrue\x3e\x3cbutton aria-label\x3d'${title}'\x3e\x3cspan class\x3d'zoomout'\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e",{title:na["sdg.zoom_out"]}));e.place(this._zoomOutBtn,this._fabContainer);this.own(ba(this._zoomOutBtn.childNodes[0],ea.release,A.hitch(this,this._decrementZoomScale)));this.own(ba(this._zoomOutBtn.childNodes[0],
"keypress",A.hitch(this,this._zoomOutKeyboardPress)));this._popOutBtn=e.toDom(J.substitute("\x3cli class\x3d'inside'\x3e\x3cbutton aria-label\x3d'${title}'\x3e\x3cspan class\x3d'zoompopout'\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e",{title:na["sdg.pop_out"]}));e.place(this._popOutBtn,this._fabContainer);this.own(ba(this._popOutBtn.childNodes[0],ea.release,A.hitch(this,this.openZoom)));this.own(ba(this._popOutBtn.childNodes[0],"keypress",A.hitch(this,this._keyboardZoomPress)))},_minZoomScale:1,_maxZoomScale:4,
_incrementZoomScale:function(a){this.zoomScale<this._maxZoomScale&&(this.zoomScale+=0.25);this._scaleGraph(a);a&&a.stopPropagation()},_decrementZoomScale:function(a){this.zoomScale>this._minZoomScale&&(this.zoomScale-=0.25);this._scaleGraph(a);a&&a.stopPropagation()},_resetZoomScale:function(a){this.zoomScale=1;this._scaleGraph(a)},_scaleGraph:function(a){a=this.getGraphControl();t.set(this._zoomScaleWrapper,"transform",f.substitute("scale(${s})",{s:this.zoomScale}));t.set(a.statusPanel.domNode,"transform",
f.substitute("scale(${s})",{s:1/this.zoomScale}));this.zoomScale>this._minZoomScale?(d.set(this._zoomOutBtn,"aria-disabled","false"),ha.remove(this._zoomOutBtn,"disabled")):(d.set(this._zoomOutBtn,"aria-disabled","true"),ha.add(this._zoomOutBtn,"disabled"));this.zoomScale<this._maxZoomScale?(d.set(this._zoomInBtn,"aria-disabled","false"),ha.remove(this._zoomInBtn,"disabled")):(d.set(this._zoomInBtn,"aria-disabled","false"),ha.add(this._zoomInBtn,"disabled"));var b=this._zoomScaleWrapper.getBoundingClientRect();
t.set(a.domNode,"width",b.width+"px");t.set(a.domNode,"height",b.height+"px");this.emit("graphscale_changed",{bubbles:!0,cancelable:!0});u.publish("invalidate_layout")},_zoomCommand:"graphzoom",_isKeyboardActivationKeyCode:function(a){return 13===a||32===a},_keyboardZoomPress:function(a){this._isKeyboardActivationKeyCode(a.keyCode)&&(a.stopPropagation(),a.preventDefault(),this.openZoom())},_zoomInKeyboardPress:function(a){this._isKeyboardActivationKeyCode(a.keyCode)&&(a.stopPropagation(),a.preventDefault(),
this._incrementZoomScale())},_zoomOutKeyboardPress:function(a){this._isKeyboardActivationKeyCode(a.keyCode)&&(a.stopPropagation(),a.preventDefault(),this._decrementZoomScale())},openZoom:function(a){if(a&&"graphZoomBtn"===a.target.className){var c=this.getGraphControl().getPalette();c&&(c.showPalette=!1)}var c=this.getViewer(),d=b.getContentBox(c.domNode);c.postCommand(this._zoomCommand,{clientId:this.id,graphId:this.id,newWidth:d.w-50,newHeight:d.h-50});a&&a.stopPropagation()},onopenZoom:function(){},
reset:function(){if(!this._resetting){this._resetting=!0;this.isZoomed||(this._mobileHeightAdjusted&&(t.set(this.domNode,"width",this._originalWidth+"px"),t.set(this.domNode,"height",this._originalHeight+"px"),t.set(this.domNode.parentNode.parentNode,"height",this._originalHeight+"px"),this._mobileHeightAdjusted=!1),this._determineMobileHeight());var a=b.getContentBox(this.domNode);this._w=a.w;this._h=a.h;for(var c in this._surfaceList){var d=this._surfaceList[c];d.clear(!0);d.clearForeignObjects&&
d.clearForeignObjects();d.setDimensions(a.w,a.h);d.foreignObjectContainer&&d.foreignObjectContainer.resize()}this.getAxisX().destroyTickList();this.getAxisY().destroyTickList();(a=this.getAxisYAlt())&&a.destroyTickList();this.draw();this._resetting=!1}},initialize:function(){this.loadFromJson&&b.setMarginBox(this.domNode,{w:this._w,h:this._h});this.gfxSetup();var a=this;this._surfaceList.labelLayer.whenLoaded(this,function(){a.draw()})},gfxSetup:function(){var a=b.getContentBox(this.domNode);0==a.w&&
0==a.h&&(a.w=t.get(this.domNode,"width"),a.h=t.get(this.domNode,"height"));c.switchTo("canvas");this._surfaceList.regionLayer=c.createSurface(this.domNode,a.w,a.h);c.switchTo(this.renderMode);this._surfaceList.shapesLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.gridLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.axisLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.functionLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.barChartLayer=c.createSurface(this.domNode,
a.w,a.h);this._surfaceList.pieChartLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.regionMarkersLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.labelLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.blobLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.shapesLayer.rawNode.setAttribute("data-layer","shapes");this._surfaceList.gridLayer.rawNode.setAttribute("data-layer","grid");this._surfaceList.axisLayer.rawNode.setAttribute("data-layer","axis");
this._surfaceList.functionLayer.rawNode.setAttribute("data-layer","functions");this._surfaceList.barChartLayer.rawNode.setAttribute("data-layer","barChart");this._surfaceList.pieChartLayer.rawNode.setAttribute("data-layer","pieChart");this._surfaceList.regionMarkersLayer.rawNode.setAttribute("data-layer","regionMarkers");this._surfaceList.labelLayer.rawNode.setAttribute("data-layer","labels");this._surfaceList.blobLayer.rawNode.setAttribute("data-layer","blobs");this._surfaceList.regionLayer.rawNode.setAttribute("data-layer",
"regions");for(var d in this._surfaceList)this._surfaceList[d].rawNode.style.position="absolute",this._surfaceList[d].rawNode.style.top="0px",this._surfaceList[d].rawNode.style.left="0px",h("edge")&&t.set(this._surfaceList[d].rawNode,"pointer-events","none");this._w=a.w;this._h=a.h;ba(this.domNode,"dragstart",A.hitch(this,"_onDragStart"));ba(this.domNode,"selectstart",A.hitch(this,"_onSelectStart"));(this.graphHasDataGraph()||this.graphHasInteractions())&&ba(this.domNode,"click",A.hitch(this,"_onInteraction"))},
getBlobSurfaceLayer:function(){return this._surfaceList.blobLayer},getPlotSurfaceLayer:function(){return this._surfaceList.functionLayer},getLabelSurfaceLayer:function(){return this._surfaceList.labelLayer},getRegionSurfaceLayer:function(){return this._surfaceList.regionLayer},getRegionMarkerSurfaceLayer:function(){return this._surfaceList.regionMarkersLayer},_onKeyDown:function(a){this.printing?a.preventDefault():this.processKeyCode(a.keyCode)&&(a.stopPropagation(),a.preventDefault())},processKeyCode:function(a){var b=
!1;if(this.getFocusBlob()&&this.getFocusBlob().getVisible()&&this.getFocusBlob().getCanMove()){switch(a){case C.LEFT_ARROW:this.getFocusBlob().nudge(-1,0);b=!0;break;case C.RIGHT_ARROW:this.getFocusBlob().nudge(1,0);b=!0;break;case C.UP_ARROW:this.getFocusBlob().nudge(0,1);b=!0;break;case C.DOWN_ARROW:this.getFocusBlob().nudge(0,-1),b=!0}if(b){var c=this.getAxisX().worldToView(this.getFocusBlob().getLocationX()),d=this.getAxisY().worldToView(this.getFocusBlob().getLocationY());this._lastMouseX=c;
this._lastMouseY=d}}switch(a){case C.ENTER:if(this._dragBlob=this.getBlobAtPos(this._lastMouseX,this._lastMouseY))c=this.getAxisX().worldToView(this.getFocusBlob().getLocationX()),d=this.getAxisY().worldToView(this.getFocusBlob().getLocationY()),this.pressDragBlob(c,d),this.domNode.focus(),b=!0;this._dragBlob=null;this._lastMouseX=this._lastMouseY=0}return b},_onDragStart:function(a){r.stop(a)},_onSelectStart:function(a){r.stop(a)},initializeChildren:function(){if(this.loadFromJson){this.axisX&&this.axisX.location&&
(this.axisX.location=this._getAxisLocation(this.axisX.location));this._xAxis=new O(this.axisX);this._xAxis._graph=this;this._xAxis.startup();this.axisY&&this.axisY.location&&(this.axisY.location=this._getAxisLocation(this.axisY.location));this._yAxis=new O(this.axisY);this._yAxis._graph=this;this._yAxis.startup();this.axisYAlt&&(this.axisYAlt.location&&(this.axisYAlt.location=this._getAxisLocation(this.axisYAlt.location)),this.axisYAlt.visible=!1,this._yAxisAlt=new O(this.axisYAlt),this._yAxisAlt._graph=
this,this._yAxisAlt.startup());this.titlePosition=this.titlePosition?this._getTitlePosition(this.titlePosition):0;var b,c;if(this.plots)for(b=0;b<this.plots.length;b++)c=this.plots[b],("scatter"===c.plotType?new I(c):"numberlineplot"===c.plotType?new R(c):new T(c)).setGraph(this);if(this.labels)for(b=0;b<this.labels.length;b++)c=this.labels[b],c.locationUnits&&(c.locationUnits=this._getLocationUnits(c.locationUnits)),(new U(c)).setGraph(this);if(this.regions)for(b=0;b<this.regions.length;b++)c=this.regions[b],
(new Y(c)).setGraph(this);if(this.shapes)for(b=0;b<this.shapes.length;b++)c=this.shapes[b],(new V(c)).setGraph(this)}else{b=this.getChildren();var d=this;a.forEach(b,function(a,b){a.isInstanceOf(O)?(a.get("orientation")==x.IPGraphAxisOrientation.HORIZONTAL?d._xAxis=a:a.get("orientation")==x.IPGraphAxisOrientation.VERTICAL&&a.get("isAlt")?d._yAxisAlt=a:a.get("orientation")==x.IPGraphAxisOrientation.VERTICAL&&(d._yAxis=a),a._graph=d):a.isInstanceOf(N)?(d._grid=a,a._graph=d):a.isInstanceOf(X)&&(a.setGraph(d),
a.isInstanceOf(Q)&&""!=a.label&&d._xAxis.customTicks.push({value:a.labelPosition,label:a.label,alignment:x.IPGraphAlignment.CENTER,tickType:x.IPGraphTickType.MAJOR,hideGrid:!0,noFormat:!0}))})}},getGraphObjectParams:function(a){var b,c,d={labels:[],plots:[],xAxis:[],yAxis:[],yAltAxis:[]};for(b=0;b<this.getPartCount();b++)if(c=this.getPart(b),a||0>c.getTag())c.objectParams&&(c.isInstanceOf(U)?d.labels.push(c.objectParams):(c.isInstanceOf(I)||c.isInstanceOf(T))&&d.plots.push(c.objectParams));this._hasDataGraph&&
(d.xAxis=this.getAxisX().getProperties(),d.yAxis=this.getAxisY().getProperties(),this.getAxisYAlt()&&(d.yAltAxis=this.getAxisYAlt().getProperties()));return d},getGraphData:function(a){var b,c=[];for(b=0;b<this.getPartCount();b++){var d=this.getPart(b);(a||0>d.getTag())&&d.isInstanceOf($)&&c.push(d.getGraphData())}return c},setGraphData:function(b){var c=this;this.clearDialogObjects(!0);b.labels&&0<b.labels.length&&(this.clearMarkerList(),a.forEach(b.labels,function(a){var b=new U(a);b.objectParams=
a;b.setGraph(c)}));if(b.plots&&0<b.plots.length){var d=null;a.forEach(b.plots,function(a){if(c._hasDataGraph){var b=new I(a);b.objectParams=a;c.dataGraphAddPlot(b)}else{switch(a.graphType){case "scatter":d=new I(a);d.objectParams=a;break;case "function":d=new T(a),d.objectParams=a}d.setGraph(c)}})}c._hasDataGraph&&(this.getAxisX().setProperties(b.xAxis),this.getAxisY().setProperties(b.yAxis),this.getAxisYAlt()&&this.getAxisYAlt().setProperties(b.yAltAxis),this.reset(!0));this.validateGraph()},getWidth:function(){return this._w},
getHeight:function(){return this._h},getAxisX:function(){return this._xAxis},getAxisY:function(){return this._yAxis},getAxisYAlt:function(){return this._yAxisAlt},getPlotCount:function(){return this._plotList.length},getPlot:function(a){return this._plotList[a]},getLabelCount:function(){return this._labelList.length},getLabel:function(a){return this._labelList[a]},setupAllTitles:function(a){this.setupTitle(a);this.getAxisX().setupTitle(a);this.getAxisY().setupTitle(a);this.getAxisYAlt()&&this.getAxisYAlt().setupTitle(a)},
zoomBtnWidth:40,setupTitle:function(a){a=this._w;if(null===a||void 0===a)a=b.getContentBox(this.domNode).w;this.titlePosition==x.IPGraphTitlePosition.TOP&&(a=a-this._titleLeftMargin-this._titleRightMargin,this.hasZoomButton&&(a-=28));this._titleSize={h:aa.getWrappedTextHeight(this.titleFontSize,this.titleFont,this.graphTitle,a+"px"),w:a}},draw:function(){if(!this.disableDraw){if(0==this._w||0==this._h){var a=b.getContentBox(this.domNode);this._w=a.w;this._h=a.h}this.isZoomed||this._determineMobileHeight();
a=new H({left:0,top:0,right:this._w,bottom:this._h});this.calcPlotRect(a);this.adjustIsotropic();if(this._plotRect.right<=this._plotRect.left||this._plotRect.bottom<=this._plotRect.top)throw Error("the plot rectangle has invalid dimensions");this.setAxisPositions();this.titlePosition==x.IPGraphTitlePosition.TOP?this._gTitleLoc=this._plotRect.top:(this._gTitleLoc=this._plotRect.bottom+2,this._yAxis.showMinArrow&&(this._gTitleLoc+=this._yAxis.arrowExtensionLength));this._altXAxisTitlePos=this._plotRect.bottom;
this._altYAxisTitlePos=this._plotRect.left;this.drawRegion(this._surfaceList.regionLayer);this.drawGrid(this._surfaceList.gridLayer);this.drawOutline(this._surfaceList.gridLayer);this._surfaceList.axisLayer.clear();this._xAxis.draw(this._surfaceList.axisLayer);this._yAxis.draw(this._surfaceList.axisLayer);this._yAxisAlt&&this._yAxisAlt.draw(this._surfaceList.axisLayer);this._xAxis.drawTitle(this._surfaceList.axisLayer);this._yAxis.drawTitle(this._surfaceList.axisLayer);this._yAxisAlt&&this._yAxisAlt.drawTitle(this._surfaceList.axisLayer);
this.drawPlotList(this._surfaceList.functionLayer);this.drawShapesList(this._surfaceList.shapesLayer);this.drawRegionMarkers(this._surfaceList.regionMarkersLayer);this.drawLabels(this._surfaceList.labelLayer);this.drawBlobs(this._surfaceList.blobLayer);this.drawFunctionsExtra();this.drawTitle(this._surfaceList.gridLayer);this.dataGraphPrintData&&this.dataGraphPrintData.isPrinting&&this.displayDataGrapher();ia.staticFunctions.loadingCompleted(this)}},_maxMobileHeight:305,_originalWidth:null,_originalHeight:null,
_mobileHeightAdjusted:!1,_determineMobileHeight:function(){if(this.useMobileUI){var a;if(!this._mobileHeightAdjusted){this._originalWidth=t.get(this.domNode,"width");this._originalHeight=t.get(this.domNode,"height");var c=this._originalHeight/this._originalWidth;t.set(this.domNode,"width","100%");t.set(this.domNode.parentNode.parentNode,"width","100%");a=b.getMarginBox(this.domNode);var d=a.w*c;a=a.w;d>this._maxMobileHeight&&(c=this._maxMobileHeight/d,a*=c,t.set(this.domNode,"width",a+"px"),this._w=
a,this._h=d*c);t.set(this.domNode,"height",this._h+"px");t.set(this.domNode.parentNode.parentNode,"height",this._h+"px");a=b.getContentBox(this.domNode);this._w=a.w;this._h=a.h;this._mobileHeightAdjusted=!0;this.getViewer().resize()}}},drawFunctionsExtra:function(){},drawShapesList:function(a){a.clear(!0);for(var b=0;b<this._shapeList.length;b++)this._shapeList[b].draw(a)},drawOutline:function(a){this.showOutline&&aa.drawRectangle(a,this._plotRect.left,this._plotRect.top,this._plotRect.right-this._plotRect.left,
this._plotRect.bottom-this._plotRect.top,this.outlineColor,null)},drawBlobs:function(a){a.clear();for(var b=0;b<this._blobList.length;b++)this._blobList[b].draw(a)},getVisibleRegions:function(){for(var a=0;a<this._regionList.length;a++)if(this._regionList[a].getVisible())return!0;return!1},drawRegion:function(a){a.clear(!0);if(this.getVisibleRegions()){c.switchTo("canvas");var b;b=Z.toRGB("#FFFCFC");b.a=1;this.drawMaskPlotList(a,b);for(var d=0;d<this._regionList.length;d++)this._regionList[d].fill(a,
b);c.switchTo(this.renderMode)}},drawRegionMarkers:function(a){var b;a.clear(!0);for(b=0;b<this._regionList.length;b++)this._regionList[b].draw(a)},drawTitle:function(a){var b,c;this._titleFo&&a.createForeignObject&&(this._titleFo.destroy(),delete this._titleFo);if(this.graphTitle)if(this.titlePosition==x.IPGraphTitlePosition.TOP?(c=this._gTitleLoc-this._titleSize.h,b=this._titleLeftMargin):(c=this._gTitleLoc,b=0),a.createForeignObject){var d=e.create("div",{innerHTML:this.graphTitle,style:{width:this._titleSize.w+
"px"}});this._titleFo=a.createForeignObject({x:b,y:c,width:this._titleSize.w,height:this._titleSize.h,content:d,fontFamily:this.titleFont,fontSize:this.titleFontSize,classNames:"graphTitle"})}else b=aa.measureText(a,this.graphTitle,this.titleFontSize,this.titleFont),b=(this._w-b.width)/2,aa.drawText(a,b,c,this.graphTitle,this.titleColor,this.titleFontSize,this.titleFont)},adjustIsotropic:function(){var a,b,c,d;if(this.isotropic){a=this._plotRect.clone();try{b=Math.abs((this.getAxisY().getMaximum()-
this.getAxisY().getMinimum())/(this.getAxisX().getMaximum()-this.getAxisX().getMinimum()))}catch(h){b=0}a.right!=a.left?(c=1*(a.bottom-a.top)/(a.right-a.left),c=Math.abs(c)):c=0;b<c?(c=a.right-a.left,d=Math.round(b*c),b=a.bottom-a.top-d,this.isoVAlignTop?a.bottom-=b:(a.top+=Math.round(b/2),a.bottom-=Math.round(b-b/2))):0!=c&&(d=a.bottom-a.top,c=Math.round(d/b),b=a.right-a.left-c,a.left+=Math.round(b/2),a.right-=Math.round(b-b/2));this._plotRect=a.clone();this.getAxisX().setView(a.left,a.right);this.getAxisY().setView(a.bottom,
a.top);this.getAxisYAlt()&&this.getAxisYAlt().setView(a.bottom,a.top)}else this.squareGraph&&(a=this._plotRect.clone(),c=a.right-a.left,d=a.bottom-a.top,c>d?(a.left+=Math.round((c-d)/2),a.right=a.left+d):(a.top+=Math.round((d-c)/2),a.bottom=a.top+c),this._plotRect=a.clone(),this.getAxisX().setView(a.left,a.right),this.getAxisY().setView(a.bottom,a.top),this.getAxisYAlt()&&this.getAxisYAlt().setView(a.bottom,a.top))},adjustGTitlePos:function(a){this._gTitleLoc=this.titlePosition==x.IPGraphTitlePosition.TOP?
v.min(this._gTitleLoc,a):v.max(this._gTitleLoc,a)},drawPlotList:function(a){a.clear(!0);var b=[],c;for(c=0;c<this.getPlotCount();c++){var d=this.getPlot(c);d.getVisible()&&(d.isInstanceOf(xl.editgraph.GraphHoleObject)?b.push(d):d.draw(a))}if(0<b.length)for(c=0;c<b.length;c++)b[c].draw(a)},redrawPlot:function(a,b){b&&b.PolyLine&&(a.remove(b.PolyLine),b.getVisible()&&b.draw(a))},drawMaskPlotList:function(a,b){for(var c=0;c<this.getPlotCount();c++){var d=this.getPlot(c);d.getNoRegion()||d.drawMask(a,
b)}},drawLabels:function(a){a.clear(!0);a.clearForeignObjects&&a.clearForeignObjects();for(var b=0;b<this.getLabelCount();b++){var c=this.getLabel(b);c.getVisible()&&c.draw(a)}},drawGrid:function(a){a.clear(!0);this.showGrid&&(this._xAxis.drawGridLines(a,this.gridColor),this._yAxis.drawGridLines(a,this.gridColor))},validateCallBack:null,validateGraph:function(){this.validateCallBack||(this.validateCallBack=!0,setTimeout(A.hitch(this,this.validateCallbackFunction),0))},validateCallbackFunction:function(){this._destroyed||
(this._needsDrawing?(this._plotLayerInvalidated=this._blobLayerInvalidated=this._needsDrawing=!1,this.draw(),this.validateCallBack=!1):(this._blobLayerInvalidated&&(this._blobLayerInvalidated=!1,this.drawBlobs(this.getBlobSurfaceLayer())),this._plotLayerInvalidated&&(this._plotLayerInvalidated=!1,!this.isObjectDeleting&&this.selectedObj&&this.selectedObj.redrawWhenSelected?this.redrawPlot(this.getPlotSurfaceLayer(),this.selectedObj):this.drawPlotList(this.getPlotSurfaceLayer()),this.isObjectDeleting=
!1),this._labelLayerInvalidated&&(this._labelLayerInvalidated=!1,this.drawLabels(this.getLabelSurfaceLayer())),this._regionLayerInvalidated&&(this._regionLayerInvalidated=!1,this.drawRegion(this.getRegionSurfaceLayer()),this.drawRegionMarkers(this.getRegionMarkerSurfaceLayer())),this.validateCallBack=!1,ba.emit(this.domNode,"validationCompleted",{bubbles:!0,cancelable:!0,sourceObject:this})))},invalidatePlots:function(){this._plotLayerInvalidated=!0},invalidateBlobs:function(){this._blobLayerInvalidated=
!0},invalidateLabels:function(){this._labelLayerInvalidated=!0},invalidateRegions:function(){this._regionLayerInvalidated=!0},invalidateGraph:function(){this._invalidating||(this._needsDrawing=!0)},invalidateAllParts:function(){_invalidating=!0},setAxisPositions:function(){var a;this.getAxisY()&&(a=this.getAxisY().pixelLocation(),a=v.ensureRange(a,this._plotRect.left,this._plotRect.right),this.getAxisY().position=a);this.getAxisYAlt()&&(a=this.getAxisYAlt().pixelLocation(),a=v.ensureRange(a,this._plotRect.left,
this._plotRect.right),this.getAxisYAlt().position=a);this.getAxisX()&&(a=this.getAxisX().pixelLocation(),a=v.ensureRange(a,this._plotRect.top,this._plotRect.bottom),this.getAxisX().position=a)},calcPlotRect:function(a){var b,c,d,h,e,f=a.right-a.left,k=a.bottom-a.top;c=this.plotMargins;b=a.clone();this.getAxisX().setupTitle(this._surfaceList.axisLayer);this.getAxisY().setupTitle(this._surfaceList.axisLayer);this.getAxisYAlt()&&this.getAxisYAlt().visible&&this.getAxisYAlt().setupTitle(this._surfaceList.axisLayer);
this._autoAdjustMargins&&(this._plotRect=b.clone(),this.getAxisX().setView(b.left,b.right),this.getAxisY().setView(b.bottom,b.top),this.getAxisYAlt()&&this.getAxisYAlt().setView(b.bottom,b.top),this.setAxisPositions(),d=this.getAxisX().calcMarginsNeeded(this._surfaceList.axisLayer),h=this.getAxisY().calcMarginsNeeded(this._surfaceList.axisLayer),this.getAxisYAlt()&&this.getAxisYAlt().visible&&(e=this.getAxisYAlt().calcMarginsNeeded(this._surfaceList.axisLayer),h.top=v.max(h.top,e.top),h.left=v.max(h.left,
e.left),h.right=v.max(h.right,e.right),h.bottom=v.max(h.bottom,e.bottom)),!this.isZoomed&&this.hasZoomButton&&(d.right+=this.zoomBtnWidth),b.bottom-=v.max(d.bottom,h.bottom),b.top+=v.max(d.top,h.top),this.getAxisX().title&&this.getAxisX().altTitlePos&&this.getAxisX()._titleSize&&(b.bottom-=this.getAxisX()._titleSize.height),this.getAxisY().title&&this.getAxisY().altTitlePos&&this.getAxisY()._titleSize&&(b.left+=this.getAxisY()._titleSize.width+this.getAxisY().titleMargin),this.graphTitle&&(this.setupTitle(b),
this._titleSize&&0<this._titleSize.w&&(this.titlePosition==x.IPGraphTitlePosition.TOP?b.top+=this._titleSize.h:b.bottom-=this._titleSize.h)),b.left+=v.max(d.left,h.left),b.right-=v.max(d.right,h.right));this.adjustPlotRect(b);b.left=v.max(b.left,c.left);b.top=v.max(b.top,c.top);b.bottom=v.min(b.bottom,k-c.bottom);b.right=v.min(b.right,f-c.right);b.top=Math.round(b.top);b.bottom=Math.round(b.bottom);b.left=Math.round(b.left);b.right=Math.round(b.right);b.right<=b.left&&(b.left=Math.round((a.left+a.right)/
2),b.right=b.left+1);b.top>=b.bottom&&(b.top=Math.round((a.top+a.bottom)/2),b.bottom=b.top+1);this._plotRect=b;this.getAxisX().setView(b.left,b.right);this.getAxisY().setView(b.bottom,b.top);this.getAxisYAlt()&&this.getAxisYAlt().setView(b.bottom,b.top)},adjustPlotRect:function(a){},onFocus:function(){},onBlur:function(){},_keyboard:null,addBlob:function(a,b){a&&(this._blobList.push(a),this._surfaceList.blobLayer&&(!b&&a.visible)&&a.draw(this._surfaceList.blobLayer),this.currentBlob=a)},invalidateGraphPart:function(a){a.isInstanceOf(L)?
this.invalidatePlots():a.isInstanceOf(U)||(a.isInstanceOf(Y)?this.invalidateRegions():a.isInstanceOf(V)||(a.isInstanceOf(fa)?this.invalidateBlobs():this.invalidateGraph()))},addPart:function(a,b){a.isInstanceOf(L)?(this._plotList.push(a),this.invalidatePlots()):a.isInstanceOf(U)?(this._labelList.push(a),this.invalidateLabels()):a.isInstanceOf(Y)?(this._regionList.push(a),this.invalidateRegions()):a.isInstanceOf(V)?this._shapeList.push(a):a.isInstanceOf(fa)?(this._blobList.push(a),this.invalidateBlobs()):
console.log("unknown part:",a)},removePart:function(a){a.isInstanceOf(L)?(a=this._plotList.indexOf(a),this._plotList.splice(a,1),this.invalidatePlots()):a.isInstanceOf(U)?(a=this._labelList.indexOf(a),this._labelList.splice(a,1),this.invalidateLabels()):a.isInstanceOf(Y)?(a=this._regionList.indexOf(a),this._regionList.splice(a,1),this.invalidateRegions()):a.isInstanceOf(V)?(a=this._shapeList.indexOf(a),this._shapeList.splice(a,1)):a.isInstanceOf(fa)?(a=this._blobList.indexOf(a),this._blobList.splice(a,
1),this.invalidateBlobs()):console.log("unknown part:",a)},removeBlobs:function(){this._blobList.splice(0,this._blobList.length)},drawVerticalLine:function(a,b,c,d){var h,e;h=this.getAxisY().worldToViewF(this.getAxisY()._maximum);e=this.getAxisY().worldToViewF(this.getAxisY()._minimum);return aa.drawLine(a,b,h,b,e,d,c,1)},drawHorizontalLine:function(a,b,c,d){var h,e;h=this.getAxisX().worldToViewF(this.getAxisX()._maximum);e=this.getAxisX().worldToViewF(this.getAxisX()._minimum);return aa.drawLine(a,
h,b,e,b,d,c,1)},worldToView:function(a){for(var b=[],c=0;c<a.length;c++){var d={};d.x=this.getAxisX().worldToViewF(a[c].x);d.y=this.getAxisY().worldToViewF(a[c].y);b.push(d)}return b},percentXToView:function(a){return Math.round(0.01*a*this._w)},percentYToView:function(a){return Math.round(this._h-0.01*a*this._h)},percentXToViewF:function(a){return 0.01*a*this._w},percentYToViewF:function(a){return this._h-0.01*a*this._h},getShape:function(a){return this._shapeList[a]},getRegion:function(a){return this._regionList[a]},
getRegionList:function(){return this._regionList},getTrackBlob:function(){return this._trackBlob},setTrackBlob:function(a){this._trackBlob=a},getPlotRect:function(){return this._plotRect},getClipFunctions:function(){return this._clipFunctions},setClipFunctions:function(a){this._clipFunctions=a},getFocusBlob:function(){return this._focusBlob},canFocus:function(){return this.enabled&&this.visible},setFocusBlob:function(a){var b;this._focusBlob&&(b=this._focusBlob,this._focusBlob=null,b.focusLost());
this._focusBlob=null;a&&a.getGraph()==this&&((this._focusBlob=a)&&this._focusBlob.focusGained(),this._focusBlob.move(this._focusBlob.getLocationX(),this._focusBlob.getLocationY(),x.IPGraphBlobState.FOCUSED,!0))},setSize:function(a,c){b.setMarginBox(this.domNode,{w:a,h:c});this.isZoomed&&b.setMarginBox(this.domNode.parentNode.parentNode,{w:a,h:c});this.reset()},getBlob:function(a){return this._blobList[a]},getBlobCount:function(){return this._blobList.length},getPlotLabel:function(a){return this._labelList[a]},
getPart:function(a){var b,c,d,h,e;b=this._regionList.length;c=b+this._shapeList.length;d=c+this._plotList.length;h=d+this._labelList.length;e=h+this._blobList.length;return a<b?this.getRegion(a):a<c?this.getShape(a-b):a<d?this.getPlot(a-c):a<h?this.getPlotLabel(a-d):a<e?this.getBlob(a-h):null},getPartCount:function(){return this._regionList.length+this._shapeList.length+this._plotList.length+this._labelList.length+this._blobList.length},doGraphZoomed:function(a){var b=this.getGraphControl().getTransformPalette();
b&&b.hide();this.emit("graphZoomed",{graph:this,zoomedGraph:a});null!=this.dataGrapherOptions&&(b=this.dataGrapherOptions,b.zoomedGraphId=a.id,this.getViewer().postCommand(this._dataGrapherDialog._displayDataGrapherCommand,b))},doOkZoomed:function(a){this.emit("okZoomed",{zoomedGraph:this,graph:a})},doCancelZoomed:function(){this.emit("cancelZoomed",{})},resetToolTip:function(){this.emit("resetToolTip",{})},ongraphZoomed:function(a){},onokZoomed:function(a){},oncancelZoomed:function(a){},onresetToolTip:function(a){},
onFormatDate:function(a,b){var c=new Date(parseInt(a));if(!b||""==b)b=this.defaultDateFormat;return(new S(b)).format(c)},graphHasDataGraph:function(){return this._hasDataGraph},graphHasInteractions:function(){return this._hasInteractions},_dataGrapherDialog:null,dataGrapherOptions:null,_InteractionsDialog:null,interactionsOptions:null,_onInteraction:function(a){!this.isZoomed&&(!this._graphControl.getControlData().isInDijitViewer&&!this._disableInteractionDialog)&&(this.graphHasDataGraph()?(null==
this._dataGrapherDialog&&(this._dataGrapherDialog=new qa({options:this.dataGraphOptions,graphId:this.id})),this._dataGrapherDialog.show(this.domNode,this)):this.graphHasInteractions&&(null==this._InteractionsDialog&&(this._InteractionsDialog=new ta({selectOptions:this.interactionsOptions,graphId:this.id})),this._InteractionsDialog.show(this.domNode,this)),a.stopPropagation())},clearPlotList:function(){for(var a=this._plotList.splice(0,this._plotList.length),b=0;b<a.length;b++)a[b].destroy();this.invalidatePlots()},
clearMarkerList:function(){for(var a=0;a<this._labelList.length;a++)this._labelList[a].isMarker&&(this._labelList.splice(a,1),a--);this.invalidateLabels()},resetMarkerColors:function(){for(var a=0;a<this._labelList.length;a++){var b=this._labelList[a];b.isMarker&&(b.fontColor="#808080",b.symbolBackground="#808080",b.symbolColor="#808080")}},getMarginTop:function(){return this.plotMargins.top},setMarginTop:function(a){a!=this.plotMargins.top&&(this.plotMargins.top=a,this.invalidateGraph())},getMarginBottom:function(){return this.plotMargins.bottom},
setMarginBottom:function(a){a!=this.plotMargins.bottom&&(this.plotMargins.bottom=a,this.invalidateGraph())},getMarginLeft:function(){return this.plotMargins.left},setMarginLeft:function(a){a!=this.plotMargins.left&&(this.plotMargins.left=a,this.invalidateGraph())},getMarginRight:function(){return this.plotMargins.right},setMarginRight:function(a){a!=this.plotMargins.right&&(this.plotMargins.right=a,this.invalidateGraph())},dataGraphAddPlot:function(a){this._dataGraphPlotIds.push(a.id);a.setGraph(this)},
_dataGraphRemovePlot:function(a){for(var b=0;b<this._plotList.length;b++)this._plotList[b].id==a&&this._plotList.splice(b,1)[0].destroy()},dataGraphRemoveAllPlots:function(){for(var a=0;a<this._dataGraphPlotIds.length;a++)this._dataGraphRemovePlot(this._dataGraphPlotIds[a]);this.invalidatePlots()},drawOnCanvas:function(a){var d=this.renderMode,h={};this.renderMode="canvas";c.switchTo(this.renderMode);var e=b.getContentBox(this.domNode),f;for(f in this._surfaceList)this._surfaceList.hasOwnProperty(f)&&
(h[f]=this._surfaceList[f],this._surfaceList[f]=c.createSurface(a,e.w,e.h));this.draw();a={};for(f in h)h.hasOwnProperty(f)&&(a[f]=this._surfaceList[f],this._surfaceList[f]=h[f]);this.renderMode=d;c.switchTo(this.renderMode);return a},onFormatNumber:function(a,b){return this.formatFloat(a,b)},formatFloat:function(a,b){var c=ka.getFormatInfo(b);c.sicommaformatting=this.formatSettings.siCommaFormatting;c.sicommachar=this.formatSettings.siCommaChar;c.sicommadecimal=this.formatSettings.siCommaDecimal;
return ka.formatFloatEx(a,c,this.formatSettings.currencyType)},getXYCursors:function(){return this._xyCursors},addXYCursor:function(a){this._xyCursors.push(a)},getXYCursorBlobObject:function(){for(var a=0;a<this._blobList.length;a++)if(this._blobList[a].isInstanceOf(W))return this._blobList[a];return null},displayDataGrapher:function(){this.getAxisX().setProperties(this.dataGraphPrintData.xAxis);this.getAxisY().setProperties(this.dataGraphPrintData.yAxis);this.getAxisYAlt().setProperties(this.dataGraphPrintData.yAltAxis);
this.dataGraphRemoveAllPlots();for(var a=0;a<this.dataGraphPrintData.drawObjects.length;a++){var b=new I(this.dataGraphPrintData.drawObjects[a]);this.dataGraphAddPlot(b)}this.reset(!0)},_locationNameMap:{custom:3,max:2,min:1},_titlePositionNameMap:{bottom:1},_locationUnitsNameMap:{yaxis:3,xaxis:2,graphpercent:1},_getAxisLocation:function(a){return"number"===typeof a?a:(a=this._locationNameMap[a.toLowerCase()])?a:0},setInputData:function(a){var b=this.getGraphControl();b.getGraphManager().clearGraphObjects();
b.getGraphManager().initGraphObjects(a,-1);b.getGraph().validateGraph()},_getLocationUnits:function(a){if("string"!==typeof a)return a;a=this._locationUnitsNameMap[a.toLowerCase()];return this._getReturnVal(a)},_getTitlePosition:function(a){if("string"!==typeof a)return a;a=this._titlePositionNameMap[a.toLowerCase()];return this._getReturnVal(a)},_getReturnVal:function(a){return a?a:0},isDialogObject:function(a){return a.isInstanceOf(U)||a.isInstanceOf(I)||a.isInstanceOf(T)},clearDialogObjects:function(a){var b,
c;for(b=0;b<this.getPartCount();b++)c=this.getPart(b),(a||0>c.getTag())&&this.isDialogObject(c)&&c.objectParams&&this.removePart(c)}})})},"dojox/gfx/canvas":function(){define("./_base dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/window dojo/dom-geometry dojo/dom ./shape ./path ./arc ./matrix ./decompose ./bezierutils".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t){function h(a,b,c,d,h,e,f,k,q,r){var n,l,s=b.length,t=0;r?(l=r.l/h,t=r.i):l=b[0]/h;for(;e<f;)e+l>f&&(n={l:(e+l-f)*h,i:t},
l=f-e),t%2||(a.beginPath(),a.arc(c,d,h,e,e+l,k),q&&a.stroke()),e+=l,++t,l=b[t%s]/h;return n}function q(a,b,c,d){var h=0,e=0,f,k=0;d?(f=d.l,k=d.i):f=b[0];for(;1>e;)e=t.tAtLength(a,f),1==e&&(h=t.computeLength(a),h={l:f-h,i:k}),a=t.splitBezierAtT(a,e),k%2||c.push(a[0]),a=a[1],++k,f=b[k%b.length];return h}function u(a,b,c,d){var h=[b.last.x,b.last.y].concat(c),e=!(a instanceof Array);c=4===c.length?"quadraticCurveTo":"bezierCurveTo";var f=[];b=q(h,b.canvasDash,f,d);for(d=0;d<f.length;++d)h=f[d],e?(a.moveTo(h[0],
h[1]),a[c].apply(a,h.slice(2))):(a.push("moveTo",[h[0],h[1]]),a.push(c,h.slice(2)));return b}function v(a,b,c,d,h,e,f){var k=0,q=0,r=0,n=t.distance(c,d,h,e),l=0;b=b.canvasDash;var s=c,u=d,m,v=!(a instanceof Array);f?(r=f.l,l=f.i):r+=b[0];for(;0.01<Math.abs(1-q);)r>n&&(k={l:r-n,i:l},r=n),q=r/n,f=c+(h-c)*q,m=d+(e-d)*q,l++%2||(v?(a.moveTo(s,u),a.lineTo(f,m)):(a.push("moveTo",[s,u]),a.push("lineTo",[f,m]))),s=f,u=m,r+=b[l%b.length];return k}var w=l.canvas={},x=null,A=s.multiplyPoint,z=Math.PI,C=2*z,F=
z/2;r=m.extend;if(e.global.CanvasRenderingContext2D){e=e.doc.createElement("canvas").getContext("2d");var B="function"==typeof e.setLineDash,D="function"==typeof e.fillText}var E={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};w.Shape=f("dojox.gfx.canvas.Shape",c.Shape,{_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);
this._renderShape(a);this._renderFill(a,!0);this._renderStroke(a,!0);a.restore()},_renderClip:function(a){this.canvasClip&&(this.canvasClip.render(a),a.clip())},_renderTransform:function(a){if("canvasTransform"in this){var b=this.canvasTransform;a.translate(b.dx,b.dy);a.rotate(b.angle2);a.scale(b.sx,b.sy);a.rotate(b.angle1)}},_renderShape:function(a){},_renderFill:function(a,b){if("canvasFill"in this){var c=this.fillStyle;if("canvasFillImage"in this){var d=c.width,h=c.height,e=this.canvasFillImage.width,
f=this.canvasFillImage.height,k=Math.min(d==e?1:d/e,h==f?1:h/f),q=(d-k*e)/2,r=(h-k*f)/2;x.width=d;x.height=h;var n=x.getContext("2d");n.clearRect(0,0,d,h);n.drawImage(this.canvasFillImage,0,0,e,f,q,r,k*e,k*f);this.canvasFill=a.createPattern(x,"repeat");delete this.canvasFillImage}a.fillStyle=this.canvasFill;b&&("pattern"===c.type&&(0!==c.x||0!==c.y)&&a.translate(c.x,c.y),a.fill())}else a.fillStyle="rgba(0,0,0,0.0)"},_renderStroke:function(a,b){var c=this.strokeStyle;c?(a.strokeStyle=c.color.toString(),
a.lineWidth=c.width,a.lineCap=c.cap,"number"==typeof c.join?(a.lineJoin="miter",a.miterLimit=c.join):a.lineJoin=c.join,this.canvasDash?B?(a.setLineDash(this.canvasDash),b&&a.stroke()):this._renderDashedStroke(a,b):b&&a.stroke()):b||(a.strokeStyle="rgba(0,0,0,0.0)")},_renderDashedStroke:function(a,b){},getEventSource:function(){return null},on:function(){},connect:function(){},disconnect:function(){},canvasClip:null,setClip:function(a){this.inherited(arguments);var b=a?"width"in a?"rect":"cx"in a?
"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!b)return this;this.canvasClip=a?J(b,a):null;this.parent&&this.parent._makeDirty();return this}});var J=function(a,b){switch(a){case "ellipse":return{canvasEllipse:K({shape:b}),render:function(a){return w.Ellipse.prototype._renderShape.call(this,a)}};case "rect":return{shape:m.delegate(b,{r:0}),render:function(a){return w.Rect.prototype._renderShape.call(this,a)}};case "path":return{canvasPath:N(b),render:function(a){this.canvasPath._renderShape(a)}};
case "polyline":return{canvasPolyline:b.points,render:function(a){return w.Polyline.prototype._renderShape.call(this,a)}}}return null},N=function(a){var b=new dojox.gfx.canvas.Path;b.canvasPath=[];b._setPath(a.d);return b},O=function(a,b,c){var d=a.prototype[b];a.prototype[b]=c?function(){this.parent&&this.parent._makeDirty();d.apply(this,arguments);c.call(this);return this}:function(){this.parent&&this.parent._makeDirty();return d.apply(this,arguments)}};O(w.Shape,"setTransform",function(){this.matrix?
this.canvasTransform=l.decompose(this.matrix):delete this.canvasTransform});O(w.Shape,"setFill",function(){var a=this.fillStyle,b;if(a){if("object"==typeof a&&"type"in a){var c=this.surface.rawNode.getContext("2d");switch(a.type){case "linear":case "radial":b="linear"==a.type?c.createLinearGradient(a.x1,a.y1,a.x2,a.y2):c.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.r);k.forEach(a.colors,function(a){b.addColorStop(a.offset,l.normalizeColor(a.color).toString())});break;case "pattern":x||(x=document.createElement("canvas")),
c=new Image,this.surface.downloadImage(c,a.src),this.canvasFillImage=c}}else b=a.toString();this.canvasFill=b}else delete this.canvasFill});O(w.Shape,"setStroke",function(){var a=this.strokeStyle;if(a){var b=this.strokeStyle.style.toLowerCase();b in E&&(b=E[b]);if(b instanceof Array){this.canvasDash=b=b.slice();var c;for(c=0;c<b.length;++c)b[c]*=a.width;if("butt"!=a.cap){for(c=0;c<b.length;c+=2)b[c]-=a.width,1>b[c]&&(b[c]=1);for(c=1;c<b.length;c+=2)b[c]+=a.width}}else delete this.canvasDash}else delete this.canvasDash;
this._needsDash=!B&&!!this.canvasDash});O(w.Shape,"setShape");w.Group=f("dojox.gfx.canvas.Group",w.Shape,{constructor:function(){c.Container._init.call(this)},_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},destroy:function(){c.Container.clear.call(this,!0);w.Shape.prototype.destroy.apply(this,arguments)}});w.Rect=f("dojox.gfx.canvas.Rect",[w.Shape,c.Rect],{_renderShape:function(a){var b=this.shape,
c=Math.min(b.r,b.height/2,b.width/2),d=b.x,h=d+b.width,e=b.y,b=e+b.height,f=d+c,k=h-c,q=e+c,r=b-c;a.beginPath();a.moveTo(f,e);c?(a.arc(k,q,c,-F,0,!1),a.arc(k,r,c,0,F,!1),a.arc(f,r,c,F,z,!1),a.arc(f,q,c,z,z+F,!1)):(a.lineTo(k,e),a.lineTo(h,r),a.lineTo(f,b),a.lineTo(d,q));a.closePath()},_renderDashedStroke:function(a,b){var c=this.shape,d=Math.min(c.r,c.height/2,c.width/2),e=c.x,f=e+c.width,k=c.y,q=k+c.height,r=e+d,n=f-d,l=k+d,s=q-d;d?(a.beginPath(),c=v(a,this,r,k,n,k),b&&a.stroke(),c=h(a,this.canvasDash,
n,l,d,-F,0,!1,b,c),a.beginPath(),c=v(a,this,f,l,f,s,c),b&&a.stroke(),c=h(a,this.canvasDash,n,s,d,0,F,!1,b,c),a.beginPath(),c=v(a,this,n,q,r,q,c),b&&a.stroke(),c=h(a,this.canvasDash,r,s,d,F,z,!1,b,c),a.beginPath(),c=v(a,this,e,s,e,l,c),b&&a.stroke(),h(a,this.canvasDash,r,l,d,z,z+F,!1,b,c)):(a.beginPath(),c=v(a,this,r,k,n,k),c=v(a,this,n,k,f,s,c),c=v(a,this,f,s,r,q,c),v(a,this,r,q,e,l,c),b&&a.stroke())}});var H=[];(function(){var b=a.curvePI4;H.push(b.s,b.c1,b.c2,b.e);for(var c=45;360>c;c+=45){var d=
s.rotateg(c);H.push(A(d,b.c1),A(d,b.c2),A(d,b.e))}})();var K=function(a){var b,c,d,h=[],e=a.shape,f=s.normalize([s.translate(e.cx,e.cy),s.scale(e.rx,e.ry)]);b=A(f,H[0]);h.push([b.x,b.y]);for(e=1;e<H.length;e+=3)c=A(f,H[e]),d=A(f,H[e+1]),b=A(f,H[e+2]),h.push([c.x,c.y,d.x,d.y,b.x,b.y]);if(a._needsDash){b=[];c=h[0];for(e=1;e<h.length;++e)d=[],q(c.concat(h[e]),a.canvasDash,d),c=[h[e][4],h[e][5]],b.push(d);a._dashedPoints=b}return h};w.Ellipse=f("dojox.gfx.canvas.Ellipse",[w.Shape,c.Ellipse],{setShape:function(){this.inherited(arguments);
this.canvasEllipse=K(this);return this},setStroke:function(){this.inherited(arguments);B||(this.canvasEllipse=K(this));return this},_renderShape:function(a){var b=this.canvasEllipse,c;a.beginPath();a.moveTo.apply(a,b[0]);for(c=1;c<b.length;++c)a.bezierCurveTo.apply(a,b[c]);a.closePath()},_renderDashedStroke:function(a,b){var c=this._dashedPoints;a.beginPath();for(var d=0;d<c.length;++d)for(var h=c[d],e=0;e<h.length;++e){var f=h[e];a.moveTo(f[0],f[1]);a.bezierCurveTo(f[2],f[3],f[4],f[5],f[6],f[7])}b&&
a.stroke()}});w.Circle=f("dojox.gfx.canvas.Circle",[w.Shape,c.Circle],{_renderShape:function(a){var b=this.shape;a.beginPath();a.arc(b.cx,b.cy,b.r,0,C,1)},_renderDashedStroke:function(a,b){var c=this.shape,d=0,h,e=this.canvasDash.length;for(i=0;d<C;)h=this.canvasDash[i%e]/c.r,i%2||(a.beginPath(),a.arc(c.cx,c.cy,c.r,d,d+h,0),b&&a.stroke()),d+=h,++i}});w.Line=f("dojox.gfx.canvas.Line",[w.Shape,c.Line],{_renderShape:function(a){var b=this.shape;a.beginPath();a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y2)},
_renderDashedStroke:function(a,b){var c=this.shape;a.beginPath();v(a,this,c.x1,c.y1,c.x2,c.y2);b&&a.stroke()}});w.Polyline=f("dojox.gfx.canvas.Polyline",[w.Shape,c.Polyline],{setShape:function(){this.inherited(arguments);var a=this.shape.points,b=a[0],c,d;this.bbox=null;this._normalizePoints();if(a.length)if("number"==typeof b)b=a;else{b=[];for(d=0;d<a.length;++d)c=a[d],b.push(c.x,c.y)}else b=[];this.canvasPolyline=b;return this},_renderShape:function(a){var b=this.canvasPolyline;if(b.length){a.beginPath();
a.moveTo(b[0],b[1]);for(var c=2;c<b.length;c+=2)a.lineTo(b[c],b[c+1])}},_renderDashedStroke:function(a,b){var c=this.canvasPolyline,d=0;a.beginPath();for(var h=0;h<c.length;h+=2)d=v(a,this,c[h],c[h+1],c[h+2],c[h+3],d);b&&a.stroke()}});w.Image=f("dojox.gfx.canvas.Image",[w.Shape,c.Image],{setShape:function(){this.inherited(arguments);var a=new Image;this.surface.downloadImage(a,this.shape.src);this.canvasImage=a;return this},_renderShape:function(a){var b=this.shape;a.drawImage(this.canvasImage,b.x,
b.y,b.width,b.height)}});w.Text=f("dojox.gfx.canvas.Text",[w.Shape,c.Text],{_setFont:function(){this.fontStyle?this.canvasFont=l.makeFontString(this.fontStyle):delete this.canvasFont},getTextWidth:function(){var a=this.shape,b=0,c;a.text&&(c=this.surface.rawNode.getContext("2d"),c.save(),this._renderTransform(c),this._renderFill(c,!1),this._renderStroke(c,!1),this.canvasFont&&(c.font=this.canvasFont),b=c.measureText(a.text).width,c.restore());return b},_render:function(a){a.save();this._renderTransform(a);
this._renderFill(a,!1);this._renderStroke(a,!1);this._renderShape(a);a.restore()},_renderShape:function(a){var b,c=this.shape;c.text&&(b="middle"===c.align?"center":c.align,a.textAlign=b,this.canvasFont&&(a.font=this.canvasFont),this.canvasFill&&a.fillText(c.text,c.x,c.y),this.strokeStyle&&(a.beginPath(),a.strokeText(c.text,c.x,c.y),a.closePath()))}});O(w.Text,"setFont");D||w.Text.extend({getTextWidth:function(){return 0},getBoundingBox:function(){return null},_renderShape:function(){}});var M={M:"_moveToA",
m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"};w.Path=f("dojox.gfx.canvas.Path",[w.Shape,b.Path],{constructor:function(){this.lastControl={}},setShape:function(){this.canvasPath=[];this._dashedPath=[];return this.inherited(arguments)},setStroke:function(){this.inherited(arguments);
B||(this.segmented=!1,this._confirmSegmented());return this},_setPath:function(){this._dashResidue=null;this.inherited(arguments)},_updateWithSegment:function(a){var b=m.clone(this.last);this[M[a.action]](this.canvasPath,a.action,a.args,this._needsDash?this._dashedPath:null);this.last=b;this.inherited(arguments)},_renderShape:function(a){var b=this.canvasPath;a.beginPath();for(var c=0;c<b.length;c+=2)a[b[c]].apply(a,b[c+1])},_renderDashedStroke:B?function(){}:function(a,b){var c=this._dashedPath;
a.beginPath();for(var d=0;d<c.length;d+=2)a[c[d]].apply(a,c[d+1]);b&&a.stroke()},_moveToA:function(a,b,c,d){a.push("moveTo",[c[0],c[1]]);d&&d.push("moveTo",[c[0],c[1]]);for(b=2;b<c.length;b+=2)a.push("lineTo",[c[b],c[b+1]]),d&&(this._dashResidue=v(d,this,c[b-2],c[b-1],c[b],c[b+1],this._dashResidue));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_moveToR:function(a,b,c,d){b="x"in this.last?[this.last.x+=c[0],this.last.y+=c[1]]:[this.last.x=c[0],this.last.y=c[1]];a.push("moveTo",
b);d&&d.push("moveTo",b);for(b=2;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_lineToA:function(a,b,c,d){for(b=0;b<c.length;b+=2)d&&(this._dashResidue=v(d,this,this.last.x,this.last.y,c[b],c[b+1],this._dashResidue)),a.push("lineTo",[c[b],c[b+1]]);this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl={}},_lineToR:function(a,b,c,
d){for(b=0;b<c.length;b+=2)a.push("lineTo",[this.last.x+=c[b],this.last.y+=c[b+1]]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_hLineToA:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",[c[b],this.last.y]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],c[b],this.last.y,this._dashResidue));this.last.x=c[c.length-1];this.lastControl={}},_hLineToR:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",
[this.last.x+=c[b],this.last.y]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_vLineToA:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,c[b]]),d&&(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,c[b],this._dashResidue));this.last.y=c[c.length-1];this.lastControl={}},_vLineToR:function(a,b,c,d){for(b=0;b<c.length;++b)a.push("lineTo",[this.last.x,this.last.y+=c[b]]),d&&
(this._dashResidue=v(d,this,d[d.length-1][0],d[d.length-1][1],this.last.x,this.last.y,this._dashResidue));this.lastControl={}},_curveToA:function(a,b,c,d){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",c.slice(b,b+6)),d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type="C"},_curveToR:function(a,b,c,d){for(b=0;b<c.length;b+=6)a.push("bezierCurveTo",
[this.last.x+c[b],this.last.y+c[b+1],this.lastControl.x=this.last.x+c[b+2],this.lastControl.y=this.last.y+c[b+3],this.last.x+c[b+4],this.last.y+c[b+5]]),d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue)),this.last.x+=c[b+4],this.last.y+=c[b+5];this.lastControl.type="C"},_smoothCurveToA:function(a,b,c,d){for(b=0;b<c.length;b+=4){var h="C"==this.lastControl.type;a.push("bezierCurveTo",[h?2*this.last.x-this.lastControl.x:this.last.x,h?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+
1],c[b+2],c[b+3]]);d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.lastControl.x=c[b];this.lastControl.y=c[b+1];this.lastControl.type="C"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_smoothCurveToR:function(a,b,c,d){for(b=0;b<c.length;b+=4){var h="C"==this.lastControl.type;a.push("bezierCurveTo",[h?2*this.last.x-this.lastControl.x:this.last.x,h?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]);d&&
(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.lastControl.x=this.last.x+c[b];this.lastControl.y=this.last.y+c[b+1];this.lastControl.type="C";this.last.x+=c[b+2];this.last.y+=c[b+3]}},_qCurveToA:function(a,b,c,d){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",c.slice(b,b+4));d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.last.x=c[c.length-2];this.last.y=c[c.length-1];this.lastControl.x=c[c.length-4];this.lastControl.y=c[c.length-3];this.lastControl.type=
"Q"},_qCurveToR:function(a,b,c,d){for(b=0;b<c.length;b+=4)a.push("quadraticCurveTo",[this.lastControl.x=this.last.x+c[b],this.lastControl.y=this.last.y+c[b+1],this.last.x+c[b+2],this.last.y+c[b+3]]),d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue)),this.last.x+=c[b+2],this.last.y+=c[b+3];this.lastControl.type="Q"},_qSmoothCurveToA:function(a,b,c,d){for(b=0;b<c.length;b+=2){var h="Q"==this.lastControl.type;a.push("quadraticCurveTo",[this.lastControl.x=h?2*this.last.x-this.lastControl.x:
this.last.x,this.lastControl.y=h?2*this.last.y-this.lastControl.y:this.last.y,c[b],c[b+1]]);d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.lastControl.type="Q"}this.last.x=c[c.length-2];this.last.y=c[c.length-1]},_qSmoothCurveToR:function(a,b,c,d){for(b=0;b<c.length;b+=2){var h="Q"==this.lastControl.type;a.push("quadraticCurveTo",[this.lastControl.x=h?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=h?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+c[b],
this.last.y+c[b+1]]);d&&(this._dashResidue=u(d,this,a[a.length-1],this._dashResidue));this.lastControl.type="Q";this.last.x+=c[b];this.last.y+=c[b+1]}},_arcTo:function(b,c,d,h){c="a"==c;for(var e=0;e<d.length;e+=7){var f=d[e+5],q=d[e+6];c&&(f+=this.last.x,q+=this.last.y);var r=a.arcAsBezier(this.last,d[e],d[e+1],d[e+2],d[e+3]?1:0,d[e+4]?1:0,f,q);k.forEach(r,function(a){b.push("bezierCurveTo",a)});h&&(this._dashResidue=u(h,this,p,this._dashResidue));this.last.x=f;this.last.y=q}this.lastControl={}},
_closePath:function(a,b,c,d){a.push("closePath",[]);d&&(this._dashResidue=v(d,this,this.last.x,this.last.y,d[1][0],d[1][1],this._dashResidue));this.lastControl={}}});k.forEach("moveTo lineTo hLineTo vLineTo curveTo smoothCurveTo qCurveTo qSmoothCurveTo arcTo closePath".split(" "),function(a){O(w.Path,a)});w.TextPath=f("dojox.gfx.canvas.TextPath",[w.Shape,b.TextPath],{_renderShape:function(a){},_setText:function(){},_setFont:function(){}});w.Surface=f("dojox.gfx.canvas.Surface",c.Surface,{constructor:function(){c.Container._init.call(this);
this.pendingImageCount=0;this.makeDirty()},destroy:function(){c.Container.clear.call(this,!0);this.inherited(arguments)},setDimensions:function(a,b){this.width=l.normalizedLength(a);this.height=l.normalizedLength(b);if(!this.rawNode)return this;var c=!1;this.rawNode.width!=this.width&&(this.rawNode.width=this.width,c=!0);this.rawNode.height!=this.height&&(this.rawNode.height=this.height,c=!0);c&&this.makeDirty();return this},getDimensions:function(){return this.rawNode?{width:this.rawNode.width,height:this.rawNode.height}:
null},_render:function(a){if(a||!this.pendingImageCount)a=this.rawNode.getContext("2d"),a.clearRect(0,0,this.rawNode.width,this.rawNode.height),this.render(a),"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender)},render:function(a){a.save();for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},makeDirty:function(){!this.pendingImagesCount&&(!("pendingRender"in this)&&!this._batch)&&(this.pendingRender=setTimeout(m.hitch(this,this._render),
0))},downloadImage:function(a,b){var c=m.hitch(this,this.onImageLoad);!this.pendingImageCount++&&"pendingRender"in this&&(clearTimeout(this.pendingRender),delete this.pendingRender);a.onload=c;a.onerror=c;a.onabort=c;a.src=b},onImageLoad:function(){--this.pendingImageCount||(this.onImagesLoaded(),this._render())},onImagesLoaded:function(){},getEventSource:function(){return null},connect:function(){},disconnect:function(){},on:function(){}});w.createSurface=function(a,b,c){if(!b&&!c){var h=d.position(a);
b=b||h.w;c=c||h.h}"number"==typeof b&&(b+="px");"number"==typeof c&&(c+="px");h=new w.Surface;a=n.byId(a);var e=a.ownerDocument.createElement("canvas");e.width=l.normalizedLength(b);e.height=l.normalizedLength(c);a.appendChild(e);h.rawNode=e;h._parent=a;return h.surface=h};var P=c.Container;f={openBatch:function(){++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this._makeDirty();return this},_makeDirty:function(){this._batch||this.surface.makeDirty()},add:function(a){this._makeDirty();
return P.add.apply(this,arguments)},remove:function(a,b){this._makeDirty();return P.remove.apply(this,arguments)},clear:function(){this._makeDirty();return P.clear.apply(this,arguments)},getBoundingBox:P.getBoundingBox,_moveChildToFront:function(a){this._makeDirty();return P._moveChildToFront.apply(this,arguments)},_moveChildToBack:function(a){this._makeDirty();return P._moveChildToBack.apply(this,arguments)}};b={createObject:function(a,b){var c=new a;c.surface=this.surface;c.setShape(b);this.add(c);
return c}};r(w.Group,f);r(w.Group,c.Creator);r(w.Group,b);r(w.Surface,f);r(w.Surface,c.Creator);r(w.Surface,b);w.fixTarget=function(a,b){return!0};return w})},"dojox/gfx/arc":function(){define(["./_base","dojo/_base/lang","./matrix"],function(l,m,k){function f(a){var b=Math.cos(a);a=Math.sin(a);var c={x:b+4/3*(1-b),y:a-4/3*b*(1-b)/a};return{s:{x:b,y:-a},c1:{x:c.x,y:-c.y},c2:c,e:{x:b,y:a}}}var e=2*Math.PI,d=Math.PI/4,n=Math.PI/8,c=d+n,b=f(n);return l.arc={unitArcAsBezier:f,curvePI4:b,arcAsBezier:function(a,
l,r,t,h,q,u,m){h=Boolean(h);q=Boolean(q);var w=k._degToRad(t);t=l*l;var x=r*r,A=k.multiplyPoint(k.rotate(-w),{x:(a.x-u)/2,y:(a.y-m)/2}),z=A.x*A.x,C=A.y*A.y;t=Math.sqrt((t*x-t*C-x*z)/(t*C+x*z));isNaN(t)&&(t=0);t={x:t*l*A.y/r,y:-t*r*A.x/l};h==q&&(t={x:-t.x,y:-t.y});t=k.multiplyPoint([k.translate((a.x+u)/2,(a.y+m)/2),k.rotate(w)],t);l=k.normalize([k.translate(t.x,t.y),k.rotate(w),k.scale(l,r)]);t=k.invert(l);a=k.multiplyPoint(t,a);m=k.multiplyPoint(t,u,m);u=Math.atan2(a.y,a.x);m=Math.atan2(m.y,m.x);
t=u-m;q&&(t=-t);0>t?t+=e:t>e&&(t-=e);r=n;m=b;r=q?r:-r;a=[];for(h=t;0<h;h-=d)h<c&&(r=h/2,m=f(r),r=q?r:-r,h=0),A=k.normalize([l,k.rotate(u+r)]),q?(t=k.multiplyPoint(A,m.c1),w=k.multiplyPoint(A,m.c2),A=k.multiplyPoint(A,m.e)):(t=k.multiplyPoint(A,m.c2),w=k.multiplyPoint(A,m.c1),A=k.multiplyPoint(A,m.s)),a.push([t.x,t.y,w.x,w.y,A.x,A.y]),u+=2*r;return a}}})},"dojox/gfx/decompose":function(){define(["./_base","dojo/_base/lang","./matrix"],function(l,m,k){function f(b,a){return Math.abs(b-a)<=1E-6*(Math.abs(b)+
Math.abs(a))}function e(b,a,c,d){if(isFinite(b)){if(!isFinite(c))return b}else return c;a=Math.abs(a);d=Math.abs(d);return(a*b+d*c)/(a+d)}function d(b){b=k.normalize(b);var a=-b.xx-b.yy,c=b.xx*b.yy-b.xy*b.yx,d=Math.sqrt(a*a-4*c),a=-(a+(0>a?-d:d))/2,c=c/a,d=b.xy/(a-b.xx),e=1,h=b.xy/(c-b.xx),q=1;f(a,c)&&(d=1,h=e=0,q=1);isFinite(d)||(d=1,e=(a-b.xx)/b.xy,isFinite(e)||(d=(a-b.yy)/b.yx,e=1,isFinite(d)||(d=1,e=b.yx/(a-b.yy))));isFinite(h)||(h=1,q=(c-b.xx)/b.xy,isFinite(q)||(h=(c-b.yy)/b.yx,q=1,isFinite(h)||
(h=1,q=b.yx/(c-b.yy))));b=Math.sqrt(d*d+e*e);var n=Math.sqrt(h*h+q*q);if(!isFinite(d/=b))d=0;if(!isFinite(e/=b))e=0;if(!isFinite(h/=n))h=0;if(!isFinite(q/=n))q=0;return{value1:a,value2:c,vector1:{x:d,y:e},vector2:{x:h,y:q}}}function n(b,a){var c=0>b.xx*b.yy||0<b.xy*b.yx?-1:1,d=a.angle1=(Math.atan2(b.yx,b.yy)+Math.atan2(-c*b.xy,c*b.xx))/2,c=Math.cos(d),d=Math.sin(d);a.sx=e(b.xx/c,c,-b.xy/d,d);a.sy=e(b.yy/c,c,b.yx/d,d);return a}function c(b,a){var c=0>b.xx*b.yy||0<b.xy*b.yx?-1:1,d=a.angle2=(Math.atan2(c*
b.yx,c*b.xx)+Math.atan2(-b.xy,b.yy))/2,c=Math.cos(d),d=Math.sin(d);a.sx=e(b.xx/c,c,b.yx/d,d);a.sy=e(b.yy/c,c,-b.xy/d,d);return a}return l.decompose=function(b){var a=k.normalize(b);b={dx:a.dx,dy:a.dy,sx:1,sy:1,angle1:0,angle2:0};if(f(a.xy,0)&&f(a.yx,0))return m.mixin(b,{sx:a.xx,sy:a.yy});if(f(a.xx*a.yx,-a.xy*a.yy))return n(a,b);if(f(a.xx*a.xy,-a.yx*a.yy))return c(a,b);var e,r=new k.Matrix2D(a);e=m.mixin(r,{dx:0,dy:0,xy:r.yx,yx:r.xy});r=d([a,e]);e=d([e,a]);r=new k.Matrix2D({xx:r.vector1.x,xy:r.vector2.x,
yx:r.vector1.y,yy:r.vector2.y});e=new k.Matrix2D({xx:e.vector1.x,xy:e.vector1.y,yx:e.vector2.x,yy:e.vector2.y});a=new k.Matrix2D([k.invert(r),a,k.invert(e)]);n(e,b);a.xx*=b.sx;a.yy*=b.sy;c(r,b);a.xx*=b.sx;a.yy*=b.sy;return m.mixin(b,{sx:a.xx,sy:a.yy})}})},"dojox/gfx/bezierutils":function(){define(["./_base"],function(l){l=l.bezierutils={};l.tAtLength=function(e,c){var b=0,a=6==e.length,l=0,r=0,t=a?f:d,h=function(d,f){for(var m=0,w=0;w<d.length-2;w+=2)m+=k(d[w],d[w+1],d[w+2],d[w+3]);w=a?k(e[0],e[1],
e[4],e[5]):k(e[0],e[1],e[6],e[7]);m-w>f||l+m>c+f?(++r,m=t(d,0.5),h(m[0],f),Math.abs(l-c)<=f||h(m[1],f)):(l+=m,b+=1/(1<<r))};c&&h(e,0.5);return b};var m=l.computeLength=function(d){for(var c=6==d.length,b=0,a=0;a<d.length-2;a+=2)b+=k(d[a],d[a+1],d[a+2],d[a+3]);a=c?k(d[0],d[1],d[4],d[5]):k(d[0],d[1],d[6],d[7]);0.1<b-a&&(d=c?f(d,0.5):e(d,0.5),b=m(d[0],c),b+=m(d[1],c));return b},k=l.distance=function(d,c,b,a){return Math.sqrt((b-d)*(b-d)+(a-c)*(a-c))},f=function(d,c){var b=1-c,a=b*b,e=c*c,f=d[0],k=d[1],
h=d[2],q=d[3],l=d[4],m=d[5],w=a*f+2*b*c*h+e*l,a=a*k+2*b*c*q+e*m;return[[f,k,b*f+c*h,b*k+c*q,w,a],[w,a,b*h+c*l,b*q+c*m,l,m]]},e=function(d,c){var b=1-c,a=b*b,e=a*b,f=c*c,k=f*c,h=d[0],q=d[1],l=d[2],m=d[3],w=d[4],x=d[5],A=d[6],z=d[7],C=e*h+3*a*c*l+3*b*f*w+k*A,e=e*q+3*a*c*m+3*b*f*x+k*z;return[[h,q,b*h+c*l,b*q+c*m,a*h+2*b*c*l+f*w,a*q+2*b*c*m+f*x,C,e],[C,e,a*l+2*b*c*w+f*A,a*m+2*b*c*x+f*z,b*w+c*A,b*x+c*z,A,z]]},d=l.splitBezierAtT=function(d,c){return 6==d.length?f(d,c):e(d,c)};return l})},"xl/grapher/XYGrid":function(){define("dojo/_base/declare dojo/_base/connect dijit/_WidgetBase dojo/dom-construct dojox/gfx dojo/dom-geometry".split(" "),
function(l,m,k,f,e,d){return l("xl.grapher.XYGrid",[k],{_xMin:null,_xMax:null,_yMin:null,_yMax:null,_w:null,_h:null,_padding:10,startup:function(){this.inherited(arguments)},_setXMinAttr:function(d){_xMin=d},_setXMaxAttr:function(d){_xMax=d},_setYMinAttr:function(d){_yMin=d},_setYMaxAttr:function(d){_yMax=d},buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},draw:function(d){this._w=d.getDimensions().width;this._h=d.getDimensions().height;this.drawXGrid(d);
this.drawYGrid(d)},drawXGrid:function(d){for(var c=Math.abs(this.xMin)+Math.abs(this.xMax),c=(this._w-2*this._padding)/c,b=this._padding;b<=this._w-this._padding;b+=c)d.createLine({x1:b+0.5,y1:this._padding+0.5,x2:b+0.5,y2:this._h-this._padding+0.5}).setStroke("#D3D3D3")},drawYGrid:function(d){for(var c=Math.abs(this.yMin)+Math.abs(this.yMax),c=(this._h-2*this._padding)/c,b=this._padding;b<=this._w-this._padding;b+=c)d.createLine({x1:this._padding+0.5,y1:b+0.5,x2:this._h-this._padding+0.5,y2:b+0.5}).setStroke("#D3D3D3")},
destroy:function(){this.inherited(arguments)}})})},"xl/grapher/IPGraphAxis":function(){define("dojo/_base/declare ./enums dijit/_WidgetBase dojox/gfx dojox/gfx/fx dojo/_base/lang xl/grapher/IPGraphTickList xl/grapher/Margins xl/grapher/Point xl/util/IPMath xl/util/stringUtils xl/util/graphUtils".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r){return l("xl.grapher.IPGraphAxis",[k],{_ratio:1,visible:!0,_graph:null,_minimum:0,_maximum:0,_orientation:m.IPGraphAxisOrientation.HORIZONTAL,color:"#404040",_location:m.IPGraphAxisOrigin.ZERO,
labelSpacing:-1,_labelOrigin:m.IPGraphAxisOrigin.ZERO,title:"",titleMargin:5,titleFontFamily:"Arial",titleFontSize:"11px",_titleSize:null,labelFontFamily:"Arial",labelFontSize:"11px",showGrid:!0,_valueFormat:"#.--",_viewMin:null,_viewMax:null,_axisType:m.IPGraphAxisType.LINEAR,_locationValue:null,_tickList:null,tickSpacing:2,tickStyle:null,_tickLabelMargin:0,hideTicks:!1,_hideLabels:!1,position:null,_gridMajor:!1,showMinArrow:!1,showMaxArrow:!1,altTitlePos:!1,titlePos:0,customTicks:null,_isDate:!1,
enlargedTicks:null,hideEnlargedTicks:null,arrowExtensionLength:15,destroy:function(){this.inherited(arguments);this.destroyTickList()},_setShowGridAttr:function(a){this.showGrid=a},_setIsDateAttr:function(a){this._isDate=a},_setOrientationAttr:function(a){this._orientation=a.toLowerCase()},_setMinimumAttr:function(a){this._minimum=a},_setMaximumAttr:function(a){this._maximum=a},_setLocationAttr:function(a){this._location=a},_setValueFormatAttr:function(a){this._valueFormat=a},_setLabelOriginAttr:function(a){this._labelOrigin=
a},getMaximum:function(){return this._maximum},setMaximum:function(a){a!=this._maximum&&(this._maximum=a,this.invalidateTickList(),this.updateAxisParams(),this.updateGraph())},getMinimum:function(){return this._minimum},setMinimum:function(a){a!=this._minimum&&(this._minimum=a,this.invalidateTickList(),this.updateAxisParams(),this.updateGraph())},setRange:function(a,b){if(this._minimum!=a||this._maximum!=b)this._minimum=a,this._maximum=b,this.updateAxisParams(),this.updateGraph()},setView:function(a,
b){if(this._viewMin!=a||this._viewMax!=b)this._viewMin=a,this._viewMax=b,this.updateAxisParams(!1)},getView:function(){return{min:this._viewMin,max:this._viewMax}},getTickList:function(){return this._tickList},invalidateTickList:function(){this.destroyTickList()},getLabelFont:function(){return this.labelFontFamily},setLabelSpacing:function(a){a!=this.labelSpacing&&(this.labelSpacing=a,this.invalidateTickList(),this.updateGraph())},setupTitle:function(a){this._titleSize=null;this.title&&this.visible&&
(this.isVertical()&&this.altTitlePos?(a=r.measureText(a,this.title,this.titleFontSize,this.titleFontFamily),this._titleSize={height:a.width,width:a.height}):this._titleSize=r.measureText(a,this.title,this.titleFontSize,this.titleFontFamily))},updateAxisParams:function(b){if(this._viewMax==this._viewMin)this._ratio=1;else try{switch(this._axisType){case m.IPGraphAxisType.LINEAR:this._ratio=(this._viewMax-this._viewMin)/(this._maximum-this._minimum);break;case m.IPGraphAxisType.LOG:this._ratio=(this._viewMax-
this._viewMin)/(a.log10(this._maximum)-this.log10(this._minimum))}}catch(c){this._ratio=1}b&&this.updateGraph()},updateGraph:function(){this._graph&&this._graph.invalidateGraph()},pixelLocation:function(){var a=0;this._graph._yAxis==this||this._graph._yAxisAlt==this?a=this._graph._xAxis.worldToView(this.worldLocation()):this._graph._xAxis==this&&(a=this._graph._yAxis.worldToView(this.worldLocation()));return a},worldLocation:function(){var a=0;if(this._graph._yAxis==this||this._graph._yAxisAlt==this)switch(this._location){case m.IPGraphAxisOrigin.MINIMUM:a=
this._graph._xAxis._minimum;break;case m.IPGraphAxisOrigin.MAXIMUM:a=this._graph._xAxis._maximum;break;case m.IPGraphAxisOrigin.CUSTOM:a=this._locationValue}else if(this._graph._xAxis==this)switch(this._location){case m.IPGraphAxisOrigin.MINIMUM:a=this._graph._yAxis._minimum;break;case m.IPGraphAxisOrigin.MAXIMUM:a=this._graph._yAxis._maximum;break;case m.IPGraphAxisOrigin.CUSTOM:a=this._locationValue}return a},worldToView:function(b){var c;try{this._axisType==m.IPGraphAxisType.LOG&&(b=a.log10(b)),
c=Math.round(a.ensureRange((b-this._minimum)*this._ratio+this._viewMin,-1E5,1E5))}catch(d){c=0}return c},worldToViewF:function(b){var c;try{this._axisType==m.IPGraphAxisType.LOG&&(b=a.log10(b)),c=a.ensureRange((b-this._minimum)*this._ratio+this._viewMin,-1E5,1E5)}catch(d){c=0}return c},viewToWorld:function(a){var b;try{b=(a-this._viewMin)/this._ratio+this._minimum,this._axisType==m.IPGraphAxisType.LOG&&(b=Math.pow(10,b))}catch(c){b=0}return b},viewFToWorld:function(a){var b;try{b=(a-this._viewMin)/
this._ratio+this._minimum,this._axisType==m.IPGraphAxisType.LOG&&(b=Math.pow(10,b))}catch(c){b=0}return b},formatLabel:function(a,b){b||(b=this._valueFormat);return this._graph&&this._isDate&&null!=this._graph.onFormatDate?this._graph.onFormatDate(a,b):this._graph&&null!=this._graph.onFormatNumber?this._graph.onFormatNumber(a,b):s.formatFloat(a,b)},viewToWorldRel:function(a){var b;try{b=a/this._ratio,this._axisType==m.IPGraphAxisType.LOG&&(b=Math.pow(10,b))}catch(c){b=0}return b},drawTitle:function(a){var b,
c,d=null;if(this._titleSize){var f=this._titleSize.width,k=this._titleSize.height;if(this.title&&this.visible)if(this.isHorizontal()){if(this.altTitlePos){b=this._graph._plotRect.left+(this._graph._plotRect.right-this._graph._plotRect.left-f)/2;c=this._graph._altXAxisTitlePos;if(0>b||b+f>this._graph.getWidth())b=Math.max(b,0),d=this._graph.getWidth()-b;this._graph.adjustGTitlePos(c+k)}else b=this._graph._plotRect.right+this.titleMargin,c=this.position-k-this.titleMargin;r.drawText(a,b,c,this.title,
this.color,this.titleFontSize,this.titleFontFamily,!1,null,d)}else this.altTitlePos?(b=this._graph._altYAxisTitlePos-f,c=(this._viewMax+this._viewMin+k)/2,a=r.drawText(a,b,c,this.title,this.color,this.titleFontSize,this.titleFontFamily),(new e.animateTransform({duration:0,shape:a,transform:[{name:"rotategAt",start:[0,b,c],end:[270,b,c]}]})).play()):(c=this._graph._plotRect.top-k-this.titleMargin,this==this._graph.getAxisY()&&(this._graph.getAxisYAlt()&&this._graph.getAxisYAlt().visible&&this._graph.getAxisYAlt().title)&&
(c-=k),b=this.getLocation()==m.IPGraphAxisOrigin.MAXIMUM?this.position-this.titleMargin-f:this.position+this.titleMargin,r.drawText(a,b,c,this.title,this.color,this.titleFontSize,this.titleFontFamily),this._graph.adjustGTitlePos(c),this._graph.adjustGTitlePos(c+k))}},calcMarginsNeeded:function(d){var h,e,f,k,l,n,s,z,C,F,B;B=new c;if(!this.visible)return B;this.createTickList();n=l=k=0;s=this.position;F=C=0;e=new b(0,0);for(h=0;h<this._tickList.getTickCount();h++)if(f=this._tickList.getTick(h),f.label?
(z=r.measureText(d,f.label,this.labelFontSize,this.labelFontFamily),e.x=z.width,e.y=z.height):(e.x=0,e.y=0),this.isVertical()){if(z=this.worldToView(f.value),!(z<this._viewMax||z>this._viewMin)){this.getLocation()==m.IPGraphAxisOrigin.MAXIMUM&&(e.x+=2);switch(f.type){case m.IPGraphTickType.MINOR:e.x+=this._graph.minorTickSize;break;case m.IPGraphTickType.MAJOR:e.x+=this._graph.majorTickSize}k=a.max(k,e.x);switch(f.alignment){case m.IPGraphAlignment.LEFT:l=a.max(l,e.y);break;case m.IPGraphAlignment.CENTER:l=
a.max(l,e.y/2)}switch(f.alignment){case m.IPGraphAlignment.LEFT:case m.IPGraphAlignment.CENTER:n=a.max(n,e.y/2);break;default:n=a.max(n,e.y)}}}else if(z=this.worldToView(f.value),!(z<this._viewMin||z>this._viewMax)){switch(f.type){case m.IPGraphTickType.MINOR:e.y+=this._graph.minorTickSize;break;case m.IPGraphTickType.MAJOR:e.y+=this._graph.majorTickSize}if(0<e.x)switch(f.alignment){case m.IPGraphAlignment.LEFT:F=a.max(F,z+e.x-this._viewMax);break;case m.IPGraphAlignment.RIGHT:C=a.max(C,this._viewMin-
(z-e.x));break;case m.IPGraphAlignment.CENTER:F=a.max(F,z+e.x/2-this._viewMax),C=a.max(C,this._viewMin-(z-e.x/2))}k=a.max(k,e.x);l=a.max(l,e.y);n=a.max(n,e.y)}this.isVertical()?(s<this._graph._plotRect.right?B.left=a.max(this._graph.minorTickSize,this._graph._plotRect.left-(s-k)):B.right=a.max(this._graph.minorTickSize,s+k-this._graph._plotRect.right),B.top=a.max(B.top,l),B.bottom=a.max(B.bottom,n),this.showMaxArrow&&(B.top=a.max(B.top,this._graph.extsize)),this.showMinArrow&&(B.bottom=a.max(B.bottom,
this._graph.extsize))):(s<=this._graph._plotRect.top?B.top=a.max(l,this._graph.minorTickSize):B.bottom=a.max(s+a.max(n,this._graph.minorTickSize)-this._graph._plotRect.bottom,0),B.left=a.max(B.left,C),B.right=a.max(B.right,F),this.showMaxArrow&&(B.right=a.max(B.right,this._graph.extsize)),this.showMinArrow&&(B.left=a.max(B.left,this._graph.extsize)));this.title&&this.visible&&this._titleSize&&(this.altTitlePos?(d=this._titleSize.height,h=this._titleSize.width):(d=this._titleSize.width,h=this._titleSize.height),
this.isVertical()?(this.getLocation()!=m.IPGraphAxisOrigin.MAXIMUM&&(B.right=a.max(0,s+d+this.titleMargin-this._graph._plotRect.right)),B.top=a.max(B.top,h+this.titleMargin),this==this._graph.getAxisY()&&(this._graph.getAxisYAlt()&&this._graph.getAxisYAlt().visible&&this._graph.getAxisYAlt().title)&&(B.top+=h)):this.altTitlePos||(B.right=a.max(B.right,d+this.titleMargin)));return B},isHorizontal:function(){return this._orientation==m.IPGraphAxisOrientation.HORIZONTAL},isVertical:function(){return this._orientation==
m.IPGraphAxisOrientation.VERTICAL},destroyTickList:function(){this._tickList&&(this._tickList.destroyRecursive(),this._tickList=null)},createTickList:function(){var b,c,d,e,f,k,r,l;r=!1;if(!this._tickList&&(this._tickList=new n,null==this.onBuildTickList||this.onBuildTickList(this._tickList))){c=0;if(0<this.tickSpacing){l=0;this.isHorizontal()&&this._graph._yAxis.visible?(k=this.position>this._graph._plotRect.top+1&&this.position<this._graph._plotRect.bottom-1,l=this._graph._yAxis.position):this.isVertical()&&
this._graph._xAxis.visible?(k=this.position>this._graph._plotRect.left&&this.position<this._graph._plotRect.right||this.position<=this._graph._plotRect.left&&this._graph._xAxis.showMinArrow,l=this._graph._xAxis.position):k=!1;switch(this._labelOrigin){case m.IPGraphAxisOrigin.MINIMUM:c=this._minimum;break;case m.IPGraphAxisOrigin.MAXIMUM:c=this._maximum;break;case m.IPGraphAxisOrigin.CUSTOM:c=this._originValue;break;default:c=0}d=Math.ceil((this._minimum-a.getEpsilon(this._minimum)-c)/this.tickSpacing);
e=Math.floor((this._maximum+a.getEpsilon(this._maximum)-c)/this.tickSpacing);r=!1;b="horizontal"===this._orientation?this._graph._plotRect.right-this._graph._plotRect.left:this._graph._plotRect.bottom-this._graph._plotRect.top;b/=this._graph.graphStyle===m.IPGraphStyle.TI82?1.5:2;if(Math.abs(d-e)<b)if(d<e)for(f=d;f<=e;f++)b=f*this.tickSpacing+c,k&&this.worldToView(b)==l||(0<this.labelSpacing&&0==f%this.labelSpacing?this._tickList.addMajorTick(b,this.formatLabel(b)):this._tickList.addMinorTick(b));
else for(f=e;f>=d;f--)b=f*this.tickSpacing+c,k&&this.worldToView(b)==l||(0<this.labelSpacing&&0==f%this.labelSpacing?this._tickList.addMajorTick(b,this.formatLabel(b)):this._tickList.addMinorTick(b));else r=!0}if(0>this.labelSpacing||r)this._tickList.addMajorTick(this._minimum,this.formatLabel(this._minimum),m.IPGraphAlignment.CENTER),this._tickList.addMajorTick(this._maximum,this.formatLabel(this._maximum),m.IPGraphAlignment.CENTER),-2==this.labelSpacing&&this._tickList.addMajorTick(c,this.formatLabel(c),
m.IPGraphAlignment.CENTER)}},draw:function(a){if(this._graph){if(this.visible){this.createTickList();var b,c,d,e,f,k,l,n={color:this.color,style:"solid",width:1};switch(this._orientation){case m.IPGraphAxisOrientation.HORIZONTAL:r.drawLine(a,this._viewMin,this.position,this._viewMax,this.position,this.color);this.showMaxArrow&&(b={start:{x:this._viewMax,y:this.position},end:{x:this._viewMax+this.arrowExtensionLength,y:this.position},stroke:{color:this.color}},r.drawArrow(a,b));this.showMinArrow&&
(b={start:{x:this._viewMin,y:this.position},end:{x:this._viewMin-this.arrowExtensionLength,y:this.position},stroke:{color:this.color}},r.drawArrow(a,b));if(this._tickList&&0<this._tickList.getTickCount()){l=a.createPath();for(var s=0;s<this._tickList.getTickCount();s++)if(b=this._tickList.getTick(s),c=this.worldToView(b.value),!(c<this._viewMin||c>this._viewMax)){switch(b.type){case m.IPGraphTickType.MINOR:e=this._graph.minorTickSize;break;case m.IPGraphTickType.MAJOR:e=this._graph.majorTickSize;
break;default:e=0}this._location==m.IPGraphAxisOrigin.MAXIMUM&&(e=-e);this.tickStyle==m.IPGraphTickStyle.INVERTED&&(e=-e);f=0>e?e-this._tickLabelMargin:e+this._tickLabelMargin;if(0!=e){if(!this.hideTicks&&!b.isCustom||b.isCustom&&""!=b.label)this.tickStyle==m.IPGraphTickStyle.FULL?l.moveTo(c+0.5,this.position-e+0.5):l.moveTo(c+0.5,this.position+0.5),l.lineTo(c+0.5,this.position+e+0.5);this._graph.adjustGTitlePos(this.position+f);this.titlePos=Math.max(this.titlePos,this.position+f);this._graph._altXAxisTitlePos=
Math.max(this._graph._altXAxisTitlePos,this.position+f)}if(b.label&&!this._hideLabels){d=this.position+Math.abs(f);k=r.measureText(a,b.label,this.labelFontSize,this.labelFontFamily);e=k.width;k=k.height;this._location==m.IPGraphAxisOrigin.MAXIMUM&&(d-=k);switch(b.alignment){case m.IPGraphAlignment.RIGHT:c-=e;break;case m.IPGraphAlignment.CENTER:c-=e/2,c=Math.round(c)}r.drawText(a,c,d,b.label,this.color,this.labelFontSize,this.labelFontFamily);this._graph.adjustGTitlePos(d);this._graph.adjustGTitlePos(d+
k);this.titlePos=Math.max(this.titlePos,d+k);this._graph._altXAxisTitlePos=Math.max(this._graph._altXAxisTitlePos,d+k);this._graph._altYAxisTitlePos=Math.min(this._graph._altYAxisTitlePos,c-this.titleMargin)}}0<l.segments.length&&l.setStroke(n)}break;case m.IPGraphAxisOrientation.VERTICAL:if(r.drawLine(a,this.position,this._viewMin,this.position,this._viewMax,this.color),this.showMaxArrow&&(b={start:{x:this.position,y:this._viewMax},end:{x:this.position,y:this._viewMax-this.arrowExtensionLength}},
r.drawArrow(a,b),this._graph.adjustGTitlePos(this._viewMax-this.arrowExtensionLength)),this.showMinArrow&&(b={start:{x:this.position,y:this._viewMin},end:{x:this.position,y:this._viewMin+this.arrowExtensionLength}},r.drawArrow(a,b)),this._tickList&&0<this._tickList.getTickCount()){l=a.createPath();for(s=0;s<this._tickList.getTickCount();s++)if(b=this._tickList.getTick(s),d=this.worldToView(b.value),!(d<this._viewMax||d>this._viewMin)){switch(b.type){case m.IPGraphTickType.MINOR:e=this._graph.minorTickSize;
break;case m.IPGraphTickType.MAJOR:e=this._graph.majorTickSize;break;default:e=0}this._location==m.IPGraphAxisOrigin.MAXIMUM&&(e=-e);this.tickStyle==m.IPGraphTickStyle.INVERTED&&(e=-e);f=0>e?e-this._tickLabelMargin:e+this._tickLabelMargin;if(!this.hideTicks&&!b.isCustom||b.isCustom&&""!=b.label)this.tickStyle==m.IPGraphTickStyle.FULL?(l.moveTo(this.position-e+0.5,d+0.5),l.lineTo(this.position+e+0.5,d+0.5)):(l.moveTo(this.position+0.5,d+0.5),l.lineTo(this.position-e+0.5,d+0.5));if(b.label&&!this._hideLabels){k=
r.measureText(a,b.label,this.labelFontSize,this.labelFontFamily);e=k.width;k=k.height;c=this.position-f;c=this._location!=m.IPGraphAxisOrigin.MAXIMUM?c-e:c+2;switch(b.alignment){case m.IPGraphAlignment.LEFT:d-=k;break;case m.IPGraphAlignment.CENTER:d-=k/2,d=Math.round(d)}r.drawText(a,c,d,b.label,this.color,this.labelFontSize,this.labelFontFamily);this._graph.adjustGTitlePos(d);this._graph.adjustGTitlePos(d+k);this._graph._altXAxisTitlePos=Math.max(this._graph._altXAxisTitlePos,d+k);this._graph._altYAxisTitlePos=
Math.min(this._graph._altYAxisTitlePos,c-this.titleMargin)}}l.setStroke(n)}}}}else console.error("Axis has no graph pointer")},getLocation:function(){return this._location},drawGridLines:function(a,b){var c,d;if(this.showGrid){b||(b="#CCCCCC");this.createTickList();var e=a.createPath();switch(this._orientation){case m.IPGraphAxisOrientation.HORIZONTAL:if(this._tickList)for(c=0;c<this._tickList.getTickCount();c++)if(d=this._tickList.getTick(c),!d.isCustom&&!this.hideTicks&&(!this._gridMajor||d.type===
m.IPGraphTickType.MAJOR)||d.isCustom&&!d.hideGrid)d=this.worldToView(d.value),d>=this._graph._plotRect.left&&d<=this._graph._plotRect.right&&(e.moveTo(d+0.5,this._graph._plotRect.top+0.5),e.lineTo(d+0.5,this._graph._plotRect.bottom+0.5));break;case m.IPGraphAxisOrientation.VERTICAL:if(this._tickList)for(c=0;c<this._tickList.getTickCount();c++)if(d=this._tickList.getTick(c),!d.isCustom&&!this.hideTicks&&(!this._gridMajor||d.type===m.IPGraphTickType.MAJOR)||d.isCustom&&!d.hideGrid)d=this.worldToView(d.value),
d>=this._graph._plotRect.top&&d<=this._graph._plotRect.bottom&&(e.moveTo(this._graph._plotRect.left+0.5,d+0.5),e.lineTo(this._graph._plotRect.right+0.5,d+0.5))}e.setStroke({color:b,width:1})}},getTickSpacing:function(){return this.tickSpacing},setTickSpacing:function(a){a!=this.tickSpacing&&(this.tickSpacing=a,this.invalidateTickList(),this.updateGraph())},setTitle:function(a){a!=this.title&&(this.title=a,this.updateGraph())},setAltTitlePos:function(a){a!=this.altTitlePos&&(this.altTitlePos=a,this.updateGraph())},
setProperties:function(a){this._maximum=a.maximum;this._minimum=a.minimum;this.title=a.title;this._valueFormat=a.valueFormat;this.color=a.color;this.visible=a.visible;this.tickSpacing=a.tickSpacing;this.labelSpacing=a.labelSpacing;this.showMaxArrow=a.showMaxArrow;this.visible=a.visible},getProperties:function(a){return{maximum:this._maximum,minimum:this._minimum,title:this.title,valueFormat:this._valueFormat,color:this.color,visible:this.visible,tickSpacing:this.tickSpacing,labelSpacing:this.labelSpacing,
showMaxArrow:this.showMaxArrow}},getPosition:function(){return this.position},setPosition:function(a){this.position=a},onBuildTickList:function(a){var b;b=this._graph.isZoomed&&this.enlargedTicks?!this.hideEnlargedTicks:!this.hideTicks;if(null!=this.customTicks&&0<this.customTicks.length)for(var c=0;c<this.customTicks.length;c++){var d=this.customTicks[c];null!=d.value&&(d.noFormat?a.addTick(d.value,d.label,d.alignment,d.tickType,d.hideGrid,!0):a.addTick(d.value,this.formatLabel(d.label,d.valueFormat),
d.alignment,d.tickType,d.hideGrid,!0))}return b&&this.buildDateTicks(a,b)},buildDateTicks:function(a,b){var c=-1,d,e,f;if(b&&this.isDate){if(0<this.tickSpacing)if(this.labelOrigin==m.IPGraphAxisOrigin.MAXIMUM){f=new Date(this._maximum);f.setUTCDate(1);for(d=f.getTime();d>=this._minimum-1E-6;)d<=this._maximum+1E-6&&(0>c&&(c=0),0<this.labelSpacing&&0==c%this.labelSpacing?(e=this.formatLabel(d),a.addMajorTick(d,e)):a.addMinorTick(d),c++),f.setUTCMonth(f.getUTCMonth()-Math.round(this.tickSpacing)),d=
f.getTime()}else{f=new Date(this._minimum);f.setUTCDate(1);for(d=f.getTime();d<=this._maximum+1E-6;)d>=this._minimum-1E-6&&(0>c&&(c=0),0<this.labelSpacing&&0==c%this.labelSpacing?(e=this.formatLabel(d),a.addMajorTick(d,e)):a.addMinorTick(d),c++),f.setUTCMonth(f.getUTCMonth()+Math.round(this.tickSpacing)),d=f.getTime()}0>this.labelSpacing&&(a.addMajorTick(this._minimum,this.formatLabel(this._minimum)),a.addMajorTick(this._maximum,this.formatLabel(this._maximum)));return!1}return!0}})})},"dojox/gfx/fx":function(){define("dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect dojo/sniff".split(" "),
function(l,m,k,f,e,d,n,c){function b(a,b){this.start=a;this.end=b}function a(a,b,c){this.start=a;this.end=b;this.units=c}function s(a,b){this.start=a;this.end=b;this.temp=new f}function r(a){this.values=a;this.length=a.length}function t(a,b){this.values=a;this.def=b?b:{}}function h(a,b){this.stack=a;this.original=b}function q(a,b,c,d){if(a.values)return new r(a.values);var h,e;e=a.start?m.normalizeColor(a.start):h=b?c?b[c]:b:d;a.end?a=m.normalizeColor(a.end):(h||(h=b?c?b[c]:b:d),a=h);return new s(e,
a)}var u=m.fx={};b.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};a.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};s.prototype.getValue=function(a){return f.blendColors(this.start,this.end,a,this.temp)};r.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};t.prototype.getValue=function(a){var b=l.clone(this.def),c;for(c in this.values)b[c]=this.values[c].getValue(a);return b};h.prototype.getValue=
function(a){var b=[];e.forEach(this.stack,function(c){if(c instanceof k.Matrix2D)b.push(c);else if("original"==c.name&&this.original)b.push(this.original);else if("matrix"==c.name){if(c.start instanceof k.Matrix2D&&c.end instanceof k.Matrix2D){var d=new k.Matrix2D,h;for(h in c.start)d[h]=(c.end[h]-c.start[h])*a+c.start[h];b.push(d)}}else c.name in k&&(d=k[c.name],"function"!=typeof d?b.push(d):(h=e.map(c.start,function(b,d){return(c.end[d]-b)*a+b}),d=d.apply(k,h),d instanceof k.Matrix2D&&b.push(d)))},
this);return b};var v=new f(0,0,0,0);u.animateStroke=function(a){a.easing||(a.easing=d._defaultEasing);var c=new d.Animation(a),h=a.shape,e;n.connect(c,"beforeBegin",c,function(){e=h.getStroke();var c=a.color,d={},f;c&&(d.color=q(c,e,"color",v));if((c=a.style)&&c.values)d.style=new r(c.values);if(c=a.width){var k=c;k.values?f=new r(k.values):(c=k.start?k.start:f=e?e.width:1,k.end?f=k.end:"number"!=typeof f&&(f=e?e.width:1),f=new b(c,f));d.width=f}if((c=a.cap)&&c.values)d.cap=new r(c.values);if(c=
a.join)c.values?d.join=new r(c.values):(f=c.start?c.start:e&&e.join||0,c=c.end?c.end:e&&e.join||0,"number"==typeof f&&"number"==typeof c&&(d.join=new b(f,c)));this.curve=new t(d,e)});n.connect(c,"onAnimate",h,"setStroke");return c};u.animateFill=function(a){a.easing||(a.easing=d._defaultEasing);var b=new d.Animation(a),c=a.shape,h;n.connect(b,"beforeBegin",b,function(){h=c.getFill();var b=a.color;b&&(this.curve=q(b,h,"",v))});n.connect(b,"onAnimate",c,"setFill");return b};u.animateFont=function(b){b.easing||
(b.easing=d._defaultEasing);var c=new d.Animation(b),h=b.shape,e;n.connect(c,"beforeBegin",c,function(){e=h.getFont();var c=b.style,d={},f,k;c&&c.values&&(d.style=new r(c.values));if((c=b.variant)&&c.values)d.variant=new r(c.values);if((c=b.weight)&&c.values)d.weight=new r(c.values);if((c=b.family)&&c.values)d.family=new r(c.values);if((c=b.size)&&c.units)f=parseFloat(c.start?c.start:h.font&&h.font.size||"0"),k=parseFloat(c.end?c.end:h.font&&h.font.size||"0"),d.size=new a(f,k,c.units);this.curve=
new t(d,e)});n.connect(c,"onAnimate",h,"setFont");return c};u.animateTransform=function(a){a.easing||(a.easing=d._defaultEasing);var b=new d.Animation(a),f=a.shape,k;n.connect(b,"beforeBegin",b,function(){k=f.getTransform();this.curve=new h(a.transform,k)});n.connect(b,"onAnimate",f,"setTransform");if("svg"===m.renderer&&10<=c("ie"))var q=[n.connect(b,"onBegin",b,function(){for(var a=f.getParent();a&&a.getParent;)a=a.getParent();a&&(f.__svgContainer=a.rawNode.parentNode)}),n.connect(b,"onAnimate",
b,function(){try{if(f.__svgContainer){var a=f.__svgContainer.style.visibility;f.__svgContainer.style.visibility="visible";f.__svgContainer.style.visibility=a}}catch(b){}}),n.connect(b,"onEnd",b,function(){e.forEach(q,n.disconnect);if(f.__svgContainer){var a=f.__svgContainer.style.visibility,b=f.__svgContainer;f.__svgContainer.style.visibility="visible";setTimeout(function(){try{b.style.visibility=a,b=null}catch(c){}},100)}delete f.__svgContainer})];return b};return u})},"xl/grapher/IPGraphTickList":function(){define(["dojo/_base/declare",
"./enums","dojo/_base/array","dijit/_WidgetBase"],function(l,m,k,f){return l("xl.grapher.IPGraphTickList",[f],{_ticks:null,constructor:function(e){this._ticks=[]},destroy:function(e){this.inherited(arguments);this._ticks&&(this._ticks=null)},getTickCount:function(){return this._ticks.length},getTick:function(e){return this._ticks[e]},addTick:function(e,d,f,c,b,a){b||(b=!1);a||(a=!1);this._ticks.push({value:e,label:d,alignment:f,type:c,hideGrid:b,isCustom:a})},addMajorTick:function(e,d,f){f||(f=m.IPGraphAlignment.CENTER);
this.addTick(e,d,f,m.IPGraphTickType.MAJOR)},addMinorTick:function(e){this.addTick(e,"",m.IPGraphAlignment.CENTER,m.IPGraphTickType.MINOR)},addLabel:function(e,d,f){f||(f=m.IPGraphAlignment.CENTER);this.addTick(e,d,f,m.IPGraphTickType.NONE)}})})},"xl/grapher/Margins":function(){define(["dojo/_base/declare"],function(l){var m=l("xl.grapher.Margins",null,{constructor:function(k){l.safeMixin(this,k)},left:null,top:null,bottom:null,right:null,clone:function(){return new m({left:this.left,top:this.top,
bottom:this.bottom,right:this.right})}});return m})},"xl/grapher/Point":function(){define(["dojo/_base/declare"],function(l){return l("Point",null,{x:null,y:null,constructor:function(l,k){this.x=l;this.y=k},clone:function(){return new Point(this.x,this.y)}})})},"xl/grapher/IPGraphMetrics":function(){define(["dojo/_base/declare","xl/grapher/Rectangle"],function(l,m){return l("xl.grapher.IPGraphMetrics",null,{constructor:function(k){l.safeMixin(this,k)},graphWidth:null,graphHeight:null,plotRect:null,
xMinimum:null,xMaximum:null,yMinimum:null,yMaximum:null,yAltMinimum:null,yAltMaximum:null,isDifferent:function(k){return this.graphWidth!=k.graphWidth||this.graphHeight!=k.graphHeight||!this.plotRect.equals(k.plotRect)||this.xMinimum!=k.xMinimum||this.xMaximum!=k.xMaximum||this.yMinimum!=k.yMinimum||this.yMaximum!=k.yMaximum||this.yAltMinimum!=k.yAltMinimum||this.yAltMaximum!=k.yAltMaximum}})})},"xl/grapher/IPGraphScatter":function(){define("dojo/_base/declare xl/grapher/IPGraphCustomPlot xl/util/IPMath xl/grapher/enums xl/util/ByRef xl/grapher/Point xl/util/graphUtils xl/util/logger".split(" "),
function(l,m,k,f,e,d,n){return l("xl.grapher.IPGraphScatter",[m],{_scatterData:null,drawLines:!1,clip:!0,symbols:"none",fillSymbols:!0,symbolColor:"black",symbolBackgroundColor:"white",symbolSize:0,symbolStrokeSize:1,lineColor:"black",animatedPlot:null,_cache:null,_storeData:!0,_data:null,_useThinLine:!1,_setUseThinLineAttr:function(c){this._useThinLine=c},_xPts:[],_setXPtsAttr:function(c){this._xPts=c},_yPts:[],_setYPtsAttr:function(c){this._yPts=c},DEF_PLINEWIDTH:2.2,constructor:function(c){this.drawLines=
!0;this.symbolBackgroundColor="white";this.symbolSize=3;this.symbolStrokeSize=1},invalidate:function(){this.inherited(arguments);this._cache=null},doGetDataRange:function(c,b){c.value=0;b.value=this._xPts.length},doGetDataValue:function(c,b){var a;if(this._storeData)return a=!1,this._xPts&&this._yPts&&(0<=c&&c<this._xPts.length?(a=this._yPts[c],b.x=this._xPts[c],b.y=a,a=!0):(b.x=0,b.y=0)),a;b.x=0;b.y=0;if(this._scatterData)try{a=this._scatterData.getDataValue(this,c,b)}catch(d){a=!1}else a=!1;return a},
getDrawLines:function(){return this.drawLines},setDrawLines:function(c){c!=this.drawLines&&(this.drawLines=c,this.invalidate())},getSymbols:function(){return this.symbols},setSymbols:function(c){c!=this.symbols&&(this.symbols=c,this.invalidate())},getFillSymbols:function(){return this.fillSymbols},setFillSymbols:function(c){c!=this.fillSymbols&&(this.fillSymbols=c,this.invalidate())},getSymbolColor:function(){return this.symbolColor},setSymbolColor:function(c){c!=this.symbolColor&&(this.symbolColor=
c,this.invalidate())},getSymbolBackgroundColor:function(){return this.symbolBackgroundColor},setSymbolBackground:function(c){c!=this.symbolBackgroundColor&&(this.symbolBackgroundColor=c,this.invalidate())},getSymbolSize:function(){return this.symbolSize},setSymbolSize:function(c){c!=this.symbolSize&&(this.symbolSize=c,this.invalidate())},getSymbolStrokeSize:function(){return this.symbolStrokeSize},setSymbolStrokeSize:function(c){c!=this.symbolStrokeSize&&(this.symbolStrokeSize=c,this.invalidate())},
calcPoints:function(){var c=new e,b=new e,a,f;this._cache=[];this.doGetDataRange(c,b);a=new d;for(c=c.value;c<b.value;c++){try{f=!this.doGetDataValue(c,a)}catch(k){f=!0}f?this._cache.push(null):(a.x=this.xWorldToView(a.x),a.y=this.yWorldToView(a.y),this._cache.push(a.clone()))}},drawMask:function(c,b){var a=c.createPath(),d=this.xWorldToView(this._xPts[0]),e=this.yWorldToView(this._yPts[0]);a.moveTo(d+0.5,e+0.5);for(var k=1;k<this._xPts.length;k++)d=this.xWorldToView(this._xPts[k]),e=this.yWorldToView(this._yPts[k]),
d+=0.5,e+=0.5,a.lineTo(d,e);a.setStroke({color:[b.r,b.g,b.b,b.a],width:1,style:f.IPGraphLineStyle.SOLID})},draw:function(c,b,a){var d,e,k,h,q,l,m,w;this.inherited(arguments,[c,b,a]);b||this.calcPoints();if(!(!this.getVisible()&&!b||0==this._xPts.length||0==this._yPts.length)){b?(l=a,q=0):(l=this.lineColor,q=this._useThinLine?1:this.DEF_PLINEWIDTH);if(this.getDrawLines()||b){(h=b?f.IPGraphLineStyle.SOLID:this.getLineStyle())&&(q=Math.max(2,q));m=c.createPath();this.clip&&this.clipRegion(m);d=this.xWorldToView(this._xPts[0]);
e=this.yWorldToView(this._yPts[0]);m.moveTo(d,e);for(k=1;k<this._xPts.length;k++)d=this.xWorldToView(this._xPts[k]),e=this.yWorldToView(this._yPts[k]),m.lineTo(d,e);m.setStroke({color:l,width:q,style:h})}if(this.symbols!=f.IPGrShapes.NONE&&!b){h=this.xWorldToViewF(this.getGraph().getAxisX()._minimum-1E-6);q=this.xWorldToViewF(this.getGraph().getAxisX()._maximum+1E-6);m=this.yWorldToViewF(this.getGraph().getAxisY()._minimum-1E-6);l=this.yWorldToViewF(this.getGraph().getAxisY()._maximum+1E-6);w=this._cache.length;
for(k=0;k<w;k++){var x=this._cache[k];d=x.x+0.5;e=x.y+0.5;if(x&&x.x>=h&&x.x<=q&&x.y>=l&&x.y<=m)switch(this.symbols){case f.IPGrShapes.CIRCLE:n.drawCircle(c,d,e,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolBackgroundColor(),this.getSymbolStrokeSize(),null,this.getFillSymbols());break;case f.IPGrShapes.SQUARE:n.drawSquare(c,d,e,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolBackgroundColor(),null,this.getFillSymbols(),this.getSymbolStrokeSize());break;case f.IPGrShapes.DIAMOND:n.drawDiamond(c,
d,e,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolBackgroundColor(),this.getFillSymbols(),this.getSymbolStrokeSize());break;case f.IPGrShapes.CROSS:n.drawCross(c,d,e,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolStrokeSize());break;case f.IPGrShapes.PLUS:n.drawPlus(c,d,e,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolStrokeSize());break;case f.IPGrShapes.TRIANGLE:n.drawTriangle(c,d,e,this.getSymbolSize(),this.getSymbolColor(),this.getSymbolBackgroundColor(),this.getFillSymbols(),
this.getSymbolStrokeSize())}}}}},getDistanceFrom:function(c,b){var a,d,e,f,h;f=-1;d=this.getCache().length;if(this.getDrawLines()){e=null;for(a=0;a<d;a++){if((h=this.getCache()[a])&&e)e=n.segmentDistance(c,b,e.x,e.y,h.x,h.y),0<=e&&(f=0>f?e:Math.min(e,f));e=h}}else for(a=0;a<d;a++)if(h=this.getCache()[a])e=k.hypot(c-h.x,b-h.y),0<=e&&(f=0>f?e:Math.min(e,f));return f},addPoint:function(c,b,a){this._data||(this._data=[]);c=new d(c,b);0<=a?this._data.splice(a,0,c):this._data.push(c)},getScatterData:function(){return this._scatterData},
setScatterData:function(c){this._scatterData=c;this.invalidate()},getStoreData:function(){return this._storeData},setStoreData:function(c){this._storeData=c},getData:function(){return this._data},getUseThinLine:function(){return this._useThinLine},setUseThinLine:function(c){this._useThinLine=c},hasSamePoints:function(c,b){if(c.length!=this._xPts.length||b.length!=this._yPts.length)return!1;for(var a=0;a<c.length;a++)if(0.009<Math.abs(c[a]-this._xPts[a])||0.009<Math.abs(b[a]-this._yPts[a]))return!1;
return!0},getCache:function(){if(null!=this._cache)return this._cache;this.calcPoints();return this._cache}})})},"xl/grapher/IPGraphCustomPlot":function(){define(["dojo/_base/declare","xl/grapher/IPGraphPart","xl/grapher/enums"],function(l,m,k){return l("IPGraphCustomPlot",[m],{_color:null,lineStyle:null,noRegion:!1,_customData:null,_noClip:!1,fIsSnapShot:!1,_mask:null,_setColorAttr:function(f){this._color=f},drawMask:function(f,e,d){},draw:function(f,e,d){},getLineStyle:function(){return this.lineStyle},
setLineStyle:function(f){f!=this._lineStyle&&(this._lineStyle=f,this.invalidate())},getNoRegion:function(){return this.noRegion},setNoRegion:function(f){f!=this.noRegion&&(this.noRegion=f,this.invalidate())},getNoClip:function(){return this._noClip},setNoClip:function(f){f!=this._noClip&&(this._noClip=f,this.invalidate())},constructor:function(f){this._color=0;this.lineStyle=k.IPGraphLineStyle.SOLID},setColor:function(f){f!=this._color&&(this._color=f,this.invalidate())},getColor:function(){return this._color},
getIsSnapShot:function(){return this.fIsSnapShot},setIsSnapShot:function(f){this.fIsSnapShot=f},getCustomData:function(){return this._customData},setCustomData:function(f){this._customData=f}})})},"xl/grapher/IPGraphPart":function(){define(["dojo/_base/declare","dijit/_WidgetBase","xl/util/logger"],function(l,m){return l("xl.grapher.IPGraphPart",[m],{hint:"",_graph:null,_tag:0,_invalid:!0,_useAltYAxis:!1,_validating:!1,visible:!0,_setUseAltYAxisAttr:function(k){this._useAltYAxis=k},_setTagAttr:function(k){this._tag=
k},constructor:function(k){k&&l.safeMixin(this,k);k&&k._graph&&this.setGraph(k._graph)},getTag:function(){return this._tag},setTag:function(k){this._tag=k},invalidate:function(){this._invalid=!0;this._graph&&this._graph.invalidateGraphPart(this)},getGraph:function(){return this._graph},setGraph:function(k){k!=this._graph&&(this._graph&&this._graph.removePart(this),(this._graph=k)&&this._graph.addPart(this))},getUseAltYAxis:function(){return this._useAltYAxis},setUseAltYAxis:function(k){k!=this._useAltYAxis&&
(this._useAltYAxis=k,this.invalidate())},getAxisY:function(){return this._useAltYAxis?this._graph.getAxisYAlt():this._graph.getAxisY()},getAxisX:function(){return this._graph.getAxisX()},getPosition:function(){return this.position},getVisible:function(){return this.visible},setVisible:function(k){k!=this.visible&&(this.visible=k,this.invalidate())},clipRegion:function(k){var f=this.getGraph()._plotRect;k.setClip({x:f.left,y:f.top,width:f.getWidth()+1,height:f.getHeight()+1})},validateNow:function(){this._validating||
(this._invalid=!0,this.validateDisplayList())},validateDisplayList:function(){if(!this._validating&&this._invalid){this._validating=!0;try{this._invalid=!1,this.draw()}finally{this._validating=!1}}},draw:function(k,f,e){throw Error("IPGraphPart.draw() is an abstract method");},xWorldToView:function(k){return this._graph.getAxisX().worldToView(k)},xWorldToViewF:function(k){return this._graph.getAxisX().worldToViewF(k)},xViewToWorld:function(k){return this._graph.getAxisX().viewToWorld(k)},xViewFToWorld:function(k){return this._graph.getAxisX().viewFToWorld(k)},
xViewToWorldRel:function(k){return this._graph.getAxisX().viewToWorldRel(k)},yWorldToView:function(k){return this._useAltYAxis?this._graph.getAxisYAlt().worldToView(k):this._graph.getAxisY().worldToView(k)},yWorldToViewF:function(k){return this._useAltYAxis?this._graph.getAxisYAlt().worldToViewF(k):this._graph.getAxisY().worldToViewF(k)},yViewToWorld:function(k){return this._useAltYAxis?this._graph.getAxisYAlt().viewToWorld(k):this._graph.getAxisY().viewToWorld(k)},yViewFToWorld:function(k){return this._useAltYAxis?
this._graph.getAxisYAlt().viewFToWorld(k):this._graph.getAxisY().viewFToWorld(k)},yViewToWorldRel:function(k){return this._useAltYAxis?this._graph.getAxisYAlt().viewToWorldRel(k):this._graph.getAxisY().viewToWorldRel(k)},getDistanceFrom:function(k,f){return-1},getHint:function(){return this.hint},setHint:function(k){this.hint=k}})})},"xl/util/ByRef":function(){define(["dojo/_base/declare"],function(l){return l("ByRef",null,{value:null,constructor:function(l){this.value=l}})})},"xl/grapher/IPGraphHistogram":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphCustomPlot xl/util/RegionFill xl/util/imageProcessing xl/grapher/Rectangle dojox/gfx xl/util/graphUtils".split(" "),
function(l,m,k,f,e,d,n,c){return l("xl.grapher.IPGraphHistogram",[IPGraphCustomPlot],{_xPts:[],_setXPtsAttr:function(b){this._xPts=b},_yPts:[],_setYPtsAttr:function(b){this._yPts=b},lineColor:"",fillColor:"",title:null,label:"",labelPosition:0,visible:!0,getPointCount:function(){return this._xPts.length},getPoint:function(b){return{x:this._xPts[b],y:this._yPts[b]}},getFillColor:function(){return this.fillColor},setFillColor:function(b){b!=this.fillColor&&(this.fillColor=b,this.invalidate())},getLineColor:function(){return this.lineColor},
setLineColor:function(b){b!=this.lineColor&&(this.lineColor=b,this.invalidate())},draw:function(b,a,d){if(this.visible){a=Array(this.getPointCount()+1);for(d=0;d<this.getPointCount();d++){var e=this.getPoint(d);a[d]={x:this.xWorldToViewF(e.x),y:this.yWorldToViewF(e.y)}}a[this.getPointCount()]=m.clone(a[0]);(this.lineColor&&""!=this.lineColor||this.fillColor&&""!=this.fillColor)&&c.drawPolygon(b,a,this.lineColor,this.fillColor)}},addPoint:function(b){this._xPts.add(b.x);this._yPts.add(b.y);this.invalidate()},
getDistanceFrom:function(b,a){for(var d=this.xViewToWorld(b),e=this.yViewToWorld(a),f=Array(this.getPointCount()+1),h=0;h<this.getPointCount();h++){var k=this.getPoint(h);f[h]={x:k.x,y:k.y}}f[this.getPointCount()]=m.clone(f[0]);return c.pointInPolygon(d,e,f)?0:-1},hasSamePoints:function(b,a){if(b.length!=this._xPts.length||a.length!=this._yPts.length)return!1;for(var c=0;c<b.length;c++)if(0.009<Math.abs(b[c]-this._xPts[c])||0.009<Math.abs(a[c]-this._yPts[c]))return!1;return!0}})})},"xl/util/RegionFill":function(){define(["dojo/_base/declare",
"dojox/gfx","dojox/gfx/canvas","xl/util/imageProcessing"],function(l,m,k,f){return l("xl.util.RegionFill",[k.Shape],{x:null,y:null,color:null,stopFill:null,bounds:null,regionObject:null,constructor:function(e){this.x=e.x;this.y=e.y;this.color=e.color;this.stopFill=e.stopFill;this.bounds=e.bounds;this.regionObject=e.regionObject},_renderShape:function(e){var d=e.getImageData(this.x,this.y,1,1).data;255===d[0]&&255===d[1]&&166===d[2]&&255===d[3]?this.regionObject.ignore=!0:(this.regionObject.ignore=
!1,f.fill(e,this.color,this.x,this.y,this.bounds,this.stopFill))}})})},"xl/util/imageProcessing":function(){define(["dojo/_base/declare","xl/util/stringUtils"],function(l,m){var k={colorTolerance:1,toHexString:function(f){var e=f.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(null==e)return f;f=parseInt(e[1],10);var d=parseInt(e[2],10),e=parseInt(e[3],10);return"#"+m.padString(f.toString(16),2,"0")+m.padString(d.toString(16),2,"0")+m.padString(e.toString(16),2,"0")},toRGB:function(f){var e,d,k,c,b;
b=f;if("string"!=typeof f)return f;"#"===b.substring(0,1)&&(b=b.substring(1));if(3===b.length||4===b.length)e=b.substring(0,1),e+=e,d=b.substring(1,2),d+=d,k=b.substring(2,3),k+=k,4===b.length?(c=b.substring(3,4),c+=c):c="ff";else if(6===b.length||8===b.length)e=b.substring(0,2),d=b.substring(2,4),k=b.substring(4,6),c=6===b.length?"ff":b.substring(6,8);e=parseInt(e,16);d=parseInt(d,16);k=parseInt(k,16);c=parseInt(c,16);return{r:e,g:d,b:k,a:c}},getColor:function(f,e,d,k,c,b){e=4*d*k+4*e;void 0===b?
b={r:f[e],g:f[e+1],b:f[e+2],a:f[e+3]}:(b.r=f[e],b.g=f[e+1],b.b=f[e+2],b.a=f[e+3]);return b},setColor:function(f,e,d,k,c,b){e=4*d*k+4*e;f[e]=b.r;f[e+1]=b.g;f[e+2]=b.b;f[e+3]=b.a},fill:function(f,e,d,l,c,b){var a,s,r,m,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N;"string"==typeof e&&(e=k.toRGB(e));d=Math.round(d);l=Math.round(l);c=null===c||void 0===c?{x:0,y:0,width:f.canvas.width,height:f.canvas.height}:{x:Math.round(c.left),y:Math.round(c.top),width:Math.round(c.right-c.left),height:Math.round(c.bottom-c.top)};
if(null===b||void 0===b)b=new Function(["fillColor","seedColor","pixelColor"],"return pixelColor.r !\x3d seedColor.r || pixelColor.g !\x3d seedColor.g || pixelColor.b !\x3d seedColor.b || pixelColor.a !\x3d seedColor.a;");a=r=d-c.x;s=m=l-c.y;F=c.width;B=c.height;h=Array(B*F);d-=c.x;v=l-c.y;l=[v*F+d];q=k.getImageData(f,c.x,c.y,c.width,c.height);u=q.data;A=k.getColor(u,d,v,F,B);w={r:0,g:0,b:0,a:1};D=e.r;E=e.g;J=e.b;for(N=e.a;0<l.length;)x=l.pop(),d=x%F,v=(x-d)/F,h[x]||(h[x]=!0,x*=4,w.r=u[x],w.g=u[x+
1],w.b=u[x+2],w.a=u[x+3],b(e,A,w)||(u[x]=D,u[x+1]=E,u[x+2]=J,u[x+3]=N,a<d?a=d:r>d&&(r=d),s<v?s=v:m>v&&(m=v),x=d-1,z=v,C=z*F+x,0<=x&&!h[C]&&l.push(C),x=d,z=v+1,C=z*F+x,z<B&&!h[C]&&l.push(C),x=d+1,z=v,C=z*F+x,x<F&&!h[C]&&l.push(C),x=d,z=v-1,C=z*F+x,0<=z&&!h[C]&&l.push(C)));k.putImageData(f,q,c.x,c.y);return{x:a+c.x,y:s+c.y,width:r-a+1,height:m-s+1}},getImageData:function(f,e,d,k,c){return f.getImageData(e,d,k,c)},putImageData:function(f,e,d,k){f.putImageData(e,d,k)}};return k})},"xl/grapher/XYPointCursor":function(){define(["dojo/_base/declare",
"dojo/_base/lang","xl/grapher/IPGraphShapeBlob"],function(l,m,k){return l("xl.grapher.XYPointCursor",[k],{constructor:function(f){m.mixin(f);this._graph=f.graph;this.delayDraw=f.delayDraw;this.setStickyFocus(!0)},delayDraw:!1,postCreate:function(){this._graph&&(this._graph.addBlob(this,this.delayDraw),this._graph.setFocusBlob(this),this._graph.hasXyCursor=!0)}})})},"xl/grapher/IPGraphShapeBlob":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/_base/connect xl/grapher/IPGraphBlob dojox/gfx/Moveable dojo/dnd/move xl/grapher/Point xl/grapher/enums xl/util/graphUtils xl/util/IPMath xl/grapher/BlobMover dojo/has xl/editgraph/GraphSettings".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h){return l("xl.grapher.IPGraphShapeBlob",[e],{_size:0,_showVertLine:!0,_showHorzLine:!0,crossHairColor:"black",_surface:null,constructor:function(a){m.mixin(this,a);this._size=5},getSize:function(){return this._size},setSize:function(a){a!=this._size&&(this._size=a,this.invalidate())},getShowVertLine:function(){return this._showVertLine},setShowVertLine:function(a){a!=this._showVertLine&&(this._showVertLine=a,this.invalidate())},getShowHorzLine:function(){return this._showHorzLine},
setShowHorzLine:function(a){a!=this._showHorzLine&&(this._showHorzLine=a,this.invalidate())},isUnderPoint:function(a,b){return!this._graph?null:this.calcDistFromPoint(a,b,this._size)},draw:function(a){a&&(this._surface=a);!this._surface&&this._graph&&(this._surface=this._graph.getBlobSurfaceLayer());var b;this._graph&&(a=new c(this.getViewX(),this.getViewY()),b=this.crossHairColor,this.getVisible()&&(this.drawLines(this._surface,a,b),this.drawBlob(this._surface,a)))},_blob:null,drawBlob:function(b,
c){if(this._blob&&this._blob.parent)for(var e=0;e<this._blob.children.length;e++)this._blob.children[e].setShape({cx:c.x,cy:c.y});else e=b.createGroup(),a.drawCircle(e,c.x,c.y,this._size,h.blobBorderColor,h.blobFillColor,2),a.drawCircle(e,c.x,c.y,2*this._size,h.blobInnerBorderColor,h.blobInnerBorderColor,2).rawNode.setAttribute("tabindex",0),this._blob=e,e=new d(this._blob,{mover:r}),e.graph=this.getGraph(),e.blob=this,this._blob.connect("onmousedown",m.hitch(this,"onMouseDown"))},onMouseDown:function(a){this.getGraph().currentBlob=
this},_vLine:null,_hLine:null,drawLines:function(a,c,d){t("mobile")&&0<=this.id.indexOf("GraphCursor")||(this._vLine&&this._hLine&&this._vLine.parent&&this._hLine.parent?(a=this._vLine.getShape(),this._vLine.setShape({x1:c.x,y1:a.y1,x2:c.x,y2:a.y2}),a=this._hLine.getShape(),this._hLine.setShape({x1:a.x1,y1:c.y,x2:a.x2,y2:c.y})):(this._showVertLine&&!s.isInfinite(c.x)&&(this._vLine=this._graph.drawVerticalLine(a,c.x,b.IPGraphLineStyle.DOTTED,d)),this._showHorzLine&&!s.isInfinite(c.y)&&(this._hLine=
this._graph.drawHorizontalLine(a,c.y,b.IPGraphLineStyle.DOTTED,d))))}})})},"xl/grapher/IPGraphBlob":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/has xl/grapher/IPGraphPart xl/util/IPMath xl/grapher/Point xl/grapher/Rectangle xl/grapher/enums".split(" "),function(l,m,k,f,e,d,n,c,b){return l(" IPGraphBlob ",[e,k],{_locationX:0,_locationY:0,snapX:1,snapY:1,getOriginX:function(){return this._originX},getOriginY:function(){return this._originY},_originX:0,_originY:0,_snapOriginX:0,
_snapOriginY:0,_stickyFocus:!1,_infinityOffset:0,_showCursor:!1,_disableRedraw:!1,_canMove:!1,_snapToTicks:!1,_group:null,constructor:function(a){a&&(this._group=a._group);this._infinityOffset=10;this._canMove=!0;this._snapToTicks=!1;this._group&&this._group.addChild(this)},getUnconstrainedPoint:function(){return this._unconstrainedPoint},setGraph:function(a){this._group?this._graph=a:this.inherited(arguments)},invalidate:function(){this.inherited(arguments);this._group&&this._group.invalidate()},
getLocationX:function(){return this._locationX},setLocationX:function(a){a!==this._locationX&&(a=new n(a,this._locationY),this.constrainPosition(a),this._locationX=a.x,this._locationY=a.y)},getLocationY:function(){return this._locationY},setLocationY:function(a){a!==this._locationY&&(a=new n(this._locationX,a),this.constrainPosition(a),this._locationX=a.x,this._locationY=a.y)},_locationSetOnce:!1,setLocation:function(a,b,c){if(a!==this._locationX||b!==this._locationY||!this._locationSetOnce)this._locationSetOnce=
!0,a=new n(a,b),this.constrainPosition(a,c),this._locationX=a.x,this._locationY=a.y,this.redraw()},getSnapIntervalX:function(){return this.snapX},constrainLocation:function(a){var b=new n(this._locationX,this._locationY);this.constrainPosition(b,a);this._locationX=b.x;this._locationY=b.y},setSnapIntervalX:function(a){a!=this.snapX&&(this.snapX=a,this.constrainLocation(!0),this.invalidate())},getSnapIntervalY:function(){return this.snapY},setSnapIntervalY:function(a){a!=this.snapY&&(this.snapY=a,this.constrainLocation(!0),
this.invalidate())},getSnapOriginX:function(){return this._snapOriginX},setSnapOriginX:function(a){a!=this._snapOriginX&&(this._snapOriginX=a,this.constrainLocation(),this.invalidate())},getSnapOriginY:function(){return this._snapOriginY},setSnapOriginY:function(a){a!=this._snapOriginY&&(this._snapOriginY=a,this.constrainLocation(),this.invalidate())},setFocused:function(a){var b;b=this.getGraph();this.getGraph()&&a!=this.getFocused()&&(a?b.setFocusBlob(this):b.getFocusBlob()==this&&b.setFocusBlob(null),
this.invalidate())},getFocused:function(){var a;a=this.getGraph();return this.getGraph()?a.getFocusBlob()==this:!1},setTrackMouse:function(a){var b;b=this.getGraph();this.getGraph()&&a!=this.getTrackMouse()&&(a?b.setTrackBlob(this):b.getTrackBlob()==this&&b.setTrackBlob(null),this.invalidate())},getTrackMouse:function(){var a;return(a=this.getGraph())?a.getTrackBlob()==this:!1},getViewX:function(){return d.isInfinite(this.getLocationX())?0>this.getLocationX()?this.getGraph().getAxisX().getView().min-
this._infinityOffset:this.getGraph().getAxisX().getView().max+this._infinityOffset:this.xWorldToView(this.getLocationX())},getViewY:function(){return d.isInfinite(this.getLocationY())?0>this.getLocationY()?this.getGraph().getAxisY().getView().min-this._infinityOffset:this.getGraph().getAxisY().getView().max+this._infinityOffset:this.yWorldToView(this.getLocationY())},getBlobBoundaries:function(a,b,c,e,h){var f;if((f=this.getGraph())&&!h)d.isZero(this.snapX,1E-8)||(b=Math.floor(1E-8+(f.getAxisX()._maximum-
this._snapOriginX)/this.snapX)*this.snapX+this._snapOriginX,a=Math.ceil(-1E-8+(f.getAxisX()._minimum-this._snapOriginX)/this.snapX)*this.snapX+this._snapOriginX),d.isZero(this.snapY,1E-8)||(e=Math.floor(1E-8+(f.getAxisY()._maximum-this._snapOriginY)/this.snapY)*this.snapY+this._snapOriginY,c=Math.ceil(-1E-8+(f.getAxisY()._minimum-this._snapOriginY)/this.snapY)*this.snapY+this._snapOriginY);return{xmin:a,xmax:b,ymin:c,ymax:e}},focusGained:function(){this.emit(b.IPGraphBlobEvent.BLOB_FOCUS_GAINED,{blob:this,
x:this.getLocationX(),y:this.getLocationY(),state:b.IPGraphBlobState.FOCUSED})},focusLost:function(){this.emit(b.IPGraphBlobEvent.BLOB_FOCUS_LOST,{blob:this,x:this.getLocationX(),y:this.getLocationY(),state:b.IPGraphBlobState.FOCUSED})},setVisible:function(a){this.visible=a;!this.getVisible()&&this.getFocused()&&this.setFocused(!1)},draw:function(a,b){},isUnderPoint:function(){return null},calcDistFromPoint:function(a,b,c){a=this.xWorldToView(a);b=this.yWorldToView(b);var e=this.getViewX(),h=this.getViewY();
c=f("touch")?Math.max(15,c):c;return Math.abs(e-a)<=c&&Math.abs(h-b)<=c?{blob:this,distance:d.hypot(e-a,h-b)}:null},move:function(a,c,e,f,h,k){new n;a=new n(a,c);if(e===b.IPGraphBlobState.MOVED||e===b.IPGraphBlobState.PRESSED)this._unconstrainedPoint=m.clone(a);this.constrainPosition(a,f,h);this.emit(b.IPGraphBlobEvent.BLOB_MOVED,{blob:this,x:a.x,y:a.y,state:e});if((!d.isFloatEqual(this._locationX,a.x)||!d.isFloatEqual(this._locationY,a.y))&&!k)this._locationX=a.x,this._locationY=a.y,this.redraw()},
groupHasX:function(a){for(var b=!1,c=0;c<this._group.getBlobCount();c++){var e=this._group.getBlob(c);if(e!=this&&d.sameValue(a,e.getLocationX(),1E-8)){b=!0;break}}return b},groupHasY:function(a){a=!1;for(var b=0;b<this._group.getBlobCount();b++){var c=this._group.getBlob(b);if(c!=this&&d.sameValue(y,c.getLocationY(),1E-8)){a=!0;break}}return a},groupHasXY:function(a,b){for(var c=!1,e=0;e<this._group.getBlobCount();e++){var h=this._group.getBlob(e);if(h!=this&&d.sameValue(a,h.getLocationX(),1E-8)&&
d.sameValue(b,h.getLocationY(),1E-8)){c=!0;break}}return c},nudge:function(a,c,e){var f;f=0<this.snapX?this.snapX*a:this.xViewToWorldRel(a);a=d.isInfinite(this.getLocationX())?0>this.getLocationX()&&0<f?this.getGraph().getAxisX()._minimum:0<this.getLocationX()&&0>f?this.getGraph().getAxisX()._maximum:this.getLocationX():this.getLocationX()+f;if(!e&&this._group&&this._group.disallowSameXBlobs&&0!=f)for(;this.groupHasX(a);)a+=f;else if(!e&&this._group&&this._group.disallowSamePositionBlobs&&0!=f)for(;this.groupHasXY(a,
this.getLocationY());)a+=f;f=0<this.snapY?this.snapY*c:this.yViewToWorldRel(-c);c=d.isInfinite(this.getLocationY())?0>this.getLocationY()&&0<f?this.getGraph().getAxisY()._minimum:0<this.getLocationY()&&0>f?this.getGraph().getAxisY()._maximum:this.getLocationY():this.getLocationY()+f;if(!e&&this._group&&this._group.disallowSamePositionBlobs&&0!=f)for(;this.groupHasXY(a,c);)c+=f;this.move(a,c,b.IPGraphBlobState.KEYBOARD,!1,e)},redraw:function(){this._disableRedraw||(this._invalid=!0,this._surface&&
(this._group?this._group.draw(this._surface):this.draw(this._surface)))},selectBlob:function(a){},_unconstrainedPoint:null,constrainPosition:function(a,b,c){var e,h,f,k,l;if(e=this.getGraph()){h=e.getAxisX()._maximum;f=e.getAxisX()._minimum;k=e.getAxisY()._maximum;l=e.getAxisY()._minimum;var n=this.getBlobBoundaries(f,h,l,k,b);a.x<n.xmin&&(a.x=n.xmin);a.x>n.xmax&&(a.x=n.xmax);if(!b)if(d.isZero(this.snapX,1E-8)){if(this._snapToTicks&&e.getAxisX().getTickList()){l=e.getAxisX().worldToViewF(a.x);for(h=
0;h<e.getAxisX().getTickList().getTickCount();h++)if(f=e.getAxisX().getTickList().getTick(h),k=e.getAxisX().worldToViewF(f.value),Math.round(l)==Math.round(k)){a.x=f.value;break}}}else a.x=Math.round((a.x-this._snapOriginX)/this.snapX)*this.snapX+this._snapOriginX;a.y<n.ymin&&(a.y=n.ymin);a.y>n.ymax&&(a.y=n.ymax);if(!b)if(d.isZero(this.snapY,1E-8)){if(this._snapToTicks&&e.getAxisY().getTickList()){l=e.getAxisY().worldToViewF(a.y);for(h=0;h<e.getAxisY().getTickList().getTickCount();h++)if(f=e.getAxisY().getTickList().getTick(h),
k=e.getAxisY().worldToViewF(f.value),Math.round(l)==Math.round(k)){a.y=f.value;break}}}else a.y=Math.round((a.y-this._snapOriginY)/this.snapY)*this.snapY+this._snapOriginY;if(!c&&this._group&&(this._group.disallowSamePositionBlobs||this._group.disallowSameXBlobs))for(h=0;h<this._group.getBlobCount();h++)if(b=this._group.getBlob(h),b!=this)if(this._group.disallowSamePositionBlobs&&d.sameValue(b.getLocationX(),a.x,1E-8)&&d.sameValue(b.getLocationY(),a.y,1E-8)){a.x=this._locationX;a.y=this._locationY;
break}else if(this._group.disallowSameXBlobs&&d.sameValue(b.getLocationX(),a.x,1E-8)){a.x=this._locationX;a.y=this._locationY;break}}},getStickyFocus:function(){return this._stickyFocus},setStickyFocus:function(a){this._stickyFocus=a},getInfinityOffset:function(){return this._infinityOffset},setInfinityOffset:function(a){this._infinityOffset=a},getShowCursor:function(){return this._showCursor},setShowCursor:function(a){this._showCursor=a},getDisableRedraw:function(){return this._disableRedraw},setDisableRedraw:function(a){this._disableRedraw=
a},getCanMove:function(){return this._canMove},setCanMove:function(a){this._canMove=a},getSnapToTicks:function(){return this._snapToTicks},setSnapToTicks:function(a){this._snapToTicks=a}})})},"dojox/gfx/Moveable":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/_base/event dojo/topic dojo/touch dojo/dom-class dojo/_base/window ./Mover".split(" "),function(l,m,k,f,e,d,n,c,b){return m("dojox.gfx.Moveable",null,{constructor:function(a,c){this.shape=a;this.delay=c&&0<c.delay?
c.delay:0;this.mover=c&&c.mover?c.mover:b;this.events=[this.shape.on(d.press,l.hitch(this,"onMouseDown"))]},destroy:function(){k.forEach(this.events,function(a){a.remove()});this.events=this.shape=null},onMouseDown:function(a){this.delay?(this.events.push(this.shape.on(d.move,l.hitch(this,"onMouseMove")),this.shape.on(d.release,l.hitch(this,"onMouseUp"))),this._lastX=a.clientX,this._lastY=a.clientY):new this.mover(this.shape,a,this);f.stop(a)},onMouseMove:function(a){var b=a.clientY;if(Math.abs(a.clientX-
this._lastX)>this.delay||Math.abs(b-this._lastY)>this.delay)this.onMouseUp(a),new this.mover(this.shape,a,this);f.stop(a)},onMouseUp:function(a){this.events.pop().remove()},onMoveStart:function(a){e.publish("/gfx/move/start",a);n.add(c.body(),"dojoMove")},onMoveStop:function(a){e.publish("/gfx/move/stop",a);n.remove(c.body(),"dojoMove")},onFirstMove:function(a){},onMove:function(a,b){this.onMoving(a,b);this.shape.applyLeftTransform(b);this.onMoved(a,b)},onMoving:function(a,b){},onMoved:function(a,
b){}})})},"dojox/gfx/Mover":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/on dojo/touch dojo/_base/event".split(" "),function(l,m,k,f,e,d){return k("dojox.gfx.Mover",null,{constructor:function(k,c,b){this.shape=k;this.lastX=c.clientX;this.lastY=c.clientY;k=this.host=b;c=document;b=f(c,e.move,l.hitch(this,"onFirstMove"));this.events=[f(c,e.move,l.hitch(this,"onMouseMove")),f(c,e.release,l.hitch(this,"destroy")),f(c,"dragstart",l.hitch(d,"stop")),f(c,"selectstart",l.hitch(d,
"stop")),b];if(k&&k.onMoveStart)k.onMoveStart(this)},onMouseMove:function(e){var c=e.clientX,b=e.clientY;this.host.onMove(this,{dx:c-this.lastX,dy:b-this.lastY});this.lastX=c;this.lastY=b;d.stop(e)},onFirstMove:function(){this.host.onFirstMove(this);this.events.pop().remove()},destroy:function(){m.forEach(this.events,function(c){c.remove()});var d=this.host;if(d&&d.onMoveStop)d.onMoveStop(this);this.events=this.shape=null}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),
function(l,m,k,f,e,d){f=l("dojo.dnd.move.constrainedMoveable",d,{constraints:function(){},within:!1,constructor:function(d,c){c||(c={});this.constraints=c.constraints;this.within=c.within},onFirstMove:function(d){var c=this.constraintBox=this.constraints.call(this,d);c.r=c.l+c.w;c.b=c.t+c.h;this.within&&(d=m.getMarginSize(d.node),c.r-=d.w,c.b-=d.h)},onMove:function(d,c){var b=this.constraintBox,a=d.node.style;this.onMoving(d,c);c.l=c.l<b.l?b.l:b.r<c.l?b.r:c.l;c.t=c.t<b.t?b.t:b.b<c.t?b.b:c.t;a.left=
c.l+"px";a.top=c.t+"px";this.onMoved(d,c)}});e=l("dojo.dnd.move.boxConstrainedMoveable",f,{box:{},constructor:function(d,c){var b=c&&c.box;this.constraints=function(){return b}}});l=l("dojo.dnd.move.parentConstrainedMoveable",f,{area:"content",constructor:function(d,c){var b=c&&c.area;this.constraints=function(){var a=this.node.parentNode,c=k.getComputedStyle(a),d=m.getMarginBox(a,c);if("margin"==b)return d;var e=m.getMarginExtents(a,c);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;if("border"==b)return d;
e=m.getBorderExtents(a,c);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;if("padding"==b)return d;e=m.getPadExtents(a,c);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;return d}}});return{constrainedMoveable:f,boxConstrainedMoveable:e,parentConstrainedMoveable:l}})},"xl/grapher/BlobMover":function(){define("dojo/_base/declare dojox/gfx dojox/gfx/Mover dojo/_base/event dojo/has xl/grapher/Point".split(" "),function(l,m,k,f,e,d){return l("xl.grapher.BlobMover",k,{onMouseMove:function(k){var c=new d(e("touch")?(k.changedTouches?
k.changedTouches[0]:k).clientX:k.clientX,e("touch")?(k.changedTouches?k.changedTouches[0]:k).clientY:k.clientY);c.x-=this._xoff;c.y-=this._yoff;var b=this.host.blob.xViewToWorld(c.x),c=this.host.blob.yViewToWorld(c.y);this.host.blob.move(b,c,null,!1,!1);this.host.blob.draw();f.stop(k)},calculateShift:function(d,c){var b={};b.dx=d.x>c.right?c.right-this.lastX:d.x<c.left?c.left-this.lastX:d.x-this.lastX;b.dy=d.y>c.bottom?c.bottom-this.lastY:d.y<c.top?c.top-this.lastY:d.y-this.lastY;return b},graph:null,
constructor:function(f,c,b){this.graph=b.graph;f=new d(e("touch")?(c.changedTouches?c.changedTouches[0]:c).clientX:c.clientX,e("touch")?(c.changedTouches?c.changedTouches[0]:c).clientY:c.clientY);this._xoff=f.x-this.host.blob.getViewX();this._yoff=f.y-this.host.blob.getViewY();this.graph&&this.graph.mouseDown(c)},destroy:function(){this.graph.domNode.focus();this.inherited(arguments)},_xoff:0,_yoff:0,isOutsideBounds:function(d,c){return d.x<c.left||d.x>c.right||d.y<c.top||d.y>c.bottom?!0:!1}})})},
"xl/editgraph/GraphSettings":function(){define(["dojo/_base/declare"],function(l){l=l("xl.editgraph.GraphSettings",[],{});l.drawLinesExtended=!0;l.drawLinesWithPoints=!1;l.drawValuesWithPoints=!1;l.boldTextLabels=!1;l.graphTextFont="Arial";l.graphTextSize="11px";l.EPSPercent=1E-4;l.ANGLE_TOLERANCE=0.01;l.EQUIVALENCE_SLOPE_TOLERANCE=0.01;l.EQUIVALENCE_POINT_TOLERANCE=0.015;l.tapSelection=!1;l.objectColor="#3C70E0";l.objectSelectedColor="#FFB928";l.toolColor="#0000FF";l.handleColor="rgba(18, 112, 225, 0.0)";
l.handleBorderColor="rgba(18, 112, 225, 0.4)";l.handleSelectedColor="rgba(18, 112, 225, 0.4)";l.handleSelectedBorderColor="rgba(18, 112, 225, 0.7)";l.handleSelectedInnerBorderColor="rgba(255, 255, 255, 0.7)";l.handleBorderSize=3;l.handleSelectedBorderSize=3;l.blobBorderColor="#FFCB5A";l.blobInnerBorderColor="rgba(255,255,255,0.0)";l.blobFillColor="black";l.pointColor="#3C07E0";l.arrowColor="#FF0000";l.doubleArrowColor="#FF0000";l.regionColor="#FFFFA6";l.rectangleColor="#3CE070";l.polygonColor="#3CE070";
l.pointToolColor="#96FF00";l.arrowToolColor="#96FF00";l.regionToolColor="#4080FF";return l})},"xl/grapher/IPNumberLinePlot":function(){define("dojo/_base/declare dojo/has ./IPGraphCustomPlot ./enums xl/util/graphUtils xl/util/stringUtils".split(" "),function(l,m,k,f,e,d){return l("xl.grapher.IPNumberLinePlot",[k],{points:[],intervalNotation:!1,lineColor:"black",lineStyle:f.IPGraphLineStyle.SOLID,shiftColor:"black",visible:!0,_strokeWidth:5,postCreate:function(){this.inherited(arguments)},getAxis:function(){return this.getAxisX()},
drawLabel:function(f,c){if(isFinite(c)){var b=this.getAxis().labelFontSize,a=this.getAxis().labelFontFamily,k=d.formatFloat(c,"#.--"),r=e.measureText(f,k,b,a),l=this.xWorldToViewF(c),h=this.yWorldToViewF(0),l=l-r.width/2,h=h-(this.getGraph().majorTickSize+r.height);this.intervalNotation&&(h-=3.5);e.drawText(f,l,h,k,this.lineColor,b,a)}},draw:function(d){var c=this.points.length;if(0!=c&&this.visible){var b=d.createPath();b.setStroke({color:this.lineColor,style:this.lineStyle,width:this._strokeWidth});
var a=this.yWorldToViewF(0)+0.5,f,k,l;1==c?k=this.points[0]:this.points[0].x<=this.points[1].x?(k=this.points[0],l=this.points[1]):(k=this.points[1],l=this.points[0]);var h=this.getAxis().getView(),q=Math.max(this.xWorldToViewF(k.x),h.min)+0.5;b.moveTo(q,a);k&&k.x<this.getAxis().minimum?l&&l.x>=this.getAxis().minimum&&(q=h.min,f={start:{x:q+1,y:a},end:{x:q-10,y:a},stroke:{color:this.lineColor,width:this._strokeWidth},headStroke:{color:this.lineColor,width:1},arrowHeight:2,arrowWidth:5,arrowHeadLength:5,
arrowOffset:5,preCorrected:!0},e.drawArrow(d,f)):(this.intervalNotation?(f=d.createPath(),k.include?(f.moveTo(q+3.5,a+7.5+1),f.hLineTo(q-0.3),f.vLineTo(a-7.5),f.hLineTo(q+3.5),f.moveTo(q+0.3,a-7.5),f.vLineTo(a+7.5+1)):(f.moveTo(q+2,a+7.5),f.qCurveTo(q-5,a,q+2,a-7.5),f.qCurveTo(q-3.5,a,q+2,a+7.5+1)),f.setStroke({color:this.lineColor,style:"solid",width:2})):e.drawCircle(d,q,a,4,this.lineColor,k.include?this.lineColor:"white"),k.showLabel&&this.drawLabel(d,k.x));2==c&&(c=Math.min(this.xWorldToViewF(l.x),
h.max)+0.5,1E-10<Math.abs(k.x-l.x)&&b.lineTo(c,a),l.x>this.getAxis().maximum?k.x<=this.getAxis().maximum&&(c=h.max,f={start:{x:c-1,y:a},end:{x:c+10,y:a},stroke:{color:this.lineColor,width:this._strokeWidth},headStroke:{color:this.lineColor,width:1},arrowHeight:2,arrowHeadLength:5,arrowWidth:5,arrowOffset:5,preCorrected:!0},e.drawArrow(d,f)):(this.intervalNotation?(f=d.createPath(),l.include?(f.moveTo(c-3.5,a+7.5+1),f.hLineTo(c+0.3),f.vLineTo(a-7.5),f.hLineTo(c-3.5),f.moveTo(c-0.3,a-7.5),f.vLineTo(a+
7.5+1)):(f.moveTo(c-2,a+7.5),f.qCurveTo(c+5,a,c-2,a-7.5),f.qCurveTo(c+3.5,a,c-2,a+7.5+1)),f.setStroke({color:this.lineColor,style:"solid",width:2})):e.drawCircle(d,c,a,4,this.lineColor,l.include?this.lineColor:"white"),l.showLabel&&this.drawLabel(d,l.x)))}}})})},"xl/grapher/IPGraphFunction":function(){define(["dojo/_base/declare","xl/grapher/IPGraphCustomPlot","xl/grapher/enums","xl/util/graphUtils","xl/util/logger"],function(l,m,k,f,e){return l("xl.grapher.IPGraphFunction",[m],{xPts:[],yPts:[],arrowBegin:!1,
arrowEnd:!1,clip:!0,drawMask:function(d,e){var c=this.xPts.length;if(0!=c&&!this.noRegion){for(var b=d.createPath(),a=!1,f=0,r,l,h=0,q=0;f<c;)r=this.xWorldToView(this.xPts[f]),l=this.yWorldToView(this.yPts[f]),!isNaN(r)&&!isNaN(l)?(r+=0.5,l+=0.5,a?(b.lineTo(r,l),f==c-1&&(1E-6<Math.abs(r-h)?(q=Math.atan((l-q)/(r-h)),a=r+1*Math.cos(q),q=l+1*Math.sin(q)):(a=r,q=l+(0<l-q?1:-1)),b.lineTo(a,q))):b.moveTo(r,l),h=r,q=l,a=!0):a=!1,f++;b.setStroke({color:[e.r,e.g,e.b,e.a],width:1,style:k.IPGraphLineStyle.SOLID})}},
draw:function(d){var e=this.xPts.length;if(0!=e){var c=d.createPath();this.clip&&this.clipRegion(c);for(var b=!1,a=0;a<e;){var k=this.xWorldToViewF(this.xPts[a]),r=this.yWorldToViewF(this.yPts[a]),l,h;if(1==a&&this.arrowBegin){l=this.xWorldToViewF(this.xPts[0]);h=this.yWorldToViewF(this.yPts[0]);l={x:l,y:h};h={x:k,y:r};var q=this.getGraph().getPlotRect();f.drawFunctionArrow(d,h,l,this.color).setClip({x:q.left,y:q.top,width:q.getWidth(),height:q.getHeight()})}a==e-1&&this.arrowEnd&&(l=this.xWorldToViewF(this.xPts[a-
1]),h=this.yWorldToViewF(this.yPts[a-1]),l={x:l,y:h},h={x:k,y:r},q=this.getGraph().getPlotRect(),f.drawFunctionArrow(d,l,h,this.color).setClip({x:q.left,y:q.top,width:q.getWidth(),height:q.getHeight()}));!isNaN(k)&&!isNaN(r)?(b?c.lineTo(k+0.5,r+0.5):c.moveTo(k+0.5,r+0.5),b=!0):b=!1;a++}c.setStroke({color:this._color,style:this.lineStyle,width:"Solid"==this.lineStyle?1:1.2})}},getDistanceFrom:function(d,e){var c,b,a,k,r,l,h,q,m=-1,v=this.getData();a=v.length;for(c=0;c<a-1;c++){b=c+1;try{v[c]?(k=v[c].x,
r=v[c].y,l=v[b].x,h=v[b].y,q=f.segmentDistance(d,e,k,r,l,h)):q=-1,0<=q&&(m=0>m?q:Math.min(q,m))}catch(w){}}return m},_data:null,getData:function(){if(!this._data){this._data=Array(this.xPts.length);for(var d=0;d<this.xPts.length;d++)this._data[d]={x:this.xWorldToViewF(this.xPts[d]),y:this.yWorldToViewF(this.yPts[d])}}return this._data},hasSamePoints:function(d,e){if(d.length!=this.xPts.length||e.length!=this.yPts.length)return!1;for(var c=0;c<d.length;c++)if(0.009<Math.abs(d[c]-this.xPts[c])||0.009<
Math.abs(e[c]-this.yPts[c]))return!1;return!0}})})},"xl/grapher/IPGraphLabel":function(){define("dojo/_base/declare xl/grapher/IPGraphPart xl/grapher/IPStroke xl/util/ForeignObject dojo/dom-geometry xl/grapher/enums xl/util/ByRef xl/grapher/Point xl/util/graphUtils xl/util/logger".split(" "),function(l,m,k,f,e,d,n,c,b){return l("xl.grapher.IPGraphLabel",[m],{x:null,y:null,text:null,font:null,fontSize:"10px",fontColor:null,fontBold:!1,locationUnits:d.IPGraphLocationUnits.PLOTCOORDS,hAlignment:0,vAlignment:0,
symbol:null,fillSymbol:null,symbolColor:null,symbolBackground:null,symbolSize:3,formula:null,interpretFunctions:null,extendToXAxis:null,extendToYAxis:null,labelXAxis:null,labelYAxis:null,labelX:null,labelY:null,labelMargin:2,cursor:null,_node:null,_graph:null,clientId:null,isMarker:!1,objectParams:null,constructor:function(a){this._normalizeEnums(a)},getText:function(){return this.text},setText:function(a){this.text=a},getFont:function(){return this.font},setFont:function(a){this.font=a},getLocationX:function(){return this.x},
setLocationX:function(a){this.x=a},getLocationY:function(){return this.y},setLocationY:function(a){this.y=y},draw:function(a,e){var f=new c,k,h,q,l,n,m,x,A,z;m=h=0;var C;if(k=this.getGraph()){n=this.x;m=this.y;switch(this.locationUnits){case d.IPGraphLocationUnits.PLOTCOORDS:q=this.xWorldToView(this.x);l=this.yWorldToView(this.y);f.x=q;f.y=l;break;case d.IPGraphLocationUnits.GRAPHPERCENT:f.x=k.percentXToView(this.x);f.y=k.percentYToView(this.y);n=k.getAxisX().viewFToWorld(f.x);m=k.getAxisY().viewFToWorld(f.y);
break;case d.IPGraphLocationUnits.XAXIS:q=this.xWorldToView(this.x);l=k.getAxisX().position;f.x=q;f.y=l;if(this.symbol==d.IPGrShapes.NONE)switch(this.vAlignment){case d.IPGraphAlignment.TOP:b.drawLine(a,q,l,q,l+k.majorTickSize,this.symbolColor);break;case d.IPGraphAlignment.BOTTOM:b.drawLine(a,q,l,q,l-k.majorTickSize,this.symbolColor)}break;case d.IPGraphLocationUnits.YAXIS:if(q=k.getAxisY().position,l=this.yWorldToView(this.y),f.x=q,f.y=l,this.symbol==d.IPGrShapes.NONE)switch(this.hAlignment){case d.IPGraphAlignment.LEFT:b.drawLine(a,
q,l,q+k.majorTickSize,l,this.symbolColor);break;case d.IPGraphAlignment.RIGHT:b.drawLine(a,q,l,q-k.majorTickSize,l,this.symbolColor)}}var F=this.fontBold?"bold":"normal";this.locationUnits==d.IPGraphLocationUnits.XAXIS||this.locationUnits==d.IPGraphLocationUnits.YAXIS||(this.extendToXAxis&&b.drawLine(a,f.x,k.getAxisX().position,f.x,f.y,this.symbolColor,"shortdot",2),this.extendToYAxis&&b.drawLine(a,k.getAxisY().position,f.y,f.x,f.y,this.symbolColor,"shortdot",2),this.labelXAxis&&(h=3,A=null==this.labelX||
""==this.labelX?k.getAxisX().formatLabel(n):this.labelX,n=Math.round(f.x),x=k.getAxisX().position,z=b.measureText(a,A,this.fontSize,this.font,F),n=n+h+z.width>k._plotRect.right?n-z.width-h:n+h,b.drawText(a,n,x-z.height-h+2,A,this.symbolColor,this.fontSize,this.font,!1,F)),this.labelYAxis&&(h=3,A=null==this.labelY||""==this.labelY?k.getAxisY().formatLabel(m):this.labelY,n=k.getAxisY().position,x=Math.round(f.y),z=b.measureText(a,A,this.fontSize,this.font,F),x=x-z.height-h<k._plotRect.top?x+h:x-h-z.height,
b.drawText(a,n+h,x+2,A,this.symbolColor,this.fontSize,this.font,!1,F)));var B;this.symbol!=d.IPGrShapes.NONE&&(B=b.drawSymbol(a,this.symbol,{x:f.x,y:f.y,size:this.symbolSize,aColor:this.symbolColor,fillColor:this.symbolBackground,addOffsetWidthProp:e,fillSymbol:this.fillSymbol,borderWidth:this.symbolStrokeSize}));if(this.text){h=this.labelMargin;(this.locationUnits==d.IPGraphLocationUnits.XAXIS||this.locationUnits==d.IPGraphLocationUnits.YAXIS)&&this.symbol==d.IPGrShapes.NONE?h+=k.majorTickSize:this.symbol!=
d.IPGrShapes.NONE&&(h+=this.symbolSize);f={height:0,width:0,ascent:0,descent:0};this.formula||(f=b.measureText(a,this.text,this.fontSize,this.font,F));m=h;switch(this.locationUnits){case d.IPGraphLocationUnits.PLOTCOORDS:q=this.xWorldToView(this.x);l=this.yWorldToView(this.y);break;case d.IPGraphLocationUnits.GRAPHPERCENT:q=k.percentXToView(this.x);l=k.percentYToView(this.y);break;case d.IPGraphLocationUnits.XAXIS:q=this.xWorldToView(this.x);l=k.getAxisX().position;m=0;h+=2;break;case d.IPGraphLocationUnits.YAXIS:q=
k.getAxisY().position,l=this.yWorldToView(this.y),h=0,m+=2}switch(this.hAlignment){case d.IPGraphAlignment.LEFT:q+=m;break;case d.IPGraphAlignment.RIGHT:q-=m+f.width;break;case d.IPGraphAlignment.CENTER:q-=f.width/2}switch(this.vAlignment){case d.IPGraphAlignment.TOP:l+=h+f.ascent;break;case d.IPGraphAlignment.BOTTOM:l-=h+f.descent;break;case d.IPGraphAlignment.MIDDLE:l+=f.height/2-f.descent}this.formula?C=a.createForeignObject({x:q,y:l,id:this.clientId,width:f.width,height:f.height,content:this.text,
fontFamily:this.font,fontSize:this.fontSize,fontColor:this.fontColor,canClear:!0}):(q=Math.floor(q)+0.5,l=Math.floor(l)+0.5,b.drawText(a,q,l,this.text,this.fontColor,this.fontSize,this.font,!0,F))}C&&(C.holder?C.holder.resize():C.resize(),this.updatePosition(C));return this._node=B}},updatePosition:function(a){var b=e.getMarginBox(a.domNode);if(g=this.getGraph()){var c,f,h=this.labelMargin;(this.locationUnits==d.IPGraphLocationUnits.XAXIS||this.locationUnits==d.IPGraphLocationUnits.YAXIS)&&this.symbol==
d.IPGrShapes.NONE?h+=g.majorTickSize:this.symbol!=d.IPGrShapes.NONE&&(h+=this.symbolSize);var k=h;switch(this.locationUnits){case d.IPGraphLocationUnits.PLOTCOORDS:c=this.xWorldToView(this.x);f=this.yWorldToView(this.y);break;case d.IPGraphLocationUnits.GRAPHPERCENT:c=g.percentXToView(this.x);f=g.percentYToView(this.y);break;case d.IPGraphLocationUnits.XAXIS:c=this.xWorldToView(this.x)-2;f=g.getAxisX().position;k=0;break;case d.IPGraphLocationUnits.YAXIS:c=g.getAxisY().position-2,f=this.yWorldToView(this.y),
h=0}switch(this.hAlignment){case d.IPGraphAlignment.LEFT:c+=k;break;case d.IPGraphAlignment.RIGHT:c-=k+b.w;break;case d.IPGraphAlignment.CENTER:c-=b.w/2,c++}switch(this.vAlignment){case d.IPGraphAlignment.TOP:f+=h;break;case d.IPGraphAlignment.BOTTOM:f-=h+b.h;break;case d.IPGraphAlignment.MIDDLE:f-=b.h/2}c=Math.floor(c)+0.5;f=Math.floor(f)+0.5;a.setBox({x:c,y:f,w:b.w,h:b.h})}},getNode:function(){return this._node},isUnderPoint:function(a,b){var c,e=0,h=0;c=!1;if(!this.visible)return!1;c=this._graph;
if(!c)return!1;switch(this.locationUnits){case d.IPGraphLocationUnits.PLOTCOORDS:e=this.xWorldToView(this.x);h=this.yWorldToView(this.y);break;case d.IPGraphLocationUnits.GRAPHPERCENT:e=c.percentXToView(this._locationX);h=c.percentYToView(this._locationY);break;case d.IPGraphLocationUnits.XAXIS:e=this.xWorldToView(this.x);h=c.getAxisX().position;break;case d.IPGraphLocationUnits.YAXIS:e=c.getAxisY().position,h=this.yWorldToView(this.y)}return c=Math.abs(e-a)<=this.symbolSize&&Math.abs(h-b)<=this.symbolSize},
_normalizeEnums:function(a){a.vAlignment&&"string"===typeof a.vAlignment&&(a.vAlignment=d.IPGraphAlignment[a.vAlignment.toUpperCase()]);a.hAlignment&&"string"===typeof a.hAlignment&&(a.hAlignment=d.IPGraphAlignment[a.hAlignment.toUpperCase()]);a.locationUnits&&"string"===typeof a.locationUnits&&(a.locationUnits=d.IPGraphLocationUnits[a.locationUnits.toUpperCase()])}})})},"xl/grapher/IPStroke":function(){define(["dojo/_base/declare"],function(l){return l(" IPStroke ",[],{constructor:function(l,k,f,
e,d,n,c,b){this.color=l;this._weight=k;this.alpha=f;this.pixelHinting=e;this.scaleMode=d;this.caps=n;this.joints=c;this.miterLimit=b},_alpha:0,getAlpha:function(){return this._alpha},setAlpha:function(l){this._alpha=l},_caps:null,getCaps:function(){return this._caps},setCaps:function(l){this._caps=l},_color:0,getColor:function(){return this._color},setColor:function(l){this._color=l},_joints:null,getJoints:function(){return this._joints},setJoints:function(l){this._joints=l},_miterLimit:0,getMiterLimit:function(){return this._miterLimit},
setMiterLimit:function(l){this._miterLimit=l},_pixelHinting:!1,getPixelHinting:function(){return this._pixelHinting},setPixelHinting:function(l){this._pixelHinting=l},_scaleMode:"normal",getScaleMode:function(){return this._scaleMode},setScaleMode:function(l){this._scaleMode=l},_weight:null,getWeight:function(){return this._weight},setWeight:function(l){this._weight=l},apply:function(l){}})})},"xl/grapher/IPGraphRegion":function(){define("dojo/_base/declare xl/grapher/IPGraphPart xl/util/RegionFill xl/util/imageProcessing xl/grapher/Rectangle dojox/gfx xl/util/graphUtils".split(" "),
function(l,m,k,f,e,d,n){return l("xl.grapher.IPGraphRegion",[m],{x:null,y:null,color:null,xoff:null,yoff:null,visible:!0,_drawMarker:!1,_markerColor:null,constructor:function(c){this.color=16711680;this.yoff=this.xoff=this.y=this.x=0;this._markerColor="00007F"},postCreate:function(){this.xoff*=2;this.yoff*=2},clone:function(c){},getLocationX:function(){return this.x},setLocationX:function(c){c!=this.x&&(this.x=c,this.invalidate())},getLocationY:function(){return this.y},setLocationY:function(c){c!=
this.y&&(this.y=c,this.invalidate())},getOffsetX:function(){return this.xoff},setOffsetX:function(c){c!=this.xoff&&(this.xoff=c,this.invalidate())},getOffsetY:function(){return this.yoff},setOffsetY:function(c){c!=this.yoff&&(this.yoff=c,this.invalidate())},draw:function(c,b){},fill:function(c,b){if(this.visible){var a=this.xWorldToView(this.getLocationX())+this.xoff,d=this.yWorldToView(this.getLocationY())-this.yoff,e=this.getGraph()._plotRect.clone();e.right+=1.5;e.bottom+=1.5;e.left-=0.5;e.top-=
0.5;a<e.left||(a>e.right||d<e.top||d>e.bottom)||(c.createRect({x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}).setStroke([b.r,b.g,b.b,b.a]),a=new k({color:this.getColor(),x:a,y:d,bounds:null,stopFill:this.stopFill,regionObject:this}),c.add(a))}},stopFill:function(c,b,a){return 0!=b.r||0!=b.g||0!=b.b||a.r!=b.r||a.g!=b.g||a.b!=b.b||a.a!=b.a},drawRegionMarker:function(c){var b,a;this.getVisible()&&this._drawMarker&&(b=this.xWorldToView(this.getLocationX())+(this.xoff||0),a=this.yWorldToView(this.getLocationY())-
(this.yoff||0),n.drawBucket(c,null,b,a,this._markerColor,!1,this._markerColor))},setColor:function(c){c!=this.color&&(this.color=c,this.invalidate())},getColor:function(){return this.color},getDrawMarker:function(){return this._drawMarker},setDrawMarker:function(c){this._drawMarker=c},getMarkerColor:function(){return this._markerColor},setMarkerColor:function(c){this._markerColor=c}})})},"xl/grapher/IPGrapherKeyboard":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/on dojo/dom-style require dojo/_base/event dojo/dom-construct dijit/_TemplatedMixin dojo/text!./templates/keyboard.htm dijit/_FocusMixin".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s){return l("xl.grapher.IPGrapherKeyboard",[m,b,s],{templateString:a,_blob:null,_graph:null,_upArrow:null,_downArrow:null,_leftArrow:null,_rightArrow:null,_upArrowUrl:null,_downArrowUrl:null,_leftArrowUrl:null,_rightArrowUrl:null,constructor:function(a){this._blob=a.blob;this._graph=a.graph;this._upArrowUrl=d.toUrl("../grapher/images/uparrow.png");this._downArrowUrl=d.toUrl("../grapher/images/downarrow.png");this._leftArrowUrl=d.toUrl("../grapher/images/leftarrow.png");
this._rightArrowUrl=d.toUrl("../grapher/images/rightarrow.png")},hide:function(){e.set(this.domNode,"display","none")},show:function(){e.set(this.domNode,"display","inline-block")},onFocus:function(){this._graph.domNode.focus()},postCreate:function(){f(this._upArrow,"mousedown",k.hitch(this,function(a){this._blob.nudge(0,1);n.stop(a)}));f(this._downArrow,"click",k.hitch(this,function(a){this._blob.nudge(0,-1)}));f(this._leftArrow,"click",k.hitch(this,function(a){this._blob.nudge(-1,0)}));f(this._rightArrow,
"click",k.hitch(this,function(a){this._blob.nudge(1,0)}));this.hide();c.place(this.domNode,this._graph.domNode.parentNode.parentNode)}})})},"xl/grapher/IPGraphShape":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphPart xl/util/RegionFill xl/util/imageProcessing xl/grapher/Rectangle dojox/gfx xl/util/graphUtils".split(" "),function(l,m,k,f,e,d,n,c){return l("xl.grapher.IPGraphShape",[k],{_xPts:[],_setXPtsAttr:function(b){this._xPts=b},_yPts:[],_setYPtsAttr:function(b){this._yPts=
b},lineColor:"",fillColor:"",title:null,visible:!0,getPointCount:function(){return this._xPts.length},getPoint:function(b){return{x:this._xPts[b],y:this._yPts[b]}},getFillColor:function(){return this.fillColor},setFillColor:function(b){b!=this.fillColor&&(this.fillColor=b,this.invalidate())},getLineColor:function(){return this.lineColor},setLineColor:function(b){b!=this.lineColor&&(this.lineColor=b,this.invalidate())},draw:function(b,a,d){if(this.visible&&this.getPointCount()){a=Array(this.getPointCount()+
1);for(d=0;d<this.getPointCount();d++){var e=this.getPoint(d);a[d]={x:this.xWorldToViewF(e.x),y:this.yWorldToViewF(e.y)}}a[this.getPointCount()]=m.clone(a[0]);(this.lineColor&&""!=this.lineColor||this.fillColor&&""!=this.fillColor)&&c.drawPolygon(b,a,this.lineColor,this.fillColor)}},addPoint:function(b){this._xPts.add(b.x);this._yPts.add(b.y);this.invalidate()},getDistanceFrom:function(b,a){for(var d=this.xViewToWorld(b),e=this.yViewToWorld(a),f=Array(this.getPointCount()+1),h=0;h<this.getPointCount();h++){var k=
this.getPoint(h);f[h]={x:k.x,y:k.y}}f[this.getPointCount()]=m.clone(f[0]);return c.pointInPolygon(d,e,f)?0:-1}})})},"xl/editgraph/IEditableGraphObject":function(){define(["dojo/_base/declare"],function(l){return l("xl.editgraph.IEditableGraphObject",[],{getDistance:function(l,k){},getPointCount:function(){},getPoint:function(l){},movePoint:function(l,k){},getParams:function(){},getParam:function(l){},setParam:function(l,k){},drawAsymptote:function(l){},drawGhost:function(l,k,f){},getGraphPart:function(){},
setColor:function(l){},getColor:function(){},addPoint:function(){},getCanMove:function(){},setCanMove:function(l){},getLineStyle:function(){},setLineStyle:function(l){},startEditing:function(l){},stopEditing:function(){},getObjectType:function(){},addLabel:function(l){},constrainBlob:function(l,k){},initSelection:function(l){},getObjLabel:function(){},getObjLabelText:function(){},setObjLabelText:function(l,k){},canSelect:function(l){},mousePressed:function(l,k,f){},getTranslationPoint:function(){},
setShowPoints:function(l){},getShowPoints:function(){},getIsStatic:function(){},setIsStatic:function(l){},getUndeletable:function(){},setUndeletable:function(l){},getActiveExpression:function(){},setActiveExpression:function(l){},deSelect:function(){},filterObject:function(l){}})})},"xl/player/dialogs/DataGrapherDialog":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/html dojo/query dijit/form/Button dijit/form/Select dijit/form/CheckBox dijit/layout/TabContainer dijit/layout/ContentPane dijit/registry dijit/focus dojox/dtl dojox/dtl/Context dojox/dtl/tag/logic dojo/text!./templates/DataGrapher.html ./ModalBaseDialog dojo/dom-geometry".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x){return l("xl.player.dialogs.DataGrapherDialog",[w],{_displayDataGrapherCommand:"displaydatagrapher",_resetDataGrapherCommand:"resetdatagrapher",graphId:null,constructor:function(a){a=a.options;a=new q({options:a.selectOptions,timeSeriesSecondOpt:2<=a.selectOptions.length,opt2:2<=a.count,opt3:3<=a.count,opt4:4<=a.count,opt5:5<=a.count});this.setupContentWidgets(v,a)},show:function(){x.setMarginBox(this.domNode,{w:520});this._placeAroundNode=r.byId(this.graphId).domNode;
this._placeDockPositions=["after","before","above","below"];this.inherited(arguments);this.setFocusable(this.domNode)},setupFooter:function(){this.addButton({label:"Reset",onClick:f.hitch(this,this.reset)});this.addButton({label:"Close",onClick:f.hitch(this,this.hide)});this.addButton({label:"Plot",onClick:f.hitch(this,this.plot),disabled:!0});this.plotLines=(new b({checked:!1,style:"display:none"})).placeAt(this.dialogCheckbox);m.place(m.toDom("\x26nbsp;\x3cspan class\x3d'text' style\x3d'display:none'\x3ePlot Lines\x3c/span\x3e"),
this.dialogCheckbox,"last");return this.inherited(arguments)},setupHeader:function(){this.getViewer()&&this.getViewer();m.create("label",{innerHTML:"Data Grapher"},this.titleNode);this.inherited(arguments)},setupStyles:function(){k.set(this.dialogCheckbox,"display","block");this.inherited(arguments)},setupContent:function(){var a=this;this.dataGrapherTabs.watch("selectedChildWidget",function(b,c,d){3==d.number?(k.set(a.dialogCheckbox.children[0],"display",""),k.set(a.dialogCheckbox.children[1],"display",
"")):(k.set(a.dialogCheckbox.children[0],"display","none"),k.set(a.dialogCheckbox.children[1],"display","none"));a._togglePlotButton(d)})},cbxChange:function(a){this._togglePlotButton(this.dataGrapherTabs.selectedChildWidget);this.setFocusable(this.domNode)},_togglePlotButton:function(a){for(var b=a.getChildren(),c=0,d=0;d<b.length;d++)-1<b[d].value&&c++;3==a.number?this.buttons[2].set("disabled",2>c):this.buttons[2].set("disabled",0==c)},plot:function(){for(var a={graphId:this.graphId,plots:[],type:0,
drawLines:this.plotLines.checked},b=this.dataGrapherTabs.getChildren(),c=0;c<b.length;c++)if(b[c].selected){a.type=b[c].number;for(var d=b[c].getChildren(),h=0;h<d.length;h++)-1<d[h].value&&a.plots.push(d[h].value)}0!==a.plots.length&&(r.byId(this.graphId).dataGrapherOptions=a,this.getViewer().postCommand(this._displayDataGrapherCommand,a))},reset:function(){r.byId(this.graphId).dataGrapherOptions=null;this.getViewer().postCommand(this._resetDataGrapherCommand,{graphId:this.graphId});this._resetControls()},
_resetControls:function(){this.buttons[2].set("disabled",!0);this.plotLines.set("checked",!1);for(var a=this.dataGrapherTabs.getChildren(),b=0;b<a.length;b++)for(var c=a[b].getChildren(),d=0;d<c.length;d++)-1!=c[d].value&&c[d].set("value",-1)}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w){function x(a){return function(b){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(n.hitch(this,a,b))}}var A=m("dijit.form._SelectMenu",r,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,b=this.parentWidget.value;n.isArray(b)&&
(b=b[b.length-1]);b&&l.forEach(this.parentWidget._getChildren(),function(c){c.option&&b===c.option.value&&(a=!0,this.focusChild(c,!1))},this);a||this.inherited(arguments)}});e=m("dijit.form.Select"+(b("dojo-bidi")?"_NoBidi":""),[a,s,u],{baseClass:"dijitSelect dijitValidationTextBox",templateString:w,_buttonInputDisabled:b("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&
!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new A({id:this.id+"_menu",parentWidget:this});f.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(!a.value&&!a.label)return new h({ownerDocument:this.ownerDocument});var b=n.hitch(this,"_setValueAttr",a);a=new t({option:a,label:a.label||this.emptyLabel,onClick:b,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,
disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return!this.dropDown?[]:this.dropDown.getChildren()},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:null},_getLast:function(){var a=
this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=v.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,b,c,d){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{l.forEach(this._getChildren(),function(a){a.destroyRecursive()});var b=new t({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(b)}else this._updateSelection();
this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);k.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",
a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",
a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?q.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):q.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);q.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=d.getLocalization("dijit.form","validate",this.lang).missingMessage},
postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");9>b("ie")&&this.defer(function(){try{var a=domStyle.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setStyleAttr:function(a){this.inherited(arguments);f.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,
"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){q.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});b("dojo-bidi")&&(e=m("dijit.form.Select",e,{_setDisplay:function(a){this.inherited(arguments);
this.applyTextDir(this.containerNode)}}));e._Menu=A;e.prototype._onContainerKeydown=x("_onContainerKeydown");e.prototype._onContainerKeypress=x("_onContainerKeypress");return e})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t){return e("dijit.form._FormSelectWidget",
t,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var c=this.options||[];if(null==a)return c;if(b.isArray(a))return l.map(a,"return this.getOptions(item);",this);b.isString(a)&&(a={value:a});b.isObject(a)&&(l.some(c,function(b,c){for(var d in a)if(!(d in b)||b[d]!=a[d])return!1;a=c;return!0})||(a=-1));return 0<=a&&a<c.length?c[a]:null},addOption:function(a){l.forEach(b.isArray(a)?
a:[a],function(a){a&&b.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions(b.isArray(a)?a:[a]);l.forEach(a,function(a){a&&(this.options=l.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){l.forEach(b.isArray(a)?a:[a],function(a){var b=this.getOptions({value:a.value}),c;if(b)for(c in a)b[c]=a[c]},this);this._loadChildren()},setStore:function(a,
c,d){var e=this.store;d=d||{};if(e!==a){for(var n;n=this._notifyConnections.pop();)n.remove();a.get||(b.mixin(a,{_oldAPI:!0,get:function(a){var b=new m;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,c){var d=new m(function(){h.abort&&h.abort()});d.total=new m;var h=this.fetch(b.mixin({query:a,onBegin:function(a){d.total.resolve(a)},onComplete:function(a){d.resolve(a)},onError:function(a){d.reject(a)}},c));
return new r(d)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[k.after(a,"onNew",b.hitch(this,"_onNewItem"),!0),k.after(a,"onDelete",b.hitch(this,"_onDeleteItem"),!0),k.after(a,"onSet",b.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);
d.query&&(this._set("query",d.query),this._set("queryOptions",d.queryOptions));a&&(this._loadingStore=!0,this.onLoadDeferred=new m,this._queryRes=a.query(this.query,this.queryOptions),s(this._queryRes,b.hitch(this,function(e){if(this.sortByLabel&&!d.sort&&e.length)if(a.getValue)e.sort(f.createSortFunction([{attribute:a.getLabelAttributes(e[0])[0]}],a));else{var k=this.labelAttr;e.sort(function(a,b){return a[k]>b[k]?1:b[k]>a[k]?-1:0})}d.onFetch&&(e=d.onFetch.call(this,e,d));l.forEach(e,function(a){this._addOptionForItem(a)},
this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(b.hitch(this,function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:c);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(e):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),function(a){console.error("dijit.form.Select: "+a.toString());this.onLoadDeferred.reject(a)}));
return e},_setValueAttr:function(a,c){this._onChangeActive||(c=null);if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=b.isArray(a)?l.map(a,function(a){return b.isObject(a)?a:{value:a}}):b.isObject(a)?[a]:[{value:a}];a=l.filter(this.getOptions(a),function(a){return a&&a.value});var d=this.getOptions()||[];if(!this.multiple&&(!a[0]||!a[0].value)&&d.length)a[0]=d[0];l.forEach(d,function(b){b.selected=l.some(a,function(a){return a.value===b.value})});d=l.map(a,function(a){return a.value});
if(!("undefined"==typeof d||"undefined"==typeof d[0])){var e=l.map(a,function(a){return a.label});this._setDisplay(this.multiple?e:e[0]);this.inherited(arguments,[this.multiple?d:d[0],c]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=l.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||
(l.forEach(this._getChildren(),function(a){a.destroyRecursive()}),l.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var b=this;l.forEach(this._getChildren(),function(c){var d=l.some(a,function(a){return c.option&&a===c.option.value});d&&!b.multiple&&(b.focusedChild=c);n.toggle(c.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),d);
c.domNode.setAttribute("aria-selected",d?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=l.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?l.map(l.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){(!b||!b.parent)&&this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},
_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||
null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);d.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?a("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+c._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||
!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);k.after(this,"onChange",b.hitch(this,"_updateSelection"));var a=this.store;if(a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"]))this.store=null,this.setStore(a,this._oValue)},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();
this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],
function(l){var m={};l.setObject("dojo.data.util.sorter",m);m.basicComparator=function(k,f){var e=-1;null===k&&(k=void 0);null===f&&(f=void 0);if(k==f)e=0;else if(k>f||null==k)e=1;return e};m.createSortFunction=function(k,f){function e(a,b,c,d){return function(e,f){var k=d.getValue(e,a),l=d.getValue(f,a);return b*c(k,l)}}for(var d=[],l,c=f.comparatorMap,b=m.basicComparator,a=0;a<k.length;a++){l=k[a];var s=l.attribute;if(s){l=l.descending?-1:1;var r=b;c&&("string"!==typeof s&&"toString"in s&&(s=s.toString()),
r=c[s]||b);d.push(e(s,l,r,f))}}return function(a,b){for(var c=0;c<d.length;){var e=d[c++](a,b);if(0!==e)return e}return 0}};return m})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(l,m,k){var f=function(e){function d(d){e[d]||(e[d]=function(){var c=arguments;return k(e,function(b){Array.prototype.unshift.call(c,b);return f(l[d].apply(l,c))})})}if(!e)return e;e.then&&(e=m.delegate(e));d("forEach");d("filter");d("map");e.total||(e.total=
k(e,function(d){return d.length}));return e};m.setObject("dojo.store.util.QueryResults",f);return f})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(l,m,k,f,e,d){return l("dijit.MenuSeparator",[k,f,e],{templateString:d,buildRendering:function(){this.inherited(arguments);m.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/form/nls/validate":function(){define({root:{invalidMessage:"The value entered is not valid.",
missingMessage:"This value is required.",rangeMessage:"This value is out of range."},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),
function(l,m,k,f,e,d,n,c,b){f("dijit-legacy-requires")&&d(0,function(){l(["dijit/form/RadioButton"])});return m("dijit.form.CheckBox",[n,c],{templateString:b,baseClass:"dijitCheckBox",_setValueAttr:function(a,b){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,b)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},
_fillContent:function(){},_onFocus:function(){this.id&&e("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&e("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(l,m,k,f){return l("dijit.form.ToggleButton",[k,f],{baseClass:"dijitToggleButton",setChecked:function(e){m.deprecated("setChecked("+
e+") is deprecated. Use set('checked',"+e+") instead.","","2.0");this.set("checked",e)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,m){return l("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(k){var f=this.checked;this._set("checked",!f);var e=this.inherited(arguments);this.set("checked",e?this.checked:f);return e},_setCheckedAttr:function(k,f){this._set("checked",k);var e=this.focusNode||this.domNode;
this._created&&m.get(e,"checked")!=!!k&&m.set(e,"checked",!!k);e.setAttribute(this._aria_attr,String(k));this._handleOnChange(k,f)},postCreate:function(){this.inherited(arguments);var k=this.focusNode||this.domNode;this.checked&&k.setAttribute("checked","checked")},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,m){return l("dijit.form._CheckBoxMixin",null,{type:"checkbox",
value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(k){this._set("readOnly",k);m.set(this.focusNode,"readOnly",k)},_setLabelAttr:void 0,_getSubmitValue:function(k){return null==k||""===k?"on":k},_setValueAttr:function(k){k=this._getSubmitValue(k);this._set("value",k);m.set(this.focusNode,"value",k)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));m.set(this.focusNode,"value",this.value)},_onClick:function(k){return this.readOnly?
(k.stopPropagation(),k.preventDefault(),!1):this.inherited(arguments)}})})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(l,m,k,f,e){return m("dijit.layout.TabContainer",k,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(d){var e=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?l.getObject(this.controllerWidget):
this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":e,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},d)},postMixInProperties:function(){this.inherited(arguments);this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&
!this.nested?e:f)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/text!./templates/TabContainer.html ./StackContainer ./utils ../_TemplatedMixin dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(l,m,k,f,e,d,n,c){return e("dijit.layout._TabContainerBase",[m,f],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:l,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,
"");this.srcNodeRef&&c.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||d.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(d.add(this.domNode,"dijitTabContainerNested"),d.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),d.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),d.add(this.containerNode,"dijitTabPaneWrapperNested")):d.add(this.domNode,
"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(b){d.add(b.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var b=this.selectedChildWidget;if(this.doLayout){var a=this.tabPosition.replace(/-h/,"");this.tablist.region=a;a=[this.tablist,{domNode:this.tablistSpacer,region:a},{domNode:this.containerNode,region:"center"}];
k.layoutChildren(this.domNode,this._contentBox,a);this._containerContentBox=k.marginBox2contentBox(this.containerNode,a[2]);b&&b.resize&&b.resize(this._containerContentBox)}else{if(this.tablist.resize){a=this.tablist.domNode.style;a.width="0";var c=n.getContentBox(this.domNode).w;a.width="";this.tablist.resize({w:c})}b&&b.resize&&b.resize()}}},destroy:function(b){this.tablist&&this.tablist.destroy(b);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget dojo/i18n!../nls/common".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h){d("dijit-legacy-requires")&&b(0,function(){require(["dijit/layout/StackController"])});k=k("dijit.layout.StackContainer",h,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",n.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var b=this.getChildren();l.forEach(b,this._setupChild,
this);this.persist?this.selectedChildWidget=r.byId(m(this.id+"_selectedChild")):l.some(b,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var c=this.selectedChildWidget;!c&&b[0]&&(c=this.selectedChildWidget=b[0],c.selected=!0);a.publish(this.id+"-startup",{children:b,selected:c,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},
_setupChild:function(a){var b=a.domNode,c=e.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),d=a["aria-label"]||a.title||a.label;d&&c.setAttribute("aria-label",d);e.place(b,c);a._wrapper=c;this.inherited(arguments);"none"==b.style.display&&(b.style.display="block");a.domNode.title=""},addChild:function(b,c){this.inherited(arguments);this._started&&(a.publish(this.id+"-addChild",b,c),this.layout(),this.selectedChildWidget||this.selectChild(b))},
removeChild:function(b){var c=l.indexOf(this.getChildren(),b);this.inherited(arguments);e.destroy(b._wrapper);delete b._wrapper;this._started&&a.publish(this.id+"-removeChild",b);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===b&&(this.selectedChildWidget=void 0,this._started)){var d=this.getChildren();d.length&&this.selectChild(d[Math.max(c-1,0)])}this._started&&this.layout()}},selectChild:function(b,c){var d;b=r.byId(b);this.selectedChildWidget!=b&&(d=this._transition(b,this.selectedChildWidget,
c),this._set("selectedChildWidget",b),a.publish(this.id+"-selectChild",b),this.persist&&m(this.id+"_selectedChild",this.selectedChildWidget.id));return s(d||!0)},_transition:function(a,b){b&&this._hideChild(b);var c=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return c},_adjacent:function(a){var b=this.getChildren(),c=l.indexOf(b,this.selectedChildWidget),c=c+(a?1:b.length-1);return b[c%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),
!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(b){a.publish(this.id+"-containerKeyDown",{e:b,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);a._wrapper&&f.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||
!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&f.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose&&a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;l.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});k.ChildWidgetProperties={selected:!1,disabled:!1,
closable:!1,iconClass:"dijitNoIcon",showTitle:!0};n.extend(t,k.ChildWidgetProperties);return k})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r){r=l("dijit.layout._TabButton"+(e("dojo-bidi")?"_NoBidi":""),c.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},
templateString:r,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);m.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",a);f.toggle(this.domNode,"dijitClosable",a);this.closeNode.style.display=a?"":"none";a&&(a=d.getLocalization("dijit","common"),this.closeNode&&k.set(this.closeNode,"title",a.itemClose))},
_setDisabledAttr:function(a){this.inherited(arguments);if(this.closeNode)if(a)k.remove(this.closeNode,"title");else{var b=d.getLocalization("dijit","common");k.set(this.closeNode,"title",b.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=n.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});e("dojo-bidi")&&(r=l("dijit.layout._TabButton",r,{_setLabelAttr:function(a){this.inherited(arguments);this.applyTextDir(this.iconNode,
this.iconNode.alt)}}));l=l("dijit.layout.TabController",c,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:r,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var c=new a({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return f.contains(a,
"dijitClosable")&&!f.contains(a,"dijitTabDisabled")}});this.own(c);var h=d.getLocalization("dijit","common"),e=this;c.addChild(new s({label:h.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=b.byNode(this.getParent().currentTarget);e.onCloseButtonClick(a.page)}}))}});l.TabButton=r;return l})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch dojo/i18n!../nls/common".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h){f=m("dijit.layout._StackButton",h,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});m=m("dijit.layout.StackController",[s,r,t],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:f,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(b){return a.byId(this.id+
"_"+b)},postCreate:function(){this.inherited(arguments);this.own(c.subscribe(this.containerId+"-startup",d.hitch(this,"onStartup")),c.subscribe(this.containerId+"-addChild",d.hitch(this,"onAddChild")),c.subscribe(this.containerId+"-removeChild",d.hitch(this,"onRemoveChild")),c.subscribe(this.containerId+"-selectChild",d.hitch(this,"onSelectChild")),c.subscribe(this.containerId+"-containerKeyDown",d.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(n(this.containerNode,"click",
d.hitch(this,function(b){var c=a.getEnclosingWidget(b.target);if(c!=this.containerNode&&!c.disabled&&c.page)for(b=b.target;b!==this.containerNode;b=b.parentNode)if(k.contains(b,this.buttonWidgetCloseClass)){this.onCloseButtonClick(c.page);break}else if(b==c.domNode){this.onButtonClick(c.page);break}})))},onStartup:function(b){this.textDir=b.textDir;l.forEach(b.children,this.onAddChild,this);if(b.selected)this.onSelectChild(b.selected);var c=a.byId(this.containerId).containerNode,h=d.hitch(this,"pane2button");
b={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var e=function(a,b){return n(c,"attrmodified-"+a,function(a){var c=h(a.detail&&a.detail.widget&&a.detail.widget.id);c&&c.set(b,a.detail.newValue)})},f;for(f in b)this.own(e(f,b[f]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,b){var c=new (d.isString(this.buttonWidget)?d.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(c,b);a.controlButton=c;if(!this._currentChild)this.onSelectChild(a);c=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+c.id:c.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
c)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(b){if(b){if(this._currentChild){var c=this.pane2button(this._currentChild.id);c.set("checked",!1);c.focusNode.setAttribute("tabIndex","-1")}c=this.pane2button(b.id);c.set("checked",!0);this._currentChild=b;c.focusNode.setAttribute("tabIndex","0");a.byId(this.containerId)}},onButtonClick:function(c){var d=this.pane2button(c.id);
b.focus(d.focusNode);this._currentChild&&this._currentChild.id===c.id&&d.set("checked",!0);a.byId(this.containerId).selectChild(c)},onCloseButtonClick:function(c){a.byId(this.containerId).closeChild(c);this._currentChild&&(c=this.pane2button(this._currentChild.id))&&b.focus(c.focusNode||c.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var b=this.getChildren(),c=l.indexOf(b,this.pane2button(this._currentChild.id)),d=b[c],h;do c=
(c+(a?1:b.length-1))%b.length,h=b[c];while(h.disabled&&h!=d);return h},onkeydown:function(a,b){if(!this.disabled&&!a.altKey){var c=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case e.LEFT_ARROW:case e.UP_ARROW:a._djpage||(c=!1);break;case e.PAGE_UP:a.ctrlKey&&(c=!1);break;case e.RIGHT_ARROW:case e.DOWN_ARROW:a._djpage||(c=!0);break;case e.PAGE_DOWN:a.ctrlKey&&(c=!0);break;case e.HOME:for(var d=this.getChildren(),h=0;h<d.length;h++){var f=d[h];if(!f.disabled){this.onButtonClick(f.page);break}}a.stopPropagation();
a.preventDefault();break;case e.END:d=this.getChildren();for(h=d.length-1;0<=h;h--)if(f=d[h],!f.disabled){this.onButtonClick(f.page);break}a.stopPropagation();a.preventDefault();break;case e.DELETE:case 87:if(this._currentChild.closable&&(a.keyCode==e.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case e.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==c&&(this.onButtonClick(this.adjacent(c).page),
a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});m.StackButton=f;return m})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u){s("dijit-legacy-requires")&&u(0,function(){l(["dijit/MenuItem",
"dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return k("dijit.Menu",q,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):m.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return t.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||
a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(d){d=f.byId(d,this.ownerDocument);var h;if("iframe"==d.tagName.toLowerCase()){var k=d;h=this._iframeContentWindow(k);h=r.body(h.document)}else h=d==r.body(this.ownerDocument)?this.ownerDocument.documentElement:d;var l={node:d,iframe:k};e.set(d,"_dijitMenu"+this.id,
this._bindings.push(l));var q=b.hitch(this,function(b){var d=this.selector,h=d?function(b){return a.selector(d,b)}:function(a){return a},e=this;return[a(b,h(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();e._scheduleOpen(this,k,{x:a.pageX,y:a.pageY})}),a(b,h("keydown"),function(a){a.shiftKey&&a.keyCode==c.F10&&(a.stopPropagation(),a.preventDefault(),e._scheduleOpen(this,k))})]});l.connects=h?q(h):[];k&&(l.onloadHandler=b.hitch(this,function(){var a=this._iframeContentWindow(k),
a=r.body(a.document);l.connects=q(a)}),k.addEventListener?k.addEventListener("load",l.onloadHandler,!1):k.attachEvent("onload",l.onloadHandler))},unBindDomNode:function(a){var b;try{b=f.byId(a,this.ownerDocument)}catch(c){return}a="_dijitMenu"+this.id;if(b&&e.has(b,a)){for(var d=e.get(b,a)-1,h=this._bindings[d],k;k=h.connects.pop();)k.remove();(k=h.iframe)&&(k.removeEventListener?k.removeEventListener("load",h.onloadHandler,!1):k.detachEvent("onload",h.onloadHandler));e.remove(b,a);delete this._bindings[d]}},
_scheduleOpen:function(a,b,c){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,iframe:b,coords:c})},1))},_openMyself:function(a){function b(){u.refocus&&t&&t.focus();h.close(u)}var c=a.target,e=a.iframe;a=a.coords;var k=!a;this.currentTarget=c;if(a){if(e){var c=d.position(e,!0),l=this._iframeContentWindow(e),l=d.docScroll(l.document),q=n.getComputedStyle(e),r=n.toPixelValue,m=(s("ie")&&s("quirks")?0:r(e,q.paddingLeft))+(s("ie")&&s("quirks")?
r(e,q.borderLeftWidth):0),e=(s("ie")&&s("quirks")?0:r(e,q.paddingTop))+(s("ie")&&s("quirks")?r(e,q.borderTopWidth):0);a.x+=c.x+m-l.x;a.y+=c.y+e-l.y}}else a=d.position(c,!0),a.x+=10,a.y+=10;var u=this,e=this._focusManager.get("prevNode"),c=this._focusManager.get("curNode"),t=!c||f.isDescendant(c,this.domNode)?e:c;h.open({popup:this,x:a.x,y:a.y,onExecute:b,onCancel:b,orient:this.isLeftToRight()?"L":"R"});this.focus();k||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",
arguments);h.close(this)}},destroy:function(){m.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A){r=m("dijit.layout.ScrollingTabController",[h,u],{baseClass:"dijitTabController dijitScrollingTabController",templateString:r,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",k.add(a,"tabStrip-disabled"));k.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);e.set(this.domNode,"visibility","");this._postStartup=!0;this.own(c(this.containerNode,"attrmodified-label, attrmodified-iconclass",n.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,b){this.inherited(arguments);e.set(this.containerNode,"width",e.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,b){var c=this.pane2button(a.id);this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=b("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=f.getMarginSize(a).w,!0;e.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var b=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var b=this._getTabsWidth();a=a||e.get(this.scrollNode,"width");return 0<b&&a<b},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=q.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;f.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);
this._buttons.style("display",b?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";q.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>a("ie")||a("ie")&&a("quirks")||a("webkit")?this.scrollNode.scrollLeft:e.get(this.containerNode,"width")-e.get(this.scrollNode,"width")+(8<=a("ie")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(b){if(this.isLeftToRight()||8>a("ie")||a("ie")&&a("quirks")||a("webkit"))return b;var c=e.get(this.containerNode,"width")-e.get(this.scrollNode,"width");return(8<=a("ie")?-1:1)*(b-c)},
onSelectChild:function(a){var b=this.pane2button(a.id);if(b){b=b.domNode;if(b!=this._selectedTab&&(this._selectedTab=b,this._postResize)){var c=this._getScroll();(c>b.offsetLeft||c+e.get(this.scrollNode,"width")<b.offsetLeft+e.get(b,"width"))&&this.createSmoothScroll().play()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),b=e.get(this.scrollNode,"width"),c=e.get(this.containerNode,"width")-b,d=this._getTabsWidth();if(a.length&&d>b)return{min:this.isLeftToRight()?
0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-b:c};a=this.isLeftToRight()?0:c;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,b=e.get(this.scrollNode,"width"),c=this._getScrollBounds(),a=a.offsetLeft+e.get(a,"width")/2-b/2;return a=Math.min(Math.max(a,c.min),c.max)},createSmoothScroll:function(a){if(0<arguments.length){var b=this._getScrollBounds();a=Math.min(Math.max(a,b.min),b.max)}else a=
this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var c=this,h=this.scrollNode,e=new d.Animation({beforeBegin:function(){this.curve&&delete this.curve;var b=h.scrollLeft,f=c._convertToScrollLeft(a);e.curve=new d._Line(b,f)},onAnimate:function(a){h.scrollLeft=a}});this._anim=e;this._setButtonClass(a);return e},_getBtnNode:function(a){for(a=a.target;a&&!k.contains(a,"tabStripButton");)a=a.parentNode;return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},
doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,b){if(!b||!k.contains(b,"dijitTabDisabled")){var c=0.75*e.get(this.scrollNode,"width")*a,c=this._getScroll()+c;this._setButtonClass(c);this.createSmoothScroll(c).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});t=m("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:t,
tabIndex:"",isFocusable:function(){return!1}});m("dijit.layout._ScrollingTabControllerButton",[x,t]);m("dijit.layout._ScrollingTabControllerMenuButton",[x,A,t],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new v({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=s.byId(this.containerId);l.forEach(b.getChildren(),function(a){var c=new w({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,
disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(c)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return r})},"xl/util/flex/DateFormatter":function(){define(["dojo/_base/declare","./StringFormatter"],function(l,m){return l("xl.util.flex.DateFormatter",
[],{VALID_PATTERN_CHARS:"Y,M,D,A,E,H,J,K,L,N,S,Q",formatString:null,getFormatString:function(){return this.formatString},error:null,defaultInvalidFormatError:"Invalid format",constructor:function(k){this.formatString=k},format:function(k){if(!k||"string"==typeof k&&""==k)return"";"string"==typeof k&&(k=new Date(k));for(var f,e=0,d="",l=0;l<this.formatString.length;l++)if(f=this.getFormatString().charAt(l),-1!=this.VALID_PATTERN_CHARS.indexOf(f)&&","!=f)if(e++,-1==d.indexOf(f))d+=f;else if(f!=this.getFormatString().charAt(Math.max(l-
1,0)))return this.error=this.defaultInvalidFormatError,"";return 1>e?(this.error=this.defaultInvalidFormatError,""):(new m(this.formatString,this.VALID_PATTERN_CHARS)).formatValue(k)}})})},"xl/util/flex/StringFormatter":function(){define(["dojo/_base/declare","./DateBase"],function(l,m){return l("xl.util.flex.StringFormatter ",[],{constructor:function(k,f){this.formatPattern(k,f)},reqFormat:null,patternInfo:null,formatValue:function(k){for(var f=this.patternInfo[0],e=this.reqFormat.substring(0,f.begin)+
m.extractTokenDate(k,f),d=f,l=this.patternInfo.length,c=1;c<l;c++)f=this.patternInfo[c],e+=this.reqFormat.substring(d.end,f.begin)+m.extractTokenDate(k,f),d=f;0<d.end&&d.end!=this.reqFormat.length&&(e+=this.reqFormat.substring(d.end));return e},formatPattern:function(k,f){var e=0,d=0,l=0,c=f.split(",");this.reqFormat=k;this.patternInfo=[];for(var b=c.length,a=0;a<b;a++)e=this.reqFormat.indexOf(c[a]),0<=e&&e<this.reqFormat.length&&(d=this.reqFormat.lastIndexOf(c[a]),d=0<=d?d+1:e+1,this.patternInfo.splice(l,
0,{token:c[a],begin:e,end:d}),l++);this.patternInfo.sort(this.compareValues)},compareValues:function(k,f){return k.begin>f.begin?1:k.begin<f.begin?-1:0}})})},"xl/util/flex/DateBase":function(){define(["dojo/_base/declare"],function(l){return{getDayNamesLong:function(){return"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},getDayNamesShort:function(){return"Sun Mon Tue Wed Thu Fri Sat".split(" ")},getDefaultStringKey:function(){this.initialize();return this.getMonthNamesLong().concat(this.getTimeOfDay())},
getMonthNamesLong:function(){return"January February March April May June July August September October November December".split(" ")},getMonthNamesShort:function(){return"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},getTimeOfDay:function(){return["AM","PM"]},extractTokenDate:function(l,k){var f="",e=k.end-k.begin,d;switch(k.token){case "Y":return f=l.getUTCFullYear().toString(),3>e?f.substr(2):4<e?this.setValue(f,e):f;case "M":if(d=l.getUTCMonth(),3>e){d++;f+=this.setValue(d,e);break}else return 3==
e?this.getMonthNamesShort()[d]:this.getMonthNamesLong()[d];case "D":d=l.getUTCDate();f+=this.setValue(d,e);break;case "E":if(d=l.getUTCDay(),3>e){f+=this.setValue(d,e);break}else return 3==e?this.getDayNamesShort()[d]:this.getDayNamesLong()[d];case "A":return d=l.getUTCHours(),12>d?this.getTimeOfDay()[0]:this.getTimeOfDay()[1];case "H":d=l.getUTCHours();0==d&&(d=24);f+=this.setValue(d,e);break;case "J":d=l.getUTCHours();f+=this.setValue(d,e);break;case "K":d=l.getUTCHours();12<=d&&(d-=12);f+=this.setValue(d,
e);break;case "L":d=l.getUTCHours();0==d?d=12:12<d&&(d-=12);f+=this.setValue(d,e);break;case "N":d=l.getUTCMinutes();f+=this.setValue(d,e);break;case "S":d=l.getUTCSeconds();f+=this.setValue(d,e);break;case "Q":d=l.getUTCMilliseconds(),f+=this.setValue(d,e)}return f},setValue:function(l,k){var f="",e=l.toString().length;if(e<k)for(var e=k-e,d=0;d<e;d++)f+="0";return f+=l.toString()}}})},"xl/player/dialogs/InteractionsDialog":function(){define("dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/dom-style dijit/form/Button dijit/form/Select dijit/registry dijit/form/HorizontalSlider dijit/form/HorizontalRule dijit/form/HorizontalRuleLabels dojox/dtl dojox/dtl/Context dojox/dtl/tag/logic dojo/text!./templates/InteractionsDialog.html ./ModalBaseDialog dojo/dom-geometry dojo/query dojo/html".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w){return l("xl.player.dialogs.InteractionsDialog",[q],{graphId:null,selectedCurveIndex:0,curveCount:0,selectEnabled:null,_resetting:!1,constructor:function(a){a=a.selectOptions;this.selectEnabled=1<a.length;this.curveCount=a.length;a=new r({options:a,selectenabled:this.selectEnabled});this.setupContentWidgets(h,a)},show:function(){u.setMarginBox(this.domNode,{w:520});this._placeAroundNode=n.byId(this.graphId).domNode;this._placeDockPositions=["after","before",
"above","below"];this.inherited(arguments);this.sliderValueChange(null,!0)},setupHeader:function(){this.getViewer()&&this.getViewer();m.create("label",{innerHTML:"Graph Interactions"},this.titleNode);this.inherited(arguments)},setupFooter:function(){this.addButton({label:"Reset Graph",onClick:k.hitch(this,this.reset)});this.addButton({label:"Close",onClick:k.hitch(this,this.hide)});this.inherited(arguments)},setupStyles:function(){this.inherited(arguments)},setupContent:function(){if(1<this.containerNode.children.length)for(var a=
2;a<this.containerNode.children.length;a++)f.set(this.containerNode.children[a],"display","none")},curveOptionChange:function(a){for(var b=1;b<this.containerNode.children.length;b++)f.set(this.containerNode.children[b],"display","none");f.set(this.containerNode.children[a],"display","");this.selectedCurveIndex=a-1;this.sliderValueChange(null,!0)},_interactionResetCommand:"interactionreset",reset:function(){this.getViewer().postCommand(this._interactionResetCommand,{graphId:this.graphId});this.resetControls()},
_interactionPlotMarkerCommand:"interactionplotmarker",plotValueChangeX:function(a){if(!(Number(a)===Number.NEGATIVE_INFINITY||this._resetting)){var b=this.selectedCurveIndex;this.getViewer().postCommand(this._interactionPlotMarkerCommand,{value:a,curveIndex:b,type:0,graphId:this.graphId})}},plotValueChangeY:function(a){if(!(Number(a)===Number.NEGATIVE_INFINITY||this._resetting)){var b=this.selectedCurveIndex;this.getViewer().postCommand(this._interactionPlotMarkerCommand,{value:a,curveIndex:b,type:1,
graphId:this.graphId})}},_interactionAnimatePlotCommand:"interactionAnimatePlot",sliderValueChange:function(a,b){if(!this._resetting){var c,d=[];c=this.selectEnabled?this.containerNode.children[this.selectedCurveIndex+1]:this.containerNode.children[0];for(var h=1;h<c.children.length;h++){var e=c.children[h].children[1].id;if(""!==e){var f=n.byId(e),k=f.get("value");d.push(k);this._changeValueLabel(f.domNode.parentNode,k);k===a&&this.syncControls(e,f.name,k)}}b||this.getViewer().postCommand(this._interactionAnimatePlotCommand,
{params:d,curveIndex:this.selectedCurveIndex,graphId:this.graphId})}},_changeValueLabel:function(a,b){var c=v(".label",a);c&&0<c.length&&w.set(c[0],"Current Value: "+b)},resetControls:function(){this._resetting=!0;var a=[];if(this.selectEnabled)for(var b=1;b<this.containerNode.children.length;b++)a.push(this.containerNode.children[b]);else a.push(this.containerNode.children[0]);for(b=0;b<a.length;b++)for(var c=1;c<a[b].children.length;c++){var d=a[b].children[c].children[1].id,h=""===d;h&&(d=a[b].children[c].children[1].children[0].id);
d=n.byId(d);d.reset();h||this._changeValueLabel(a[b].children[c],d.value)}setTimeout(k.hitch(this,this.resetCallback),1E3)},syncControls:function(a,b,c){this._resetting=!0;var d=[];if(this.selectEnabled)for(var h=1;h<this.containerNode.children.length;h++)d.push(this.containerNode.children[h]);else d.push(this.containerNode.children[0]);for(h=0;h<d.length;h++)for(var e=1;e<d[h].children.length;e++){var f=d[h].children[e].children[1].id;if(""!==f){var l=n.byId(f);l.name&&(l.name===b&&a!==f)&&(l.set("value",
c),this._changeValueLabel(d[h].children[e],c))}}setTimeout(k.hitch(this,this.resetCallback),200)},resetCallback:function(){this._resetting=!1}})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z){var C=m("dijit.form._SliderMover",s,{onMouseMove:function(a){var b=this.widget,d=b._abspos;d||(d=b._abspos=e.position(b.sliderBarContainer,!0),b._setPixelValue_=c.hitch(b,"_setPixelValue"),b._isReversed_=b._isReversed());a=a[b._mousePixelCoord]-d[b._startingPixelCoord];b._setPixelValue_(b._isReversed_?d[b._pixelCount]-a:a,d[b._pixelCount],!1)},destroy:function(a){s.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._setValueAttr(b.value,
!0)}});k=m("dijit.form.HorizontalSlider",[x,A],{templateString:z,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:q.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(a){!this.disabled&&(!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey)&&this._setValueAttr(this.value,!0)},_onKeyDown:function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){switch(a.keyCode){case n.HOME:this._setValueAttr(this.minimum,!1);break;case n.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?n.RIGHT_ARROW:n.LEFT_ARROW:case !1===this._descending?n.DOWN_ARROW:n.UP_ARROW:case !1===this._descending?n.PAGE_DOWN:
n.PAGE_UP:this.increment(a);break;case this._descending||this.isLeftToRight()?n.LEFT_ARROW:n.RIGHT_ARROW:case !1===this._descending?n.UP_ARROW:n.DOWN_ARROW:case !1===this._descending?n.PAGE_UP:n.PAGE_DOWN:this.decrement(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){!this.disabled&&!this.readOnly&&(b("ie")||u.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&
!this.readOnly&&this.clickSelect){u.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var b=e.position(this.sliderBarContainer,!0),c=a[this._mousePixelCoord]-b[this._startingPixelCoord];this._setPixelValue(this._isReversed()?b[this._pixelCount]-c:c,b[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){var d=this.discreteValues;if(1>=d||Infinity==d)d=b;d--;a=Math.round(a/(b/d));this._setValueAttr(Math.max(Math.min((this.maximum-
this.minimum)*a/d+this.minimum,this.maximum),this.minimum),c)}},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var c=(a-this.minimum)/(this.maximum-this.minimum),d=!1===this._descending?this.remainingBar:this.progressBar,h=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(b&&0<this.slideDuration&&d.style[this._progressPixelSize]){var e=
this,k={},l=parseFloat(d.style[this._progressPixelSize]),q=this.slideDuration*(c-l/100);0!=q&&(0>q&&(q=0-q),k[this._progressPixelSize]={start:l,end:100*c,units:"%"},this._inProgressAnim=f.animateProperty({node:d,duration:q,onAnimate:function(a){h.style[e._progressPixelSize]=100-parseFloat(a[e._progressPixelSize])+"%"},onEnd:function(){delete e._inProgressAnim},properties:k}),this._inProgressAnim.play())}else d.style[this._progressPixelSize]=100*c+"%",h.style[this._progressPixelSize]=100*(1-c)+"%"},
_bumpValue:function(a,b){if(!this.disabled&&!this.readOnly){var c=d.getComputedStyle(this.sliderBarContainer),h=e.getContentBox(this.sliderBarContainer,c),c=this.discreteValues;if(1>=c||Infinity==c)c=h[this._pixelCount];c--;h=(this.value-this.minimum)*c/(this.maximum-this.minimum)+a;0>h&&(h=0);h>c&&(h=c);h=h*(this.maximum-this.minimum)/c+this.minimum;this._setValueAttr(h,b)}},_onClkBumper:function(a){!this.disabled&&(!this.readOnly&&this.clickSelect)&&this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===
this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==n.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.keyCode==n.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>a.wheelDelta?-1:1,!0)},startup:function(){this._started||(l.forEach(this.getChildren(),function(a){this[a.container]!=
this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,b,c){if(-1==a)this._setValueAttr(this.value,!0);else this[b==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](c)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var a=r('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+
"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(v.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),v.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(h(this.domNode,t.wheel,c.hitch(this,"_mouseWheeled")));var b=m(C,{widget:this});this._movable=
new a(this.sliderHandle,{mover:b});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});k._Mover=C;return k})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(l,m,k,f,e,d){var n=d.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,
this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(k.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(c,b,a,d,e,f,h,l){if(e!=this._obj){this.stop();this._initialDelay=h||500;this._subsequentDelay=f||0.9;this._minDelay=l||10;this._obj=e;this._node=a;this._count=this._currentTimeout=-1;this._callback=k.hitch(b,
d);this._evt={faux:!0};for(var n in c)"layerX"!=n&&"layerY"!=n&&(b=c[n],"function"!=typeof b&&"undefined"!=typeof b&&(this._evt[n]=b));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(c,b,a,d,e,t,h){var q="keyCode"in b?"keyCode":"charCode"in b?"charCode":"charOrCode",u=[f(c,"keyCode"in b?"keydown":"charCode"in b?"keypress":m._keypress,k.hitch(this,function(f){f[q]==
b[q]&&(void 0===b.ctrlKey||b.ctrlKey==f.ctrlKey)&&(void 0===b.altKey||b.altKey==f.altKey)&&(void 0===b.metaKey||b.metaKey==(f.metaKey||!1))&&(void 0===b.shiftKey||b.shiftKey==f.shiftKey)?(f.stopPropagation(),f.preventDefault(),n.trigger(f,a,c,d,b,e,t,h)):n._obj==b&&n.stop()})),f(c,"keyup",k.hitch(this,function(){n._obj==b&&n.stop()}))];return{remove:function(){l.forEach(u,function(a){a.remove()})}}},addMouseListener:function(c,b,a,d,r,m){var h=[f(c,"mousedown",k.hitch(this,function(h){h.preventDefault();
n.trigger(h,b,c,a,c,d,r,m)})),f(c,"mouseup",k.hitch(this,function(a){this._obj&&a.preventDefault();n.stop()})),f(c,"mouseout",k.hitch(this,function(a){this._obj&&a.preventDefault();n.stop()})),f(c,"dblclick",k.hitch(this,function(h){h.preventDefault();9>e("ie")&&(n.trigger(h,b,c,a,c,d,r,m),setTimeout(k.hitch(this,n.stop),50))}))];return{remove:function(){l.forEach(h,function(a){a.remove()})}}},addListener:function(c,b,a,d,e,f,h,k){var n=[this.addKeyListener(b,a,d,e,f,h,k),this.addMouseListener(c,
d,e,f,h,k)];return{remove:function(){l.forEach(n,function(a){a.remove()})}}}};return n})},"dijit/form/HorizontalRule":function(){define(["dojo/_base/declare","../_Widget","../_TemplatedMixin"],function(l,m,k){return l("dijit.form.HorizontalRule",[m,k],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',count:3,container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',
_genHTML:function(f){return this._positionPrefix+f+this._positionSuffix+this.ruleStyle+this._suffix},_isHorizontal:!0,buildRendering:function(){this.inherited(arguments);var f;if(1==this.count)f=this._genHTML(50,0);else{var e,d=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){f=this._genHTML(0,0);for(e=1;e<this.count-1;e++)f+=this._genHTML(d*e,e);f+=this._genHTML(100,this.count-1)}else{f=this._genHTML(100,0);for(e=1;e<this.count-1;e++)f+=this._genHTML(100-d*e,e);f+=this._genHTML(0,
this.count-1)}}this.domNode.innerHTML=f}})})},"dijit/form/HorizontalRuleLabels":function(){define("dojo/_base/declare dojo/has dojo/number dojo/query dojo/_base/lang ./HorizontalRule".split(" "),function(l,m,k,f,e,d){l=l("dijit.form.HorizontalRuleLabels",d,{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH"\x3e\x3c/div\x3e',labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:'\x3cdiv class\x3d"dijitRuleLabelContainer dijitRuleLabelContainerH" style\x3d"left:',
_labelPrefix:'"\x3e\x3cdiv class\x3d"dijitRuleLabel dijitRuleLabelH"\x3e',_suffix:"\x3c/div\x3e\x3c/div\x3e",_calcPosition:function(d){return d},_genHTML:function(d,c){var b=this.labels[c];return this._positionPrefix+this._calcPosition(d)+this._positionSuffix+this.labelStyle+this._genDirectionHTML(b)+this._labelPrefix+b+this._suffix},_genDirectionHTML:function(d){return""},getLabels:function(){var d=this.labels;!d.length&&this.srcNodeRef&&(d=f("\x3e li",this.srcNodeRef).map(function(a){return String(a.innerHTML)}));
if(!d.length&&1<this.count)for(var c=this.minimum,b=(this.maximum-c)/(this.count-1),a=0;a<this.count;a++)d.push(a<this.numericMargin||a>=this.count-this.numericMargin?"":k.format(c,this.constraints)),c+=b;return d},postMixInProperties:function(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length}});m("dojo-bidi")&&l.extend({_setTextDirAttr:function(d){this.textDir!=d&&(this._set("textDir",d),f(".dijitRuleLabelContainer",this.domNode).forEach(e.hitch(this,function(c){c.style.direction=
this.getTextDir(c.innerText||c.textContent||"")})))},_genDirectionHTML:function(d){return this.textDir?"direction:"+this.getTextDir(d)+";":""}});return l})},"xl/editgraph/GraphHoleObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphHoleObject",[k],{_drawLines:null,_drawValues:null,_xValue:null,_yValue:null,_drawObjects:null,
_ghostObjects:null,constructor:function(c){this.setSupportsLineStyle(!1);this._noClip=!0;this._drawObjects={};this._ghostObjects={}},draw:function(c,b,a){if(1===this.getPointCount()){var d=[this.getPoint(0)];this._drawObjects=this._drawObject(c,d,this.getColor(),this._drawObjects);this.inherited(arguments)}},getDistance:function(c,b){return 0<this.getPointCount()?d.getPointDistance(this.getGraph(),c,b,this.getPoint(0)):-1},deselect:function(){this._xValue&&this._xValue.setTextColor(this.getColor());
this._yValue&&this._yValue.setTextColor(this.getColor());this.inherited(arguments)},_drawObject:function(c,b,a,e){this.setDrawLines(!1);if(e._lineObject1&&(!e._lineObject1.parent||e._lineObject1.parent._parent!=c._parent))e._lineObject1=null;if(e._lineObject2&&(!e._lineObject2.parent||e._lineObject2.parent._parent!=c._parent))e._lineObject2=null;1<=b.length&&this._drawLines&&(e._lineObject1=d.drawSegment(e._lineObject1||c,this.getGraph(),this.getGraph().getAxisX().viewFToWorld(this.getGraph().getAxisY().getPosition()),
b[0].y,b[0].x,b[0].y,a,"ShortDot"),e._lineObject2=d.drawSegment(e._lineObject2||c,this.getGraph(),b[0].x,this.getGraph().getAxisY().viewFToWorld(this.getGraph().getAxisX().getPosition()),b[0].x,b[0].y,a,"ShortDot"));this.setDrawValues(!1);var f=this.getGraph().getAxisX().worldToViewF(b[0].x);b=this.getGraph().getAxisY().worldToViewF(b[0].y);if(e._circleObject&&(!e._circleObject.parent||e._circleObject.parent._parent!=c._parent))e._circleObject=null;e._circleObject=n.drawCircle(e._circleObject||c,
f,b,5,a,"white",2);return e},drawGhost:function(c,b,a){this._ghostObjects=this._drawObject(c,b,a,this._ghostObjects)},getObjectType:function(){return f.GraphObjectType.HOLE},getDrawLines:function(){return this._drawLines},setDrawLines:function(c){this._drawLines=c},getDrawValues:function(){return this._drawValues},setDrawValues:function(c){this._drawValues=c}})})},"xl/editgraph/AbstractGraphObject":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphCustomPlot xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphSettings xl/editgraph/IEditableGraphObject xl/editgraph/GraphObjectLabel xl/util/DijitLoadMonitor".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){return l("xl.editgraph.AbstractGraphObject",[a,k],{_points:null,_params:null,_canMove:!0,_supportsLineStyle:!0,_objLabel:null,showPoints:null,_isStatic:null,_undeletable:null,_activeExpression:null,drawAsymptote:!1,_lineStyle:null,_fixedPts:null,redrawWhenSelected:!1,constructor:function(a){this._points=[];this._params={}},postCreate:function(){r.staticFunctions.loadingStarted(this)},getObjectType:function(){return"abstract"},setGraph:function(a){this.inherited(arguments);
this._objLabel&&this._objLabel.setGraph(a)},getColor:function(){this._color||(this._color=b.objectColor);return this._color},getGraphPart:function(){return this},getPointCount:function(){return this._points.length},getPoints:function(){return this._points},getPoint:function(a){return this._points[a]},setPoint:function(a,b){this._points.length>a&&(this._points[a]=b)},getObjLabel:function(){return this._objLabel},setObjLabel:function(a){this._objLabel=a},invalidate:function(){this.inherited(arguments)},
drawPoints:function(a){var b,c,d,f=this._graph.getPlotRect();for(d=0;d<this._points.length;d++)c=this.getPoint(d),b=this._graph.getAxisX().worldToViewF(c.x),c=this._graph.getAxisY().worldToViewF(c.y),f.contains(b,c)&&e.drawCircle(a,b,c,3,this.getColor(),this.getColor())},draw:function(a,b){this.showPoints&&this.drawPoints(a);this._objLabel&&(this.updateLabelPos(),this._objLabel.draw(this.getGraph().getBlobSurfaceLayer()));r.staticFunctions.loadingCompleted(this)},addLabel:function(a){this._objLabel||
(this._objLabel=new s,this._objLabel.setGraph(this.getGraph()),this._objLabel.setIsFormula(a.getFormulaLabels()),this._objLabel.drawHandle=this.getGraph().getGraphControl().drawLabelHandle,this._objLabel.allowMove=!0,b.boldTextLabels&&!this._objLabel.getFormula()&&(this._objLabel.getFont().bold=!0),this._objLabel.setGraphObject(this),this._objLabel.setTag(-1),this._objLabel.setLabelOptions(a.getObjectLabels()),this._objLabel.setMenu(a.getLabelMenu()),this.updateLabelPos())},addNewLabel:function(a,
c){this._objLabel||(this._objLabel=new s,this._objLabel.setGraph(this.getGraph()),this._objLabel.setIsFormula(!0),this._objLabel.drawHandle=this.getGraph().getGraphControl().drawLabelHandle,this._objLabel.allowMove=!0,b.boldTextLabels&&!this._objLabel.getFormula()&&(this._objLabel.getFont().bold=!0),this._objLabel.setGraphObject(this),this._objLabel.setTag(1),this._objLabel.setMenu([c.objLabel]),this.updateLabelPos())},updateLabelPos:function(){var a,b,e,f,k,l,r;if(this._objLabel){k=f=0;if(0<this.getPointCount()){if(this._objLabel.getPositionSet())return;
a=this.getPoint(0);r=m.clone(a);k=f=a.y;for(b=e=0;b<this.getPointCount();b++)a=this.getPoint(b),a.y>k&&(k=a.y),a.y<f&&(f=a.y),a.x>=r.x&&(r.x=a.x,r.y=a.y,e=b);this._objLabel.setLocation(r);this._objLabel.setRefPoint(e);this._objLabel.setDx(r.x-this.getPoint(e).x);this._objLabel.setDy(r.y-this.getPoint(e).y)}if(!this._objLabel.getPositionSet()){this._objLabel.setHAlignment(c.IPGraphAlignment.LEFT);this._objLabel.setVAlignment(c.IPGraphAlignment.TOP);try{d.sameValue(k,f)||(l=(this._objLabel.getLocation().y-
f)/(k-f),0.5<l?this._objLabel.setVAlignment(c.IPGraphAlignment.TOP):this._objLabel.setVAlignment(c.IPGraphAlignment.BOTTOM))}catch(n){}this._objLabel.setPositionSet(!0)}}},addPoint:function(a){a=a?{x:a.x||0,y:a.y||0}:{x:0,y:0};this._points.push(a);return a},getDistance:function(a,b){var c=-1;if(this._fixedPts&&1<this._fixedPts.length){for(var c=this.getGraph().getAxisX().worldToViewF(a),e=this.getGraph().getAxisY().worldToViewF(b),k=Number.MAX_VALUE,l=0;l<this._fixedPts.length-1;l++)k=d.min(k,f.getFixedSegmentDistance(this.getGraph(),
c,e,this._fixedPts[l],this._fixedPts[l+1]));c=k}return c},movePoint:function(a,b){0<=a&&a<this.getPointCount()&&(this.getPoint(a).x=b.x,this.getPoint(a).y=b.y,this.updateLabelPos())},getParams:function(){return this._params},getParam:function(a){return this._params[a]},setParam:function(a,b){this._params[a]=b},getCanMove:function(){return this._canMove},setCanMove:function(a){this._canMove=a},getLineStyle:function(){return this._lineStyle},setLineStyle:function(a){a!==this._lineStyle&&(this._lineStyle=
a,this.invalidate(),this.getGraph().invalidateBlobs())},getSupportsLineStyle:function(){return this._supportsLineStyle},setSupportsLineStyle:function(a){this._supportsLineStyle=a},getGraphLineStyle:function(){return this._supportsLineStyle?this.getLineStyle()===c.GraphLineStyle.SOLID?n.GraphObjectLineStyle.SOLID:n.GraphObjectLineStyle.DASHED:n.GraphObjectLineStyle.NONE},setGraphLineStyle:function(a){this._supportsLineStyle&&(a===n.GraphObjectLineStyle.DASHED?this.setLineStyle(c.GraphLineStyle.DASHED):
this.setLineStyle(c.GraphLineStyle.SOLID))},getShowPoints:function(){return this.showPoints},setShowPoints:function(a){this.showPoints=a},getIsStatic:function(){return this._isStatic},setIsStatic:function(a){this._isStatic=a},percentOfXRel:function(a){var b,c;this.getGraph()?(b=this.getGraph().getAxisX().getMinimum(),c=this.getGraph().getAxisX().getMaximum()):(b=0,c=10);return a/(c-b)},percentOfYRel:function(a){var b,c;this.getGraph()?(b=this.getGraph().getAxisY().getMinimum(),c=this.getGraph().getAxisY().getMaximum()):
(b=0,c=10);return a/(c-b)},filterSameX:function(){for(var a=b.EPSPercent/this.percentOfXRel(1),c=[],e=0;e<this.getPointCount();e++){for(var f=!1,k=0;k<this.getPointCount();k++)if(d.sameValue(this.getPoint(e).x,c[k],a)){f=!0;break}f&&(this._points.remove(e),e--)}},startEditing:function(a){return!1},stopEditing:function(){return!1},canSelect:function(a){return!0},deselect:function(){this._objLabel&&(this._objLabel.allowMove=!1);this.invalidate()},getGraphData:function(){var a={};a.objectType=this.getObjectType();
this.getObjLabel()&&(a.labelpositionset=1,m.mixin(a,this.getObjLabel().getGraphData()));this._supportsLineStyle&&(a.lineStyle=this._lineStyle);a.points=this._points;a.params=this._params;a.color=this.getColor();a.isStatic=this.getIsStatic();a.undeletable=this.getUndeletable();this.drawAsymptote&&(a.drawAsymptote=!0);a.tag=this.getTag();return a},getUndeletable:function(){return this._undeletable},setUndeletable:function(a){this._undeletable=a}})})},"xl/editgraph/GraphObject":function(){define("dojo/_base/declare dojo/_base/lang dojox/gfx dojox/gfx/matrix xl/grapher/IPDataSpline xl/grapher/enums xl/editgraph/enums xl/util/IPMath xl/util/graphUtils xl/util/IPSqMatrix xl/util/imageProcessing xl/editgraph/GraphSettings".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){var t={DEFAULT_ARROWSIZE:15,DEF_PLINEWIDTH:2,DEF_PLINEGHOSTWIDTH:2,DEF_PLINETOOLWIDTH:2,DEF_PLINETOOLALPHA:0.5,drawLine:function(a,c,d,e,f,r,n,s,m){var F={lineWidth:t.DEF_PLINEWIDTH,alpha:1};m&&l.safeMixin(F,m);m={x:0,y:0};var B={x:0,y:0},D=[];t.calcExtendedLine(c.getAxisX().getMinimum(),c.getAxisX().getMaximum(),c.getAxisY().getMinimum(),c.getAxisY().getMaximum(),d,e,f,r,m,B);D.push({x:c.getAxisX().worldToViewF(m.x),y:c.getAxisY().worldToViewF(m.y)});D.push({x:c.getAxisX().worldToViewF(B.x),
y:c.getAxisY().worldToViewF(B.y)});return a&&(a.isInstanceOf(k.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?b.drawPolyline(a,D,n,F.lineWidth,s,!0):a.setShape(D)},drawSegment:function(a,c,d,e,f,r,n,m,s){var F={lineWidth:t.DEF_PLINEWIDTH,alpha:1};s&&l.safeMixin(F,s);s=[];s.push({x:c.getAxisX().worldToViewF(d),y:c.getAxisY().worldToViewF(e)});s.push({x:c.getAxisX().worldToViewF(f),y:c.getAxisY().worldToViewF(r)});return a&&(a.isInstanceOf(k.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?
b.drawPolyline(a,s,n,F.lineWidth,m,!0):a.setShape(s)},drawArrow:function(a,c,d,e,f,k){k||(k=t.DEFAULT_ARROWSIZE);d={x:c.getAxisX().worldToViewF(d.x),y:c.getAxisY().worldToViewF(d.y)};c={x:c.getAxisX().worldToViewF(e.x),y:c.getAxisY().worldToViewF(e.y)};return b.drawFunctionArrow(a,d,c,f,k)},DARKBLUE:"#3366CC",YELLOW:"#FFCB5A",LIGHTBLUE:"#4080FF",WHITE:"#FFFFFF",drawHandle:function(a,c,d,e,k,l){k||(k=!1);var n=3;null!=l&&(n=l);!c||null==c.rawNode?(a=a.createGroup(),k?(b.drawSquare(a,0,0,n,r.handleSelectedBorderColor,
r.handleSelectedBorderColor),b.drawSquare(a,0,0,n-r.handleBorderSize,r.handleSelectedInnerBorderColor,r.handleSelectedColor)):(b.drawSquare(a,0,0,n,r.handleBorderColor,r.handleBorderColor),b.drawSquare(a,0,0,n-r.handleBorderSize,r.handleColor,r.handleColor))):a=c;d=f.translate(d,e);a.setTransform(d);return a},drawCircleHandle:function(a,c,d,e,k,l){k||(k=!1);var n=3;null!=l&&(n=l);!c||null==c.rawNode?(a=a.createGroup(),k?(b.drawCircle(a,0,0,n,r.handleSelectedBorderColor,r.handleSelectedBorderColor),
b.drawCircle(a,0,0,n-r.handleBorderSize,r.handleSelectedInnerBorderColor,r.handleSelectedColor,2)):(b.drawCircle(a,0,0,n,r.handleBorderColor,r.handleBorderColor),b.drawCircle(a,0,0,n-r.handleBorderSize,r.handleColor,r.handleColor))):a=c;d=f.translate(d,e);a.setTransform(d);return a},moveCircleHandle:function(a,b,c){for(var d=0;d<a.children.length;d++)a.children[d].setShape({cx:b,cy:c})},calcExtendedLine:function(a,b,d,e,f,k,l,r,n,s){var m=[{},{}],t,E,J;t=k-r;E=l-f;J=f*r-l*k;m[0].x=f;m[1].x=l;m[0].y=
k;m[1].y=r;if(c.isZero(E))m[0].y=d,m[1].y=e;else if(c.isZero(t))m[0].x=a,m[1].x=b;else{m[0].x=a;m[1].x=b;m[0].y=(-J-t*a)/E;m[1].y=(-J-t*b)/E;for(a=0;1>=a;a++)m[a].y<d?(m[a].x=(-J-E*d)/t,m[a].y=d):m[a].y>e&&(m[a].x=(-J-E*e)/t,m[a].y=e)}n.x=m[0].x;n.y=m[0].y;s.x=m[1].x;s.y=m[1].y},getFixedSegmentDistance:function(a,b,d,e,f,k){var l,r,n;l=-1;a&&(a=e.x,e=e.y,l=f.x,r=f.y,f=(a-l)*(a-l)+(e-r)*(e-r),1E-6<f?(n=((e-d)*(e-r)-(a-b)*(l-a))/f,0<=n&&1>=n||k?(b=((e-d)*(l-a)-(a-b)*(r-e))/f,l=Math.round(Math.sqrt(b*
b*f))):l=Math.round(Math.min(c.hypot(b-a,d-e),c.hypot(b-l,d-r)))):l=Math.round(Math.min(c.hypot(b-a,d-e),c.hypot(b-l,d-r))));return l},getSegmentDistance:function(a,b,d,e,f,k){var l,r,n;l=-1;a&&(l=a.getAxisX().worldToView(e.x),e=a.getAxisY().worldToView(e.y),r=a.getAxisX().worldToView(f.x),f=a.getAxisY().worldToView(f.y),b=a.getAxisX().worldToView(b),d=a.getAxisY().worldToView(d),a=(l-r)*(l-r)+(e-f)*(e-f),1E-6<a?(n=((e-d)*(e-f)-(l-b)*(r-l))/a,0<=n&&1>=n||k?(k=((e-d)*(r-l)-(l-b)*(f-e))/a,l=Math.round(Math.sqrt(k*
k*a))):l=Math.round(Math.min(c.hypot(b-l,d-e),c.hypot(b-r,d-f)))):l=Math.round(Math.min(c.hypot(b-l,d-e),c.hypot(b-r,d-f))));return l},getPointDistance:function(a,b,d,e){var f;f=-1;a&&(f=a.getAxisX().worldToView(e.x),e=a.getAxisY().worldToView(e.y),b=a.getAxisX().worldToView(b),a=a.getAxisY().worldToView(d),f=Math.round(c.hypot(f-b,e-a)));return f},getPointDistance1:function(a,b,d,e,f){var k=-1;a&&(e=a.getAxisX().worldToView(e),f=a.getAxisY().worldToView(f),b=a.getAxisX().worldToView(b),a=a.getAxisY().worldToView(d),
k=Math.round(c.hypot(e-b,f-a)));return k},calcSegmentPart:function(a,b,c){return c*(b-a)+a},drawAbs:function(a,c,d,e,f,l,r,n,m,s,B){m||(m=t.DEF_PLINEWIDTH);B=[{},{}];s=[{},{}];var D=d-(f-d);t.calcRay(c.getAxisX().getMinimum(),c.getAxisX().getMaximum(),c.getAxisY().getMinimum(),c.getAxisY().getMaximum(),d,e,f,l,B[0],B[1]);t.calcRay(c.getAxisX().getMinimum(),c.getAxisX().getMaximum(),c.getAxisY().getMinimum(),c.getAxisY().getMaximum(),d,e,D,l,s[0],s[1]);if(a instanceof Array)a[0].setShape(c.worldToView(B)),
a[1].setShape(c.worldToView(s));else if(a&&(a.isInstanceOf(k.Surface)||0<=a.getUID().toLowerCase().indexOf("group")))return d=[],e=b.drawPolyline(a,c.worldToView(B),r,m,n,!0),a=b.drawPolyline(a,c.worldToView(s),r,m,n,!0),d.push(e),d.push(a),d;return a},getRayDistance:function(a,b,d,e,f){var k,l;k=-1;a&&(k=a.getAxisX().worldToView(e.x),e=a.getAxisY().worldToView(e.y),l=a.getAxisX().worldToView(f.x),f=a.getAxisY().worldToView(f.y),b=a.getAxisX().worldToView(b),d=a.getAxisY().worldToView(d),a=(k-l)*
(k-l)+(e-f)*(e-f),1E-6<a?0<=((e-d)*(e-f)-(k-b)*(l-k))/a?(k=((e-d)*(l-k)-(k-b)*(f-e))/a,k=Math.round(Math.sqrt(k*k*a))):k=Math.round(Math.min(c.hypot(b-k,d-e),c.hypot(b-l,d-f))):k=Math.round(Math.min(c.hypot(b-k,d-e),c.hypot(b-l,d-f))));return k},calcRay:function(a,b,d,e,f,k,l,r,n,m){var s=[{},{}],t=k-r,E=l-f,J=f*r-l*k;s[0].x=f;s[1].x=l;s[0].y=k;s[1].y=r;c.isZero(E)?s[1].y=r>=k?e:d:c.isZero(t)?s[1].x=l>=f?b:a:(s[0].x=f,s[1].x=l>=f?b:a,s[0].y=(-J-t*f)/E,s[1].y=(-J-t*s[1].x)/E,s[1].y<d?(s[1].x=(-J-E*
d)/t,s[1].y=d):s[1].y>e&&(s[1].x=(-J-E*e)/t,s[1].y=e));n.x=s[0].x;n.y=s[0].y;m.x=s[1].x;m.y=s[1].y},drawParabola:function(a,c,d,e,f,l,r,n,s,m){var B=[];t.calcParabolaPts(B,c.getAxisX().getMinimum(),c.getAxisX().getMaximum(),c.getAxisY().getMinimum(),c.getAxisY().getMaximum(),d,e,f,l,s);for(d=0;d<B.length;d++)B[d].x=c.getAxisX().worldToViewF(B[d].x),B[d].y=c.getAxisY().worldToViewF(B[d].y);if(a&&(a.isInstanceOf(k.Surface)||0<=a.getUID().toLowerCase().indexOf("group")))return b.drawPolyline(a,B,r,m,
n,!0);a.setShape(B);return a},calcParabolaPts:function(a,b,d,e,f,k,l,r,s,m){var B,D,E,J,N,O,H,K,M,P;if(m==n.GraphParabolaType.UPDOWN)try{if(O=!1,B=c.sqr(r-k)/(4*(s-l)),isNaN(B)||c.isZero(B))t.drawUpDownLine(a,b,d,e,f,k,l,r,s);else{D=b;try{if(J=t.fOfX(D,B,k,l),J>f||J<e)O=!0}catch(I){O=!0}O&&(D=k-Math.sqrt(4*B*((0<B?f:e)-l)));O=!1;E=d;try{if(N=t.fOfX(E,B,k,l),N>f||N<e)O=!0}catch(L){O=!0}O&&(E=k+Math.sqrt(4*B*((0<B?f:e)-l)));H=100;for(K=0;K<H;K++)M=D+K*(E-D)/(H-1),P=t.fOfX(M,B,k,l),a.push({x:M,y:P})}}catch(Q){t.drawUpDownLine(a,
b,d,e,f,k,l,r,s)}else try{if(O=!1,B=c.sqr(s-l)/(4*(r-k)),isNaN(B)||c.isZero(B))t.drawLeftRightLine(a,b,d,e,f,k,l,r,s);else{J=e;try{if(D=t.fOfY(J,B,k,l),D>d||D<b)O=!0}catch(W){O=!0}O&&(J=l-Math.sqrt(4*B*((0<B?d:b)-k)));O=!1;N=f;try{if(E=t.fOfY(N,B,k,l),E>d||E<b)O=!0}catch(R){O=!0}O&&(N=l+Math.sqrt(4*B*((0<B?d:b)-k)));H=100;for(K=0;K<H;K++)P=J+K*(N-J)/(H-1),M=t.fOfY(P,B,k,l),a.push({x:M,y:P})}}catch(T){t.drawLeftRightLine(a,b,d,e,f,k,l,r,s)}},fOfX:function(a,b,d,e){return c.sqr(a-d)/(4*b)+e},fOfY:function(a,
b,d,e){return c.sqr(a-e)/(4*b)+d},drawUpDownLine:function(a,b,d,e,f,k,l,r,n){a.push({});a.push({});c.isZero(n-l)?(a[0].x=b,a[0].y=l,a[1].x=d,a[1].y=l):c.isZero(r-k)&&n<l?(a[0].x=k,a[0].y=l,a[1].x=k,a[1].y=e):n>l&&(a[0].x=k,a[0].y=l,a[1].x=k,a[1].y=f)},drawLeftRightLine:function(a,b,d,e,f,k,l,r,n){a.push({});a.push({});c.isZero(r-k)?(a[0].x=k,a[0].y=f,a[1].x=k,a[1].y=e):c.isZero(n-l)&&r<k?(a[0].x=k,a[0].y=l,a[1].x=b,a[1].y=l):r>k&&(a[0].x=k,a[0].y=l,a[1].x=d,a[1].y=l)},drawCurveX:function(a,c,f,k,
l,r,n){r||(r=t.DEF_PLINEWIDTH);var s,m,F,B;l=new e;l.setBoundary(d.IPSplineBoundary.NATURAL);for(n=0;n<f.length;n++)l.addPoint(f[n]);l.sortX();s=l.getPoint(0).x;m=l.getPoint(l.getPointCount()-1).x;B=Array(100);for(n=0;100>n;n++)f=s+n*(m-s)/99,F=l.getY(f),B[n]={x:c.getAxisX().worldToViewF(f),y:c.getAxisY().worldToViewF(F)};return b.drawPolyline(a,B,k,r,"solid",!0)},getCurveXDistance:function(a,b,c,f){var k,l,r,n,s={},m={},B=-1;k=new e;k.setBoundary(d.IPSplineBoundary.NATURAL);for(l=0;l<f.length;l++)k.addPoint(f[l]);
k.sortX();f=k.getPoint(0).x;r=k.getPoint(k.getPointCount()-1).x;m.x=0;for(l=m.y=0;100>l;l++)s.x=f+l*(r-f)/99,s.y=k.getY(s.x),0<l&&(n=t.getSegmentDistance(a,b,c,m,s),0<=n&&(B=0>B?n:Math.min(B,n))),m.x=s.x,m.y=s.y;return B},drawCurve3:function(a,d,e,f,l,r,n){r||(r=t.DEF_PLINEWIDTH);l={};n={};var s={},m={},F={},B={},D,E;t.normalizePts(d,e);t.calcCurve3Params(e,l,n,s,m,F,B);E=Array(100);for(e=0;100>e;e++)D=1*e/99,E[e]={x:l.value*c.sqr(D)+n.value*D+s.value,y:m.value*c.sqr(D)+F.value*D+B.value};t.unNormalizePts(d,
E);for(e=0;e<E.length;e++)E[e].x=d.getAxisX().worldToViewF(E[e].x),E[e].y=d.getAxisY().worldToViewF(E[e].y);return a&&(a.isInstanceOf(k.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?b.drawPolyline(a,E,f,r,"solid",!0):a.setShape(E)},getCurve3Distance:function(a,b,d,e){var f={},k={},l={},r={},n={},s={},m,D=-1,E={},J={};t.normalizePts(a,e);t.calcCurve3Params(e,f,k,l,r,n,s);for(e=0;100>e;e++)m=1*e/99,J.x=f.value*c.sqr(m)+k.value*m+l.value,J.y=r.value*c.sqr(m)+n.value*m+s.value,t.unNormalizeXY(a,
J),0<e&&(m=t.getSegmentDistance(a,b,d,E,J),0<=m&&(D=0>D?m:Math.min(D,m))),E.x=J.x,E.y=J.y;return D},normalizePts:function(a,b){var c,d,e,f,k;c=a.getAxisX().getMinimum();d=a.getAxisX().getMaximum();e=a.getAxisY().getMinimum();f=a.getAxisY().getMaximum();for(k=0;k<b.length;k++)b[k].x/=d-c,b[k].y/=f-e},unNormalizePts:function(a,b){var c,d,e,f,k;c=a.getAxisX().getMinimum();d=a.getAxisX().getMaximum();e=a.getAxisY().getMinimum();f=a.getAxisY().getMaximum();for(k=0;k<b.length;k++)b[k].x*=d-c,b[k].y*=f-
e},unNormalizeXY:function(a,b){var c,d,e,f;c=a.getAxisX().getMinimum();d=a.getAxisX().getMaximum();e=a.getAxisY().getMinimum();f=a.getAxisY().getMaximum();b.x*=d-c;b.y*=f-e},calcCurve3Params:function(a,b,d,e,f,k,l){var r,n,s;n=c.hypot(a[1].x-a[0].x,a[1].y-a[0].y);s=n+c.hypot(a[2].x-a[1].x,a[2].y-a[1].y);r=0;c.isZero(s)?n=1:(r=n/s,n=1*r*(r-1),c.isZero(n)&&(n=1));b.value=(1*(a[1].x-a[0].x)-(a[2].x-a[0].x)*r)/n;d.value=-((a[1].x-a[0].x)*c.sqr(1)-(a[2].x-a[0].x)*c.sqr(r))/n;f.value=(1*(a[1].y-a[0].y)-
(a[2].y-a[0].y)*r)/n;k.value=-((a[1].y-a[0].y)*c.sqr(1)-(a[2].y-a[0].y)*c.sqr(r))/n;e.value=a[0].x;l.value=a[0].y},drawPolyline:function(a,c,d,e,f,k,l,r){k||(k=t.DEF_PLINEWIDTH);d=m.clone(d);for(l=0;l<d.length;l++)d[l].x=c.getAxisX().worldToViewF(d[l].x),d[l].y=c.getAxisY().worldToViewF(d[l].y);return b.drawPolyline(a,d,e,k,f,r)},drawCircle:function(a,b,d,e,f,l,r,n,s,m){s||(s=t.DEF_PLINEWIDTH);m=c.hypot(f-d,l-e);f=b.getAxisX().worldToViewF(d-m);l=b.getAxisY().worldToViewF(e+m);d=b.getAxisX().worldToViewF(d+
m);b=b.getAxisY().worldToViewF(e-m);e=(d-f)/2;b=(b-l)/2;return a&&(a.isInstanceOf(k.Surface)||0<=a.getUID().toLowerCase().indexOf("group"))?a.createEllipse({cx:f+e,cy:l+b,rx:e,ry:b}).setStroke({color:r,width:s,style:n||"SOLID"}):a.setShape({cx:f+e,cy:l+b,rx:e,ry:b})},drawPolygon:function(a,c,d,e,f,k){k||(k=1);d=m.clone(d);for(f=0;f<d.length;f++)d[f].x=c.getAxisX().worldToViewF(d[f].x),d[f].y=c.getAxisY().worldToViewF(d[f].y);e=s.toRGB(e);e.a=k;return b.drawPolygon(a,d,e,e)},calcPolynom:function(b){for(var c=
b.length,d=new a({N:c}),e=Array(c),f=1;f<=c;f++){for(var k=1;k<=c;k++)d.setVal(f,k,Math.pow(b[f-1].x,c-k));e[f-1]=b[f-1].y}b=Array(c);k=d.determinant();for(f=1;f<=c;f++)b[f-1]=d.determinantK(f,e)/k,b[f-1]===Number.POSITIVE_INFINITY?b[f-1]=1E10:b[f-1]===Number.NEGATIVE_INFINITY&&(b[f-1]=1E-10);return b},drawPolynom:function(a,c,d,e,f,k,l){k||(k=t.DEF_PLINEWIDTH);l=c.getAxisX().getMinimum();for(var r=c.getAxisX().getMaximum(),n=[],s=0;100>s;s++){var m=l+s*(r-l)/99,D=t.getPolynomial(d,m),E={};E.x=c.getAxisX().worldToViewF(m);
E.y=c.getAxisY().worldToViewF(D);n.push(E)}return b.drawPolyline(a,n,e,k,f,!0)},getPolynomial:function(a,b){var c=0;if(null!=a)for(var d=1;d<=a.length;d++)c+=a[d-1]*Math.pow(b,a.length-d);return c},calcFunctionPts:function(a,b,d,e,f,k,l){function r(b,d,e){var l,q,m,t,u=0.05*(k-f);if(e.asymptoteX==b){l=0.8*b+0.2*d;s.push({x:l,y:a(l)});l=0.6*b+0.4*d;s.push({x:l,y:a(l)});l=0.4*b+0.6*d;s.push({x:l,y:a(l)});l=0.2*b+0.8*d;s.push({x:l,y:a(l)});s.push({x:d,y:a(d)});d=0.8*b+0.2*d;var v=NaN;m=s.length-5;do{l=
(b+d)/2;q=a(l);if(!isFinite(q)||c.sameValue(q,v,u))q=e.domainInfo==n.GraphDomainInfo.FROMPOSINFINITY?k+u:f-u,t=!0;v=q;s.splice(m,0,{x:l,y:q});d=l;if(t)break}while(q>f&&e.domainInfo==n.GraphDomainInfo.FROMNEGINFINITY||q<k&&e.domainInfo==n.GraphDomainInfo.FROMPOSINFINITY)}else if(e.asymptoteX==d){s.push({x:b,y:a(b)});l=0.8*b+0.2*d;s.push({x:l,y:a(l)});l=0.6*b+0.4*d;s.push({x:l,y:a(l)});l=0.4*b+0.6*d;s.push({x:l,y:a(l)});l=0.2*b+0.8*d;s.push({x:l,y:a(l)});b=l;v=NaN;do{l=(b+d)/2;q=a(l);if(!isFinite(q)||
c.sameValue(q,v,u))q=e.domainInfo==n.GraphDomainInfo.FROMPOSINFINITY?k:f,t=!0;s.push({x:l,y:q});b=l;if(t)break}while(q>f&&e.domainInfo==n.GraphDomainInfo.FROMNEGINFINITY||q<k&&e.domainInfo==n.GraphDomainInfo.FROMPOSINFINITY)}}l||(l=100);var s=[],m={};m.domainInfo=n.GraphDomainInfo.NONE;l+=1;for(var t=(e-d)/(l-1),D=0;D<=l;D++){var E=d+D*t;e=b(E);(m.domainInfo==n.GraphDomainInfo.FROMNEGINFINITY||m.domainInfo==n.GraphDomainInfo.FROMPOSINFINITY)&&e.domainInfo==n.GraphDomainInfo.DOMAIN?r(m.asymptoteX,
m.asymptoteX+t,m):(e.domainInfo==n.GraphDomainInfo.FROMNEGINFINITY||e.domainInfo==n.GraphDomainInfo.FROMPOSINFINITY)&&m.domainInfo==n.GraphDomainInfo.DOMAIN?r(e.asymptoteX-t,e.asymptoteX,e):e.domainInfo==n.GraphDomainInfo.DOMAIN&&(m={x:E,y:a(E)},s.push(m));m=e}return s}};return t})},"xl/grapher/IPDataSpline":function(){define(["dojo/_base/declare","xl/util/IPMath","./enums"],function(l,m,k){return l("xl.grapher.IPDataSpline",[],{_xCoef:null,_yCoef:null,_xValues:null,_yValues:null,_boundary:0,_slopeStart:null,
_slopeEnd:null,_needsCalc:!1,_xMonotone:!1,_yMonotone:!1,_xIncreases:!1,_yIncreases:!1,_cachedSlot:0,_isVertical:!1,_isHorizontal:!1,_isInfiniteX:!1,_isInfiniteY:!1,constructor:function(){this._boundary=k.IPSplineBoundary.NATURAL;this._slopeEnd=this._slopeStart=0;this._needsCalc=!0;this._xCoef=[];this._yCoef=[];this._xValues=[];this._yValues=[]},triDiag:function(f,e,d,k){var c,b,a,l;e>d&&(c=e,e=d,d=c);c=d;for(d=e;d<c;d++)b=f[d].c0,a=f[d].c1,l=f[d].c2,b=m.isZero(b)?0:f[d+1].c3/b,1E-20<Math.abs(b)?
(f[d+1].c3=b,f[d+1].c0-=b*a,f[d+1].c2-=b*l):f[d+1].c3=0;m.isZero(f[c].c0)?k[c]=0:k[c]=f[c].c2/f[c].c0;for(d=c-1;d>=e;d--)m.isZero(f[d].c0)?k[d]=0:k[d]=(f[d].c2-f[d].c1*k[d+1])/f[d].c0},getSlopeStart:function(){return this._slopeStart},setSlopeStart:function(f){m.sameValue(f,this._slopeStart)||(this._slopeStart=f,this._needsCalc=!0)},getSlopeEnd:function(){return this._slopeEnd},setSlopeEnd:function(f){m.sameValue(f,this._slopeEnd)||(this._slopeEnd=f,this._needsCalc=!0)},getBoundary:function(){return this._boundary},
setBoundary:function(f){f!=this._boundary&&(this._boundary=f,this._needsCalc=!0)},getPoint:function(f){return{x:this._xValues[f],y:this._yValues[f]}},checkMonotone:function(){var f;this._yMonotone=this._xMonotone=!0;this._xIncreases=this._xValues[this.getPointCount()-1]>this._xValues[0];for(f=1;f<this.getPointCount();f++)if(this._xIncreases&&this._xValues[f-1]>this._xValues[f]){this._xMonotone=!1;break}this._yIncreases=this._yValues[this.getPointCount()-1]>this._yValues[0];for(f=1;f<this.getPointCount();f++)if(this._yIncreases&&
this._yValues[f-1]>this._yValues[f]){this._yMonotone=!1;break}},calculate:function(){if(this._needsCalc){this._needsCalc=!1;this.checkMonotone();var f={},e={},d;if(this._xMonotone){this._xCoef=Array(this.getPointCount());for(d=0;d<this.getPointCount();d++)this._xCoef[d]={};this.calcCoef(this._xValues,this._yValues,this._xCoef,f,e);this._isVertical=f.value;this._isInfiniteY=e.value}if(this._yMonotone){this._yCoef=Array(this.getPointCount());for(d=0;d<this.getPointCount();d++)this._yCoef[d]={};this.calcCoef(this._yValues,
this._xValues,this._yCoef,f,e);this._isHorizontal=f.value;this._isInfiniteX=e.value}}},getXMonotone:function(){this.calculate();return this._xMonotone},getYMonotone:function(){this.calculate();return this._yMonotone},getXIncreases:function(){this.calculate();return this._xIncreases},getYIncreases:function(){this.calculate();return this._yIncreases},calcCoef:function(f,e,d,l,c){var b,a,s,r,t,h,q,u,v,w,x;l.value=!1;c.value=!1;if(!(0>=this.getPointCount())){x=this.getPointCount();q=Array(x);u=Array(x);
a=Array(x);for(b=0;b<x;b++)q[b]=0,u[b]=0,a[b]={};v=this._boundary==k.IPSplineBoundary.PARABOLIC||this._boundary==k.IPSplineBoundary.CUBIC?1:0;w=this._boundary==k.IPSplineBoundary.SLOPEEND||this._boundary==k.IPSplineBoundary.SLOPEBOTH?x-1:x-2;c.value=!1;l.value=!0;for(b=0;b<x-1;b++)q[b]=f[b+1]-f[b],m.isZero(q[b])?c.value=!0:l.value=!1;if(c.value){d[0].c0=e[0];d[0].c1=1E10;d[0].c2=0;d[0].c3=0;for(b=1;b<x;b++)d[b].c0=e[b],m.isZero(q[b-1])?d[b].c1=d[b-1].c1:d[b].c1=-d[b-1].c1,d[b].c2=0,d[b].c3=0}else{switch(this._boundary){case k.IPSplineBoundary.NATURAL:case k.IPSplineBoundary.SLOPEEND:a[0].c0=
1;a[0].c1=0;a[0].c2=0;break;case k.IPSplineBoundary.SLOPESTART:case k.IPSplineBoundary.SLOPEBOTH:a[0].c0=q[0];a[0].c1=0.5*q[0];a[0].c2=1.5*((e[1]-e[0])/q[0]-this._slopeStart);break;case k.IPSplineBoundary.PARABOLIC:a[1].c0=3*q[0]+2*q[1];a[1].c1=q[1];a[1].c2=3*((e[2]-e[1])/q[1]-(e[1]-e[0])/q[0]);break;case k.IPSplineBoundary.CUBIC:a[1].c0=4*q[0]+2*q[1],a[1].c1=q[1]-q[0],a[1].c2=3*((e[2]-e[1])/q[1]-(e[1]-e[0])/q[0])}f=q[v];l=e[v];h=e[v+1];for(b=v+1;b<=x-2;b++)c=h,h=e[b+1],t=q[b],m.isZero(t)||m.isZero(f)?
a[b].c2=1E10:a[b].c2=3*((h-c)/t-(c-l)/f),a[b].c0=2*(f+t),a[b].c3=f,f=a[b].c1=t,l=c;switch(this._boundary){case k.IPSplineBoundary.SLOPEEND:case k.IPSplineBoundary.SLOPEBOTH:f=q[x-2];a[x-1].c3=f;a[x-1].c0=2*f;m.isZero(f)?a[x-1].c2=1E10:a[x-1].c2=3*((e[x-2]-e[x-1])/f+this._slopeEnd);break;case k.IPSplineBoundary.PARABOLIC:a[x-2].c3=q[x-3];a[x-2].c0=2*q[x-3]+3*q[x-2];!m.isZero(e[x-2])&&!m.isZero(e[x-3])?a[x-2].c2=3*((e[x-1]-e[x-2])/e[x-2]-(e[x-2]-e[x-3])/e[x-3]):a[x-2].c2=1E10;break;case k.IPSplineBoundary.CUBIC:a[x-
2].c3=q[x-3]-q[x-2],a[x-2].c0=2*q[x-3]+4*q[x-2]}if(3==x&&this._boundary==k.IPSplineBoundary.PARABOLIC)try{u[1]=a[1].c2/(3*(q[0]+q[1])),isNaN(u[1])&&(u[1]=1E10)}catch(A){u[1]=1E10}else this.triDiag(a,v,w,u);this._boundary==k.IPSplineBoundary.PARABOLIC?(u[0]=u[1],u[x]=u[x-2]):this._boundary==k.IPSplineBoundary.CUBIC&&(u[0]=2*u[1]-u[2],u[x-1]=2*u[x-2]-u[x-3]);try{s=u[0];f=q[0];d[0].c2=s;d[0].c0=e[0];r=m.isZero(f)?e[1]>e[0]?1E10:-1E10:(e[1]-e[0])/f-(2*u[0]+u[1])*f/3;d[0].c1=r;for(b=1;b<=x-2;b++)d[b].c2=
u[b],d[b].c0=e[b],r=(d[b].c2+s)*f+r,d[b].c1=r,m.isZero(f)?d[b-1].c3=0:d[b-1].c3=(d[b].c2-s)/(3*f),s=d[b].c2,f=q[b];m.isZero(f)?d[x-2].c3=1E10:d[x-2].c3=(u[x-1]-s)/(3*f)}catch(z){console.log("error: "+z)}}}},inSlot:function(f,e,d,k){return k?e<d[f]?-1:e>=d[f+1]?1:0:e>d[f]?-1:e<=d[f+1]?1:0},refineSlot:function(f,e){for(var d=f;0<d;)if(m.sameValue(e[d-1],e[f]))d--;else break;return d},findSlot:function(f,e,d){var k,c,b,a,l;l=-1;0<=this._cachedSlot&&this._cachedSlot<this.getPointCount()-1&&(0==this.inSlot(this._cachedSlot,
f,e,d)&&(l=this._cachedSlot),0>l&&this._cachedSlot+1<this.getPointCount()-1&&0==this.inSlot(this._cachedSlot+1,f,e,d)&&(l=this._cachedSlot+1),0>l&&0<this._cachedSlot-1&&0==this.inSlot(this._cachedSlot-1,f,e,d)&&(l=this._cachedSlot-1));if(0<=l)return this._cachedSlot=l=this.refineSlot(l,e);this._cachedSlot=-1;if(0>l&&1<this.getPointCount()){b=this.getPointCount()-2;for(a=0;;){c=(b+a)/2;k=this.inSlot(c,f,e,d);if(0==k)return l=this._cachedSlot=c=this.refineSlot(c,e);0>k?b=c:a=c+1;if(a>=b)return l=this._cachedSlot=
this.refineSlot(b,e)}}this._cachedSlot=this.refineSlot(l,e);return l},findYValue:function(f,e){var d,k;k=NaN;0<=f&&f<this.getPointCount()&&(d=e-this._xValues[f],k=0*d+this._xCoef[f].c3,k=k*d+this._xCoef[f].c2,k=k*d+this._xCoef[f].c1,k=k*d+this._xCoef[f].c0);return k},findXValue:function(f,e){var d,k;k=NaN;0<=f&&f<this.getPointCount()&&(d=e-this._yValues[f],k=0*d+this._yCoef[f].c3,k=k*d+this._yCoef[f].c2,k=k*d+this._yCoef[f].c1,k=k*d+this._yCoef[f].c0);return k},sortPoints:function(f,e){var d,k,c,
b,a;d=this.getPointCount()-1;for(b=d>>1;0<b;){for(k=0;k<=d-b;k++)for(c=k;0<=c&&(m.sameValue(f[c],f[c+b],1E-8)&&e[c]>e[c+b]||!m.sameValue(f[c],f[c+b],1E-8)&&f[c]>f[c+b]);)a=f[c],f[c]=f[c+b],f[c+b]=a,a=e[c],e[c]=e[c+b],e[c+b]=a,c=c>b?c-b:0;b>>=1}},getIsVertical:function(){this.calculate();return this._isVertical},getIsInfiniteX:function(){this.calculate();return this._isInfiniteX},getIsHorizontal:function(){this.calculate();return this._isHorizontal},getIsInfiniteY:function(){this.calculate();return this._isInfiniteY},
addPoint:function(f){this._xValues.push(f.x);this._yValues.push(f.y);this._needsCalc=!0},addPointXY:function(f,e){this._xValues.push(f);this._yValues.push(e);this._needsCalc=!0},getY:function(f){var e;this.calculate();this._xMonotone?m.sameValue(f,this._xValues[this.getPointCount()-1])?f=this._yValues[this.getPointCount()-1]:(e=this.findSlot(f,this._xValues,this._xIncreases),f=this.findYValue(e,f)):f=NaN;return f},getX:function(f){var e;this.calculate();this._yMonotone?(e=this.findSlot(f,this._yValues,
this._yIncreases),f=this.findXValue(e,f)):f=NaN;return f},sortX:function(){this.sortPoints(this._xValues,this._yValues);this._needsCalc=!0},sortY:function(){this.sortPoints(this._yValues,this._xValues);this._needsCalc=!0},getPointCount:function(){return this._xValues.length}})})},"xl/editgraph/enums":function(){define([],function(){return{GraphToolType:{NONE:"none",SELECT:"select",LINE:"line",ASYMPTOTE:"asymptote",CIRCLE:"circle",PARABOLAY:"parabup",PARABOLAX:"parabside",POINT:"point",HOLE:"hole",
TRIANGLE:"triangle",RECTANGLE:"rectangle",CURVE3:"curve",CURVE4:"curve4",ARROW:"arrow",DBLARROW:"doublearrow",TEXT:"text",REGION:"region",POLYGON:"polygon",POLYLINE:"polyline",ABS:"abs",QUADRATIC:"quadratic",CUBIC:"cubic",XSQUARED:"xsquared",XCUBED:"xcubed",LOG:"log",EXP:"exp",SINE:"sine",COSINE:"cosine",COLOR:"color",DELETE:"delete",HELP:"help",CLEAR:"clear",SOLID:"solid",DASHED:"dashed",UP_ARROW:"uparrow",DOWN_ARROW:"downarrow",LEFT_ARROW:"leftarrow",RIGHT_ARROW:"rightarrow"},GraphToolTypeMessage:{NONE:"none",
DRAWLINE1:"drawline1",DRAWLINE2:"drawline2",DRAWPARABOLA1:"drawparabola1",DRAWPARABOLA2:"drawparabola2",DRAWCIRCLE1:"drawcircle1",DRAWCIRCLE2:"drawcircle2",DRAWPOINT:"drawpoint",SELECT:"select",DRAWTRIANGLE1:"drawtriangle1",DRAWTRIANGLE2:"drawtriangle2",DRAWTRIANGLE3:"drawtriangle3",DRAWRECTANGLE1:"drawrectangle1",DRAWRECTANGLE2:"drawrectangle2",DRAWCURVE31:"drawcurve31",DRAWCURVE32:"drawcurve32",DRAWCURVE33:"drawcurve33",DRAWCURVE41:"drawcurve41",DRAWCURVE42:"drawcurve42",DRAWCURVE43:"drawcurve43",
DRAWCURVE44:"drawcurve44",DRAWTEXT:"drawtext",DRAWREGION:"drawregion",DRAWPOLYGON1:"drawpolygon1",DRAWPOLYGON2:"drawpolygon2",DRAWPOLYGON3:"drawpolygon3",DRAWPOLYGON4:"drawpolygon4",DRAWPOLYGON4_MOBILE:"drawpolygon4_mobile",DRAWPOLYLINE1:"drawpolyline1",DRAWPOLYLINE2:"drawpolyline2",DRAWPOLYLINE3:"drawpolyline3",DRAWPOLYLINE4:"drawpolyline4",DRAWPOLYLINE4_MOBILE:"drawpolyline4_mobile",WARNINGUNDELETABLE:"warningundeletable",DRAWABS1:"drawabs1",DRAWABS2:"drawabs2",DRAWPOLYNOM1:"drawpolynom1",DRAWPOLYNOM2:"drawpolynom2",
DRAWPOLYNOM3:"drawpolynom3",DRAWPOLYNOMLAST:"drawpolynomlast",DRAWTRANSFORMATION1:"drawtransformation1"},GraphObjectType:{LINE:"line",ASYMPTOTE:"asymptote",CIRCLE:"circle",PARABOLAY:"parabolay",PARABOLAX:"parabolax",POINT:"point",HOLE:"hole",TRIANGLE:"triangle",RECTANGLE:"rectangle",CURVE3:"curve3",CURVEX:"curvex",ARROW:"arrow1",DBLARROW:"arrow2",TEXT:"text",REGION:"region",POLYGON:"polygon",POLYLINE:"polyline",ABS:"abs",QUADRATIC:"quadratic",CUBIC:"cubic",XSQUARED:"xsquared",XCUBED:"xcubed",LOG:"log",
EXP:"exp",SINE:"sine",COSINE:"cosine"},GraphObjectLineStyle:{SOLID:"solid",DASHED:"dashed",NONE:"none"},GraphSnapOptions:{GRID:"grid",NONE:"none",CUSTOM:"custom"},GraphObjectEvent:{SELECTION_CHANGED:"SELECTION_CHANGED",OBJECT_CHANGED:"object_changed",OBJECT_CREATED:"object_created",UPDATE_MESSAGE:"update_message",CURSOR_MOVED:"CURSOR_MOVED",TOOL_CHANGED:"TOOL_CHANGED",EDIT_LABEL:"EDIT_LABEL",POPUP_MESSAGE:"POPUP_MESSAGE",CLEARED_ALL:"CLEARED_ALL"},GraphPaletteEvent:{TOOL_SELECTED:"TOOL_SELECTED"},
GraphParabolaType:{UPDOWN:"updown",LEFTRIGHT:"leftright"},GraphDomainInfo:{NONE:0,FROMNEGINFINITY:1,FROMPOSINFINITY:2,INFINITY:3,DOMAIN:4},TransformControlType:{NONE:"none",SLIDER:"slider",INPUT:"inputfield",CHECKBOX:"checkbox"}}})},"xl/util/IPSqMatrix":function(){define(["dojo/_base/declare"],function(l){return l("xl.util.IPSqMatrix",[],{_cols:null,constructor:function(l){this._cols=Array(l.N);for(var k=0;k<l.N;k++)this._cols[k]=Array(l.N)},getSize:function(){return this._cols.length},getVal:function(l,
k){return this._cols[k-1][l-1]},setVal:function(l,k,f){this._cols[k-1][l-1]=f},_det:function(l,k){for(var f,e=0,d=f=1;d<=this.getSize();d++)if(!(0<=k.indexOf(d))){if(l==this.getSize())return this.getVal(l,d);e+=f*this.getVal(l,d)*this._det(l+1,k.concat(d));f*=-1}return e},determinant:function(){return this._det(1,[])},determinantK:function(l,k){var f=null;if(k.length!=this.getSize())throw Error("Y Column and Xn Matrix size are mismatched");var e=this._cols[l-1];try{this._cols[l-1]=k,f=this.determinant()}finally{this._cols[l-
1]=e}return f}})})},"xl/editgraph/GraphObjectLabel":function(){define("dojo/_base/declare xl/util/graphUtils xl/grapher/enums ./enums ./GraphObject ./GraphSettings ./LabelDropdown ./LabelDropdownMobile dojo/dom-geometry dojo/dom-style dojo/dom-construct dojo/json dojo/string dojo/_base/lang dojox/gfx/Moveable xl/grapher/BlobMover xl/grapher/IPGraphShapeBlob xl/editgraph/LabelHandle".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w){return l("xl.editgraph.GraphObjectLabel",[v],{_refPoint:null,
_dx:0,_dy:0,_fCenterX:null,_fCenterY:null,_positionSet:null,_font:null,_graph:null,_hAlignment:0,_vAlignment:0,_graphObject:null,_isFormula:null,_labelOptions:null,_location:null,_labelDropdown:null,_labelForeignObject:null,_labelHandle:null,_tag:null,_keepInBounds:null,_margin:0,_menu:null,_selectedIndex:-1,_handleOffsetX:0,_handleOffsetY:10,_lastBoundsRect:null,_labelLine:null,allowMove:!1,_disableEdit:!1,constructor:function(a){this.setMargin(5);this._keepInBounds=!0;this._positionSet=!1;this._font=
{fontFamily:d.graphTextFont,fontSize:d.graphTextSize}},getGraphData:function(){var a={};a.labeldx=this._dx;a.labeldy=this._dy;a.labelrefpoint=this._refPoint;a.objLabel=this.getSelectedValue();return a},getBoundsRect:function(){return this._lastBoundsRect},drawLabelLine:function(a,b,c){var d,h,f,l,r,n,q;if(this.getPositionSet()){b=k.IPGraphLineStyle.SOLID;d=this._graphObject.getPoint(this.getRefPoint()).x;c=this._graphObject.getPoint(this.getRefPoint()).y;h=this.getBoundsRect(a);m.fixRectangle(h);
h.left=h.left||h.x;h.right=h.right||h.x+h.w;h.top=h.top||h.y;h.bottom=h.bottom||h.y+h.h;l=this.getGraph().getAxisX().viewToWorld(h.left);r=this.getGraph().getAxisX().viewToWorld(h.right);n=this.getGraph().getAxisY().viewToWorld(h.top);q=this.getGraph().getAxisY().viewToWorld(h.bottom);f=this.getGraph().getAxisX().worldToView(d);var s=this.getGraph().getAxisY().worldToView(c);f>=h.left&&f<=h.right&&s>=h.top&&s<=h.bottom||(h=d<l?l:d>r?r:(l+r)/2,f=c>n?n:c<q?q:(n+q)/2,this.setCenterX((l+r)/2),this.setCenterY((n+
q)/2),l=e.getPointDistance1(this.getGraph(),d,c,h,f),5>l||(l=7/l,d=e.calcSegmentPart(d,h,l),c=e.calcSegmentPart(c,f,l),this._labelLine&&!this._labelLine.parent&&(this._labelLine.destroy(),this._labelLine=null),this._labelLine=e.drawSegment(this._labelLine||a,this.getGraph(),d,c,h,f,"#000000",b,0.1),this._labelLine.moveToBack()))}},startEditing:function(a){return!1},canSelect:function(a){return!1},mousePressed:function(a,b,c){a.editLabel(this)},setLocation:function(a){this._location!==a&&(this._location=
a)},updatePosition:function(){if(this._labelForeignObject){var a,c;a=this.getGraph().getAxisX().worldToViewF(this._location.x+this._dx);c=this.getGraph().getAxisY().worldToViewF(this._location.y+this._dy);this._lastBoundsRect||(this._lastBoundsRect=b.getMarginBox(this._labelForeignObject.holder.domNode));switch(this._hAlignment){case k.IPGraphAlignment.LEFT:a+=this._margin;break;case k.IPGraphAlignment.RIGHT:a=a-this._lastBoundsRect.w-2*this._margin;break;case k.IPGraphAlignment.CENTER:a=Math.round(a-
this._lastBoundsRect.w/2)}switch(this._vAlignment){case k.IPGraphAlignment.TOP:c+=this._margin;break;case k.IPGraphAlignment.BOTTOM:c=c-this._lastBoundsRect.h-2*this._margin;break;case k.IPGraphAlignment.MIDDLE:c-=Math.round(this._lastBoundsRect.h/2)}this._lastBoundsRect.x=a;this._lastBoundsRect.y=c;this._lastBoundsRect.left=a;this._lastBoundsRect.right=a+this._lastBoundsRect.w;this._lastBoundsRect.top=c;this._lastBoundsRect.bottom=c+this._lastBoundsRect.h;this._labelForeignObject.setBox(this._lastBoundsRect);
this._labelForeignObject.moveToBack();null==this._labelHandle&&(this._labelHandle&&(this._labelHandle.destroy(),this._labelHandle=null),this.allowMove&&(this.getGraph().getGraphControl().editable&&!this.getGraph().getGraphControl().useMobileLabels)&&(this._labelHandle=this.createLabelHandle()));if(this._labelHandle&&this.getGraph().getGraphControl().editable&&this.allowMove){a=this.getGraph().getAxisX().viewToWorld(this._lastBoundsRect.right);c=this.getGraph().getAxisY().viewToWorld(this._lastBoundsRect.top);
var d=this._labelHandle.getLocationX(),h=this._labelHandle.getLocationY();this._labelHandle._surface||(this._labelHandle._surface=this.getGraph().getBlobSurfaceLayer());this._labelHandle.setLocation(a,c,!0);d===a&&h===c&&this._labelHandle.redraw()}this._graphObject&&this.drawLabelLine(this.getGraph().getBlobSurfaceLayer());this._activateLabelDropDown(this.allowMove&&this.getGraph().getGraphControl().editable||this._graphObject.getIsStatic());this._graphObject&&this._graphObject.getIsStatic()&&this.adjustLabelPosition()}},
_activateLabelDropDown:function(a){this._labelDropdown&&(this._labelDropdown.isActive(a),this._labelForeignObject&&a&&this._labelForeignObject.moveToFront())},draw:function(a,b,c){if(!this._labelForeignObject||!this._labelForeignObject.domNode.parentNode||!this._labelForeignObject.domNode.parentNode.parentNode.parentNode)this._labelDropdown?b="\x26nbsp;":(b={disableEdit:0<=this._graphObject.getTag()||this._disableEdit,labelOptions:this.getLabelOptions(),isFormula:this.getIsFormula(),emptyDisplayText:"???",
dropdownId:this.getMenu().id},b=r.stringify(b),b=b.substr(1,b.length-2),b=b.replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),c=this.getGraph().getGraphControl().useMobileLabels?"LabelDropdownMobile":"LabelDropdown",b=t.substitute("\x3cdiv data-dojo-type\x3d'xl.editgraph.${labelType}' data-dojo-props\x3d'${props}'\x3e\x3c/div\x3e",{props:b,labelType:c})),this._labelForeignObject=a.createForeignObject({content:b,fontFamily:this._font.fontFamily,
fontSize:this._font.fontSize,layerPosition:"after"}),this._lastBoundsRect=null,this._labelDropdown?(s.empty(this._labelForeignObject.domNode),s.place(this._labelDropdown.domNode,this._labelForeignObject.domNode)):this._labelDropdown=this._labelForeignObject.getWidgets()[0],this._labelForeignObject.startup(),this._labelDropdown.on("selectionChanged",h.hitch(this,this.labelSelectionChanged)),this._labelDropdown.on("opendropdown",h.hitch(this,this.labelOpenDropDown)),this._labelDropdown.on("closedropdown",
h.hitch(this,this.labelCloseDropDown)),this._labelDropdown.on("ondropdownmousedown",h.hitch(this,this.labelClicked)),0<=this._selectedIndex?this._labelDropdown.changeSelection(this._selectedIndex):1===this._tag&&this._labelDropdown.setDisplayNodeHtml(this.objLabel),this.allowMove&&this.getGraph().getGraphControl().editable&&!this.getGraph().getGraphControl().useMobileLabels?(null==this._labelHandle&&(this._labelHandle&&(this._labelHandle.destroy(),this._labelHandle=null),this._labelHandle=this.createLabelHandle()),
this._activateLabelDropDown(!0)):(this._activateLabelDropDown(this._graphObject.getIsStatic()),this._labelHandle&&(this._labelHandle.destroy(),this._labelHandle=null));this.updatePosition();this._keepInBounds&&this.adjustLabelPosition()},labelClicked:function(){var a=this.getGraph().getGraphControl().getGraphManager();a.isReact&&(a.selectObject(this._graphObject),this._activateLabelDropDown(!0))},labelOpenDropDown:function(a){this.getGraph().staticLabelActive=!0;a.labelId=this.id;this.getGraph().getGraphControl().getGraphManager().graphObjectLabelMenuOpened()},
labelCloseDropDown:function(){this.getGraph().staticLabelActive=!1;this.getGraph().onFocus();this.getGraph().getGraphControl().getGraphManager().graphObjectLabelMenuClosed()},createLabelHandle:function(){var a=new w({_graph:this.getGraph(),_showVertLine:!1,_showHorzLine:!1});a.startup();this._handleOffsetX=a.getWidth();a.on(k.IPGraphBlobEvent.BLOB_MOVED,h.hitch(this,this.labelHandleMoved));return a},labelHandleMoved:function(a){var b=this.getGraph().getAxisX().worldToViewF(a.x)-this._lastBoundsRect.w,
b=this.getGraph().getAxisX().viewToWorld(b);a.x=b;this.emit(k.IPGraphBlobEvent.BLOB_MOVED,a);this.updatePosition()},labelSelectionChanged:function(b){this._selectedIndex=b.selectedIndex;this._lastBoundsRect=null;a.set(this._labelForeignObject.domNode,{width:null,height:null});this.updatePosition();this.getGraph().getGraphControl().getGraphManager().emit("graphobjectlabel_changed",{bubbles:!0})},adjustLabelPosition:function(){var a=!1,b=this.getGraph(),c=0,d=0,e=h.clone(this._lastBoundsRect);e.right+=
this._handleOffsetX;var f=b.getPlotRect().clone();f.top-=b.getMarginTop();f.bottom+=b.getMarginBottom();f.left-=b.getMarginLeft();f.right+=b.getMarginRight();e.right>f.right&&(c-=e.right-f.right,a=!0);e.left<f.left&&(c+=f.left-e.left,a=!0);e.bottom>f.bottom&&(d-=e.bottom-f.bottom,a=!0);e.top<f.top&&(d+=f.top-e.top,a=!0);a&&this.setLocation(this._graphObject.getPoint(this.getRefPoint()));this._graphObject&&a&&(e=b.getAxisX().worldToView(this._dx),e=b.getAxisX().viewToWorld(e+c),c=b.getAxisY().worldToView(this._dy),
c=b.getAxisY().viewToWorld(c+d),this.setDx(e),this.setDy(c),this.updatePosition());return a},getGraphObject:function(){return this._graphObject},setGraphObject:function(a){this._graphObject=a},getDx:function(){return this._dx},setDx:function(a){this._dx=a},getDy:function(){return this._dy},setDy:function(a){this._dy=a},getRefPoint:function(){return this._refPoint},setRefPoint:function(a){this._refPoint=a},getPositionSet:function(){return this._positionSet},setPositionSet:function(a){this._positionSet=
a},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function(a){this._selectedIndex=a;this.objLabel=this.getSelectedValue()},getSelectedValue:function(){return 0<=this._selectedIndex&&this._labelOptions&&this._labelOptions.length>=this._selectedIndex?this._labelOptions[this._selectedIndex]:""},objLabel:null,setSelectedValue:function(a){var b=-1;this.objLabel=a;this._labelOptions&&(b=this._labelOptions.indexOf(a));this._selectedIndex=b},getCenterX:function(){return this._fCenterX},
setCenterX:function(a){this._fCenterX=a},getCenterY:function(){return this._fCenterY},setCenterY:function(a){this._fCenterY=a},getGraph:function(){return this._graph},setGraph:function(a){this._graph=a;null==this._graph&&(this._labelForeignObject&&this._labelForeignObject.holder&&this._labelForeignObject.holder.domNode)&&(s.destroy(this._labelForeignObject.holder.domNode),this._labelHandle=this._labelDropdown=null)},getIsFormula:function(){return this._isFormula},setIsFormula:function(a){this._isFormula=
a},getLabelOptions:function(){return this._labelOptions},setLabelOptions:function(a){this._labelOptions=a},getTag:function(){return this._tag},setTag:function(a){this._tag=a},getLocation:function(){return this._location},getMargin:function(){return this._margin},setMargin:function(a){this._margin=a},getHAlignment:function(){return this._hAlignment},setHAlignment:function(a){this._hAlignment=a},getVAlignment:function(){return this._vAlignment},setVAlignment:function(a){this._vAlignment=a},getMenu:function(){return this._menu},
setMenu:function(a){this._menu=a},getDisableEdit:function(){return this._disableEdit},setDisableEdit:function(a){this._disableEdit=a},getLabelDropdown:function(){return this._labelDropdown}})})},"xl/editgraph/LabelDropdown":function(){define("dijit/_Widget dijit/_WidgetBase xl/player/controls/_InputObject dijit/_TemplatedMixin dijit/_HasDropDown dijit/form/_FormWidgetMixin dojo/text!./templates/LabelDropdown.html dojo/_base/declare xl/util/logger dojo/dom-style dojo/_base/array dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dijit/registry xl/util/localization!html5player/player dojo/on dojo/_base/lang dojo/keys dojo/_base/event dojo/parser dojo/string dojo/dom-attr dijit/Menu dijit/MenuItem dijit/Tooltip xl/eqeditor/EqLabel xl/util/localization!html5player/graphmanager".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O){return c("xl.editgraph.LabelDropdown",[m,f,e,d],{templateString:n,baseClass:"xlLabelDropdown",placeHolderText:O["sdg.add_a_label"],autoWidth:!0,selectedIndex:-1,maxHeight:-1,printing:!1,disableEdit:!1,isFormula:null,emptyDisplayText:"\x26nbsp;",labelOptions:null,dropdownId:null,constructor:function(a){x.mixin(this,a);this.placeHolderText=this.placeHolderText.replace(/ /g,"\x26nbsp;")},postCreate:function(){this.inherited(arguments);
this.readOnly=!0},isLoaded:function(){return!1},loadDropDown:function(a){this.dropdownId&&(this.dropDown=u.byId(this.dropdownId));this.dropDown.labelDropdownObj=this;w.once(this.dropDown,"itemClick",x.hitch(this,this.menuItemClicked));this.inherited(arguments);q.add(this.dropDown.domNode,"labelDropdownMenu")},_onKeyUp:function(a){0<=this.selectedIndex&&a.keyCode==A.ENTER?z.stop(a):this.inherited(arguments)},startup:function(){this.inherited(arguments)},setDisplayNodeHtml:function(a){var b,c=null;
this.isFormula?(c=new N({docSettings:{interpretFunctions:!1}}),c.setEqText(a),b=c.domNode):(b=h.create("div"),b.innerHTML=text);this.displayNode.innerHTML="";h.place(b,this.displayNode);c&&c.startup();a!==this.placeHolderText&&q.remove(this.displayNode,"empty")},changeSelection:function(a){a!=this.selectedIndex&&(this.selectedIndex=a,!this.dropDown&&this.dropdownId&&(this.dropDown=u.byId(this.dropdownId)),a=this.dropDown.getChildren()[a].containerNode,this.displayNode.innerHTML=a.innerHTML);0<=this.selectedIndex&&
q.remove(this.displayNode,"empty")},setWidth:function(b){a.set(this.displayNode,"width",b+"px")},menuItemClicked:function(a,b){var c=a.itemNode.innerHTML.replace(/id="[a-zA-Z\-_0-9]+"/g,"");this.displayNode.innerHTML=a.containerNode.innerHTML;var d;this.selectedIndex=d=this.isFormula?this.labelOptions.indexOf(a.plainValue):this.labelOptions.indexOf(c);this.inputFilled=!0;c!==this.placeHolderText&&q.remove(this.displayNode,"empty");this.emit("selectionChanged",{selectedIndex:d,displayNode:this.displayNode})},
onselectionChanged:function(){},openDropDown:function(){this.disableEdit||(this.emit("opendropdown"),this.inherited(arguments))},closeDropDown:function(a){this.inherited(arguments);this.emit("closedropdown")},isActive:function(a){a?(this.readOnly=!1,q.add(this.domNode,"active"),q.add(this.displayNode,"xlLabelDropdownItemSelected")):(this.readOnly=!0,q.remove(this.domNode,"active"),q.remove(this.displayNode,"xlLabelDropdownItemSelected"))},_onDropDownMouseDown:function(a){this.disableEdit||(this.emit("ondropdownmousedown"),
this.inherited(arguments),a.stopPropagation())}})})},"xl/editgraph/LabelDropdownMobile":function(){define("dijit/_Widget dijit/_WidgetBase xl/player/controls/_InputObject dijit/_TemplatedMixin dijit/_HasDropDown dijit/form/_FormWidgetMixin dojo/text!./templates/LabelDropdown.html dojo/_base/declare xl/util/logger dojo/dom-style dojo/_base/array dojo/dom-geometry dojo/query dojo/dom-construct dojo/dom-class dijit/registry xl/util/localization!html5player/player dojo/on dojo/_base/lang dojo/keys dojo/_base/event dojo/parser dojo/string dojo/dom-attr dijit/Menu dijit/MenuItem dijit/Tooltip xl/eqeditor/EqLabel xl/editgraph/LabelDropdown xl/util/nativeDeferredManager".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O,H){return c("xl.editgraph.LabelDropdownMobile",[O],{baseClass:"xlLabelDropdown",placeHolderText:"ADD\x26nbsp;A\x26nbsp;LABEL",constructor:function(a){x.mixin(this,a)},postCreate:function(){this.inherited(arguments);q.add(this.domNode,"xlLabelDropdownPlaceholder");q.add(this.domNode.firstElementChild,"xlLabelDropdownPlaceholderItem")},loadDropDown:function(a){this.inherited(arguments);q.add(this.dropDown.domNode.parentNode,"graphlabeldropdown")},
startup:function(){this.inherited(arguments)},menuItemClicked:function(a,b){this.removePlaceholderCss();this.inherited(arguments)},setDisplayNodeHtml:function(a){this.inherited(arguments);this.removePlaceholderCss()},changeSelection:function(a){this.inherited(arguments);this.removePlaceholderCss()},removePlaceholderCss:function(){q.remove(this.domNode,"xlLabelDropdownPlaceholder");q.remove(this.domNode.firstElementChild,"xlLabelDropdownPlaceholderItem")},openDropDown:function(){if(!this.disableEdit){for(var a=
[],b=0;b<this.labelOptions.length;b++)a.push({label:this.labelOptions[b]});H.makeRequest({type:"nativeSelect",data:{prompt:"Please select a label for the object",options:a,selectedIndex:this.selectedIndex,displayAsFormulas:this.isFormula}}).then(x.hitch(this,function(a){this.menuItemClicked(this.dropDown.getChildren()[a.data.selectedIndex],a.data.selectedIndex)}))}},closeDropDown:function(a){this.inherited(arguments)}})})},"xl/util/nativeDeferredManager":function(){define(["dojo/on","dojo/topic",
"dojo/Deferred","xl/util/stringUtils"],function(l,m,k,f){var e={},d=0,n=null;return{makeRequest:function(c){if(n){c.id=++d;c.time=Date.now();var b=new k;e[c.id]={deferred:b,data:c};n(c);return b.promise}},setMessageSender:function(c){n=c},receiveResponse:function(c){var b=e[c.id];delete e[c.id];return b?(b.deferred.resolve(c),!0):!1},getNextId:function(){return++d}}})},"xl/editgraph/LabelHandle":function(){define("dojo/_base/declare xl/grapher/IPGraphShapeBlob xl/grapher/IPGraphLabel xl/editgraph/GraphObject xl/util/graphUtils xl/util/stringUtils dojox/gfx/Moveable xl/editgraph/LabelMover dojo/text!./images/movehandle.svg".split(" "),
function(l,m,k,f,e,d,n,c,b){return l("xl.editgraph.LabelHandle",[m],{onDraw:null,_invisible:null,_label:null,_handle:null,_width:16,constructor:function(a){},getWidth:function(){return this._width},drawBlob:function(a,d){this._handle&&(this._handle.domNode&&null==this._handle.domNode.parentNode)&&(this._handle=null);if(!this._handle||!this._handle.parent){this._handle=a.createGroup();this._handle.createRect({width:16,height:16}).setStroke("rgba(0,0,0,0)").setFill("rgba(0,0,0,0)");this._handle.createPath(b).applyTransform(dojox.gfx.matrix.scale({x:0.035,
y:0.035})).setStroke("black").setFill("black");this._handle.applyTransform(dojox.gfx.matrix.translate(d.x,d.y-10));var e=new n(this._handle,{mover:c});e.graph=this.getGraph();e.blob=this}else this._handle.setTransform(dojox.gfx.matrix.translate(d.x,d.y-10))},focusLost:function(){this.updateSize();this.inherited(arguments)},focusGained:function(){this.updateSize();this.inherited(arguments)},updateSize:function(){this.setShowVertLine(!1);this.setShowHorzLine(!1);this.setTrackMouse(!1);this.setStickyFocus(!1);
this.setSize(4);this.invalidate()},getInvisible:function(){return this._invisible},setInvisible:function(a){this._invisible=a}})})},"xl/editgraph/LabelMover":function(){define("dojo/_base/declare dojox/gfx dojox/gfx/Mover dojo/_base/event dojo/has xl/grapher/Point".split(" "),function(l,m,k,f,e,d){return l("xl.editgrapg.LabelMover",k,{onMouseMove:function(k){var c=new d(e("touch")?(k.changedTouches?k.changedTouches[0]:k).clientX:k.clientX,e("touch")?(k.changedTouches?k.changedTouches[0]:k).clientY:
k.clientY);c.x-=this._xoff;c.y-=this._yoff;var b=this.host.blob.xViewToWorld(c.x),c=this.host.blob.yViewToWorld(c.y);this.host.blob.move(b,c,null,!0,!1,!0);f.stop(k)},calculateShift:function(d,c){var b={};b.dx=d.x>c.right?c.right-this.lastX:d.x<c.left?c.left-this.lastX:d.x-this.lastX;b.dy=d.y>c.bottom?c.bottom-this.lastY:d.y<c.top?c.top-this.lastY:d.y-this.lastY;return b},graph:null,constructor:function(f,c,b){this.graph=b.graph;f=new d(e("touch")?(c.changedTouches?c.changedTouches[0]:c).clientX:
c.clientX,e("touch")?(c.changedTouches?c.changedTouches[0]:c).clientY:c.clientY);this._xoff=f.x-this.host.blob.getViewX();this._yoff=f.y-this.host.blob.getViewY()},_xoff:0,_yoff:0,isOutsideBounds:function(d,c){return d.x<c.left||d.x>c.right||d.y<c.top||d.y>c.bottom?!0:!1}})})},"xl/editgraph/GraphTransformObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath xl/util/eqUtils".split(" "),
function(l,m,k,f,e,d,n,c){return l("xl.editgraph.GraphTransformObject ",[k],{constructor:function(b){this.setSupportsLineStyle(!0);this._paramValues=[];this.createDefaultParams()},redrawWhenSelected:!0,_paramValue:null,_ghostDrawing:!1,PolyLine:null,createDefaultParams:function(){this.addParam("vshift","0");this.addParam("hshift","0");this.addParam("xflip","1");this.addParam("yflip","1")},addParam:function(b,a){this._params[b]=a},param:function(b){return this._params[b]},amplitude:function(){return this.paramValue("amplitude")},
vstretch:function(){return this.paramValue("vstretch")},period:function(){return this.paramValue("period")},hstretch:function(){return this.paramValue("hstretch")},vshift:function(){return this.paramValue("vshift")},hshift:function(){return this.paramValue("hshift")},xflip:function(){return this.paramValue("xflip")},yflip:function(){return this.paramValue("yflip")},base:function(){return this.paramValue("base")},getY:function(b){return 0},isInDomain:function(b){return{domainInfo:f.GraphDomainInfo.DOMAIN,
asymptoteX:NaN}},draw:function(b,a,c){var e;a?(a=c,c=0,e=f.GraphObjectLineStyle.SOLID):(a=this.getColor(),c=d.DEF_PLINEWIDTH,e=this.getLineStyle());this.drawObject(b,a,e,c)},drawGhost:function(b,a,c){this._ghostDrawing=!0;this.drawObject(b,c,this.getLineStyle(),d.DEF_PLINEGHOSTWIDTH)},drawMask:function(b,a,c){this.drawObject(b,a,f.GraphObjectLineStyle.SOLID,1,c)},getDrawNumPoints:function(){return 100},getDrawXMin:function(){return this._graph.getAxisX().getMinimum()},getDrawXMax:function(){return this._graph.getAxisX().getMaximum()},
errorInParams:function(){return!1},drawObject:function(b,a,c,e,f){if(!this.errorInParams()){var h=d.calcFunctionPts(m.hitch(this,this.getY),m.hitch(this,this.isInDomain),this.getDrawXMin(),this.getDrawXMax(),this._graph.getAxisY().getMinimum(),this._graph.getAxisY().getMaximum(),this.getDrawNumPoints());b=d.drawPolyline(b,this._graph,h,a,c,e,f,!0);this._ghostDrawing||(this.PolyLine=b);this._ghostDrawing=!1;a=this.getGraph().getPlotRect();b&&(b.setClip({x:a.left,y:a.top,width:a.getWidth()+1,height:a.getHeight()+
1}),this._fixedPts=b.shape.points)}},getSdType:function(){return-1},evalParam:function(b){return c.evalEq(b)},paramValue:function(b){if(null==this._paramValues[b]||"undefined"==typeof this._paramValues[b])this._paramValues[b]=this.evalParam(this.param(b));return this._paramValues[b]},getParam:function(b){return this._params[b]},setParam:function(b,a){this._params[b]!=a&&(this._params[b]=a,this._paramValues[b]=null)}})})},"dojox/gesture/tap":function(){define(["dojo/_base/kernel","dojo/_base/declare",
"dojo/_base/lang","./Base","../main"],function(l,m,k,f,e){l.experimental("dojox.gesture.tap");l=m(f,{defaultEvent:"tap",subEvents:["hold","doubletap"],holdThreshold:500,doubleTapTimeout:250,tapRadius:10,press:function(d,e){if(e.touches&&2<=e.touches.length)clearTimeout(d.tapTimeOut),delete d.context;else{var c=e.target;this._initTap(d,e);d.tapTimeOut=setTimeout(k.hitch(this,function(){this._isTap(d,e)&&this.fire(c,{type:"tap.hold"});delete d.context}),this.holdThreshold)}},release:function(d,e){if(d.context&&
this._isTap(d,e))switch(d.context.c){case 1:this.fire(e.target,{type:"tap"});break;case 2:this.fire(e.target,{type:"tap.doubletap"})}clearTimeout(d.tapTimeOut)},_initTap:function(d,e){d.context||(d.context={x:0,y:0,t:0,c:0});var c=(new Date).getTime();c-d.context.t<=this.doubleTapTimeout?d.context.c++:(d.context.c=1,d.context.x=e.screenX,d.context.y=e.screenY);d.context.t=c},_isTap:function(d,e){var c=Math.abs(d.context.x-e.screenX),b=Math.abs(d.context.y-e.screenY);return c<=this.tapRadius&&b<=this.tapRadius}});
e.gesture.tap=new l;e.gesture.tap.Tap=l;return e.gesture.tap})},"dojox/gesture/Base":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom dojo/on dojo/touch dojo/has ../main".split(" "),function(l,m,k,f,e,d,n,c,b){l.experimental("dojox.gesture.Base");f.getObject("gesture",!0,b);return m(null,{defaultEvent:" ",subEvents:[],touchOnly:!1,_elements:null,constructor:function(a){f.mixin(this,a);this.init()},init:function(){this._elements=[];if(!c("touch")&&this.touchOnly)console.warn("Gestures:[",
this.defaultEvent,"] is only supported on touch devices!");else{var a=this.defaultEvent;this.call=this._handle(a);this._events=[a];k.forEach(this.subEvents,function(b){this[b]=this._handle(a+"."+b);this._events.push(a+"."+b)},this)}},_handle:function(a){var b=this;return function(c,e){var h=arguments;2<h.length&&(c=h[1],e=h[2]);if(!c||!c.nodeType&&!c.attachEvent&&!c.addEventListener)return d(c,a,e);var f=b._add(c,a,e);return{remove:function(){f.remove();b._remove(c,a)}}}},_add:function(a,b,c){var e=
this._getGestureElement(a);if(!e){var e={target:a,data:{},handles:{}},h=f.hitch(this,"_process",e,"press"),k=f.hitch(this,"_process",e,"move"),l=f.hitch(this,"_process",e,"release"),m=f.hitch(this,"_process",e,"cancel"),w=e.handles;this.touchOnly?(w.press=d(a,"touchstart",h),w.move=d(a,"touchmove",k),w.release=d(a,"touchend",l),w.cancel=d(a,"touchcancel",m)):(w.press=n.press(a,h),w.move=n.move(a,k),w.release=n.release(a,l),w.cancel=n.cancel(a,m));this._elements.push(e)}e.handles[b]=!e.handles[b]?
1:++e.handles[b];return d(a,b,c)},_getGestureElement:function(a){for(var b=0,c;b<this._elements.length;b++)if(c=this._elements[b],c.target===a)return c},_process:function(a,b,c){c._locking=c._locking||{};!c._locking[this.defaultEvent]&&!this.isLocked(c.currentTarget)&&(("INPUT"!=c.target.tagName||"radio"==c.target.type||"checkbox"==c.target.type)&&"TEXTAREA"!=c.target.tagName&&c.preventDefault(),c._locking[this.defaultEvent]=!0,this[b](a.data,c))},press:function(a,b){},move:function(a,b){},release:function(a,
b){},cancel:function(a,b){},fire:function(a,b){a&&b&&(b.bubbles=!0,b.cancelable=!0,d.emit(a,b.type,b))},_remove:function(a,b){var c=this._getGestureElement(a);if(c&&c.handles){c.handles[b]--;var d=c.handles;k.some(this._events,function(a){return 0<d[a]})||(this._cleanHandles(d),c=k.indexOf(this._elements,c),0<=c&&this._elements.splice(c,1))}},_cleanHandles:function(a){for(var b in a)a[b].remove&&a[b].remove(),delete a[b]},lock:function(a){this._lock=a},unLock:function(){this._lock=null},isLocked:function(a){return!this._lock||
!a?!1:this._lock!==a&&e.isDescendant(a,this._lock)},destroy:function(){k.forEach(this._elements,function(a){this._cleanHandles(a.handles)},this);this._elements=null}})})},"dojox/main":function(){define(["dojo/_base/kernel"],function(l){return l.dojox})},"xl/editgraph/GraphControl":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin xl/player/controls/_NeedsPlayerViewer dijit/_WidgetsInTemplateMixin dojo/text!./templates/graphcontrol.html xl/util/localization!html5player/player dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-class dojo/on dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/keys dojox/gfx/registry dijit/registry xl/grapher/XYGraph2 xl/editgraph/GraphObjectFactory xl/editgraph/GraphManager xl/player/controls/GraphPalette xl/player/controls/InlineGraphPalette xl/player/controls/TransformPalette xl/editgraph/enums xl/grapher/enums xl/grapher/IPCursorResponse xl/editgraph/GraphStatus xl/editgraph/GraphTransformObject xl/editgraph/GraphSettings xl/player/dialogs/ConfirmationDialog xl/player/dialogs/InteractionsNativeDialog xl/player/dialogs/DataGrapherNativeDialog xl/grapher/GraphInteractions xl/grapher/DataGrapherActions".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O,H,K,M,P,I){return n("xl.editgraph.GraphControl",[l,m,f,k],{templateString:e,baseClass:"graphControl",placeHolderText:"\x3cdiv class\x3d'graphControlMissing'\x3eX\x3c/div\x3e",_graph:null,_graphManager:null,_palette:null,_toolButtons:"",_graphControlData:null,_predrawnObjects:null,_initdrawnObjects:null,_transformPalette:null,_accLabel:null,editable:!0,_toolType:null,constructor:function(a){this._graphManager=new A;this._graphControlData=
a},_paletteToolSelected:function(a){if(a.cmd){var b=this._graphManager.getSelectedObject();switch(a.cmd){case B.GraphToolType.SOLID:case B.GraphToolType.DASHED:b?(b.setLineStyle(a.cmd),this._graphManager.selectObject(b)):this._graphManager.setDefaultLineStyle(a.cmd);a.isReact&&this._graphManager.setDefaultLineStyle(a.cmd);break;case B.GraphToolType.COLOR:a&&a.val&&b&&b.setColor(a.val);break;case B.GraphToolType.CLEAR:this.clear();break;case B.GraphToolType.DELETE:this.deleteTool();break;case B.GraphToolType.HELP:this.getViewer().postCommand("help",
{type:"grapher"});break;case B.GraphToolType.UP_ARROW:this.processKeyCode(q.UP_ARROW);break;case B.GraphToolType.DOWN_ARROW:this.processKeyCode(q.DOWN_ARROW);break;case B.GraphToolType.LEFT_ARROW:this.processKeyCode(q.LEFT_ARROW);break;case B.GraphToolType.RIGHT_ARROW:this.processKeyCode(q.RIGHT_ARROW);break;default:this._graphManager.setToolType(a.cmd)}this.getPalette().setToolMessage(a.cmd);this.getGraph().validateGraph()}},processKeyCode:function(a){this.getGraph().processKeyCode(a);this._graphManager&&
this._graphManager.processKeyCode(a)},deleteTool:function(){var a=this;this._palette.sendToBack();this._transformPalette&&this._transformPalette.sendToBack();return H.displayText(d["grpal.delete_confirm"],d["grpal.delete_confirm_title"],[H.BUTTON.OK,H.BUTTON.CANCEL],"300px").then(function(b){b&&b.command==H.BUTTON.OK.command&&a.getGraphManager().clearTool();a._palette.sendToFront();a._transformPalette&&a._transformPalette.sendToFront();return b})},deleteObject:function(){this.getGraphManager().clearTool()},
setPalette:function(a){this._destroyPalette();this._palette=a;this.own(s(this._palette,"graphtool",r.hitch(this,this._paletteToolSelected)));this._palette.setToolButtons(this._toolButtons,this._toolType?this._toolType:this.getGraphManager().getToolType())},_createPalette:function(a){this._palette||(this.isInDijitViewer?this._palette=new z({owner:this,graphControl:this}):(this._palette=new C({owner:this,graphControl:this}),h.place(this._palette.domNode,this.getViewer().palettePanel.domNode)),this.own(s(this._palette,
"graphtool",r.hitch(this,this._paletteToolSelected))),this._graphManager.on(B.GraphObjectEvent.SELECTION_CHANGED,r.hitch(this,this._selectionChanged)),this._toolType=a,this._palette.setToolButtons(this._toolButtons,a?a:this.getGraphManager().getToolType()))},_destroyPalette:function(){this._palette&&(this._palette.destroyRecursive(),this._palette=null)},_destroyTransformPalette:function(){this._transformPalette&&(this._transformPalette.hide(),this._transformPalette.destroyRecursive(),this._transformPalette=
null)},_showTransformPalette:function(){this._transformPalette&&this._transformPalette.show(this)},_getTransformPalette:function(){this._transformPalette||(this._createTransformPalette(),this._transformPalette.getPalette(this));return this._transformPalette},_hideTransformPalette:function(){this._transformPalette&&this._transformPalette.hide()},_createTransformPalette:function(){this._transformPalette=new F(this.get("id"))},_selectionChanged:function(a){this._palette&&!this._graphManager.persistCurrentTool&&
(this._palette.resetToolSelection(!0),a&&a.selectedObj?this._palette.setToolButtonsSelectState(!0,a.selectedObj.lineStyle):this._palette.setToolButtonsSelectState(!1,this._graphManager.getDefaultLineStyle()),this._palette.setToolMessage("",a.selectedObj));this.updateTransformPalette(a.selectedObj)},updateTransformPalette:function(a){if(a instanceof N){this._getTransformPalette();var b=this._graphManager.getOptionsForObject(a),c=this._transformPalette.initOptions(b,void 0,void 0,a);!b.isCustomized&&
this._graphManager.defaultOption&&(c=this._transformPalette.initOptions(this._graphManager.defaultOption,!0,"undefined"!=typeof b.base,a));this._transformPalette.initObject(a);c?this._showTransformPalette():this._hideTransformPalette()}else this._hideTransformPalette()},postCreate:function(){this.inherited(arguments);this._graphManager.setDisableEdit(!this.editable)},startup:function(){this._started||(this.inherited(arguments),this.initializeChildren(),this.statusPanel.setGraph(this.getGraph()),this.getGraph().on("graphZoomed",
r.hitch(this,this.graphZoomed)),this.initGraphControl(this._graphControlData),this._graphControlData.isInDijitViewer&&(this.getGraph().graphHasInteractions()&&K.showNativeInteractionDialog(this.getGraph().interactionsOptions,this.getGraph().id),this.getGraph().graphHasDataGraph()&&M.showNativeDataGrapherDialog(this.getGraph().dataGraphOptions,this.getGraph().id)),this._graph&&(this._accLabel=h.create("span",{"class":"eqAccessibleLabel",innerHTML:this._graph.altText?this._graph.altText:this._graph.hasSdGrapher?
"interactive graph":"x y graph"}),h.place(this._accLabel,this.domNode,"after")))},initializeChildren:function(){if(this.loadFromJson){if(this.params.graph&&this.params.graph.config){this.params.graph.config.loadFromJson=!0;for(var a=v.byId(this.params.graph.config.id);a;)this.params.graph.config.id+="_new",a=v.byId(this.params.graph.config.id);this._graph=new w(this.params.graph.config);this._graph._graphControl=this;h.place(this._graph.domNode,this.containerNode);this._graph.startup();this._graphManager.setFactory(x);
this._graphManager.setGraph(this._graph)}}else{var a=this.getChildren(),b=this;c.forEach(a,function(a){a.isInstanceOf(w)&&(a.startup(),b._graph=a,b._graphManager.setFactory(x),b._graphManager.setGraph(a),a._graphControl=b)})}},setSize:function(a,c){b.setMarginBox(this._graph.domNode,{w:a,h:c});this._graph.reset()},updateControlState:function(){},getGraphManager:function(){return this._graphManager},animatePlotAction:function(a){return P.animatePlotAction(a)},markerValueChange:function(a){return P.markerValueChange(a)},
reset:function(a){return P.reset(a)},plotDataGraph:function(a){return I.plot(a)},resetDataGraph:function(a){return I.reset(a)},getGraph:function(){return this._graph},doOkZoomed:function(a){this.getGraph().doOkZoomed(a)},destroy:function(){this._palette&&(this._palette.destroyRecursive(),this._palette=null);this._graphManager&&(this._graphManager.destroy(),this._graphManager=null);this._destroyTransformPalette();this.inherited(arguments)},_options:null,initGraphControl:function(a){var b=this.getGraphManager();
this._options=r.clone(a);!this._initdrawnObjects&&a.predrawnObjects&&(this._initdrawnObjects=r.clone(a.predrawnObjects));this._toolButtons=a.toolButtons;this.enabled=a.enabled;this.editable=a.editable;b.setDisableDeSelectOnReturn(a.disableDeSelectOnReturn);b.hidePointLines=a.hidePointLines;b.hidePointValues=a.hidePointValues;b.setObjectLabels(a.objectLabels);b.setRequireLabels(a.requireLabels);b.setFormulaLabels(a.formulaLabels);"undefined"!==typeof a.showPoints&&(b.showPoints=a.showPoints);"undefined"!==
typeof a.drawExtendedLines&&(O.drawLinesExtended=a.drawExtendedLines);b.setSnapOptions(a.snapOptions);b._snapX=a.snapX;b._snapY=a.snapY;b.resetSnapInterval();b.setAllowTypedCoordinates(a.allowTypedCoordinates);this.statusPanel.setShowCoords(this.editable);this.statusPanel.allowEditCoords=a.allowTypedCoordinates;b.transformOptions=a.transformOptions;b.defaultOption=null;for(var c in b.transformOptions){var d=b.transformOptions[c];d.isDefault&&(b.defaultOption=d)}this.initGraphObjects(a);a.predrawnObjects&&
(this._predrawnObjects=a.predrawnObjects);a.toolType&&this.editable&&b.setToolType(a.toolType)},setStatusPanelVisiblity:function(b){b?a.remove(this.statusPanel.domNode,"hidden"):a.add(this.statusPanel.domNode,"hidden")},graphZoomed:function(a){var b=a.zoomedGraph.getGraphControl();this._options.graphObjects=r.clone(this.getGraphManager().getGraphObjectsData(!0));this._options.tag="copy";b.initGraphControl(this._options);this.editable&&b.getGraphManager().setToolType(this.getGraphManager().getToolType());
a.zoomedGraph.on("okZoomed",r.hitch(this,this.okZoomed))},okZoomed:function(a){var b=a.graph.getGraphControl();this._options.graphObjects=a.zoomedGraph.getGraphControl().getGraphManager().getGraphObjectsData();b.initGraphControl(this._options);this.editable&&b.getGraphManager().setToolType(a.zoomedGraph.getGraphControl().getGraphManager().getToolType());b.getGraph().validateGraph();this.editable&&b.getGraphManager().doObjectChanged();this.doOkZoomed(a.graph)},updateGraphObjects:function(a){this.initGraphObjects({graphObjects:a,
editable:!0})},initGraphObjects:function(a){r.mixin(this._options,a);var b=this.getGraphManager();b.editable=this.editable;a.clearPoints?b.clearGraphPoints():b.clearGraphObjects();(this.editable=a.editable)&&!a.isReact?this._createPalette(a.toolType):this._destroyPalette();b.setDisableEdit(!this.editable);a.readOnlyObjects&&b.initGraphObjects(a.readOnlyObjects,2);a.graphObjects&&b.initGraphObjects(a.graphObjects,a.tag);this.getGraph().validateGraph()},clear:function(){var a=this;this._palette.sendToBack();
this._transformPalette&&this._transformPalette.sendToBack();H.displayText(d["grpal.clear_confirm"],d["grpal.clear_confirm_title"],[H.BUTTON.OK,H.BUTTON.CANCEL],"300px").then(function(b){b&&b.command==H.BUTTON.OK.command&&(a.getGraphManager().clearGraphObjects(),a._predrawnObjects&&(a._initdrawnObjects&&(b=r.clone(a._initdrawnObjects),c.forEach(b,function(b,c){r.mixin(a._predrawnObjects[c].points,b.points)})),a.getGraphManager().initGraphObjects(a._predrawnObjects)),a.getGraphManager().doObjectChanged());
a._palette.sendToFront();a._transformPalette&&a._transformPalette.sendToFront()})},getPalette:function(){return this._palette},getTransformPalette:function(){return this._transformPalette},getInputData:function(){var a={};this._graphControlData.isInDijitViewer&&(this.getGraph().graphHasInteractions()?(a.dialogControls=K.interactionscontrols,a.graphObjectsParams=this._graph.getGraphObjectParams(!0)):this.getGraph().graphHasDataGraph()?(a.dialogControls=M.datagraphcontrols,a.graphObjectsParams=this._graph.getGraphObjectParams(!0)):
a.graphObjects=this._graph.getGraphData(!0));return a},setInputData:function(a){this._graphControlData.isInDijitViewer&&(this.getGraph().graphHasInteractions()?(K.setDialogControlsData(a.dialogControls),this._graph.setGraphData(a.graphObjectsParams)):this.getGraph().graphHasDataGraph()?(M.setDialogControlsData(a.dialogControls),this._graph.setGraphData(a.graphObjectsParams)):Array.isArray(a)?this._graph.setInputData(a):"cursor"===a.type&&this._drawStaticCursor(a))},_drawStaticCursor:function(a){this._staticCursor&&
(this._graph.removePart(this._staticCursor),this._staticCursor.destroy(),this._staticCursor=null);this._staticCursor=new E({_graph:this._graph,symbolColor:"#19a6a4",symbolBackground:"#19a6a4",symbol:D.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:6,x:a.x,y:a.y,isCorrect:!1});this._staticCursor.setTag(-1);this._graph.addPart(this._staticCursor);this._graph.draw()},getControlData:function(){return this._graphControlData},setDisableInteractionDialog:function(a){return this.getGraph().setDisableInteractionDialog(a)}})})},
"dojox/gfx/registry":function(){define(["dojo/has","./shape"],function(l,m){l.add("gfxRegistry",1);var k={},f={},e={};k.register=m.register=function(d){var k=d.declaredClass.split(".").pop(),c=k in f?++f[k]:f[k]=0,k=k+c;e[k]=d;return k};k.byId=m.byId=function(d){return e[d]};k.dispose=m.dispose=function(d,f){if(f&&d.children)for(var c=0;c<d.children.length;++c)k.dispose(d.children[c],!0);c=d.getUID();e[c]=null;delete e[c]};return k})},"xl/editgraph/GraphObjectFactory":function(){define("dojo/_base/declare xl/editgraph/GraphCursor xl/editgraph/LineGraphTool xl/editgraph/AsymptoteGraphTool xl/editgraph/SelectionTool xl/editgraph/AbsGraphTool xl/editgraph/ParabolaGraphTool xl/editgraph/ArrowLineGraphTool xl/editgraph/DblArrowLineGraphTool xl/editgraph/Curve3GraphTool xl/editgraph/PolylineGraphTool xl/editgraph/CircleGraphTool xl/editgraph/RectangleGraphTool xl/editgraph/TriangleGraphTool xl/editgraph/PolygonGraphTool xl/editgraph/Curve4GraphTool xl/editgraph/PointGraphTool xl/editgraph/HoleGraphTool xl/editgraph/CubicGraphTool xl/editgraph/QuadraticGraphTool xl/editgraph/RegionGraphTool xl/editgraph/XSquaredGraphTool xl/editgraph/XCubedGraphTool xl/editgraph/LogGraphTool xl/editgraph/ExpGraphTool xl/editgraph/SineGraphTool xl/editgraph/CosineGraphTool xl/editgraph/TextGraphTool xl/editgraph/GraphLineObject xl/editgraph/GraphAsymptoteObject xl/editgraph/GraphAbsObject xl/editgraph/GraphHandle xl/editgraph/GraphParabolaObject xl/editgraph/GraphArrowLineObject xl/editgraph/GraphDblArrowLineObject xl/editgraph/GraphCurve3Object xl/editgraph/GraphPolylineObject xl/editgraph/GraphCircleObject xl/editgraph/GraphRectangleObject xl/editgraph/GraphTriangleObject xl/editgraph/GraphPolygonObject xl/editgraph/GraphCurveXObject xl/editgraph/GraphPointObject xl/editgraph/GraphHoleObject xl/editgraph/GraphCubicObject xl/editgraph/GraphQuadraticObject xl/editgraph/GraphRegionObject xl/editgraph/GraphXSquaredObject xl/editgraph/GraphXCubedObject xl/editgraph/GraphLogObject xl/editgraph/GraphExpObject xl/editgraph/GraphSineObject xl/editgraph/GraphCosineObject xl/editgraph/GraphObjectLabel xl/editgraph/GraphTextObject xl/editgraph/enums xl/editgraph/GraphSettings xl/util/localization!html5player/graphmanager".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O,H,K,M,P,I,L,Q,W,R,T,U,Y,ca,V,X,fa,$,aa,Z,ba,ja,la,ha,ga,ma,ea,G,da,qa){var S={handleSize:8,useCircleHandles:!0,createCursor:function(a){return new m({_graph:a})},getObjectColor:function(a){switch(a.getObjectType()){case G.GraphObjectType.POINT:return da.pointColor;case G.GraphObjectType.ARROW:return da.arrowColor;case G.GraphObjectType.DBLARROW:return da.doubleArrowColor;case G.GraphObjectType.REGION:return da.regionColor;case G.GraphObjectType.RECTANGLE:return da.rectangleColor;
case G.GraphObjectType.POLYGON:return da.polygonColor;default:return da.objectColor}},createTool:function(l){var m;switch(l){case G.GraphToolType.SELECT:m=new e;break;case G.GraphToolType.LINE:m=new k;m.setExtendLine(da.drawLinesExtended);break;case G.GraphToolType.ASYMPTOTE:m=new f;break;case G.GraphToolType.ABS:m=new d;break;case G.GraphToolType.PARABOLAX:m=new n;m.setParabolaType(G.GraphParabolaType.LEFTRIGHT);break;case G.GraphToolType.PARABOLAY:m=new n;m.setParabolaType(G.GraphParabolaType.UPDOWN);
break;case G.GraphToolType.ARROW:m=new c;break;case G.GraphToolType.DBLARROW:m=new b;break;case G.GraphToolType.CURVE3:m=new a;break;case G.GraphToolType.POLYLINE:m=new s;break;case G.GraphToolType.CIRCLE:m=new r;break;case G.GraphToolType.RECTANGLE:m=new t;break;case G.GraphToolType.TRIANGLE:m=new h;break;case G.GraphToolType.POLYGON:m=new q;break;case G.GraphToolType.CURVE4:m=new u;break;case G.GraphToolType.POINT:m=new v;break;case G.GraphToolType.HOLE:m=new w;break;case G.GraphToolType.CUBIC:m=
new x;break;case G.GraphToolType.QUADRATIC:m=new A;break;case G.GraphToolType.REGION:m=new z;break;case G.GraphToolType.XSQUARED:m=new C;break;case G.GraphToolType.XCUBED:m=new F;break;case G.GraphToolType.LOG:m=new B;break;case G.GraphToolType.EXP:m=new D;break;case G.GraphToolType.SINE:m=new E;break;case G.GraphToolType.COSINE:m=new J;break;case G.GraphToolType.TEXT:m=new N}return m},createObject:function(a,b){var c;switch(b){case G.GraphObjectType.LINE:c=new O;c.setGraph(a);c.setExtendLine(da.drawLinesExtended);
break;case G.GraphObjectType.ASYMPTOTE:c=new H;c.setGraph(a);break;case G.GraphObjectType.ABS:c=new K;c.setGraph(a);break;case G.GraphObjectType.PARABOLAX:c=new P;c.setGraph(a);c.setParabolaType(G.GraphParabolaType.LEFTRIGHT);break;case G.GraphObjectType.PARABOLAY:c=new P;c.setGraph(a);c.setParabolaType(G.GraphParabolaType.UPDOWN);break;case G.GraphObjectType.ARROW:c=new I;c.setGraph(a);break;case G.GraphObjectType.DBLARROW:c=new L;c.setGraph(a);break;case G.GraphObjectType.CURVE3:c=new Q;c.setGraph(a);
break;case G.GraphObjectType.POLYLINE:c=new W;c.setGraph(a);break;case G.GraphObjectType.CIRCLE:c=new R;c.setGraph(a);break;case G.GraphObjectType.RECTANGLE:c=new T;c.setGraph(a);break;case G.GraphObjectType.TRIANGLE:c=new U;c.setGraph(a);break;case G.GraphObjectType.POLYGON:c=new Y;c.setGraph(a);break;case G.GraphObjectType.CURVEX:c=new ca;c.setGraph(a);break;case G.GraphObjectType.POINT:c=new V;c.setGraph(a);c.setDrawLines(da.drawLinesWithPoints);c.setDrawValues(da.drawValuesWithPoints);break;case G.GraphObjectType.HOLE:c=
new X;c.setGraph(a);c.setDrawLines(!1);c.setDrawValues(!1);break;case G.GraphObjectType.CUBIC:c=new fa;c.setGraph(a);break;case G.GraphObjectType.QUADRATIC:c=new $;c.setGraph(a);break;case G.GraphObjectType.REGION:c=new aa;c.setGraph(a);break;case G.GraphObjectType.XSQUARED:c=new Z;c.setGraph(a);break;case G.GraphObjectType.XCUBED:c=new ba;c.setGraph(a);break;case G.GraphObjectType.LOG:c=new ja;c.setGraph(a);break;case G.GraphObjectType.EXP:c=new la;c.setGraph(a);break;case G.GraphObjectType.SINE:c=
new ha;c.setGraph(a);break;case G.GraphObjectType.COSINE:c=new ga;c.setGraph(a);break;case G.GraphObjectType.TEXT:c=new ea;c.setGraph(a);break;default:return}c&&c.getGraphPart().setTag(-1);return c},getToolColor:function(a){switch(a){case G.GraphToolType.POINT:return da.pointToolColor;case G.GraphToolType.ARROW:case G.GraphToolType.DBLARROW:return da.arrowToolColor;case G.GraphToolType.REGION:return da.regionToolColor;default:return da.toolColor}},createObjectHandle:function(a,b){var c=new M({_graph:a.getGraph(),
_group:a,handleSize:S.handleSize});c.startup();(b===G.GraphObjectType.POINT||S.useCircleHandles)&&c.setCircle(!0);b===G.GraphObjectType.REGION&&c.setInvisible(!0);return c},getString:function(a){var b=qa[a];null==b&&console.log("Resource "+a+" not found in resource bundle");return b},getMessage:function(a){switch(a){case G.GraphToolTypeMessage.NONE:a=S.getString("sdg.none");break;case G.GraphToolTypeMessage.DRAWLINE1:a=S.getString("sdg.draw_line1");break;case G.GraphToolTypeMessage.DRAWLINE2:a=S.getString("sdg.draw_line2");
break;case G.GraphToolTypeMessage.SELECT:a=S.getString("sdg.select");break;case G.GraphToolTypeMessage.DRAWPARABOLA1:a=S.getString("sdg.draw_parabola1");break;case G.GraphToolTypeMessage.DRAWPARABOLA2:a=S.getString("sdg.draw_parabola2");break;case G.GraphToolTypeMessage.DRAWCIRCLE1:a=S.getString("sdg.draw_circle1");break;case G.GraphToolTypeMessage.DRAWCIRCLE2:a=S.getString("sdg.draw_circle2");break;case G.GraphToolTypeMessage.DRAWPOINT:a=S.getString("sdg.draw_point");break;case G.GraphToolTypeMessage.DRAWTRIANGLE1:a=
S.getString("sdg.draw_triangle1");break;case G.GraphToolTypeMessage.DRAWTRIANGLE2:a=S.getString("sdg.draw_triangle2");break;case G.GraphToolTypeMessage.DRAWTRIANGLE3:a=S.getString("sdg.draw_triangle3");break;case G.GraphToolTypeMessage.DRAWRECTANGLE1:a=S.getString("sdg.draw_rectangle1");break;case G.GraphToolTypeMessage.DRAWRECTANGLE2:a=S.getString("sdg.draw_rectangle2");break;case G.GraphToolTypeMessage.DRAWCURVE31:a=S.getString("sdg.draw_curve31");break;case G.GraphToolTypeMessage.DRAWCURVE32:a=
S.getString("sdg.draw_curve32");break;case G.GraphToolTypeMessage.DRAWCURVE33:a=S.getString("sdg.draw_curve33");break;case G.GraphToolTypeMessage.DRAWCURVE41:a=S.getString("sdg.draw_curve41");break;case G.GraphToolTypeMessage.DRAWCURVE42:a=S.getString("sdg.draw_curve42");break;case G.GraphToolTypeMessage.DRAWCURVE43:a=S.getString("sdg.draw_curve43");break;case G.GraphToolTypeMessage.DRAWCURVE44:a=S.getString("sdg.draw_curve44");break;case G.GraphToolTypeMessage.DRAWTEXT:a="Click the graph to insert text.";
break;case G.GraphToolTypeMessage.DRAWREGION:a=S.getString("sdg.draw_region");break;case G.GraphToolTypeMessage.DRAWPOLYGON1:a=S.getString("sdg.draw_polygon1");break;case G.GraphToolTypeMessage.DRAWPOLYGON2:a=S.getString("sdg.draw_polygon2");break;case G.GraphToolTypeMessage.DRAWPOLYGON3:a=S.getString("sdg.draw_polygon3");break;case G.GraphToolTypeMessage.DRAWPOLYGON4:a=S.getString("sdg.draw_polygon4");break;case G.GraphToolTypeMessage.DRAWPOLYLINE1:a=S.getString("sdg.draw_polyline1");break;case G.GraphToolTypeMessage.DRAWPOLYLINE2:a=
S.getString("sdg.draw_polyline2");break;case G.GraphToolTypeMessage.DRAWPOLYLINE3:a=S.getString("sdg.draw_polyline3");break;case G.GraphToolTypeMessage.DRAWPOLYLINE4:a=S.getString("sdg.draw_polyline4");break;case G.GraphToolTypeMessage.DRAWPOLYLINE4_MOBILE:a=S.getString("sdg.draw_polyline4_mobile");break;case G.GraphToolTypeMessage.WARNINGUNDELETABLE:a=S.getString("sdg.undeletable");break;case G.GraphToolTypeMessage.DRAWABS1:a=S.getString("sdg.draw_abs1");break;case G.GraphToolTypeMessage.DRAWABS2:a=
S.getString("sdg.draw_abs2");break;case G.GraphToolTypeMessage.DRAWPOLYNOM1:a=S.getString("sdg.draw_polynom1");break;case G.GraphToolTypeMessage.DRAWPOLYNOM2:a=S.getString("sdg.draw_polynom2");break;case G.GraphToolTypeMessage.DRAWPOLYNOM3:a=S.getString("sdg.draw_polynom3");break;case G.GraphToolTypeMessage.DRAWPOLYNOMLAST:a=S.getString("sdg.draw_polynom_last");break;case G.GraphToolTypeMessage.DRAWTRANSFORMATION1:a=S.getString("sdg.draw_transformation");break;default:a=""}return a}};return S})},
"xl/editgraph/GraphCursor":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/_base/connect xl/grapher/IPGraphShapeBlob dojox/gfx/Moveable dojo/dnd/move xl/grapher/Point xl/grapher/enums xl/util/graphUtils xl/util/IPMath xl/grapher/BlobMover dojo/has".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t){return l("xl.editgraph.GraphCursor",[e],{_onDraw:null,_select:!1,_cursor:null,constructor:function(a){this.setVisible(!1)},postCreate:function(){this._graph.addBlob(this,!1);this._graph.setTrackBlob(this)},
getSelect:function(){return this._select},setSelect:function(a){this._select=a;this.updateSize()},drawBlob:function(a,b){null!=this._onDraw&&this._onDraw(this,a,this.getLocationX(),this.getLocationY());this.emit("cursorDraw",{cursor:this,surface:a,x:this.getLocationX(),y:this.getLocationY()});!this._select&&!(t("mobile")&&0<=this.id.indexOf("GraphCursor"))&&this.drawCursor(a,b)},drawCursor:function(b,c){if(!this._cursor||!this._cursor.parent)this.destroyCursor(),this._cursor=a.drawCircle(b,c.x,c.y,
this.getSize(),"#989999","#989999");this._cursor.moveToFront();this._cursor.setShape({cx:c.x,cy:c.y})},destroyCursor:function(){this._cursor&&!this._cursor.parent&&this._cursor.destroy()},getBlobBoundaries:function(a,b,c,d){return this.inherited(arguments,[a,b,c,d])},updateSize:function(){this.setShowVertLine(!1);this.setShowHorzLine(!1);this.setTrackMouse(!0);this.setStickyFocus(!0);this.setSize(3);this.getFocused()&&!this._select&&(this.setShowVertLine(!0),this.setShowHorzLine(!0));this.invalidate()},
focusGained:function(){this.updateSize();this.inherited(arguments)},focusLost:function(){this.updateSize();this.inherited(arguments)},cursorMoved:function(){}})})},"xl/editgraph/LineGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.LineGraphTool",[e],{_extendLine:!1,_startArrow:!1,_endArrow:!1,_lineObject:null,
_handle:null,_arrowStartObject:null,_arrowEndObject:null,mousePressed:function(c,b,a){2>this.getPointCount()&&!(1===this.getPointCount()&&this.getPoint(0).x===c&&this.getPoint(0).y===b)&&this.addPoint({x:c,y:b});a.value=2===this.getPointCount()},remove:function(){this._lineObject&&(this._lineObject.destroy(),this._lineObject=null);this._arrowStartObject&&(this._arrowStartObject.destroy(),this._arrowStartObject=null);this._arrowEndObject&&(this._arrowEndObject.destroy(),this._arrowEndObject=null);
this._handle&&(this._handle.destroy(),this._handle=null);this.getGraphManager().getGraph().invalidateBlobs()},draw:function(c,b,a){var d,e,k,h,l;if(1===this.getPointCount()){k=this.getPoint(0).x;h=this.getPoint(0).y;d=this.getGraphManager().getGraph().getAxisX().worldToViewF(k);e=this.getGraphManager().getGraph().getAxisY().worldToViewF(h);l=this.getGraphManager().getToolColor();if(!n.isFloatEqual(k,b)||!n.isFloatEqual(h,a))this.getExtendLine()?this._lineObject=f.drawLine(this._lineObject?this._lineObject:
c,this.getGraphManager().getGraph(),k,h,b,a,l,this.getGraphManager().getDefaultGrLineStyle(),{lineWidth:f.DEF_PLINETOOLWIDTH,alpha:f.DEF_PLINETOOLALPHA},!0):this._lineObject=f.drawSegment(this._lineObject?this._lineObject:c,this.getGraphManager().getGraph(),k,h,b,a,l,this.getGraphManager().getDefaultGrLineStyle());this.getStartArrow()&&(this._arrowStartObject=f.drawArrow(this._arrowStartObject?this._arrowStartObject:c,this.getGraphManager().getGraph(),{x:b,y:a},this.getPoint(0),l));this.getEndArrow()&&
(this._arrowEndObject=f.drawArrow(this._arrowEndObject?this._arrowEndObject:c,this.getGraphManager().getGraph(),this.getPoint(0),{x:b,y:a},l));this._handle=this.drawHandle(c,this._handle,d,e)}},makeObject:function(){var c;return 2===this.getPointCount()?(c=this.getStartArrow()&&this.getEndArrow()?this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.DBLARROW):this.getEndArrow()?this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),
d.GraphObjectType.ARROW):this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.LINE),c.addPoint(this.getPoint(0)),c.addPoint(this.getPoint(1)),c.setLineStyle(this.getGraphManager().getDefaultGrLineStyle()),c):null},getExtendLine:function(){return this._extendLine},setExtendLine:function(c){this._extendLine=c},getStartArrow:function(){return this._startArrow},setStartArrow:function(c){this._startArrow=c},getEndArrow:function(){return this._endArrow},setEndArrow:function(c){this._endArrow=
c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWLINE1);break;case 1:c=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWLINE2);break;default:c=""}return c}})})},"xl/editgraph/AbstractGraphTool":function(){define(["dojo/_base/declare","dojo/_base/lang","xl/editgraph/GraphManager","xl/editgraph/GraphObject"],function(l,m,k,f){return l("xl.editgraph.AbstractGraphTool",[],{_graphManager:null,
_points:null,useCircleHandles:!1,handleSize:null,singlePointTool:!1,multiPointTool:!1,constructor:function(e){this.clearPoints()},isActive:function(){return 1<this._points.length},addPoint:function(e){for(var d=0;d<this._points.length;d++){var f=this._points[d];if(e.x===f.x&&e.y===f.y)return}this._points.push(m.clone(e))},getPointCount:function(){return this._points.length},getPoint:function(e){return this._points.length>e?this._points[e]:null},getGraphManager:function(){return this._graphManager},
setGraphManager:function(e){this._graphManager=e},keyDown:function(e){},moveBy:function(e,d){},attach:function(e){},draw:function(e){},remove:function(){},clearPoints:function(){this._points=[]},reset:function(){this.remove();this.clearPoints()},canMakeOnRemove:function(){return!1},mousePressed:function(){},mouseReleased:function(e,d,f){var c=this.getPointCount();0<c&&(c=this.getPoint(c-1),(c.x!==e||c.y!==d)&&this.mousePressed(e,d,f))},drawHandle:function(e,d,k,c){return this.useCircleHandles?f.drawCircleHandle(e,
d,k,c,null,this.handleSize):f.drawHandle(e,d,k,c,null,this.handleSize)}})})},"xl/editgraph/AsymptoteGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.AsymptoteGraphTool",[e],{_lineObject:null,_handle:null,mousePressed:function(c,b,a){2>this.getPointCount()&&!(1===this.getPointCount()&&this.getPoint(0).x===c&&this.getPoint(0).y===
b)&&this.addPoint({x:c,y:b});a.value=2===this.getPointCount()},remove:function(){this._lineObject&&(this._lineObject.destroy(),this._lineObject=null);this._handle&&(this._handle.destroy(),this._handle=null);this.getGraphManager().getGraph().invalidateBlobs()},draw:function(c,b,a){var e,k,l,h;if(1===this.getPointCount()){l=this.getPoint(0).x;h=this.getPoint(0).y;e=this.getGraphManager().getGraph().getAxisX().worldToViewF(l);k=this.getGraphManager().getGraph().getAxisY().worldToViewF(h);if(!n.isFloatEqual(l,
b)||!n.isFloatEqual(h,a))this._lineObject=f.drawLine(this._lineObject?this._lineObject:c,this.getGraphManager().getGraph(),l,h,b,a,"black",d.GraphObjectLineStyle.DASHED,{lineWidth:f.DEF_PLINETOOLWIDTH,alpha:f.DEF_PLINETOOLALPHA},!0);this._handle=this.drawHandle(c,this._handle,e,k)}},makeObject:function(){var c;return 2===this.getPointCount()?(c=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.ASYMPTOTE),c.addPoint(this.getPoint(0)),c.addPoint(this.getPoint(1)),
c.setLineStyle(d.GraphObjectLineStyle.DASHED),c):null},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWLINE1);break;case 1:c=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWLINE2);break;default:c=""}return c}})})},"xl/editgraph/SelectionTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/GraphTransformObject xl/grapher/IPGraphBlobGroup xl/editgraph/enums xl/grapher/enums dojox/gfx/matrix xl/util/IPMath xl/player/dialogs/ConfirmationDialog".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t){return l("xl.editgraph.SelectionTool",[d],{_currentObj:null,_blobGroup:null,_labelBlobGroup:null,_moving:null,_nudging:null,_resetBlobSelection:null,_ghostLayer:null,remove:function(){this.setCurrentObj(null)},clearBlobs:function(){this._blobGroup&&(this._blobGroup.setGraph(null),this._blobGroup.destroyRecursive());this._labelBlobGroup&&this._labelBlobGroup.setGraph(null);this._labelBlobGroup=this._blobGroup=null;this.getGraphManager().clearBlobLayer()},blobMoved:function(b){var c,
d,e,f,k;if(!this._moving){this._nudging&&b.state!=a.IPGraphBlobState.KEYBOARD&&(this._nudging=!1);c=b.blob.getTag();this._currentObj&&(d={x:b.x,y:b.y},this._currentObj.constrainBlob(c,d),b.x=d.x,b.y=d.y);if(0<=c&&this._currentObj.getTranslationPoint()==c){f=this._currentObj.getPoint(1).x;k=this._currentObj.getPoint(1).y;d=f-this._currentObj.getPoint(0).x;e=k-this._currentObj.getPoint(0).y;var l=this._blobGroup.getBlob(1);l.move(b.x+d,b.y+e,b.state,!0);d=l.getLocationX()-f;e=l.getLocationY()-k;b.x=
this._currentObj.getPoint(0).x+d;b.y=this._currentObj.getPoint(0).y+e}if((b.state==a.IPGraphBlobState.UP||b.state==a.IPGraphBlobState.KEYBOARD)&&0<=c&&this._currentObj&&this.canMove(this._currentObj))(d=this._currentObj.getObjLabel())&&d.getRefPoint()==c&&d.setLocation({x:b.x,y:b.y}),this._currentObj.movePoint(c,{x:b.x,y:b.y}),this._currentObj.getGraphPart().invalidate(),this._blobGroup.invalidate(),0<this.getGraphManager().getGraph().getRegionList().length&&(this.getGraphManager().getGraph().invalidateRegions(),
this.getGraphManager().getGraph().invalidatePlots()),this.getGraphManager().getGraph().validateGraph(),this.getGraphManager().doObjectChanged();b.blob.getFocused()&&this.getGraphManager().doCursorMoved({x:b.x,y:b.y})}},labelBlobMoved:function(a){var b,c,d,f,k;k=this.getGraph();b=this.getGraphObject().getPoint(0);c=0;f=e.getPointDistance(k,this.getCenterX(),this.getCenterY(),b);for(d=1;d<this.getGraphObject().getPointCount();d++)b=this.getGraphObject().getPoint(d),b=e.getPointDistance(k,this.getCenterX(),
this.getCenterY(),b),b<f&&(c=d,f=b);this.setRefPoint(c);b=this.getGraphObject().getPoint(c);this.setLocation(b);this.setDx(a.x-b.x);this.setDy(a.y-b.y);this.setPositionSet(!0)},_focusedBlob:null,blobFocusChanged:function(a){this._resetBlobSelection=!0;a.blob.getFocused()?(this._focusedBlob=a.blob,this.getGraphManager().doCursorMoved({x:a.blob.getLocationX(),y:a.blob.getLocationY()})):(this._focusedBlob=null,this.getGraphManager().doCursorMoved(null));this.getGraphManager().emit("blobFocusChanged",
a)},blobDraw:function(a,b){var c,d,e;if(this._currentObj&&this._blobGroup){e=this._blobGroup.getBlobCount();c=[];for(d=0;d<e;d++)c[d]={x:this._blobGroup.getBlob(d).getLocationX(),y:this._blobGroup.getBlob(d).getLocationY()};this._currentObj.drawGhost(b,c,this.getGraphManager().getToolColor())}},getCurrentObj:function(){return this._currentObj},setCurrentObj:function(b){var d,e;if(b){if(b!=this._currentObj)if(b.canSelect(this.getGraphManager())){this._currentObj&&this._currentObj.deselect();this._currentObj=
b;this.getGraphManager().getGraph().selectedObj=this._currentObj;this._nudging=this._moving=!1;this.clearBlobs();this._blobGroup=new c;this._blobGroup.setGraph(this.getGraphManager().getGraph());this._blobGroup.onDraw=m.hitch(this,this.blobDraw);this._currentObj.initSelection(this._blobGroup);for(d=0;d<b.getPointCount();d++)e=this.getGraphManager().getFactory().createObjectHandle(this._blobGroup,this._currentObj.getObjectType(),this.tapSelection),e.setDisableRedraw(!0),e.on(a.IPGraphBlobEvent.BLOB_FOCUS_GAINED,
m.hitch(this,this.blobFocusChanged)),e.on(a.IPGraphBlobEvent.BLOB_FOCUS_LOST,m.hitch(this,this.blobFocusChanged)),e.setLocation(b.getPoint(d).x,b.getPoint(d).y,!0),e.on(a.IPGraphBlobEvent.BLOB_MOVED,m.hitch(this,this.blobMoved)),e.setVisible(!0),e.setTag(d),e.setSnapIntervalX(this.getGraphManager().getBlobSnapX()),e.setSnapIntervalY(this.getGraphManager().getBlobSnapY()),e.setSnapToTicks(!0),e.setCanMove(this.canMove(b)),e.setDisableRedraw(!1),1==b.getPointCount()?(e.setFocused(!0),this.getGraphManager().doCursorMoved({x:e.getLocationX(),
y:e.getLocationY()})):this.getGraphManager().doCursorMoved(null);this._currentObj.getObjLabel()&&(this._currentObj.getObjLabel().allowMove=!0,this._currentObj.getObjLabel().on(a.IPGraphBlobEvent.BLOB_MOVED,this.labelBlobMoved));this._currentObj.getGraphPart().invalidate();this.getGraphManager().getGraph().invalidatePlots()}else this._currentObj&&this._currentObj.deselect(),this._currentObj=null,this.getGraphManager().getGraph().selectedObj=null,this.getGraphManager().doCursorMoved(null),this.clearBlobs()}else this._currentObj&&
this._currentObj.deselect(),this._currentObj=null,this.getGraphManager().getGraph().selectedObj=null,this.clearBlobs();this.getGraphManager().emit("currentobjectchanged",{currentObj:this._currentObj});this.getGraphManager().getGraph().invalidateRegions();this.getGraphManager().doObjectSelectionChanged();this.getGraphManager().getGraph().validateGraph()},nudge:function(b,c){var d,e,f;if(!this.getCurrentObj()||!this._blobGroup||!this.canMove(this.getCurrentObj()))return!1;this._nudging=!0;var k=this._blobGroup.getBlobCount();
e=[k];f=!0;for(d=0;d<k;d++){var l=this._blobGroup.getBlob(d);e[d]={x:l.getLocationX(),y:l.getLocationY()};l.nudge(b,c,!0);r.sameValue(e[d].x,l.getLocationX())&&r.sameValue(e[d].y,l.getLocationY())&&(f=!1)}if(!f)for(d=0;d<k;d++)this._blobGroup.getBlob(d).move(e[d].x,e[d].y,a.IPGraphBlobState.KEYBOARD,!1,!0);return!0},deleteObject:function(){var a,c;if(this.getCurrentObj()&&this._blobGroup){if(this.getCurrentObj().getUndeletable())return t.displayText(this.getGraphManager().getFactory().getMessage(b.GraphToolTypeMessage.WARNINGUNDELETABLE),
"",[t.BUTTON.OK],"300px"),!1;this.getCurrentObj().deletePoint&&this._focusedBlob&&2<this.getCurrentObj().getPointCount()?(a=this.getCurrentObj().deletePoint(this._focusedBlob),c=this.getCurrentObj().getObjLabel(),this._blobGroup.removeChild(this._focusedBlob),this._focusedBlob=null,c&&c.getRefPoint()>=a&&c.setRefPoint(c.getRefPoint()-1),this.getGraphManager().getGraph().invalidateGraph()):(this.clearBlobs(),c=this.getGraphManager().getGraphObjectPos(this._currentObj),a=this._currentObj.getGraphPart(),
this._currentObj=null,a.setGraph(null),c=Math.min(c,this.getGraphManager().getGraphObjectCount()-1),0<=c&&this.setCurrentObj(this.getGraphManager().getGraphObject(c)),this.getGraphManager().doUpdateMessage(),this.getGraphManager().doObjectChanged(),this._currentObj||this.getGraphManager().doObjectSelectionChanged())}},mousePressed:function(a,b,c){this._resetBlobSelection=!0;(c=this.getGraphManager().findObjectAt(a,b))&&c.mousePressed(a,b);c!=this._currentObj?this.setCurrentObj(c):this.getGraphManager().startEditing(c)},
attach:function(a){this.setCurrentObj(a)},getMessage:function(){return null==this.getCurrentObj()?this.getGraphManager().getFactory().getMessage(b.GraphToolTypeMessage.SELECT):this.getCurrentObj().getObjectType()==b.GraphObjectType.TEXT?this.getGraphManager().getFactory().getString("sdg.text_selected"):this.getCurrentObj()instanceof n?this.getGraphManager().getFactory().getString("sdg.transform_selected"):this.getGraphManager().getFactory().getString("sdg.object_selected")},updateObject:function(){var a,
b;if(this._currentObj&&this._currentObj.getPointCount()<=this._blobGroup.getBlobCount()){b=this._blobGroup.getBlobCount();var c={};for(a=0;a<b;a++){var d=this._blobGroup.getBlob(a);c.x=d.getLocationX();c.y=d.getLocationY();(d=this._currentObj.getObjLabel())&&d.getRefPoint()==a&&d.setLocation(m.clone(c));this._currentObj.movePoint(a,c)}0<this.getGraphManager().getGraph().getRegionList().length&&this.getGraphManager().getGraph().invalidateRegions();this._currentObj.getGraphPart().invalidate()}},keyDown:function(a){var b;
if(a.keyCode==k.DELETE)this.getGraphManager().getGraph().isObjectDeleting=!0,this.clearObject(),this.getGraphManager().getGraph().validateGraph(),a.stopPropagation(),a.preventDefault();else{var c=!1;if(null==this.getGraphManager().getGraph().getFocusBlob())switch(a.keyCode){case k.UP_ARROW:c=this.nudge(0,1);break;case k.DOWN_ARROW:c=this.nudge(0,-1);break;case k.LEFT_ARROW:c=this.nudge(-1,0);break;case k.RIGHT_ARROW:c=this.nudge(1,0);break;case k.ENTER:this.getGraphManager().getDisableDeSelectOnReturn()||
(c=!0,this.setCurrentObj(null))}else if(a.keyCode==k.ENTER&&(b=this.getCurrentObj())&&!this.getGraphManager().getDisableDeSelectOnReturn())this.setCurrentObj(null),this.setCurrentObj(b),c=!0;c&&(a.stopPropagation(),a.preventDefault())}},moveBy:function(a,b){var c,d,e,f=!1,k=!1,l,n,m,s;if(this._currentObj){m=this._blobGroup.getBlobCount();this._blobGroup.setDisableRedraw(!0);try{e=[m];for(c=0;c<m;c++)s=this._blobGroup.getBlob(c),e[c]={x:s.getLocationX(),y:s.getLocationY()};f=!0;for(c=0;c<m;c++)d=this._currentObj.getPoint(c),
l=d.x+a,n=e[c].y,s=this._blobGroup.getBlob(c),s.move(l,n),r.sameValue(e[c].x,s.getLocationX())&&(f=!1);if(!f)for(c=0;c<m;c++)s=this._blobGroup.getBlob(c),s.move(e[c].x,s.getLocationY());k=!0;for(c=0;c<m;c++)d=this._currentObj.getPoint(c),s=this._blobGroup.getBlob(c),l=s.getLocationX(),n=d.y+b,s.move(l,n),r.sameValue(e[c].y,s.getLocationY())&&(k=!1);if(!k)for(c=0;c<m;c++)s=this._blobGroup.getBlob(c),s.move(s.getLocationX(),e[c].y)}finally{this._blobGroup.setDisableRedraw(!1),(f||k)&&this._blobGroup.redraw()}}},
getObject:function(){return this._currentObj},clearObject:function(){this.deleteObject();0==this.getGraphManager().getGraphObjectCount()&&this.getGraphManager().getToolType()==b.GraphToolType.SELECT&&this.getGraphManager().setToolType(b.GraphToolType.NONE)},canMove:function(a){return a.getCanMove()||a.getUndeletable()&&!a.getIsStatic()},updateSelection:function(){this._blobGroup&&this._blobGroup.invalidate()}})})},"xl/grapher/IPGraphBlobGroup":function(){define(["dojo/_base/declare","xl/grapher/IPGraphBlob"],
function(l,m){return l("xl.grapher.IPGraphBlobGroup",[m],{_blobList:null,_focusBlob:null,onDraw:null,_drawLayer:null,disallowSamePositionBlobs:!0,disallowSameXBlobs:!1,destroyRecursive:function(k){if(this._blobList)for(var f=0;f<this._blobList.length;f++)this._blobList[f].destroy(),this._blobList[f]=null;this._focusBlob&&(this._focusBlob.destroyRecursive(),this._focusBlob=null);this.inherited(arguments)},clear:function(){for(var k=0;k<this._blobList.length;k++)this.getGraph().removePart(this._blobList[k])},
constructor:function(k){this._blobList=[]},getBlobCount:function(){return this._blobList.length},getBlob:function(k){return this._blobList[k]},addChild:function(k){k.isInstanceOf(m)&&this._blobList.push(k);return k},addChildAt:function(k,f){k.isInstanceOf(m)&&this._blobList.push(k)},removeChild:function(k){k.isInstanceOf(m)&&(k=this._blobList.indexOf(k),this._blobList.splice(k,1))},removeChildAt:function(k){this._blobList.splice(k,1)},setVisible:function(k){this.visible=k;for(var f=0;f<this.getBlobCount();f++)this.getBlob(f).setVisible(k)},
draw:function(k,f,e){if(this.onDraw)this.onDraw(this,k);for(var d=0;d<this._blobList.length;d++)this._blobList[d].draw(k,f,e)},isUnderPoint:function(k,f){for(var e=null,d=Number.MAX_VALUE,l=0;l<this.getBlobCount();l++){var c=this.getBlob(l).isUnderPoint(k,f);c&&c.distance<d&&(e=c)}return e}})})},"xl/editgraph/AbsGraphTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/grapher/IPGraphBlobGroup xl/editgraph/enums xl/grapher/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s){return l("xl.editgraph.AbsGraphTool",[d],{_handle:null,_drawObject:null,mousePressed:function(a,b,c){2>this.getPointCount()&&this.addPoint({x:a,y:b});c.value=2===this.getPointCount()},remove:function(){this._drawObject&&(this._drawObject[0].destroy(),this._drawObject[1].destroy(),this._drawObject=null);this._handle&&(this._handle=null);this.getGraphManager().getGraph().invalidateBlobs()},draw:function(a,b,c){var d,f;this.inherited(arguments);if(1===this.getPointCount()){f=
this.getPoint(0);if(!s.isFloatEqual(f.x,b)||!s.isFloatEqual(f.y,c))this._drawObject=e.drawAbs(this._drawObject?this._drawObject:a,this.getGraphManager().getGraph(),f.x,f.y,b,c,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle(),e.DEF_PLINETOOLWIDTH,e.DEF_PLINETOOLALPHA);d=this.getGraphManager().getGraph().getAxisX().worldToViewF(f.x);f=this.getGraphManager().getGraph().getAxisY().worldToViewF(f.y);this._handle=e.drawHandle(a,this._handle,d,f)}},makeObject:function(){var a;
a=null;2===this.getPointCount()&&(a=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),c.GraphObjectType.ABS),a.addPoint(this.getPoint(0)),a.addPoint(this.getPoint(1)));return a},getMessage:function(){var a;switch(this.getPointCount()){case 0:a=this.getGraphManager().getFactory().getMessage(c.GraphToolTypeMessage.DRAWABS1);break;case 1:a=this.getGraphManager().getFactory().getMessage(c.GraphToolTypeMessage.DRAWABS2);break;default:a=""}return a}})})},"xl/editgraph/ParabolaGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums dojox/gfx/matrix".split(" "),
function(l,m,k,f,e,d,n){return l("xl.editgraph.LineGraphTool",[e],{_parabolaType:null,_handle:null,_drawObject:null,getParabolaType:function(){return this._parabolaType},setParabolaType:function(c){this._parabolaType=c},remove:function(){this._drawObject&&(this._drawObject.destroy(),this._drawObject=null);this._handle&&(this._handle=null);this.getGraphManager().getGraph().invalidateBlobs()},mousePressed:function(c,b,a){2>this.getPointCount()&&this.addPoint({x:c,y:b});a.value=2==this.getPointCount()},
draw:function(c,b,a){var d,e;this.inherited(arguments);1==this.getPointCount()&&(e=this.getPoint(0),this._drawObject=f.drawParabola(this._drawObject?this._drawObject:c,this.getGraphManager().getGraph(),e.x,e.y,b,a,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle(),this.getParabolaType(),f.DEF_PLINETOOLWIDTH,f.DEF_PLINETOOLALPHA),d=this.getGraphManager().getGraph().getAxisX().worldToViewF(e.x),e=this.getGraphManager().getGraph().getAxisY().worldToViewF(e.y),this._handle=
f.drawHandle(c,this._handle,d,e))},makeObject:function(){var c;c=null;2==this.getPointCount()&&(c=this.getParabolaType()==d.GraphParabolaType.UPDOWN?this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.PARABOLAY):this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.PARABOLAX),c.addPoint(this.getPoint(0)),c.addPoint(this.getPoint(1)));return c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=
this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWPARABOLA1);break;case 1:c=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWPARABOLA2);break;default:c=""}return c}})})},"xl/editgraph/ArrowLineGraphTool":function(){define(["dojo/_base/declare","dojo/_base/lang","xl/editgraph/GraphManager","xl/editgraph/GraphObject","xl/editgraph/LineGraphTool"],function(l,m,k,f,e){return l("xl.editgraph.ArrowLineGraphTool",[e],{constructor:function(d){this.setExtendLine(!1);
this.setStartArrow(!1);this.setEndArrow(!0)}})})},"xl/editgraph/DblArrowLineGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/LineGraphTool"],function(l,m){return l("xl.editgraph.DblArrowLineGraphTool",[m],{constructor:function(k){this.setExtendLine(!1);this.setStartArrow(!0);this.setEndArrow(!0)}})})},"xl/editgraph/Curve3GraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(l,m,k,f,e,d,n,c){return l("xl.editgraph.Curve3GraphTool",[e],{_segmentObject:null,_segmentObject2:null,_curveObject:null,_handles:null,multiPointTool:!0,constructor:function(b){this._handles=Array(3)},mousePressed:function(b,a,c){3>this.getPointCount()&&this.addPoint({x:b,y:a});c.value=3===this.getPointCount()},draw:function(b,a,d){var e,k,h;this.inherited(arguments);if(0<this.getPointCount()){if(1===this.getPointCount())this._segmentObject=f.drawSegment(this._segmentObject||b,this.getGraphManager().getGraph(),
this.getPoint(0).x,this.getPoint(0).y,a,d,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle());else{if(2===this.getPointCount()&&(!c.sameValue(this.getPoint(1).x,a)||!c.sameValue(this.getPoint(1).y,d)))this._segmentObject&&(this._segmentObject.removeShape(),this._segmentObject.destroy(),this._segmentObject=null),this.getGraphManager().getGraph().validateGraph();if(c.sameValue(this.getPoint(0).x,a)&&c.sameValue(this.getPoint(0).y,d)||c.sameValue(this.getPoint(1).x,
a)&&c.sameValue(this.getPoint(1).y,d))this._segmentObject2=f.drawSegment(this._segmentObject2||b,this.getGraphManager().getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle());else{this._segmentObject2&&(this._segmentObject2.removeShape(),this._segmentObject2.destroy(),this._segmentObject2=null);e=Array(3);for(h=0;2>h;h++)e[h]=m.clone(this.getPoint(h));e[2]={x:a,y:d};this._curveObject&&
!this._curveObject.parent&&(this._curveObject=null);this._curveObject=f.drawCurve3(this._curveObject||b,this.getGraphManager().getGraph(),e,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle());this._curveObject.clip||(h=this.getGraphManager().getGraph().getPlotRect(),this._curveObject.setClip({x:h.left,y:h.top,width:h.getWidth(),height:h.getHeight()}))}}for(h=0;h<this.getPointCount();h++)e=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(h).x),
k=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(h).y),this._handles[h]=f.drawHandle(b,this._handles[h],e,k)}},remove:function(){this._segmentObject&&(this._segmentObject.destroy(),this._segmentObject=null);this._segmentObject2&&(this._segmentObject2.destroy(),this._segmentObject2=null);this._curveObject&&(this._curveObject.destroy(),this._curveObject=null);if(this._handles&&0<this._handles.length)for(var b=0;b<this._handles.length;b++)this._handles[b]&&(this._handles[b].destroy(),
this._handles[b]=null);this.inherited(arguments)},makeObject:function(){var b,a;b=null;if(3===this.getPointCount()){b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.CURVE3);for(a=0;3>a;a++)b.addPoint(this.getPoint(a))}return b},getMessage:function(){var b;switch(this.getPointCount()){case 0:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWCURVE31);break;case 1:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWCURVE32);
break;case 2:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWCURVE33);break;default:b=""}return b}})})},"xl/editgraph/PolylineGraphTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath dojo/keys dojo/has".split(" "),function(l,m,k,f,e,d,n,c,b,a,s){return l("xl.editgraph.PolylineGraphTool",[d],{_lineObjectArr:null,_handleObjectArr:null,
_objectMade:!1,multiPointTool:!0,constructor:function(a){this._lineObjectArr=[];this._handleObjectArr=[]},mousePressed:function(a,b,c){k.publish("editgraph/polylinemousepress",{pointCount:this._points.length});this.addPoint({x:a,y:b});c.value=!1},clearPoints:function(){this.inherited(arguments);this._clearSvgObjects(!0);this._lineObjectArr=[];this._handleObjectArr=[]},draw:function(a,b,c){var d;this._clearSvgObjects(!1);var f=this.getPointCount();if(0<f){var k=this.getGraphManager(),l=k.getGraph();
for(d=0;d<f-1;d++)this._lineObjectArr[d]=e.drawSegment(this._lineObjectArr[d]||a,l,this.getPoint(d+1).x,this.getPoint(d+1).y,this.getPoint(d).x,this.getPoint(d).y,k.getToolColor(),null);if(!k.tapSelection||k.activeDrag)this._lineObjectArr[f-1]=e.drawSegment(this._lineObjectArr[f-1]||a,l,this.getPoint(f-1).x,this.getPoint(f-1).y,b,c,k.getToolColor(),null);for(d=0;d<f;d++)b=l.getAxisX().worldToViewF(this.getPoint(d).x),c=l.getAxisY().worldToViewF(this.getPoint(d).y),this._handleObjectArr[d]=this.drawHandle(a,
this._handleObjectArr[d],b,c)}},initFromObject:function(a){if(a){this._clearSvgObjects(!0);this.clearPoints();for(var b=0;b<a.getPointCount();b++)this.addPoint(a.getPoint(b))}},remove:function(){this.clearPoints();this.getGraphManager().getGraph().invalidateBlobs();this._objectMade=!1},_clearSvgObjects:function(a){var b,c;if(this._lineObjectArr){b=this._lineObjectArr.length;for(c=0;c<b;c++){var d=this._lineObjectArr[c];d&&(a||null==d.parent)&&delete this._lineObjectArr[c]}}if(this._handleObjectArr){b=
this._handleObjectArr.length;for(c=0;c<b;c++)if(this._handleObjectArr[c]&&(d=this._handleObjectArr[c])&&(a||null==d.parent))d.destroy(),delete this._handleObjectArr[c]}},makeObject:function(){if(1<this.getPointCount()){for(var a=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),n.GraphObjectType.POLYLINE),b=0;b<this.getPointCount();b++)a.addPoint(this.getPoint(b));this._objectMade=!0;return a}return null},canMakeOnRemove:function(){return!this._objectMade},getMessage:function(){var a;
switch(this.getPointCount()){case 0:a=this.getGraphManager().getFactory().getMessage(n.GraphToolTypeMessage.DRAWPOLYLINE1);break;case 1:a=this.getGraphManager().getFactory().getMessage(n.GraphToolTypeMessage.DRAWPOLYLINE2);break;default:a=s("touch")?this.getGraphManager().getFactory().getMessage(n.GraphToolTypeMessage.DRAWPOLYLINE4_MOBILE):this.getGraphManager().getFactory().getMessage(n.GraphToolTypeMessage.DRAWPOLYLINE4)}return a},keyDown:function(b){var c;b.keyCode==a.ESCAPE&&2<=this.getPointCount()&&
(c=this.makeObject(),c.setColor(this.getGraphManager().getFactory().getObjectColor(c)),this.getGraphManager().getRequireLabels()&&0<=this.getGraphManager().getRequireLabels().indexOf(c.getObjectType())&&this.getGraphManager().createObjectLabel(c),this.getGraphManager().doObjectCreated(),this.getGraphManager().selectObject(c),b.stopPropagation(),b.preventDefault())}})})},"xl/editgraph/CircleGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums".split(" "),
function(l,m,k,f,e,d){return l("xl.editgraph.CircleGraphTool",[e],{_circleObject:null,_handleObject:null,mousePressed:function(d,c,b){2>this.getPointCount()&&this.addPoint({x:d,y:c});b.value=2===this.getPointCount()},draw:function(d,c,b){var a;1===this.getPointCount()&&(a=this.getPoint(0),this._circleObject=f.drawCircle(this._circleObject||d,this.getGraphManager().getGraph(),a.x,a.y,c,b,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle(),f.DEF_PLINETOOLWIDTH,f.DEF_PLINETOOLALPHA),
this._circleObject.clip||(c=this.getGraphManager().getGraph().getPlotRect(),this._circleObject.setClip({x:c.left,y:c.top,width:c.getWidth(),height:c.getHeight()})),c=this.getGraphManager().getGraph().getAxisX().worldToViewF(a.x),a=this.getGraphManager().getGraph().getAxisY().worldToViewF(a.y),this._handleObject=f.drawHandle(d,this._handleObject,c,a))},makeObject:function(){var e;e=null;2===this.getPointCount()&&(e=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),
d.GraphObjectType.CIRCLE),e.addPoint(this.getPoint(0)),e.addPoint(this.getPoint(1)));return e},getMessage:function(){var e;switch(this.getPointCount()){case 0:e=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWCIRCLE1);break;case 1:e=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWCIRCLE2);break;default:e=""}return e}})})},"xl/editgraph/RectangleGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(l,m,k,f,e,d,n,c){return l("xl.editgraph.RectangleGraphTool",[e],{_segmentObject:null,_polygonObject:null,_handleObjectArr:null,constructor:function(b){this._handleObjectArr=Array(5)},mousePressed:function(b,a,c){2>this.getPointCount()&&this.addPoint({x:b,y:a});c.value=2==this.getPointCount()},draw:function(b,a,d){var e,k;if(0<this.getPointCount()){k=this.getPoint(0);1==this.getPointCount()&&(c.sameValue(k.x,a)||c.sameValue(k.y,d)?this._segmentObject=f.drawSegment(this._segmentObject||b,this.getGraphManager().getGraph(),
k.x,k.y,a,d,this.getGraphManager().getToolColor(),null):(e=Array(4),e[0]=m.clone(k),e[2]={x:a,y:d},e[1]={x:e[2].x,y:e[0].y},e[3]={x:e[0].x,y:e[2].y},this._polygonObject=f.drawPolygon(this._polygonObject||b,this.getGraphManager().getGraph(),e,this.getGraphManager().getToolColor(),null,0.5)));for(e=0;e<this.getPointCount();e++)a=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(e).x),d=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(e).y),this._handleObjectArr[e]=
f.drawHandle(b,this._handleObjectArr[e],a,d)}},makeObject:function(){var b,a;b=null;if(2==this.getPointCount()){b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.RECTANGLE);for(a=0;2>a;a++)b.addPoint(this.getPoint(a))}return b},getMessage:function(){var b;switch(this.getPointCount()){case 0:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWRECTANGLE1);break;case 1:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWRECTANGLE2);
break;default:b=""}return b}})})},"xl/editgraph/TriangleGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n,c){return l("xl.editgraph.TriangleGraphTool",[e],{_segmentObject:null,_segmentObject2:null,_polygonObject:null,_handleObjectArr:null,constructor:function(b){this._handleObjectArr=Array(5)},mousePressed:function(b,a,c){3>
this.getPointCount()&&this.addPoint({x:b,y:a});c.value=3==this.getPointCount()},draw:function(b,a,d){var e,k,h;this.inherited(arguments);if(0<this.getPointCount()){if(1==this.getPointCount())this._segmentObject=f.drawSegment(this._segmentObject||b,this.getGraphManager().getGraph(),this.getPoint(0).x,this.getPoint(0).y,a,d,this.getGraphManager().getToolColor(),null);else if(c.sameValue(this.getPoint(0).x,a)&&c.sameValue(this.getPoint(0).y,d)||c.sameValue(this.getPoint(1).x,a)&&c.sameValue(this.getPoint(1).y,
d))this._segmentObject2=f.drawSegment(this._segmentObject2||b,this.getGraphManager().getGraph(),this.getPoint(0).x,this.getPoint(0).y,a,d,this.getGraphManager().getToolColor(),null);else{e=Array(3);for(h=0;2>h;h++)e[h]=m.clone(this.getPoint(h));e[2]={x:a,y:d};this._polygonObject=f.drawPolygon(this._polygonObject||b,this.getGraphManager().getGraph(),e,this.getGraphManager().getToolColor(),null,f.DEF_PLINETOOLALPHA)}for(h=0;h<this.getPointCount();h++)e=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(h).x),
k=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(h).y),this._handleObjectArr[h]=f.drawHandle(b,this._handleObjectArr[h],e,k)}},makeObject:function(){var b,a;b=null;if(3==this.getPointCount()){b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.TRIANGLE);for(a=0;3>a;a++)b.addPoint(this.getPoint(a))}return b},getMessage:function(){var b;switch(this.getPointCount()){case 0:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWTRIANGLE1);
break;case 1:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWTRIANGLE2);break;case 2:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWTRIANGLE3);break;default:b=""}return b}})})},"xl/editgraph/PolygonGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath dojo/keys dojo/has".split(" "),function(l,m,k,f,e,d,
n,c,b,a){return l("xl.editgraph.PolygonGraphTool",[e],{_segmentObjectArr:null,_handleObjectArr:null,_supportsCloseClick:!0,_objectMade:!1,constructor:function(a){this._segmentObjectArr=Array(20);this._handleObjectArr=Array(20)},mousePressed:function(a,b,c){var d;2<this.getPointCount()?(d=f.getPointDistance(this.getGraphManager().getGraph(),a,b,this.getPoint(0)),c.value=7>=d,c.value||this.addPoint({x:a,y:b})):(this.addPoint({x:a,y:b}),c.value=!1)},draw:function(a,b,c){var d,e,k;this.inherited(arguments);
if(0<this.getPointCount()){for(k=0;k<this.getPointCount()-1;k++)this._segmentObjectArr[k]=f.drawSegment(this._segmentObjectArr[k]||a,this.getGraphManager().getGraph(),this.getPoint(k+1).x,this.getPoint(k+1).y,this.getPoint(k).x,this.getPoint(k).y,this.getGraphManager().getToolColor(),null);this._segmentObjectArr[this.getPointCount()-1]=f.drawSegment(this._segmentObjectArr[this.getPointCount()-1]||a,this.getGraphManager().getGraph(),this.getPoint(this.getPointCount()-1).x,this.getPoint(this.getPointCount()-
1).y,b,c,this.getGraphManager().getToolColor(),null);for(k=0;k<this.getPointCount();k++)d=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(k).x),e=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(k).y),this._handleObjectArr[k]=f.drawHandle(a,this._handleObjectArr[k],d,e)}},makeObject:function(){if(1<this.getPointCount()){for(var a=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.POLYGON),b=0;b<this.getPointCount();b++)a.addPoint(this.getPoint(b));
this._objectMade=!0;return a}return null},canMakeOnRemove:function(){return!this._objectMade},getMessage:function(){var b;switch(this.getPointCount()){case 0:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWPOLYGON1);break;case 1:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWPOLYGON2);break;case 2:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWPOLYGON3);break;default:b=a("touch")?this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWPOLYGON4_MOBILE):
this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWPOLYGON4)}return b},keyDown:function(a){var c;a.keyCode==b.ESCAPE&&3<=this.getPointCount()&&(c=this.makeObject(),c.setColor(this.getGraphManager().getFactory().getObjectColor(c)),this.getGraphManager().doObjectCreated(),this.getGraphManager().selectObject(c),a.stopPropagation(),a.preventDefault())}})})},"xl/editgraph/Curve4GraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/LineGraphTool xl/editgraph/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(l,m,k,f,e,d,n,c){return l("xl.editgraph.Curve4GraphTool",[e],{_segmentObject:null,_polylineObject:null,_curveObject:null,_handleObjectArr:null,multiPointTool:!0,constructor:function(b){this._handleObjectArr=Array(20)},mousePressed:function(b,a,c){4>this.getPointCount()&&this.addPoint({x:b,y:a});c.value=4===this.getPointCount()},draw:function(b,a,d){var e,k,h;this.inherited(arguments);if(0<this.getPointCount()){if(1===this.getPointCount())this._segmentObject=f.drawSegment(this._segmentObject||
b,this.getGraphManager().getGraph(),this.getPoint(0).x,this.getPoint(0).y,a,d,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle());else{e=[];for(h=0;h<this.getPointCount();h++)e.push(m.clone(this.getPoint(h)));e.push({x:a,y:d});3>this.getPointCount()||c.sameValue(e[this.getPointCount()-1].x,a)?this._polylineObject=f.drawPolyline(this._polylineObject||b,this.getGraphManager().getGraph(),e,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle()):
(this._curveObject=f.drawCurveX(this._curveObject||b,this.getGraphManager().getGraph(),e,this.getGraphManager().getToolColor(),this.getGraphManager().getDefaultGrLineStyle()),this._curveObject.clip||(h=this.getGraphManager().getGraph().getPlotRect(),this._curveObject.setClip({x:h.left,y:h.top,width:h.getWidth(),height:h.getHeight()})))}for(h=0;h<this.getPointCount();h++)e=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(h).x),k=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(h).y),
this._handleObjectArr[h]=f.drawHandle(b,this._handleObjectArr[h],e,k)}},remove:function(){this._segmentObject&&(this._segmentObject.destroy(),this._segmentObject=null);this._polylineObject&&(this._polylineObject.destroy(),this._polylineObject=null);this._curveObject&&(this._curveObject.destroy(),this._curveObject=null);if(this._handleObjectArr&&0<this._handleObjectArr.length)for(var b=0;b<this._handleObjectArr.length;b++)this._handleObjectArr[b]&&(this._handleObjectArr[b].destroy(),this._handleObjectArr[b]=
null);this.inherited(arguments)},makeObject:function(){var b,a;b=null;if(4===this.getPointCount()){b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.CURVEX);for(a=0;4>a;a++)b.addPoint(this.getPoint(a))}return b},getMessage:function(){var b;switch(this.getPointCount()){case 0:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWCURVE41);break;case 1:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWCURVE42);
break;case 2:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWCURVE43);break;case 3:b=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWCURVE44);break;default:b=""}return b}})})},"xl/editgraph/PointGraphTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/grapher/IPGraphBlobGroup xl/editgraph/enums xl/grapher/enums dojox/gfx/matrix xl/util/IPMath".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s){return l("xl.editgraph.PointGraphTool",[d],{mousePressed:function(a,b,c){1>this.getPointCount()&&this.addPoint({x:a,y:b});c.value=1==this.getPointCount()},singlePointTool:!0,draw:function(a,b,c){this.inherited(arguments)},makeObject:function(){var a;a=null;1==this.getPointCount()&&(a=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),c.GraphObjectType.POINT),a.addPoint(this.getPoint(0)));return a},getMessage:function(){var a;switch(this.getPointCount()){case 0:a=
this.getGraphManager().getFactory().getMessage(c.GraphToolTypeMessage.DRAWPOINT);break;default:a=""}return a}})})},"xl/editgraph/HoleGraphTool":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/grapher/IPGraphBlobGroup xl/editgraph/enums xl/grapher/enums dojox/gfx/matrix xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n,c,b,a,s){return l("xl.editgraph.HoleGraphTool",[d],{mousePressed:function(a,b,c){1>
this.getPointCount()&&this.addPoint({x:a,y:b});c.value=1==this.getPointCount()},singlePointTool:!0,draw:function(a,b,c){this.inherited(arguments)},makeObject:function(){var a;a=null;1==this.getPointCount()&&(a=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),c.GraphObjectType.HOLE),a.addPoint(this.getPoint(0)));return a},getMessage:function(){var a;switch(this.getPointCount()){case 0:a=this.getGraphManager().getFactory().getMessage(c.GraphToolTypeMessage.DRAWPOINT);
break;default:a=""}return a}})})},"xl/editgraph/CubicGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/PolynomialGraphTool","xl/editgraph/enums"],function(l,m,k){return l("xl.editgraph.CubicGraphTool",[m],{makePolynomialObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),k.GraphObjectType.CUBIC)},getNPointCount:function(){return 4},getMessage:function(){var f;switch(this.getPointCount()){case 0:f=this.getGraphManager().getFactory().getMessage(k.GraphToolTypeMessage.DRAWPOLYNOM1);
break;case 1:f=this.getGraphManager().getFactory().getMessage(k.GraphToolTypeMessage.DRAWPOLYNOM2);break;case 2:f=this.getGraphManager().getFactory().getMessage(k.GraphToolTypeMessage.DRAWPOLYNOM3);break;default:f=this.getGraphManager().getFactory().getMessage(k.GraphToolTypeMessage.DRAWPOLYNOMLAST)}return f}})})},"xl/editgraph/PolynomialGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums xl/util/IPMath dojox/gfx/matrix".split(" "),
function(l,m,k,f,e,d,n,c){return l("xl.editgraph.PolynomialGraphTool",[e],{_nPoints:null,_polynomObject:null,_handleObjectArr:null,constructor:function(b){this._nPoints=this.getNPointCount();this._handleObjectArr=Array(20)},makePolynomialObject:function(){return null},getNPointCount:function(){return 1},mousePressed:function(b,a,c){if(this.getPointCount()<this._nPoints){for(var d=0;d<this.getPointCount();d++)if(n.sameValue(this.getPoint(d).x,b,1E-8))return;this.addPoint({x:b,y:a})}c.value=this.getPointCount()==
this._nPoints},makeObject:function(){for(var b=this.makePolynomialObject(),a=0;a<this.getPointCount();a++)b.addPoint(this.getPoint(a));return b},draw:function(b,a,c){var d,e=[],h=!1;if(0<this.getPointCount()){for(d=0;d<this.getPointCount();d++)e.push(this.getPoint(d)),n.sameValue(a,this.getPoint(d).x)&&(h=!0);h||e.push({x:a,y:c});d=f.calcPolynom(m.clone(e));this._polynomObject=f.drawPolynom(this._polynomObject||b,this.getGraphManager().getGraph(),d,this.getGraphManager().getToolColor(),null);this._polynomObject.clip||
(d=this.getGraphManager().getGraph().getPlotRect(),this._polynomObject.setClip({x:d.left,y:d.top,width:d.getWidth(),height:d.getHeight()}));for(d=0;d<this.getPointCount();d++)a=this.getGraphManager().getGraph().getAxisX().worldToViewF(this.getPoint(d).x),c=this.getGraphManager().getGraph().getAxisY().worldToViewF(this.getPoint(d).y),this._handleObjectArr[d]=f.drawHandle(b,this._handleObjectArr[d],a,c)}}})})},"xl/editgraph/QuadraticGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/PolynomialGraphTool",
"xl/editgraph/enums"],function(l,m,k){return l("xl.editgraph.QuadraticGraphTool",[m],{makePolynomialObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),k.GraphObjectType.QUADRATIC)},getNPointCount:function(){return 3},getMessage:function(){var f;switch(this.getPointCount()){case 0:f=this.getGraphManager().getFactory().getMessage(k.GraphToolTypeMessage.DRAWPOLYNOM1);break;case 1:f=this.getGraphManager().getFactory().getMessage(k.GraphToolTypeMessage.DRAWPOLYNOM2);
break;default:f=this.getGraphManager().getFactory().getMessage(k.GraphToolTypeMessage.DRAWPOLYNOMLAST)}return f}})})},"xl/editgraph/RegionGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/util/graphUtils xl/editgraph/AbstractGraphTool xl/editgraph/enums dojox/gfx/matrix".split(" "),function(l,m,k,f,e,d,n,c){return l("xl.editgraph.RegionGraphTool",[d],{_bucketObject:null,mousePressed:function(b,a,c){1>this.getPointCount()&&this.addPoint({x:b,
y:a});c.value=1==this.getPointCount()},draw:function(b,a,c){a=this.getGraphManager().getGraph().getAxisX().worldToView(a);c=this.getGraphManager().getGraph().getAxisY().worldToView(c);this._bucketObject=e.drawBucket(b,this._bucketObject,a,c,this.getGraphManager().getFactory().getToolColor(n.GraphToolType.REGION),!1,"white")},makeObject:function(){var b;b=null;1==this.getPointCount()&&(b=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),n.GraphObjectType.REGION),b.addPoint(this.getPoint(0)));
return b},getMessage:function(){var b;switch(this.getPointCount()){case 0:b=this.getGraphManager().getFactory().getMessage(n.GraphToolTypeMessage.DRAWREGION);break;default:b=""}return b}})})},"xl/editgraph/XSquaredGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(l,m,k){return l("xl/editgraph/XSquaredGraphTool",[m],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),
k.GraphObjectType.XSQUARED)}})})},"xl/editgraph/TransformationGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/AbstractGraphTool","xl/editgraph/enums"],function(l,m,k){return l("xl/editgraph/TransformationGraphTool",[m],{makeObject:function(){return this.makeTransformationObject()},makeTransformationObject:function(){return null},mousePressed:function(f,e,d){d.value=!0},getMessage:function(){return this.getGraphManager().getFactory().getMessage(k.GraphToolTypeMessage.DRAWTRANSFORMATION1)}})})},
"xl/editgraph/XCubedGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(l,m,k){return l("xl/editgraph/XCubedGraphTool",[m],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),k.GraphObjectType.XCUBED)}})})},"xl/editgraph/LogGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(l,m,k){return l("xl/editgraph/LogGraphTool",
[m],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),k.GraphObjectType.LOG)}})})},"xl/editgraph/ExpGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(l,m,k){return l("xl/editgraph/ExpGraphTool",[m],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),k.GraphObjectType.EXP)}})})},
"xl/editgraph/SineGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(l,m,k){return l("xl/editgraph/SineGraphTool ",[m],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),k.GraphObjectType.SINE)}})})},"xl/editgraph/CosineGraphTool":function(){define(["dojo/_base/declare","xl/editgraph/TransformationGraphTool","xl/editgraph/enums"],function(l,m,k){return l("xl/editgraph/CosineGraphTool ",
[m],{makeTransformationObject:function(){return this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),k.GraphObjectType.COSINE)}})})},"xl/editgraph/TextGraphTool":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphManager xl/editgraph/GraphObject xl/editgraph/AbstractGraphTool xl/editgraph/enums dojox/gfx/matrix".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.TextGraphTool",[e],{_text:null,mousePressed:function(c,b,a){1>this.getPointCount()&&
this.addPoint({x:c,y:b});a.value=1==this.getPointCount()},draw:function(c,b,a){},makeObject:function(){var c;c=null;1==this.getPointCount()&&(c=this.getGraphManager().getFactory().createObject(this.getGraphManager().getGraph(),d.GraphObjectType.TEXT),c.addPoint(this.getPoint(0)));return c},getMessage:function(){var c;switch(this.getPointCount()){case 0:c=this.getGraphManager().getFactory().getMessage(d.GraphToolTypeMessage.DRAWTEXT);break;default:c=""}return c},getText:function(){return this._text},
setText:function(c){this._text=c}})})},"xl/editgraph/GraphLineObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphLineObject",[k],{_extendLine:null,_startArrow:null,_endArrow:null,_lineObject:null,_startArrowObject:null,_endArrowObject:null,draw:function(c,b,a){var f,k,l,h,n,m,v;b?(n=a,m=0,v=e.GraphLineStyle.SOLID):(n=
this.getColor(),m=d.DEF_PLINEWIDTH,v=this.getLineStyle());2===this.getPointCount()&&(f=this.getPoint(0).x,k=this.getPoint(0).y,l=this.getPoint(1).x,h=this.getPoint(1).y,this._extendLine?d.drawLine(c,this.getGraph(),f,k,l,h,n,v,{lineWidth:m}):d.drawSegment(c,this.getGraph(),f,k,l,h,n,v,{lineWidth:m}),this._startArrow&&d.drawArrow(c,this.getGraph(),this.getPoint(1),this.getPoint(0),n),this._endArrow&&d.drawArrow(c,this.getGraph(),this.getPoint(0),this.getPoint(1),n),this.inherited(arguments))},drawMask:function(c,
b,a){var f,k,l,h;2===this.getPointCount()&&(f=this.getPoint(0).x,k=this.getPoint(0).y,l=this.getPoint(1).x,h=this.getPoint(1).y,this._extendLine?d.drawLine(c,this.getGraph(),f,k,l,h,b,e.IPGraphLineStyle.SOLID,1,a):d.drawSegment(c,this.getGraph(),f,k,l,h,b,e.IPGraphLineStyle.SOLID,1,a))},getDistance:function(c,b){var a;if(2===this.getPointCount()){a=this.getPoint(0);var e=this.getPoint(1);a=n.sameValue(a.x,e.x)&&n.sameValue(a.y,e.y)?d.getSegmentDistance(this.getGraph(),c,b,{x:a.x,y:this.getGraph().getAxisY().getMinimum()},
{x:a.x,y:this.getGraph().getAxisY().getMaximum()},!0):d.getSegmentDistance(this.getGraph(),c,b,a,e,this._extendLine)}else a=-1;return a},drawGhost:function(c,b,a){var e,f,k,h;2<=b.length&&(e=b[0].x,f=b[0].y,k=b[1].x,h=b[1].y,this._lineObject&&!this._lineObject.parent&&(this._lineObject=null),this._startArrowObject&&!this._startArrowObject.parent&&(this._startArrowObject=null),this._endArrowObject&&!this._endArrowObject.parent&&(this._endArrowObject=null),this._lineObject=this._extendLine?d.drawLine(this._lineObject||
c,this.getGraph(),e,f,k,h,a,this.getLineStyle(),d.DEF_PLINEGHOSTWIDTH):d.drawSegment(this._lineObject||c,this.getGraph(),e,f,k,h,a,this.getLineStyle(),d.DEF_PLINEGHOSTWIDTH),this._startArrow&&(this._startArrowObject=d.drawArrow(this._startArrowObject||c,this.getGraph(),b[1],b[0],a)),this._endArrow&&(this._endArrowObject=d.drawArrow(this._endArrowObject||c,this.getGraph(),b[0],b[1],a)))},getObjectType:function(){return f.GraphObjectType.LINE},getExtendLine:function(){return this._extendLine},setExtendLine:function(c){this._extendLine=
c},getStartArrow:function(){return this._startArrow},setStartArrow:function(c){this._startArrow=c},getEndArrow:function(){return this._endArrow},setEndArrow:function(c){this._endArrow=c}})})},"xl/editgraph/GraphAsymptoteObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphAsymptoteObject",[k],{_lineObject:null,draw:function(c,
b,a){var k,l,n,h,q,m,v;b?(q=a,m=0,v=e.GraphLineStyle.SOLID):(q="black",m=d.DEF_PLINEWIDTH,v=f.GraphObjectLineStyle.DASHED);2===this.getPointCount()&&(k=this.getPoint(0).x,l=this.getPoint(0).y,n=this.getPoint(1).x,h=this.getPoint(1).y,d.drawLine(c,this.getGraph(),k,l,n,h,q,v,{lineWidth:m}),this.inherited(arguments))},drawMask:function(c,b,a){var f,k,l,h;2===this.getPointCount()&&(f=this.getPoint(0).x,k=this.getPoint(0).y,l=this.getPoint(1).x,h=this.getPoint(1).y,d.drawLine(c,this.getGraph(),f,k,l,
h,b,e.IPGraphLineStyle.SOLID,1,a))},getDistance:function(c,b){var a;if(2===this.getPointCount()){a=this.getPoint(0);var e=this.getPoint(1);a=n.sameValue(a.x,e.x)&&n.sameValue(a.y,e.y)?d.getSegmentDistance(this.getGraph(),c,b,{x:a.x,y:this.getGraph().getAxisY().getMinimum()},{x:a.x,y:this.getGraph().getAxisY().getMaximum()},!0):d.getSegmentDistance(this.getGraph(),c,b,a,e,!0)}else a=-1;return a},drawGhost:function(c,b,a){var e,k,l;2<=b.length&&(e=b[0].x,k=b[0].y,l=b[1].x,b=b[1].y,this._lineObject&&
!this._lineObject.parent&&(this._lineObject=null),this._lineObject=d.drawLine(this._lineObject||c,this.getGraph(),e,k,l,b,a,f.GraphObjectLineStyle.DASHED,d.DEF_PLINEGHOSTWIDTH))},getObjectType:function(){return f.GraphObjectType.ASYMPTOTE}})})},"xl/editgraph/GraphAbsObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject".split(" "),function(l,m,k,f,e,d){return l("xl.editgraph.GraphAbsObject",[k],{_drawObject:null,
draw:function(e,c,b){var a,k,l;c?(a=b,k=0,l=f.GraphLineStyle.SOLID):(a=this.getColor(),k=d.DEF_PLINEWIDTH,l=this.getLineStyle());2===this.getPointCount()&&(d.drawAbs(e,this.getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,a,l,k),this.inherited(arguments))},drawMask:function(f,c,b){2===this.getPointCount()&&d.drawAbs(f,this.getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,c,e.IPGraphLineStyle.SOLID,1,b,"SQUARE")},getDistance:function(e,
c){var b={};return 2===this.getPointCount()?(b.y=this.getPoint(1).y,b.x=this.getPoint(0).x-(this.getPoint(1).x-this.getPoint(0).x),Math.min(d.getRayDistance(this.getGraph(),e,c,this.getPoint(0),this.getPoint(1)),d.getRayDistance(this.getGraph(),e,c,this.getPoint(0),b))):-1},drawGhost:function(e,c,b){this._drawObject&&!this._drawObject[0].parent&&(this._drawObject=null);2<=c.length&&(this._drawObject=d.drawAbs(this._drawObject?this._drawObject:e,this.getGraph(),c[0].x,c[0].y,c[1].x,c[1].y,b,this.getLineStyle(),
d.DEF_PLINEGHOSTWIDTH))},getObjectType:function(){return f.GraphObjectType.ABS}})})},"xl/editgraph/GraphHandle":function(){define("dojo/_base/declare xl/grapher/IPGraphShapeBlob xl/grapher/IPGraphLabel xl/editgraph/GraphObject xl/util/graphUtils xl/util/stringUtils".split(" "),function(l,m,k,f,e,d){return l("xl.editgraph.GraphHandle",[m],{onDraw:null,_circle:null,_invisible:null,_label:null,_handle:null,handleSize:null,constructor:function(d){this.updateSize()},drawBlob:function(d,c){this._handle&&
null==this._handle.parent&&this.destroyHandle();if(null!=this.onDraw)this.onDraw(this,d,this.getLocationX(),this.getLocationY());this._invisible||(this.getFocused()?this.drawSelectedPoint(d,c):this.drawPoint(d,c))},drawLabel:function(e){this._label||(this._label=new k,this.getGraph().addPart(this._label));this._label.setFont(this.getGraph().getAxisX().getLabelFont());this._label.setText("("+d.formatFloat(this.getLocationX(),"#.--#")+")");this._label.setLocationX(e.x);this._label.setLocationY(e.y+
20);this.getGraph().invalidateLabels()},drawPoint:function(d,c){this._handle=this._circle?f.drawCircleHandle(d,this._handle,c.x,c.y,!1,this.handleSize):f.drawHandle(d,this._handle,c.x,c.y,!1)},drawSelectedPoint:function(d,c){this._handle=this._circle?f.drawCircleHandle(d,this._handle,c.x,c.y,!0,this.handleSize):f.drawHandle(d,this._handle,c.x,c.y,!0)},destroy:function(){this.destroyHandle();this.inherited(arguments)},destroyHandle:function(){this._handle&&(this._handle.rawNode&&this._handle.destroy(),
this._handle=null)},focusLost:function(){this.updateSize();this.inherited(arguments)},focusGained:function(){this.updateSize();this.inherited(arguments)},updateSize:function(){this.setShowVertLine(!1);this.setShowHorzLine(!1);this.setTrackMouse(!1);this.setStickyFocus(!1);this.setSize(this.handleSize||4);this.invalidate()},getCircle:function(){return this._circle},setCircle:function(d){this._circle=d},getInvisible:function(){return this._invisible},setInvisible:function(d){this._invisible=d}})})},
"xl/editgraph/GraphParabolaObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphParabolaObject",[k],{_parabolaType:null,_drawObject:null,getParabolaType:function(){return this._parabolaType},setParabolaType:function(c){this._parabolaType=c},draw:function(c,b,a){var f,k,l;b?(f=a,k=0,l=e.IPGraphLineStyle.SOLID):(f=this.getColor(),
k=d.DEF_PLINEWIDTH,l=this.getLineStyle());2===this.getPointCount()&&(d.drawParabola(c,this.getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,f,l,this.getParabolaType(),k),this.inherited(arguments))},drawMask:function(c,b,a){2===this.getPointCount()&&d.drawParabola(c,this.getGraph(),this.getPoint(0).x,this.getPoint(0).y,this.getPoint(1).x,this.getPoint(1).y,b,e.IPGraphLineStyle.SOLID,this.getParabolaType(),1,a,"square")},getDistance:function(c,b){var a,e,k,l,h,
q,m,v,w;if(2===this.getPointCount())if(e=c-this.getGraph().getAxisX().viewToWorldRel(5),k=c+this.getGraph().getAxisX().viewToWorldRel(5),l=b-this.getGraph().getAxisY().viewToWorldRel(5),h=b+this.getGraph().getAxisY().viewToWorldRel(5),q=this.getPoint(0),m=this.getPoint(1),this.getParabolaType()===f.GraphParabolaType.UPDOWN){if(n.isZero(m.y-q.y,1E-6))return d.getSegmentDistance(this.getGraph(),c,b,q,m,!0);a=n.sqr(m.x-q.x)/(4*(m.y-q.y));if(n.isZero(a,1E-6))return m.y>q.y&&b>q.y||m.y<q.y&&b<q.y?d.getSegmentDistance(this.getGraph(),
c,b,q,m,!0):d.getPointDistance(this.getGraph(),c,b,q);q=this.fOfX(e,a)-h;m=this.fOfX(k,a)-h;v=this.fOfX(e,a)-l;w=this.fOfX(k,a)-l;if(!(0<q&&0<m&&0<v&&0<w||0>q&&0>m&&0>v&&0>w))return d.getSegmentDistance(this.getGraph(),c,b,{x:e,y:this.fOfX(e,a)},{x:k,y:this.fOfX(k,a)},!0)}else{if(n.isZero(m.x-q.x,1E-6))return d.getSegmentDistance(this.getGraph(),c,b,q,m,!0);a=n.sqr(m.y-q.y)/(4*(m.x-q.x));if(n.isZero(a,1E-6))return m.x>q.x&&c>q.x||m.x<q.x&&c<q.x?d.getSegmentDistance(this.getGraph(),c,b,q,m,!0):d.getPointDistance(this.getGraph(),
c,b,q);q=this.fOfY(l,a)-k;m=this.fOfY(h,a)-k;v=this.fOfY(l,a)-e;w=this.fOfY(h,a)-e;if(!(0<q&&0<m&&0<v&&0<w||0>q&&0>m&&0>v&&0>w))return d.getSegmentDistance(this.getGraph(),c,b,{x:this.fOfY(l,a),y:l},{x:this.fOfY(h,a),y:h},!0)}return-1},drawGhost:function(c,b,a){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);2===b.length&&(this._drawObject=d.drawParabola(this._drawObject?this._drawObject:c,this.getGraph(),b[0].x,b[0].y,b[1].x,b[1].y,a,this.getLineStyle(),this.getParabolaType(),
d.DEF_PLINEGHOSTWIDTH))},fOfX:function(c,b){return n.sqr(c-this.getPoint(0).x)/(4*b)+this.getPoint(0).y},fOfY:function(c,b){return n.sqr(c-this.getPoint(0).y)/(4*b)+this.getPoint(0).x},getObjectType:function(){return this.getParabolaType()===f.GraphParabolaType.UPDOWN?f.GraphObjectType.PARABOLAY:f.GraphObjectType.PARABOLAX}})})},"xl/editgraph/GraphArrowLineObject":function(){define(["dojo/_base/declare","dojo/_base/lang","xl/editgraph/GraphLineObject","xl/editgraph/enums"],function(l,m,k,f){return l("xl.editgraph.GraphArrowLineObject",
[k],{getObjectType:function(){return f.GraphObjectType.ARROW},constructor:function(e){this.setExtendLine(!1);this.setStartArrow(!1);this.setEndArrow(!0)}})})},"xl/editgraph/GraphDblArrowLineObject":function(){define(["dojo/_base/declare","xl/editgraph/GraphLineObject","xl/editgraph/enums"],function(l,m,k){return l("xl.editgraph.GraphDblArrowLineObject",[m],{getObjectType:function(){return k.GraphObjectType.DBLARROW},constructor:function(f){this.setExtendLine(!1);this.setStartArrow(!0);this.setEndArrow(!0)}})})},
"xl/editgraph/GraphCurve3Object":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject".split(" "),function(l,m,k,f,e,d){return l("xl.editgraph.GraphCurve3Object",[k],{_curveObject:null,_curveGhostObject:null,remove:function(){},drawMask:function(f,c,b){var a,k,l;l=e.IPGraphLineStyle.SOLID;if(3===this.getPointCount()){k=Array(3);for(a=0;a<this.getPointCount();a++)k[a]=m.clone(this.getPoint(a));d.drawCurve3(f,
this.getGraph(),k,c,l,0,b)}},draw:function(f,c,b){var a,k,l,t,h;c?(l=b,t=0,h=e.IPGraphLineStyle.SOLID):(l=this.getColor(),t=d.DEF_PLINEWIDTH,h=this.getLineStyle());if(3===this.getPointCount()){k=Array(3);for(a=0;a<this.getPointCount();a++)k[a]=m.clone(this.getPoint(a));a=this.getGraph().getPlotRect();d.drawCurve3(f,this.getGraph(),k,l,h,t).setClip({x:a.left,y:a.top,width:a.getWidth(),height:a.getHeight()});this.inherited(arguments)}},getDistance:function(e,c){var b,a;b=-1;if(3===this.getPointCount()){a=
Array(3);for(b=0;b<this.getPointCount();b++)a[b]=m.clone(this.getPoint(b));b=d.getCurve3Distance(this.getGraph(),e,c,a)}return b},drawGhost:function(e,c,b){this._curveGhostObject&&!this._curveGhostObject.parent&&(this._curveGhostObject=null);3===c.length&&(this._curveGhostObject=d.drawCurve3(this._curveGhostObject||e,this.getGraph(),m.clone(c),b,this.getLineStyle(),d.DEF_PLINEGHOSTWIDTH),this._curveGhostObject.clip||(e=this.getGraph().getPlotRect(),this._curveGhostObject.setClip({x:e.left,y:e.top,
width:e.getWidth(),height:e.getHeight()})))},getObjectType:function(){return f.GraphObjectType.CURVE3}})})},"xl/editgraph/GraphPolylineObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphPolylineObject",[k],{_drawObject:null,constructor:function(c){this.setSupportsLineStyle(!0)},drawMask:function(c,b){var a,f=[];for(a=
0;a<this.getPointCount();a++)f.push(this.getPoint(a));d.drawPolyline(c,f,b,e.IPGraphLineStyle.SOLID)},draw:function(c,b,a){var e,f=[],k;k=b?a:this.getColor();for(e=0;e<this.getPointCount();e++)f.push(this.getPoint(e));d.drawPolyline(c,this.getGraph(),f,k,this.getLineStyle());this.inherited(arguments)},getDistance:function(c,b){var a,e,f=0;for(a=0;a<this.getPointCount()-1;a++)e=d.getSegmentDistance(this.getGraph(),c,b,this.getPoint(a),this.getPoint(a+1)),f=0==a?e:Math.min(f,e);return f},drawGhost:function(c,
b,a){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);this._drawObject=d.drawPolyline(this._drawObject||c,this.getGraph(),b,a,this.getLineStyle())},deletePoint:function(c){for(var b=0;b<this.getPointCount();b++){var a=this.getPoint(b);if(n.sameValue(a.x,c.getLocationX())&&n.sameValue(a.y,c.getLocationY()))return this.getPoints().splice(b,1),b}return-1},getObjectType:function(){return f.GraphObjectType.POLYLINE}})})},"xl/editgraph/GraphCircleObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),
function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphCircleObject",[k],{_drawObject:null,constructor:function(c){this.setSupportsLineStyle(!1)},draw:function(c,b,a){var f,k,l;b?(f=a,k=0,l=e.IPGraphLineStyle.SOLID):(f=this.getColor(),k=d.DEF_PLINEWIDTH,l=this.getLineStyle());if(2===this.getPointCount()){var h=this.getPoint(0),n=this.getPoint(1),m=this.getGraph().getPlotRect();d.drawCircle(c,this.getGraph(),h.x,h.y,n.x,n.y,f,l,k).setClip({x:m.left,y:m.top,width:m.getWidth(),height:m.getHeight()});this.inherited(arguments)}},
drawMask:function(c,b,a){if(2===this.getPointCount()){var f=this.getPoint(0),k=this.getPoint(1);d.drawCircle(c,this.getGraph(),f.x,f.y,k.x,k.y,b,e.IPGraphLineStyle.SOLID,1,a)}},getDistance:function(c,b){var a,d,e,f,h=-1;if(2===this.getPointCount()){var k=this.getPoint(0);a=this.getPoint(1);a=n.hypot(a.x-k.x,a.y-k.y);d=n.hypot(c-k.x,b-k.y);try{e=a/d*(c-k.x)+k.x,f=a/d*(b-k.y)+k.y,h=Math.round(n.hypot(this.getGraph().getAxisX().worldToView(c)-this.getGraph().getAxisX().worldToView(e),this.getGraph().getAxisY().worldToView(b)-
this.getGraph().getAxisY().worldToView(f)))}catch(l){}}return h},drawGhost:function(c,b,a){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);2<=b.length&&(this._drawObject=d.drawCircle(this._drawObject||c,this.getGraph(),b[0].x,b[0].y,b[1].x,b[1].y,a,this.getLineStyle(),d.DEF_PLINEGHOSTWIDTH),this._drawObject.clip||(c=this.getGraph().getPlotRect(),this._drawObject.setClip({x:c.left,y:c.top,width:c.getWidth(),height:c.getHeight()})))},getObjectType:function(){return f.GraphObjectType.CIRCLE},
getTranslationPoint:function(){return 0}})})},"xl/editgraph/GraphRectangleObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphRectangleObject",[k],{_segmentGhostObject:null,_polygonGhostObject:null,constructor:function(c){this.setSupportsLineStyle(!1)},draw:function(c,b,a){var e,f,k;e=b?a:this.getColor();if(2===this.getPointCount()){f=
this.getPoint(0);k=this.getPoint(1);if(n.sameValue(f.x,k.x)||n.sameValue(f.y,k.y))d.drawSegment(c,this.getGraph(),f.x,f.y,k.x,k.y,this.getColor(),this.getLineStyle());else{var h=Array(4);h[0]=m.clone(f);h[2]=m.clone(k);h[1]={x:k.x,y:f.y};h[3]={x:f.x,y:k.y};d.drawPolygon(c,this.getGraph(),h,e,this.getLineStyle(),0.75)}this.inherited(arguments)}},drawMask:function(c,b,a){var e,f;if(2===this.getPointCount())if(e=this.getPoint(0),f=this.getPoint(1),n.sameValue(e.x,f.x)||n.sameValue(e.y,f.y))d.drawSegment(c,
this.getGraph(),e.x,e.y,f.x,f.y,this.getColor(),this.getLineStyle());else{var k=Array(4);k[0]=m.clone(e);k[2]=m.clone(f);k[1]={x:f.x,y:e.y};k[3]={x:e.x,y:f.y};d.drawPolygon(c,this.getGraph(),k,b,this.getLineStyle(),a)}},getDistance:function(c,b){var a,e,f,k;k=this.getPoint(0);var h=this.getPoint(1);k.x<h.x?(a=k.x,e=h.x):(a=h.x,e=k.x);k.y<h.y?(f=k.y,k=h.y):(f=h.y,k=k.y);return c>=a&&c<=e&&b>=f&&b<=k?0:c<a?b<=k&&b>=f?d.getSegmentDistance(this.getGraph(),c,b,{x:a,y:f},{x:a,y:k}):b>k?d.getPointDistance(this.getGraph(),
c,b,{x:a,y:k}):d.getPointDistance(this.getGraph(),c,b,{x:a,y:f}):c>e?b<=k&&b>=f?d.getSegmentDistance(this.getGraph(),c,b,{x:e,y:f},{x:e,y:k}):b>k?d.getPointDistance(this.getGraph(),c,b,{x:e,y:k}):d.getPointDistance(this.getGraph(),c,b,{x:e,y:f}):b>k?d.getSegmentDistance(this.getGraph(),c,b,{x:a,y:k},{x:e,y:k}):b<f?d.getSegmentDistance(this.getGraph(),c,b,{x:a,y:f},{x:e,y:f}):-1},drawGhost:function(c,b,a){this._segmentGhostObject&&!this._segmentGhostObject.parent&&(this._segmentGhostObject=null);this._polygonGhostObject&&
!this._polygonGhostObject.parent&&(this._polygonGhostObject=null);var e,f;2===b.length&&(e=b[0],b=b[1],n.sameValue(e.x,b.x)||n.sameValue(e.y,b.y)?this._segmentGhostObject=d.drawSegment(this._segmentGhostObject||c,this.getGraph(),e.x,e.y,b.x,b.y,a,this.getLineStyle()):(f=Array(4),f[0]=m.clone(e),f[2]=m.clone(b),f[1]={x:b.x,y:e.y},f[3]={x:e.x,y:b.y},this._polygonGhostObject=d.drawPolygon(this._polygonGhostObject||c,this.getGraph(),f,a,this.getLineStyle())))},getObjectType:function(){return f.GraphObjectType.RECTANGLE}})})},
"xl/editgraph/GraphTriangleObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath xl/util/graphUtils".split(" "),function(l,m,k,f,e,d,n,c){return l("xl.editgraph.GraphTriangleObject",[k],{_polygonGhostObject:null,constructor:function(b){this.setSupportsLineStyle(!1)},draw:function(b,a,c){var e,f,h;e=a?c:this.getColor();if(3==this.getPointCount()){f=[];for(h=0;h<this.getPointCount();h++)f.push(m.clone(this.getPoint(h)));
d.drawPolygon(b,this.getGraph(),f,e,this.getLineStyle(),0.75);this.inherited(arguments)}},drawMask:function(b,a,c){var e,f;if(3==this.getPointCount()){e=[];for(f=0;f<this.getPointCount();f++)e.push(m.clone(this.getPoint(f)));d.drawPolygon(b,this.getGraph(),e,a,this.getLineStyle(),c)}},getDistance:function(b,a){var d=[],e;for(e=0;e<this.getPointCount();e++)d.push(this.getPoint(e));return c.pointInPolygon(b,a,d)?0:-1},drawGhost:function(b,a,c){this._polygonGhostObject&&!this._polygonGhostObject.parent&&
(this._polygonGhostObject=null);3==a.length&&(this._polygonGhostObject=d.drawPolygon(this._polygonGhostObject||b,this.getGraph(),a,c,this.getLineStyle()))},getObjectType:function(){return f.GraphObjectType.TRIANGLE}})})},"xl/editgraph/GraphPolygonObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/IPMath xl/util/graphUtils".split(" "),function(l,m,k,f,e,d,n,c){return l("xl.editgraph.GraphPolygonObject",
[k],{_drawObject:null,constructor:function(b){this.setSupportsLineStyle(!1)},drawMask:function(b,a,c){var e,f=[];for(e=0;e<this.getPointCount();e++)f.push(this.getPoint(e));d.drawPolygon(b,this.getGraph(),f,a,this.getLineStyle(),c)},draw:function(b,a,c){var e,f,h;h=a?c:this.getColor();f=[];for(e=0;e<this.getPointCount();e++)f.push(this.getPoint(e));d.drawPolygon(b,this.getGraph(),f,h,this.getLineStyle(),0.75);this.inherited(arguments)},getDistance:function(b,a){var d,e;d=[];for(e=0;e<this.getPointCount();e++)d.push(this.getPoint(e));
return c.pointInPolygon(b,a,d)?0:-1},drawGhost:function(b,a,c){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);this._drawObject=d.drawPolygon(this._drawObject||b,this.getGraph(),a,c,this.getLineStyle())},getObjectType:function(){return f.GraphObjectType.POLYGON}})})},"xl/editgraph/GraphCurveXObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject".split(" "),function(l,m,k,f,e,d){return l("xl.editgraph.GraphCurveXObject",
[k],{_drawObject:null,drawMask:function(f,c,b){var a,k,l;l=e.IPGraphLineStyle.SOLID;k=[];for(a=0;a<this.getPointCount();a++)k.push(this.getPoint(a));d.drawCurveX(f,this.getGraph(),k,c,l,0,b)},draw:function(f,c,b){var a,k,l,m,h;c?(l=b,m=0,h=e.IPGraphLineStyle.SOLID):(l=this.getColor(),m=d.DEF_PLINEWIDTH,h=this.getLineStyle());k=[];for(a=0;a<this.getPointCount();a++)k.push(this.getPoint(a));a=this.getGraph().getPlotRect();d.drawCurveX(f,this.getGraph(),k,l,h,m).setClip({x:a.left,y:a.top,width:a.getWidth(),
height:a.getHeight()});this.inherited(arguments)},getDistance:function(e,c){var b,a;a=[];for(b=0;b<this.getPointCount();b++)a.push(this.getPoint(b));return d.getCurveXDistance(this.getGraph(),e,c,a)},drawGhost:function(e,c,b){this._drawObject&&!this._drawObject.parent&&(this._drawObject=null);this._drawObject=d.drawCurveX(this._drawObject||e,this.getGraph(),c,b,this.getLineStyle(),d.DEF_PLINEGHOSTWIDTH);this._drawObject.clip||(e=this.getGraph().getPlotRect(),this._drawObject.setClip({x:e.left,y:e.top,
width:e.getWidth(),height:e.getHeight()}))},getObjectType:function(){return f.GraphObjectType.CURVEX}})})},"xl/editgraph/GraphPointObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils".split(" "),function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphPointObject",[k],{_drawLines:null,_drawValues:null,_xValue:null,_yValue:null,_drawObjects:null,_ghostObjects:null,constructor:function(c){this.setSupportsLineStyle(!1);
this._noClip=!0;this._drawObjects={};this._ghostObjects={}},draw:function(c,b,a){if(1===this.getPointCount()){var d=[this.getPoint(0)];this._drawObjects=this._drawObject(c,d,this.getColor(),this._drawObjects);this.inherited(arguments)}},getDistance:function(c,b){return 0<this.getPointCount()?d.getPointDistance(this.getGraph(),c,b,this.getPoint(0)):-1},deselect:function(){this._xValue&&this._xValue.setTextColor(this.getColor());this._yValue&&this._yValue.setTextColor(this.getColor());this.inherited(arguments)},
_drawObject:function(c,b,a,e){var f;f=!1;this.getGraph()&&(this.getGraph().getGraphControl()&&this.getGraph().getGraphControl().getGraphManager())&&(f=this.getGraph().getGraphControl().getGraphManager().hidePointLines);this.setDrawLines(!f);if(e._lineObject1&&(!e._lineObject1.parent||e._lineObject1.parent._parent!=c._parent))e._lineObject1=null;if(e._lineObject2&&(!e._lineObject2.parent||e._lineObject2.parent._parent!=c._parent))e._lineObject2=null;1<=b.length&&this._drawLines&&(e._lineObject1=d.drawSegment(e._lineObject1||
c,this.getGraph(),this.getGraph().getAxisX().viewFToWorld(this.getGraph().getAxisY().getPosition()),b[0].y,b[0].x,b[0].y,a,"ShortDot"),e._lineObject2=d.drawSegment(e._lineObject2||c,this.getGraph(),b[0].x,this.getGraph().getAxisY().viewFToWorld(this.getGraph().getAxisX().getPosition()),b[0].x,b[0].y,a,"ShortDot"));f=!1;this.getGraph()&&(this.getGraph().getGraphControl()&&this.getGraph().getGraphControl().getGraphManager())&&(f=this.getGraph().getGraphControl().getGraphManager().hidePointValues);this.setDrawValues(!f);
if(this._xValueLabel&&(!this._xValueLabel.rawNode||!this._xValueLabel.rawNode.parentNode||null!=this._xValueLabel.rawNode.parentNode&&this._xValueLabel.rawNode.parentNode.parentNode!=c._parent))this._xValueLabel=null;if(this._yValueLabel&&(!this._yValueLabel.rawNode||!this._yValueLabel.rawNode.parentNode||null!=this._yValueLabel.rawNode.parentNode&&this._yValueLabel.rawNode.parentNode.parentNode!=c._parent))this._yValueLabel=null;this._drawValues&&(f=this.getGraph().getAxisY().formatLabel(b[0].y),
this._yValueLabel=n.drawText(this._yValueLabel||c,this.getGraph().getAxisY().getPosition()+2,this.getGraph().getAxisY().worldToViewF(b[0].y)-2,f,a,"11px","Arial",!0),f=this.getGraph().getAxisX().formatLabel(b[0].x),this._xValueLabel=n.drawText(this._xValueLabel||c,this.getGraph().getAxisX().worldToViewF(b[0].x)+2,this.getGraph().getAxisX().getPosition()-2,f,a,"11px","Arial",!0));f=this.getGraph().getAxisX().worldToViewF(b[0].x);b=this.getGraph().getAxisY().worldToViewF(b[0].y);if(e._circleObject&&
(!e._circleObject.parent||e._circleObject.parent._parent!=c._parent))e._circleObject=null;e._circleObject=n.drawCircle(e._circleObject||c,f,b,3,a,a);return e},drawGhost:function(c,b,a){this._ghostObjects=this._drawObject(c,b,a,this._ghostObjects)},getObjectType:function(){return f.GraphObjectType.POINT},getDrawLines:function(){return this._drawLines},setDrawLines:function(c){this._drawLines=c},getDrawValues:function(){return this._drawValues},setDrawValues:function(c){this._drawValues=c}})})},"xl/editgraph/GraphCubicObject":function(){define(["dojo/_base/declare",
"xl/editgraph/GraphPolynomialObject","xl/editgraph/enums"],function(l,m,k){return l("xl.editgraph.GraphCubicObject",[m],{getObjectType:function(){return k.GraphObjectType.CUBIC}})})},"xl/editgraph/GraphPolynomialObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject".split(" "),function(l,m,k,f,e,d){return l("xl.editgraph.GraphPolynomialObject",[k],{_coeffs:null,_polynomObject:null,draw:function(f,
c,b){var a,k,l;c?(a=b,k=0,l=e.IPGraphLineStyle.SOLID):(a=this.getColor(),k=d.DEF_PLINEWIDTH,l=this.getLineStyle());if(0<this.getPointCount()){for(var m=[],h=0;h<this.getPointCount();h++)m.push(this.getPoint(h));this._coeffs=d.calcPolynom(m);m=this.getGraph().getPlotRect();d.drawPolynom(f,this.getGraph(),this._coeffs,a,l,k).setClip({x:m.left,y:m.top,width:m.getWidth(),height:m.getHeight()})}this.inherited(arguments)},drawMask:function(f,c,b){var a,k=[];for(a=0;a<this.getPointCount();a++)k.push(this.getPoint(a));
a=d.calcPolynom(k);d.drawPolynom(f,this.getGraph(),a,c,e.IPGraphLineStyle.SOLID,1,b)},drawGhost:function(e,c,b){c=d.calcPolynom(c);this._polynomObject&&!this._polynomObject.parent&&(this._polynomObject=null);this._polynomObject=d.drawPolynom(this._polynomObject||e,this.getGraph(),c,b,this.getLineStyle(),d.DEF_PLINEGHOSTWIDTH);this._polynomObject.clip||(e=this.getGraph().getPlotRect(),this._polynomObject.setClip({x:e.left,y:e.top,width:e.getWidth(),height:e.getHeight()}))},getDistance:function(e,c){var b,
a,f,k,l,h;b=e-this.getGraph().getAxisX().viewToWorldRel(5);a=e+this.getGraph().getAxisX().viewToWorldRel(5);f=c-this.getGraph().getAxisY().viewToWorldRel(5);k=c+this.getGraph().getAxisY().viewToWorldRel(5);l=this.fOfX(b)-k;k=this.fOfX(a)-k;h=this.fOfX(b)-f;f=this.fOfX(a)-f;return 0<l&&0<k&&0<h&&0<f||0>l&&0>k&&0>h&&0>f?-1:d.getSegmentDistance(this.getGraph(),e,c,{x:b,y:this.fOfX(b)},{x:a,y:this.fOfX(a)},!0)},fOfX:function(e){return d.getPolynomial(this._coeffs,e)},initSelection:function(d){d.disallowSameXBlobs=
!0},filterObject:function(d){d||this.filterSameX()}})})},"xl/editgraph/GraphQuadraticObject":function(){define(["dojo/_base/declare","xl/editgraph/GraphPolynomialObject","xl/editgraph/enums"],function(l,m,k){return l("xl.editgraph.GraphQuadraticObject",[m],{getObjectType:function(){return k.GraphObjectType.QUADRATIC}})})},"xl/editgraph/GraphRegionObject":function(){define("dojo/_base/declare xl/grapher/IPGraphRegion ./IEditableGraphObject xl/util/graphUtils ./GraphObject ./enums xl/grapher/enums xl/editgraph/GraphObjectLabel dojo/_base/lang xl/editgraph/GraphSettings".split(" "),
function(l,m,k,f,e,d,n,c,b,a){return l("xl.editgraph.GraphRegionObject",[k,m],{_points:null,_canMove:!1,_onGetExprValue:null,_objLabel:null,showPoints:!1,_isStatic:!1,_undeletable:!1,_activeExpression:null,_drawAsymptote:!1,ignore:!1,_ghostObject:null,constructor:function(){this._points=[];this._canMove=!0;this.setDrawMarker(!0)},clone:function(a){var b=this.inherited(arguments);b.canMove=this.getCanMove();b.showPoints=this.getShowPoints();for(var c=0;c<this.getPointCount();c++)b.addPoint().assign(this.getPoint(c));
return b},getParams:function(){return null},getParam:function(a){return null},setParam:function(a,b){},setObjLabelText:function(a,b){this.addLabel(a);this._objLabel&&(this._objLabel.text=b,this.updateLabelPos())},getPointCount:function(){return this._points.length},getPoint:function(a){return this._points[a]},drawPoints:function(a){var b,c,d;for(d=0;d<this._points.length;d++)c=this.getPoint(d),b=this.getGraph().getAxisX().worldToViewF(c.x),c=this.getGraph().getAxisY().worldToViewF(c.y),f.drawCircle(a,
b,c,3,this.getColor(),this.getColor(),0,!0)},getGraphData:function(){var a={};a.objectType=this.getObjectType();this.getObjLabel()&&(a.labelpositionset=1,b.mixin(a,this.getObjLabel().getGraphData()));this._supportsLineStyle&&(a.lineStyle=this._lineStyle);a.points=this._points;a.color=this.getColor();a.tag=this.getTag();a.ignore=this.ignore;return a},updateLabelPos:function(){var a;this._objLabel&&(0<this.getPointCount()&&(a=this.getPoint(0),this._objLabel.setLocation(a),this._objLabel.setRefPoint(0)),
this._objLabel.setHAlignment(n.IPGraphAlignment.LEFT),this._objLabel.setVAlignment(n.IPGraphAlignment.MIDDLE),this._objLabel.setPositionSet(!0))},getObjLabelText:function(){return this._objLabel?this._objLabel.text:""},addPoint:function(a){var b=a;a||(b={x:0,y:0});this._points.push(b);return b},filterObject:function(a){},getDistance:function(a,b){var c;c=-1;0<this.getPointCount()&&(c=e.getPointDistance(this.getGraph(),a,b,this.getPoint(0)));return c},movePoint:function(a,b){0<=a&&a<this.getPointCount()&&
(this.getPoint(a).x=b.x,this.getPoint(a).y=b.y,this.setLocationX(b.x),this.setLocationY(b.y),this.updateLabelPos())},drawGhost:function(a,b,c){this._ghostObject&&!this._ghostObject.group.parent&&(this._ghostObject=null);1<=b.length&&(c=this.getGraph().getAxisX().worldToView(b[0].x),b=this.getGraph().getAxisY().worldToView(b[0].y),this._ghostObject=f.drawBucket(a,this._ghostObject,c,b,"#00007C",!0,"FFFF00"));this._objLabel&&this._objLabel.draw(a)},getCanMove:function(){return this._canMove},setCanMove:function(a){this._canMove=
a},getLineStyle:function(){return d.GraphObjectLineStyle.NONE},startEditing:function(a){return!1},stopEditing:function(){return!1},getObjectType:function(){return d.GraphObjectType.REGION},setGraph:function(a){this.inherited(arguments);this._objLabel&&this._objLabel.setGraph(a)},addLabel:function(a){this._objLabel||(this._objLabel=new c,this._objLabel.setGraph(this.getGraph()),this._objLabel.setIsFormula(a.getFormulaLabels()),this._objLabel.setTag(-1),this._objLabel.setGraphObject(this),this._objLabel.setLabelOptions(a.getObjectLabels()),
this._objLabel.setMenu(a.getLabelMenu()),this.updateLabelPos())},addNewLabel:function(b,d){this._objLabel||(this._objLabel=new c,this._objLabel.setGraph(this.getGraph()),this._objLabel.setIsFormula(!0),this._objLabel.drawHandle=this.getGraph().getGraphControl().drawLabelHandle,this._objLabel.allowMove=!0,a.boldTextLabels&&!this._objLabel.getFormula()&&(this._objLabel.getFont().bold=!0),this._objLabel.setGraphObject(this),this._objLabel.setTag(1),this._objLabel.setMenu([d.objLabel]),this.updateLabelPos())},
deselect:function(){this._objLabel&&(this._objLabel.allowMove=!1);this.invalidate();this.getGraph().invalidatePlots()},constrainBlob:function(a,b){},initSelection:function(a){},canSelect:function(a){return!0},mousePressed:function(a,b,c){},getTranslationPoint:function(){return-1},draw:function(a,b,c){0<this.getPointCount()&&(this.setLocationX(this.getPoint(0).x),this.setLocationY(this.getPoint(0).y),this.drawRegionMarker(a),this._objLabel&&(this.updateLabelPos(),this._objLabel.draw(this.getGraph().getBlobSurfaceLayer())))},
fill:function(a,b){this.setLocationX(this.getPoint(0).x);this.setLocationY(this.getPoint(0).y);this.inherited(arguments)},setShowPoints:function(a){this.showPoints=a},getShowPoints:function(){return this.showPoints},getIsStatic:function(){return this._isStatic},setIsStatic:function(a){this._isStatic=a},getUndeletable:function(){return this._undeletable},setUndeletable:function(a){this._undeletable=a},setLineStyle:function(a){},getSupportsLineStyle:function(){return!1},getOnGetExprValue:function(){return this._onGetExprValue},
setOnGetExprValue:function(a){this._onGetExprValue=a},getObjLabel:function(){return this._objLabel},setObjLabel:function(a){this._objLabel=a},getGraphPart:function(){return this},getActiveExpression:function(){return this._activeExpression},setActiveExpression:function(a){this._activeExpression=a},getDrawAsymptote:function(){return this._drawAsymptote},setDrawAsymptote:function(a){this._drawAsymptote=a}})})},"xl/editgraph/GraphXSquaredObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils".split(" "),
function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphXSquaredObject",[k],{createDefaultParams:function(){this.inherited(arguments);this.addParam("vstretch","1");this.addParam("hstretch","1")},getObjectType:function(){return f.GraphObjectType.XSQUARED},getY:function(c){return this.xflip()*this.vstretch()*Math.pow(this.yflip()*(c-this.hshift())*this.hstretch(),2)+this.vshift()}})})},"xl/editgraph/GraphXCubedObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils".split(" "),
function(l,m,k,f,e,d,n){return l("xl.editgraph.GraphXCubedObject",[k],{createDefaultParams:function(){this.inherited(arguments);this.addParam("vstretch","1");this.addParam("hstretch","1")},getObjectType:function(){return f.GraphObjectType.XCUBED},getY:function(c){return this.xflip()*this.vstretch()*Math.pow(this.yflip()*(c-this.hshift())*this.hstretch(),3)+this.vshift()}})})},"xl/editgraph/GraphLogObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath".split(" "),
function(l,m,k,f,e,d,n,c){return l("xl.editgraph.GraphLogObject",[k],{createDefaultParams:function(){this.inherited(arguments);this.addParam("vstretch","1");this.addParam("hstretch","1");this.addParam("base","e")},getObjectType:function(){return f.GraphObjectType.LOG},drawMask:function(b,a,c){var d;try{d=this.drawAsymptote,this.drawAsymptote=!1,this.inherited(arguments)}finally{this.drawAsymptote=d}},drawObject:function(b,a,c,f,k){this.inherited(arguments);this.drawAsymptote&&d.drawSegment(b,this.getGraph(),
this.hshift(),this.getGraph().getAxisY().getMinimum(),this.hshift(),this.getGraph().getAxisY().getMaximum(),a,e.IPGraphLineStyle.DOTTED,f/2)},getY:function(b){return this.xflip()*this.vstretch()*c.logX(this.base(),this.yflip()*(b-this.hshift())*this.hstretch())+this.vshift()},isInDomain:function(b){var a={domainInfo:f.GraphDomainInfo.DOMAIN},c=this.base();if(0>=c||1==c||0==this.hstretch())return a.domainInfo=f.GraphDomainInfo.NONE,a;c=1<c?1:-1;0<this.hstretch()*this.yflip()?b<=this.hshift()?0<this.xflip()*
this.vstretch()*c?(a.domainInfo=f.GraphDomainInfo.FROMNEGINFINITY,a.asymptoteX=this.hshift()):0>this.xflip()*this.vstretch()*c?(a.domainInfo=f.GraphDomainInfo.FROMPOSINFINITY,a.asymptoteX=this.hshift()):a.domainInfo=f.GraphDomainInfo.NONE:a.domainInfo=f.GraphDomainInfo.DOMAIN:b>=this.hshift()?0<this.xflip()*this.vstretch()*c?(a.domainInfo=f.GraphDomainInfo.FROMNEGINFINITY,a.asymptoteX=this.hshift()):0>this.xflip()*this.vstretch()*c?(a.domainInfo=f.GraphDomainInfo.FROMPOSINFINITY,a.asymptoteX=this.hshift()):
a.domainInfo=f.GraphDomainInfo.NONE:a.domainInfo=f.GraphDomainInfo.DOMAIN;return a}})})},"xl/editgraph/GraphExpObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n,c){return l("xl.editgraph.GraphExpObject",[k],{createDefaultParams:function(){this.inherited(arguments);this.addParam("vstretch","1");this.addParam("hstretch","1");
this.addParam("base","e")},getObjectType:function(){return f.GraphObjectType.EXP},drawMask:function(b,a,c){var d;try{d=this.drawAsymptote,this.drawAsymptote=!1,this.inherited(arguments)}finally{this.drawAsymptote=d}},drawObject:function(b,a,c,f,k){this.inherited(arguments);this.drawAsymptote&&d.drawSegment(b,this.getGraph(),this.getGraph().getAxisX().getMinimum(),this.vshift(),this.getGraph().getAxisX().getMaximum(),this.vshift(),a,e.IPGraphLineStyle.DOTTED,f/2)},getY:function(b){return this.xflip()*
this.vstretch()*Math.pow(this.base(),this.yflip()*(b-this.hshift())*this.hstretch())+this.vshift()}})})},"xl/editgraph/GraphSineObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n,c){return l("xl.editgraph.GraphSineObject",[k],{createDefaultParams:function(){this.inherited(arguments);this.addParam("amplitude","1");this.addParam("period",
"2*pi")},getObjectType:function(){return f.GraphObjectType.SINE},getY:function(b){return this.xflip()*this.amplitude()*Math.sin(this.yflip()*(b-this.hshift())*(2*Math.PI/this.period()))+this.vshift()},getDrawNumPoints:function(){var b=this._graph.getAxisX().getMinimum(),a=this._graph.getAxisX().getMaximum(),c=this._graph.getWidth(),d=1/this.percentOfXRel(this.period()/2);if(c>8*d)return c;b=Math.ceil(2*((this.hshift()-b-this.period()/4)/this.period()))+Math.ceil(2*((a-this.hshift()+this.period()/
4)/this.period()));return c>4*d?8*b:c>2*d?4*b:c>d?2*b:b},getDrawXMin:function(){var b=this.getGraph().getAxisX().getMinimum(),a=this.getGraph().getWidth(),c=1/this.percentOfXRel(this.period()/2);return a>8*c?b:this.hshift()-this.period()/4-Math.ceil(2*((this.hshift()-b-this.period()/4)/this.period()))*this.period()/2},getDrawXMax:function(){var b=this._graph.getAxisX().getMaximum(),a=this._graph.getWidth(),c=1/this.percentOfXRel(this.period()/2);return a>8*c?b:this.hshift()-this.period()/4+Math.ceil(2*
((b-this.hshift()+this.period()/4)/this.period()))*this.period()/2},errorInParams:function(){return c.sameValue(this.period(),0)}})})},"xl/editgraph/GraphCosineObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/enums xl/grapher/enums xl/editgraph/GraphObject xl/util/graphUtils xl/util/IPMath".split(" "),function(l,m,k,f,e,d,n,c){return l("xl.editgraph.GraphCosineObject",[k],{createDefaultParams:function(){this.inherited(arguments);this.addParam("amplitude",
"1");this.addParam("period","2*pi")},getObjectType:function(){return f.GraphObjectType.COSINE},getY:function(b){return this.xflip()*this.amplitude()*Math.cos(this.yflip()*(b-this.hshift())*(2*Math.PI/this.period()))+this.vshift()},getDrawNumPoints:function(){var b=this._graph.getAxisX().getMinimum(),a=this._graph.getAxisX().getMaximum(),c=this._graph.getWidth(),d=1/this.percentOfXRel(this.period()/2);if(c>8*d)return c;b=Math.ceil(2*((this.hshift()-b)/this.period()))+Math.ceil(2*((a-this.hshift())/
this.period()));return c>4*d?8*b:c>2*d?4*b:c>d?2*b:b},getDrawXMin:function(){var b=this.getGraph().getAxisX().getMinimum(),a=this.getGraph().getWidth(),c=1/this.percentOfXRel(this.period()/2);return a>8*c?b:this.hshift()-Math.ceil(2*((this.hshift()-b)/this.period()))*this.period()/2},getDrawXMax:function(){var b=this._graph.getAxisX().getMaximum(),a=this._graph.getWidth(),c=1/this.percentOfXRel(this.period()/2);return a>8*c?b:this.hshift()+Math.ceil(2*((b-this.hshift())/this.period()))*this.period()/
2},errorInParams:function(){return c.sameValue(this.period(),0)}})})},"xl/editgraph/GraphTextObject":function(){define("dojo/_base/declare dojo/_base/lang xl/editgraph/AbstractGraphObject xl/util/stringUtils xl/util/graphUtils xl/util/ForeignObject xl/grapher/enums ./enums xl/grapher/Rectangle ./GraphSettings ./LabelDropdown dojo/dom-geometry dojo/dom-construct dojo/string dojo/on".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q){return l("xl.editgraph.GraphTextObject",[k],{_text:"???",_font:null,
_gMgr:null,_hAlignment:0,_vAlignment:0,_margin:0,_formula:!1,_editField:null,_editFieldContainer:null,_lastSize:null,_lastBoundsRect:null,keepInBounds:!1,_surface:null,_labelText:null,_labelDropdown:null,_labelForeignObject:null,clone:function(a){var b=this.inherited(arguments);b._text=this.getText();b._hAlignment=this.getHAlignment();b._vAlignment=this.getVAlignment();b._margin=this.getMargin();b._formula=this.getFormula();return b},getText:function(){return""==f.trim(this._text)?"???":this._text},
getGraphData:function(){var a=this.inherited(arguments);a.text=this.getText();a.font=this._font;return a},getTextInsertionPt:function(){var a=m.clone(this.getPoint(0));a.x=this.getGraph().getAxisX().worldToView(a.x);a.y=this.getGraph().getAxisY().worldToView(a.y);return a},editKeyDown:function(a){console.log("editKeyDown",a);13==a.keyCode&&(this._gMgr.stopEditing(),this._gMgr._currentTool&&this._gMgr._currentTool.setCurrentObj(null));a.stopPropagation()},editKeyUp:function(a){console.log("editKeyUp",
a);a.stopPropagation()},editFocusLost:function(a){console.log("editFocusLost",a);this._gMgr&&this._gMgr.stopEditing()},errorString:function(a){return"!ERROR-"+a},setLabelPos:function(a){var c=0,d=0,e=this.getTextInsertionPt(),h=this.getTextSize();this._lastSize=h;switch(this._hAlignment){case n.IPGraphAlignment.LEFT:c=e.x+this._margin;break;case n.IPGraphAlignment.RIGHT:c=e.x-h.x-2*this._margin;break;case n.IPGraphAlignment.CENTER:c=Math.round(e.x-h.x/2)}switch(this._vAlignment){case n.IPGraphAlignment.TOP:d=
e.y+this._margin;break;case n.IPGraphAlignment.BOTTOM:d=e.y-h.y-2*this._margin;break;case n.IPGraphAlignment.MIDDLE:d=e.y-Math.round(h.y/2)}this._formula?a?this._labelFormulaForeignObject.setBox(a):this._labelFormulaForeignObject.setPosition(c,d):this._labelText.setShape({x:c,y:d+h.ascent,text:this.getText(),align:"start"});this._lastBoundsRect=new b({left:c,top:d,right:c+h.x,bottom:d+h.y});this._lastBoundsRect.inflate(this._margin,this._margin)},adjustLabelPosition:function(){var a=!1,b=this.getGraph(),
c=this.getPoint(0),d=b.getAxisX().worldToView(c.x),e=b.getAxisY().worldToView(c.y),h=this._lastBoundsRect,f=b.getPlotRect().clone();f.top-=b.marginTop;f.bottom+=b.marginBottom;f.left-=b.marginLeft;f.right+=b.marginRight;h.right>f.right&&(d-=h.right-f.right,c.x=b.getAxisX().viewToWorld(d),a=!0);h.left<f.left&&(d+=f.left-h.left,c.x=b.getAxisX().viewToWorld(d),a=!0);h.bottom>f.bottom&&(e-=h.bottom-f.bottom,c.y=b.getAxisY().viewToWorld(e),a=!0);h.top<f.top&&(e+=f.left-h.left,c.y=b.getAxisY().viewToWorld(e),
a=!0);a&&this.setLabelPos();return a},updateLabel:function(a){var b=this.getText(),c=this.getColor(),d,h=this.getGraph().getAxisX().worldToViewF(this.getPoint(0).x),f=this.getGraph().getAxisY().worldToViewF(this.getPoint(0).y);if(!this.getFormula()){var k=e.measureText(a,b,this.fontSize,this.fontName);d=k.height;h=Math.floor(h)+0.5;f=Math.floor(f+d)+0.5;this.underline&&a.createLine({x1:h+1,y1:f+2,x2:h+k.width+(this.italic?4:1),y2:f+2}).setStroke(c);!this._labelText||!this._labelText.parent||this._labelText.parent.rawNode!=
a.rawNode?(this._labelText=a.createText({x:h,y:f,id:this.clientId,text:b}).setFont({style:this.italic?"italic":"normal",family:this.fontName,size:this.fontSize,weight:this.bold?"bold":"normal"}).setFill(c),this.strikeout&&a.createLine({x1:h+1,y1:f-k.ascent/3+1,x2:h+k.width+(this.italic?4:1),y2:f-k.ascent/3+1}).setStroke(c)):this._labelText.setShape({x:h,y:f,text:b})}this.setLabelPos()},formulaResized:function(a){this.setLabelPos(a.box)},updateGhostLabel:function(a,b,c){this.getText()},getTextSize:function(){var a=
e.getTextHeight(this.getFont().fontFamily,this.getFont().fontSize);if(this.getFormula()){var b=r.getContentBox(this._labelFormula.domNode);return{x:b.w,y:b.h,ascent:a.ascent}}return{x:this._labelText.getTextWidth(),y:a.height,ascent:a.ascent}},getBoundsRect:function(a){a||(a=this.getGraph().getBlobSurfaceLayer());this.updateLabel(a);return this._lastBoundsRect},constructor:function(b){this.setSupportsLineStyle(!1);this._font={fontFamily:a.graphTextFont,fontSize:a.graphTextSize};this._noClip=!0;this._formula=
!1},draw:function(a,b,c){a&&(this._surface=a);this.updateLabel(a);this.keepInBounds&&this.adjustLabelPosition();this.inherited(arguments)},getDistance:function(a,b){var c;c=-1;if(0<this.getPointCount()){var d=this.getBoundsRect();a=this.getAxisX().worldToViewF(a);b=this.getAxisY().worldToViewF(b);d.contains(a,b)&&(c=3)}return c},drawGhost:function(a,b,c){b=b[0];b.x=this.getGraph().getAxisX().worldToView(b.x);b.y=this.getGraph().getAxisY().worldToView(b.y);this.updateGhostLabel(a,b,c)},_keyDownHandler:null,
_keyUpHandler:null,_focusLostHandler:null,startEditing:function(a){var b=this.getTextInsertionPt(),c=e.measureText(this.getGraph().getBlobSurfaceLayer(),this.getText(),this.fontSize,this.fontName);if(!this._editField){var d=h.substitute('\x3cinput type\x3d"text" name\x3d"editLabelInput" size\x3d"${size}" value\x3d"${text}"\x3e\x3c/input\x3e',{size:this.getText().length,text:this.getText()});this._editFieldContainer=this.getGraph().getBlobSurfaceLayer().createForeignObject({content:d,fontFamily:this._font.fontFamily,
fontSize:this._font.fontSize,layerPosition:"after"});this._editFieldContainer.startup();this._editField=this._editFieldContainer.domNode.firstChild}d={};d.x=b.x;d.y=b.y;d.w=c.width;d.h=c.height;this._editFieldContainer.setBox(d);this._gMgr=a;this._keyDownHandler=q(this._editField,"keydown",m.hitch(this,this.editKeyDown));this._keyUpHandler=q(this._editField,"keyup",m.hitch(this,this.editKeyUp));this._focusLostHandler=q(this._editField,"blur",m.hitch(this,this.editFocusLost));return!0},editMouseDown:function(a){trace("Edit mouse down")},
editMouseClick:function(a){trace("Edit mouse click")},deselect:function(){this.inherited(arguments);this._editField&&this._gMgr&&this._gMgr.stopEditing()},stopEditing:function(){if(this._editField){this._text=this._editField.value.trim();var a=m.clone(this._editFieldContainer.domNode.parentNode.firstChild),b=m.clone(this._editFieldContainer.domNode.parentNode.parentNode),c=this.findNodeIndex(this._editFieldContainer.domNode.parentNode);t.destroy(this._editFieldContainer.domNode);t.place(a,b,c);this._keyDownHandler.remove();
this._keyUpHandler.remove();this._focusLostHandler.remove();this._editField=this._editFieldContainer=null}return!0},findNodeIndex:function(a){for(var b=1;a=a.previousElementSibling;)++b;return b},getObjectType:function(){return c.GraphObjectType.TEXT},getHAlignment:function(){return this._hAlignment},setHAlignment:function(a){this._hAlignment=a},getVAlignment:function(){return this._vAlignment},setVAlignment:function(a){this._vAlignment=a},getMargin:function(){return this._margin},setMargin:function(a){this._margin=
a},setText:function(a){this._text!=a&&(this._text=a,this.invalidate())},setFont:function(a){this._font=a;a.fontFamily&&(this.fontName=a.fontName);a.fontSize&&(this.fontSize=a.fontSize);this.invalidate()},getFormula:function(){return this._formula},setFormula:function(a){this._formula=a},getFont:function(){return this._font}})})},"xl/player/controls/GraphPalette":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/popup dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/on dijit/place xl/dojo-ext/Moveable dojo/dom-style dojo/io-query xl/dijit/ResizeHandle dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/window dojo/dom-attr dojo/touch dojo/topic dijit/_TemplatedMixin xl/util/_ToolPaletteMixin ./_GraphToolMixin dojo/text!./templates/GraphPalette.html xl/ZOrder/ZOrderManager dojo/has".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N){return l("xl.player.controls.GraphPalette",[m,F,B,D],{baseClass:"xlGraphPalette xlGraphTools",templateString:E,dockPositions:["before","after","below","above"],_movable:null,padding:{x:0,y:3},docked:!1,postCreate:function(){this.inherited(arguments);this.isToolbar=!1;this._movable=new s(this.domNode,{handle:this.titleBar,delay:2});this.own(b(this.close,z.release,d.hitch(this,this._closeButtonClicked)),b(this._movable,"MoveStop",d.hitch(this,
this._endDrag)));N("touch")&&(N("ie")||N("trident")||N("edge"))&&r.set(this.domNode,"touch-action","none");this._resizeHandle=(new h({targetContainer:this.paletteBody,animateSizing:!1,activeResize:!0,minHeight:5})).placeAt(this.paletteBody);J.bringToTop(this.domNode)},_setupToolButtons:function(a){null==this._toolButtons&&this._started&&this.inherited(arguments)},sendToBack:function(){r.set(this.domNode,"zIndex",948)},sendToFront:function(){J.bringToTop(this.domNode)},destroy:function(){this.inherited(arguments);
this._resizeHandle&&this._resizeHandle.destroy()},_closeButtonClicked:function(){e.curNode&&(console.log("curNode: ",e.curNode),e.curNode.blur());e.focus(this.ownerDocumentBody);this._hide()},_endDrag:function(){this.constrainPosition()},onShowing:function(){this._setupToolButtons(this.Buttons)},determineTarget:function(a){return a.isInstanceOf(xl.editgraph.GraphControl)&&a.editable&&!a.getGraph().isZoomed?a.getGraph():null}})})},"xl/dijit/ResizeHandle":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/connect dojo/_base/array dojo/_base/event dojo/_base/fx dojo/_base/window dojo/fx dojo/window dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/_base/manager dijit/_Widget dijit/_TemplatedMixin dojo/_base/declare dojo/touch".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w){l=v("xl.dijit.ResizeHandle",[q,u],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",endTopic:"/dojo/resize/stop",templateString:'\x3cdiv dojoAttachPoint\x3d"resizeHandle" class\x3d"dojoxResizeHandle"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',
position:"BR",dialogNode:null,postCreate:function(){this.connect(this.resizeHandle,w.press,"_beginSizing");this.activeResize?this.animateSizing=!1:(this._resizeHelper=h.byId("dojoxGlobalResizeHelper"),this._resizeHelper||(this._resizeHelper=(new x({id:"dojoxGlobalResizeHelper"})).placeAt(n.body()),s.add(this._resizeHelper.domNode,this.activeResizeClass)));this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight});this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight});this._resizeX=
this._resizeY=!1;var a=m.partial(s.add,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=!0;a("dojoxResizeNW");break;case "x":this._resizeX=!0;a("dojoxResizeW");break;case "y":this._resizeY=!0,a("dojoxResizeN")}},_beginSizing:function(b){if(!this._isSizing&&(k.publish(this.startTopic,[this]),this.targetDomNode=(this.targetWidget=h.byId(this.targetId))?this.targetWidget.domNode:a.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),
this.targetDomNode)){this.domNode.style.zIndex&&t.set(this._resizeHelper.domNode,{zIndex:this.domNode.style.zIndex+1});if(!this.activeResize){var c=r.position(this.targetDomNode,!0);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();this.isLeftToRight()||(this._resizeHelper.startPosition={l:c.x,t:c.y})}this._isSizing=!0;this.startPoint={x:b.clientX,y:b.clientY};var c=t.getComputedStyle(this.targetDomNode),d="border-model"===r.boxModel?{w:0,h:0}:r.getPadBorderExtents(this.targetDomNode,
c),f=r.getMarginExtents(this.targetDomNode,c);this.startSize={w:t.get(this.targetDomNode,"width",c),h:t.get(this.targetDomNode,"height",c),pbw:d.w,pbh:d.h,mw:f.w,mh:f.h};!this.isLeftToRight()&&"absolute"===dojo.style(this.targetDomNode,"position")&&(c=r.position(this.targetDomNode,!0),this.startPosition={l:c.x,t:c.y});this._pconnects=[k.connect(n.doc,w.move,this,"_updateSizing"),k.connect(n.doc,w.release,this,"_endSizing")];e.stop(b)}},_updateSizing:function(a){if(0===a.buttons&&("undefined"===typeof a.touches||
0===a.touches.length))this._endSizing(a);else if(!this._isOutsideWindow(a)){if(this.activeResize)this._changeSizing(a);else{var b=this._getNewCoords(a,"border",this._resizeHelper.startPosition);if(!1===b)return;this._resizeHelper.resize(b)}a.preventDefault()}},_isOutsideWindow:function(a){var c=b.getBox();return a.pageX<c.l||a.pageY<c.t||a.pageX>c.w||a.pageY>c.h},_getNewCoords:function(a,b,c){try{if(!a.clientX||!a.clientY)return!1}catch(d){return!1}this._activeResizeLastEvent=a;var e=(this.isLeftToRight()&&
!this._isLeft()?1:-1)*(this.startPoint.x-a.clientX);a=(!this._isTop()?1:-1)*(this.startPoint.y-a.clientY);var h=this.startSize.w-(this._resizeX?e:0),f=this._checkConstraints(h,this.startSize.h-(this._resizeY?a:0));this._isLeft()&&f.w>this.minSize.w&&(f.l=this.startPoint.x+e);this._isTop()&&f.h>this.minSize.h&&(f.t=this.startPoint.y+a);if((c=c||this.startPosition)&&this._resizeX)f.l=c.l+e,f.w!==h&&(f.l+=h-f.w),f.t=c.t;switch(b){case "margin":f.w+=this.startSize.mw,f.h+=this.startSize.mh;case "border":f.w+=
this.startSize.pbw,f.h+=this.startSize.pbh}return f},_checkConstraints:function(a,b){if(this.minSize){var c=this.minSize;a<c.w&&(a=c.w);b<c.h&&(b=c.h)}this.constrainMax&&this.maxSize&&(c=this.maxSize,a>c.w&&(a=c.w),b>c.h&&(b=c.h));if(this.fixedAspect){var c=this.startSize.w,d=this.startSize.h,e=c*b-d*a;0>e?a=b*c/d:0<e&&(b=a*d/c)}return{w:a,h:b}},_changeSizing:function(a){var b=this.targetWidget&&m.isFunction(this.targetWidget.resize),e=this._getNewCoords(a,b&&"margin");if(!1!==e&&(b?this.targetWidget.resize(e):
this.animateSizing?c[this.animateMethod]([d.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:e.w}},duration:this.animateDuration}),d.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:e.h}},duration:this.animateDuration})]).play():(t.set(this.targetDomNode,{width:e.w+"px",height:e.h+"px"}),e.l&&this.dialogNode&&t.set(this.dialogNode,{left:e.l+"px"}),e.t&&this.dialogNode&&t.set(this.dialogNode,{top:e.t+"px"})),this.intermediateChanges))this.onResize(a)},
_endSizing:function(a){f.forEach(this._pconnects,k.disconnect);var b=m.partial(k.publish,this.endTopic,[this]);this.activeResize?b():(this._resizeHelper.hide(),this._changeSizing(a),setTimeout(b,this.animateDuration+15));this._isSizing=!1;this.onResize(a)},onResize:function(){},_isLeft:function(){return"L"===this.position[1]},_isTop:function(){return"T"===this.position[0]}});var x=v("dojox.layout._ResizeHelper",q,{show:function(){t.set(this.domNode,"display","")},hide:function(){t.set(this.domNode,
"display","none")},resize:function(a){r.setMarginBox(this.domNode,a)}});return l})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(l,m,k,f,e,d,n,c,b,a,s){k.isAsync||a(0,function(){s(["./fx/Toggler"])});k=k.fx={};a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var r=function(a){this._index=-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=
null;this.duration=0;f.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};r.prototype=new m;l.extend(r,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=e.after(this._current,"onAnimate",l.hitch(this,"_onAnimate"),
!0),this._onEndCtx=e.after(this._current,"onEnd",l.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var c=e.after(this._current,"beforeBegin",l.hitch(this,function(){this._fire("beforeBegin")}),!0),d=e.after(this._current,"onBegin",l.hitch(this,function(a){this._fire("onBegin",arguments)}),!0),f=e.after(this._current,"onPlay",l.hitch(this,function(a){this._fire("onPlay",
arguments);c.remove();d.remove();f.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=e.after(this._current,"onAnimate",l.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=e.after(this._current,"onEnd",l.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=e.after(this._current,"onPause",l.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);
this._current.pause()}return this},gotoPercent:function(a,b){this.pause();var c=this.duration*a;this._current=null;f.some(this._animations,function(a){if(a.duration<=c)return this._current=a,!0;c-=a.duration;return!1});this._current&&this._current.gotoPercent(c/this._current.duration,b);return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var b=e.after(this._current,
"onStop",l.hitch(this,function(a){this._fire("onStop",arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});l.extend(r,a);k.chain=function(a){return new r(a)};var t=function(a){this._animations=a||[];this._connects=[];this.duration=this._finished=0;f.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);
this.duration<b&&(this.duration=b);this._connects.push(e.after(a,"onEnd",l.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var b=this;f.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){b._connects.push(e.after(b._pseudoAnimation,a,function(){b._fire(a,arguments)},!0))})};l.extend(t,{_doAction:function(a,b){f.forEach(this._animations,function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>
this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;f.forEach(this._animations,function(a){a.gotoPercent(a.duration<c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",
arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){f.forEach(this._connects,function(a){a.remove()})}});l.extend(t,a);k.combine=function(a){return new t(a)};k.wipeIn=function(a){var b=a.node=n.byId(a.node),f=b.style,k;a=d.animateProperty(l.mixin({properties:{height:{start:function(){k=f.overflow;f.overflow="hidden";if("hidden"==f.visibility||"none"==f.display)return f.height="1px",f.display="",f.visibility="",1;var a=c.get(b,
"height");return Math.max(a,1)},end:function(){return b.scrollHeight}}}},a));var m=function(){f.height="auto";f.overflow=k};e.after(a,"onStop",m,!0);e.after(a,"onEnd",m,!0);return a};k.wipeOut=function(a){var b=(a.node=n.byId(a.node)).style,c;a=d.animateProperty(l.mixin({properties:{height:{end:1}}},a));e.after(a,"beforeBegin",function(){c=b.overflow;b.overflow="hidden";b.display=""},!0);var f=function(){b.overflow=c;b.height="auto";b.display="none"};e.after(a,"onStop",f,!0);e.after(a,"onEnd",f,!0);
return a};k.slideTo=function(a){var f=null,k=null,m=function(a){return function(){var d=c.getComputedStyle(a),e=d.position;f="absolute"==e?a.offsetTop:parseInt(d.top)||0;k="absolute"==e?a.offsetLeft:parseInt(d.left)||0;"absolute"!=e&&"relative"!=e&&(d=b.position(a,!0),f=d.y,k=d.x,a.style.position="absolute",a.style.top=f+"px",a.style.left=k+"px")}}(a.node=n.byId(a.node));m();a=d.animateProperty(l.mixin({properties:{top:a.top||0,left:a.left||0}},a));e.after(a,"beforeBegin",m,!0);return a};return k})},
"xl/util/_ToolPaletteMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dijit/focus dijit/Destroyable dijit/place dijit/registry dojo/dom-geometry dojo/has dojo/dom dojo/window dojo/dom-style dojo/json".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t){return l("xl.util._ToolPaletteMixin",[e],{targetWidget:null,_focusWatch:null,dockPositions:null,docked:!0,dockPadding:null,owner:null,_positioned:!1,showPalette:!0,hidePaletteOnBlur:!0,constructor:function(a,b){this.dockPositions=
this.dockPositions||["below","above","after","before"];this.dockPadding=this.dockPadding||{left:2,top:2,right:2,bottom:2};a&&a.owner&&(this.owner=a.owner)},postCreate:function(){this.inherited(arguments);this.own(f.on("widget-focus",m.hitch(this,this._widgetFocused)));this._focusWatch=f.watch("activeStack",m.hitch(this,this._checkFocus))},destroy:function(a){this._hide();this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode);this.inherited(arguments);this._focusWatch&&
this._focusWatch.unwatch();this.targetWidget&&this.detach(this.targetWidget);this.targetWidget=null},attach:function(a){},detach:function(a){},onShow:function(){},onShowing:function(){},onHide:function(){},determineTarget:function(a){return null},_show:function(){if(!this._visible){this._visible=!0;if(null==this.domNode.parentNode){var a=this.parentNode();a&&a.appendChild(this.domNode)}this.isInline&&(this.domNode&&this.domNode.parentNode)&&[].map.call(this.domNode.parentNode.children,function(a){return a}).map(m.hitch(this,
function(a){a!==this.domNode&&(a=n.byNode(a),a._hide&&a._hide())}));k.remove(this.domNode,"hidden");this.startup();this.onShowing();this.positionPalette();this.onShow()}},_hide:function(){!1!==this._visible&&(this._visible=!1,k.add(this.domNode,"hidden"),this.onHide())},_setTargetWidget:function(a){a!=this.targetWidget&&(this.targetWidget&&this.detach(this.targetWidget),this.set("targetWidget",a),this.targetWidget?(this.attach(this.targetWidget),this._show()):this.hidePaletteOnBlur&&this._hide())},
blurTarget:function(){var a=this.targetWidget;a&&a.focusNode&&a.focusNode.blur&&a.focusNode.blur()},focusTarget:function(){var a=this.targetWidget;if(a){if(a.focusNode&&a.focusNode.blur)try{a.focusNode.blur()}catch(b){}if(!a.disabled&&a.focusNode&&a.focusNode.focus)try{a.focusNode.focus()}catch(c){}}},anchorNode:function(){return this.targetWidget.domNode},parentNode:function(){return null},positionPalette:function(){if(this.targetWidget&&(this.docked||!this._positioned)){this._positioned=!0;var a=
this.anchorNode();a&&(a=c.position(a,!0),this.dockPadding&&(a.x-=this.dockPadding.left,a.y-=this.dockPadding.top,a.w+=this.dockPadding.right,a.h+=this.dockPadding.bottom),this.dockOffset&&(a.x+=this.dockOffset.x,a.y+=this.dockOffset.y),d.around(this.domNode,a,this.dockPositions,!0))}},_isOwnFocus:function(a){return 0<=a.indexOf(this.id)},_checkFocus:function(a,b,c){a=!1;this.targetWidget&&(a=0<=b.indexOf(this.targetWidget.id)&&0>c.indexOf(this.targetWidget.id));b=this._isOwnFocus(b);c=this._isOwnFocus(c);
if(a||b)c?this.defer(this.focusTarget,50):this._setTargetWidget(null),this.onWidgetBlurred({paletteGainingFocus:c})},onWidgetBlurred:function(a){},onWidgetFocused:function(){},_widgetFocused:function(a){if(this.showPalette&&(a=this.determineTarget(a))&&this.isOwner(a))this._setTargetWidget(a),this.onWidgetFocused()},isOwner:function(b){return null==this.owner?!0:a.isDescendant(b.domNode,this.owner.domNode)},_setDockedAttr:function(a){this._set("docked",a)},constrainPosition:function(){var a=c.position(this.domNode),
b=s.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);r.set(this.domNode,{left:Math.floor(b.l+a.x)+"px",top:Math.floor(b.t+a.y)+"px"})}})})},"xl/player/controls/_GraphToolMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dijit/focus dijit/Destroyable dijit/place dojo/dom-geometry dojo/has dojo/dom dojo/window dojo/dom-style dojo/dom-attr dojo/topic dojo/dom-construct dojo/on dijit/popup dijit/ColorPalette dojo/query dojo/touch dojo/html dojo/keys xl/dijit-bootstrap/Button xl/dijit-bootstrap/VerticalToggle xl/editgraph/enums xl/util/localization!html5player/player xl/util/mobileMethods".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J){var N=function(){return{select:{className:"iconSelect",cmd:D.GraphToolType.SELECT,tip:E["grpal.object_selection_tool"],title:"Select"},line:{className:"iconLine",cmd:D.GraphToolType.LINE,tip:E["grpal.line_tool"],title:"Line"},asymptote:{className:"iconAsymptote",cmd:D.GraphToolType.ASYMPTOTE,tip:E["grpal.asymptote_tool"],title:"Asymptote"},abs:{className:"iconAbs",cmd:D.GraphToolType.ABS,tip:E["grpal.abs_tool"],title:"Absolute Value"},
curve:{className:"iconCurve",cmd:D.GraphToolType.CURVE3,tip:E["grpal.3point_curved_line_tool"],title:"3-point Curve"},curve4:{className:"iconCurve4",cmd:D.GraphToolType.CURVE4,tip:E["grpal.4point_curved_line_tool"],title:"4-point Curve"},point:{className:"iconPoint",cmd:D.GraphToolType.POINT,tip:E["grpal.point_tool"],title:"Point"},hole:{className:"iconHole",cmd:D.GraphToolType.HOLE,tip:E["grpal.hole_tool"],title:"Hole"},polyline:{className:"iconPolyline",cmd:D.GraphToolType.POLYLINE,tip:E["grpal.polyline_tool"],
title:"Multipoint Line"},parabup:{className:"iconParabolaupdown",cmd:D.GraphToolType.PARABOLAY,tip:E["grpal.vertical_parabola_tool"],title:"Vertical Parabola"},parabside:{className:"iconParabolaleftright",cmd:D.GraphToolType.PARABOLAX,tip:E["grpal.horizontal_parabola_tool"],title:"Horizontal Parabola"},quadratic:{className:"iconQuadratic",cmd:D.GraphToolType.QUADRATIC,tip:E["grpal.quadratic_tool"],title:"Quadratic"},cubic:{className:"iconCubic",cmd:D.GraphToolType.CUBIC,tip:E["grpal.cubic_tool"],
title:"Cubic"},xsquared:{className:"iconSquared",cmd:D.GraphToolType.XSQUARED,tip:E["grpal.xsquared_tool"],title:"Squared"},xcubed:{className:"iconCubed",cmd:D.GraphToolType.XCUBED,tip:E["grpal.xcubed_tool"],title:"Cubed"},log:{className:"iconLog",cmd:D.GraphToolType.LOG,tip:E["grpal.log_tool"],title:"Log"},exp:{className:"iconExp",cmd:D.GraphToolType.EXP,tip:E["grpal.exp_tool"],title:"Exponential"},sine:{className:"iconSine",cmd:D.GraphToolType.SINE,tip:E["grpal.sine_tool"],title:"Sine"},cosine:{className:"iconCosine",
cmd:D.GraphToolType.COSINE,tip:E["grpal.cosine_tool"],title:"Cosine"},circle:{className:"iconCircle",cmd:D.GraphToolType.CIRCLE,tip:E["grpal.circle_tool"],title:"Circle"},region:{className:"iconRegionshading",cmd:D.GraphToolType.REGION,tip:E["grpal.region_shading_tool"],title:"Region Fill"},arrow:{className:"iconSinglearrow",cmd:D.GraphToolType.ARROW,tip:E["grpal.single_arrow_tool"],title:"Single Arrow"},doublearrow:{className:"iconDoublearrow",cmd:D.GraphToolType.DBLARROW,tip:E["grpal.double_arrow_tool"],
title:"Double Arrow"},rectangle:{className:"iconRectangle",cmd:D.GraphToolType.RECTANGLE,tip:E["grpal.rectangle_tool"],title:"Rectangle"},triangle:{className:"iconTriangle",cmd:D.GraphToolType.TRIANGLE,tip:E["grpal.triangle_tool"],title:"Triangle"},polygon:{className:"iconPolygon",cmd:D.GraphToolType.POLYGON,tip:E["grpal.polygon_tool"],title:"Polygon"},text:{className:"iconText",cmd:D.GraphToolType.TEXT,tip:E["grpal.text_tool"],title:"Text"},solid:{className:"iconSolidLine",cmd:D.GraphToolType.SOLID,
tip:E["grpal.make_selected_object_solid"],title:"Line Style"},dashed:{className:"iconDashedLine",cmd:D.GraphToolType.DASHED,tip:E["grpal.make_selected_object_dashed"],title:"Line Style"},color:{className:"iconColor",cmd:D.GraphToolType.COLOR,tip:E["grpal.color_selection_tool"],isCommand:!0,noToggle:!0,selectRequired:!0},style:{},"delete":{className:"iconNoImage iconDel",cmd:D.GraphToolType.DELETE,tip:E["grpal.delete_selected_object"],isCommand:!0,noToggle:!0,selectRequired:!0,text:E["grpal.delete"],
title:"Delete"},clear:{className:"iconNoImage iconClear",cmd:D.GraphToolType.CLEAR,tip:E["grpal.reset"],isCommand:!0,noToggle:!0,text:E["grpal.clear"]},help:{className:"iconHelp",cmd:D.GraphToolType.HELP,tip:E["grpal.help"],isCommand:!0,noToggle:!0},uparrow:{className:"iconUpArrow",cmd:D.GraphToolType.UP_ARROW,tip:E["grpal.up"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-up"\x3e\x3c/span\x3e'},downarrow:{className:"iconDownArrow",cmd:D.GraphToolType.DOWN_ARROW,tip:E["grpal.down"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-down"\x3e\x3c/span\x3e'},
leftarrow:{className:"iconLeftArrow",cmd:D.GraphToolType.LEFT_ARROW,tip:E["grpal.left"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-left"\x3e\x3c/span\x3e'},rightarrow:{className:"iconRightArrow",cmd:D.GraphToolType.RIGHT_ARROW,tip:E["grpal.right"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-right"\x3e\x3c/span\x3e'}}},O=null,H=function(){return O||(O=N())};h.subscribe("localizationChanged",function(a){"player/tdx/player"==a&&(O=null)});l=l("xl.util._GraphToolMixin",[d],{_toolButtons:null,
_started:!1,_graphControl:null,_colorPalette:null,_toolHolder:null,_joystick:null,_defaultTool:null,_defaultLineStyle:null,_styleButton:null,_keyDownHandler:null,addArrows:!0,commandsBeforeTools:!1,showCommands:!0,showColorButton:!0,constructor:function(a){this._toolButtons=[];a&&a.graphControl&&(this._graphControl=a.graphControl,this._graphControl._toolContainer=this)},postCreate:function(){this.inherited(arguments);this._keyDownHandler=u(this.domNode,"keydown",m.hitch(this,this._onKeyDown));this.setToolMessage();
this._toolChangedHandler=u(this._graphControl.getGraphManager(),"toolChanged",m.hitch(this,this._onToolChanged))},getButtonInfo:function(){return H()},_onToolChanged:function(a){x(".toolButton",this.domNode).forEach(function(b){b.cmd===a?f.add(b,"toggled"):f.remove(b,"toggled")})},_onKeyDown:function(a){this._graphControl.getGraph().processKeyCode(a.keyCode)&&a.keyCode===C.ENTER&&this._graphControl.getGraphManager().doUpdateMessage()},_setupToolButtons:function(a){if(!(null!=this._toolButtons&&0<
this._toolButtons.length)&&(this._toolButtons=[],this._toolButtonList)){var b=this._toolButtonList.split(","),b=[D.GraphToolType.SELECT].concat(b),c=[],d;for(d in H())0<=b.indexOf(d)&&c.push(d);this._toolHolder=b=q.create("div",{"class":"toolsAndCommands"},a);var e;this.commandsBeforeTools?(a=q.create("div",{"class":"commands"},b),e=q.create("div",{"class":"tools"},b)):(e=q.create("div",{"class":"tools"},b),a=q.create("div",{"class":"commands"},b));k.forEach(c,m.hitch(this,function(a){this._addCommand(a,
e)}));this._addCommand(D.GraphToolType.DELETE,a);this._addCommand(D.GraphToolType.CLEAR,a);(c=this.graphControl.getViewer())&&c.showHelpButton&&this._addCommand(D.GraphToolType.HELP,a);this.showCommands||r.set(a,"display","none")}},_addCommand:function(a,b){if("style"!==a){var d=H()[a];if(void 0==d)return null;d=this._createButton(d);this._toolButtons.push(d);b.appendChild(d.domNode);u(d,A.press,m.hitch(this,this._toolButtonClicked));return c.getMarginBox(d.domNode)}var d=H()[D.GraphToolType.SOLID],
e=H()[D.GraphToolType.DASHED];if(!d||!e)return null;d=this._createButton(d);e=this._createButton(e);u(d,A.press,m.hitch(this,this._toolButtonClicked));u(e,A.press,m.hitch(this,this._toolButtonClicked));var f=new B;f.addButton(d);f.addButton(e);this._defaultLineStyle===D.GraphToolType.DASHED?f.toggle(e.domNode):f.toggle(d.domNode);b.appendChild(f.domNode);this._styleButton=f;return c.getMarginBox(f.domNode)},_createButton:function(a){var b=new F({baseClass:"btn","class":"toolButton "+a.className,title:a.tip,
alt:a.tip,innerHTML:a.text?a.text:"\x26nbsp;"});b.domNode.cmd=a.cmd;this._defaultTool?a.cmd===this._defaultTool&&f.add(b.domNode,"toggled"):a.cmd===D.GraphToolType.SELECT&&f.add(b.domNode,"toggled");a.isCommand&&a.selectRequired&&(f.add(b.domNode,"selectRequired"),b.domNode.disabled=!0);J.preventDoubleTabZoom(b.domNode,this);return b},resetToolSelection:function(a){x(".toolButton",this.domNode).forEach(function(b){b.cmd!==D.GraphToolType.DASHED&&b.cmd!==D.GraphToolType.SOLID&&(f.remove(b,"toggled"),
a&&b.cmd===D.GraphToolType.SELECT&&f.add(b,"toggled"))});this._updateStyleButton()},setToolButtonsSelectState:function(a,b){x(".toolButton.selectRequired",this.domNode).forEach(function(b){b.disabled=!a});b&&this._styleButton&&(b==D.GraphToolType.SOLID?this._styleButton.toggle(this._styleButton.buttons[0].domNode):this._styleButton.toggle(this._styleButton.buttons[1].domNode));this._updateStyleButton()},_toolButtonClicked:function(a){console.log("GraphPalette: toolbuttonClicked");var b=!1,c=a.target.cmd?
a.target.cmd:a.target.parentElement.cmd,d=a.target.isReact,e=c!==D.GraphToolType.DASHED&&c!==D.GraphToolType.SOLID;switch(c){case D.GraphToolType.COLOR:b=!0;break;case D.GraphToolType.UP_ARROW:case D.GraphToolType.DOWN_ARROW:case D.GraphToolType.LEFT_ARROW:case D.GraphToolType.RIGHT_ARROW:e=!1,a.target.blur();default:this.emit("graphtool",{cmd:c,isReact:d})}c=H()[c];e&&!d&&(c&&c.noToggle?this.resetToolSelection(!0):(this.resetToolSelection(),f.add(a.target,"toggled")),this._updateStyleButton());if(b){this._colorPalette||
this._createColorPalette();var h=this;setTimeout(function(){h._openColorPalette(a.target)},this.delay)}},sendToBack:function(){},sendToFront:function(){},_updateStyleButton:function(){if(this._styleButton){var a=this._graphControl.getGraphManager(),b=null,c=a.getToolType();c==D.GraphToolType.SELECT&&(b=a.getSelectedObject());b?(a=b.getLineStyle(),b=b.getSupportsLineStyle()&&a!=D.GraphObjectLineStyle.NONE,this._styleButton.set("enabled",b),b?this._styleButton.toggle(this._styleButton.buttons[a==D.GraphObjectLineStyle.DASHED?
1:0]):this._styleButton.toggle(null)):(b=c!=D.GraphToolType.CIRCLE&&c!=D.GraphToolType.POINT,this._styleButton.set("enabled",b),this._styleButton.toggle(this._styleButton.buttons[a.getDefaultLineStyle()==D.GraphObjectLineStyle.DASHED?1:0]))}},_createColorPalette:function(){var a=this;this._colorPalette=new w({palette:"7x10",onChange:function(b){a._colorSelected(b)}},this.colorPalette)},_openColorPalette:function(a){v.open({parent:this,popup:this._colorPalette,around:a,orient:["below","above","after",
"before"],onCancel:function(){v.moveOffScreen(this._colorPalette)},onClose:function(){}})},_colorSelected:function(a){this.emit("graphtool",{cmd:D.GraphToolType.COLOR,val:a});v.moveOffScreen(this._colorPalette);this._showHide=!0},_destroyToolButtons:function(){this._toolButtons&&(k.forEach(this._toolButtons,function(a){a.destroy()}),this._toolButtons=null)},setToolButtons:function(a,b,c){if(a!=this._toolButtonList||b!=this._defaultTool||c!=this._defaultLineStyle)this._toolButtonList=a,this._defaultTool=
b,this._defaultLineStyle=c,this._destroyToolButtons()},destroy:function(){this._graphControl=null;this.inherited(arguments);this._toolButtons&&this._toolButtons.forEach(function(a,b){a.destroy()});this._styleButton&&this._styleButton.destroy();this._keyDownHandler&&this._keyDownHandler.remove()},getJoystick:function(){return this._joystick},getToolsHolder:function(){return this._toolHolder},setToolMessage:function(a,b){var c;if(this.toolMessage){if(b){c=E["grpal.editing"]+" ";var d=this._objectToButtonInfo(b);
c=d?c+d.tip:""}else c=E["grpal.selected"]+" ",d=H()[a],c+=d?d.tip:E["grpal.none"];z.set(this.toolMessage,c)}},_objectToButtonInfo:function(a){var b;a instanceof xl.editgraph.GraphLineObject?b=H().line:a instanceof xl.editgraph.GraphAbsObject?b=H().abs:a instanceof xl.editgraph.GraphCurve3Object?b=H().curve:a instanceof xl.editgraph.GraphCurveXObject?b=H().curve4:a instanceof xl.editgraph.GraphPointObject?b=H().point:a instanceof xl.editgraph.GraphPolylineObject?b=H().polyline:a instanceof xl.editgraph.GraphParabolaObject?
b=H()["updown"==a.getParabolaType()?"parabup":"parabside"]:a instanceof xl.editgraph.GraphCubicObject?b=H().cubic:a instanceof xl.editgraph.GraphQuadraticObject?b=H().quadratic:a instanceof xl.editgraph.GraphXSquaredObject?b=H().xsquared:a instanceof xl.editgraph.GraphXCubedObject?b=H().xcubed:a instanceof xl.editgraph.GraphLogObject?b=H().log:a instanceof xl.editgraph.GraphExpObject?b=H().exp:a instanceof xl.editgraph.GraphSineObject?b=H().sine:a instanceof xl.editgraph.GraphCosineObject?b=H().cosine:
a instanceof xl.editgraph.GraphCircleObject?b=H().circle:a instanceof xl.editgraph.GraphRegionObject?b=H().region:a instanceof xl.editgraph.GraphArrowLineObject?b=H().arrow:a instanceof xl.editgraph.GraphDblArrowLineObject?b=H().doublearrow:a instanceof xl.editgraph.GraphRectangleObject?b=H().rectangle:a instanceof xl.editgraph.GraphTriangleObject?b=H().triangle:a instanceof xl.editgraph.GraphPolygonObject?b=H().polygon:a instanceof xl.editgraph.GraphTextObject&&(b=H().text);return b}});l.buttonInfo=
O;l.getButtonInfo=H;l.createButtonInfo=N;return l})},"dijit/ColorPalette":function(){define("require dojo/text!./templates/ColorPalette.html ./_Widget ./_TemplatedMixin ./_PaletteMixin ./hccss dojo/i18n dojo/_base/Color dojo/_base/declare dojo/dom-construct dojo/string dojo/i18n!dojo/nls/colors dojo/colors".split(" "),function(l,m,k,f,e,d,n,c,b,a,s){var r=b("dijit.ColorPalette",[k,f,e],{palette:"7x10",_palettes:{"7x10":["white seashell cornsilk lemonchiffon lightyellow palegreen paleturquoise lightcyan lavender plum".split(" "),
"lightgray pink bisque moccasin khaki lightgreen lightseagreen lightskyblue cornflowerblue violet".split(" "),"silver lightcoral sandybrown orange palegoldenrod chartreuse mediumturquoise skyblue mediumslateblue orchid".split(" "),"gray red orangered darkorange yellow limegreen darkseagreen royalblue slateblue mediumorchid".split(" "),"dimgray crimson chocolate coral gold forestgreen seagreen blue blueviolet darkorchid".split(" "),"darkslategray firebrick saddlebrown sienna olive green darkcyan mediumblue darkslateblue darkmagenta".split(" "),
"black darkred maroon brown darkolivegreen darkgreen midnightblue navy indigo purple".split(" ")],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:m,baseClass:"dijitColorPalette",_dyeFactory:function(a,b,c,d){return new this._dyeClass(a,b,c,d)},buildRendering:function(){this.inherited(arguments);this._dyeClass=b(r._Color,{palette:this.palette});this._preparePalette(this._palettes[this.palette],n.getLocalization("dojo","colors",
this.lang))}});r._Color=b("dijit._Color",c,{template:"\x3cspan class\x3d'dijitInline dijitPaletteImg'\x3e\x3cimg src\x3d'${blankGif}' alt\x3d'${alt}' title\x3d'${title}' class\x3d'dijitColorPaletteSwatch' style\x3d'background-color: ${color}'/\x3e\x3c/span\x3e",hcTemplate:"\x3cspan class\x3d'dijitInline dijitPaletteImg' style\x3d'position: relative; overflow: hidden; height: 12px; width: 14px;'\x3e\x3cimg src\x3d'${image}' alt\x3d'${alt}' title\x3d'${title}' style\x3d'position: absolute; left: ${left}px; top: ${top}px; ${size}'/\x3e\x3c/span\x3e",
_imagePaths:{"7x10":l.toUrl("./themes/a11y/colors7x10.png"),"3x4":l.toUrl("./themes/a11y/colors3x4.png")},constructor:function(a,b,d,e){this._title=e;this._row=b;this._col=d;this.setColor(c.named[a])},getValue:function(){return this.toHex()},fillCell:function(b,c){var e=s.substitute(d("highcontrast")?this.hcTemplate:this.template,{color:this.toHex(),blankGif:c,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),left:-20*this._col-5,top:-20*this._row-5,size:"7x10"==this.palette?
"height: 145px; width: 206px":"height: 64px; width: 86px"});a.place(e,b)}});return r})},"dijit/_PaletteMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on ./_CssStateMixin ./a11yclick ./focus ./typematic".split(" "),function(l,m,k,f,e,d,n,c,b,a,s){return l("dijit._PaletteMixin",c,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(a){return new ("string"==
typeof this.dyeClass?d.getObject(this.dyeClass):this.dyeClass)(a)},_preparePalette:function(a,c){this._cells=[];var h=this._blankGif;this.own(n(this.gridNode,b,d.hitch(this,"_onCellClick")));for(var k=0;k<a.length;k++)for(var l=f.create("tr",{tabIndex:"-1",role:"row"},this.gridNode),m=0;m<a[k].length;m++){var w=a[k][m];if(w){var x=this._dyeFactory(w,k,m,c[w]),w=f.create("td",{"class":this.cellClass,tabIndex:"-1",title:c[w],role:"gridcell"},l);x.fillCell(w,h);w.idx=this._cells.length;this._cells.push({node:w,
dye:x})}}this._xDim=a[0].length;this._yDim=a.length;var A={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1},z;for(z in A)this.own(s.addKeyListener(this.domNode,{keyCode:e[z],ctrlKey:!1,altKey:!1,shiftKey:!1},this,function(){var a=A[z];return function(b){this._navigateByKey(a,b)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){this.inherited(arguments);this._setCurrent(this._cells[0].node)},focus:function(){a.focus(this._currentFocus)},
_onCellClick:function(b){for(var c=b.target;"TD"!=c.tagName;){if(!c.parentNode||c==this.gridNode)return;c=c.parentNode}var d=this._getDye(c).getValue();this._setCurrent(c);a.focus(c);this._setValueAttr(d,!0);b.stopPropagation();b.preventDefault()},_setCurrent:function(a){"_currentFocus"in this&&m.set(this._currentFocus,"tabIndex","-1");(this._currentFocus=a)&&m.set(a,"tabIndex",this.tabIndex)},_setValueAttr:function(a,b){0<=this._selectedCell&&k.remove(this._cells[this._selectedCell].node,this.cellClass+
"Selected");this._selectedCell=-1;if(a)for(var c=0;c<this._cells.length;c++)if(a==this._cells[c].dye.getValue()){this._selectedCell=c;k.add(this._cells[c].node,this.cellClass+"Selected");break}this._set("value",0<=this._selectedCell?a:null);if(b||void 0===b)this.onChange(a)},onChange:function(){},_navigateByKey:function(b,c){if(-1!=c){var e=this._currentFocus.idx+b;e<this._cells.length&&-1<e&&(e=this._cells[e].node,this._setCurrent(e),this.defer(d.hitch(a,"focus",e)))}},_getDye:function(a){return this._cells[a.idx].dye}})})},
"dojo/nls/colors":function(){define({root:{aliceblue:"alice blue",antiquewhite:"antique white",aqua:"aqua",aquamarine:"aquamarine",azure:"azure",beige:"beige",bisque:"bisque",black:"black",blanchedalmond:"blanched almond",blue:"blue",blueviolet:"blue-violet",brown:"brown",burlywood:"burlywood",cadetblue:"cadet blue",chartreuse:"chartreuse",chocolate:"chocolate",coral:"coral",cornflowerblue:"cornflower blue",cornsilk:"cornsilk",crimson:"crimson",cyan:"cyan",darkblue:"dark blue",darkcyan:"dark cyan",
darkgoldenrod:"dark goldenrod",darkgray:"dark gray",darkgreen:"dark green",darkgrey:"dark gray",darkkhaki:"dark khaki",darkmagenta:"dark magenta",darkolivegreen:"dark olive green",darkorange:"dark orange",darkorchid:"dark orchid",darkred:"dark red",darksalmon:"dark salmon",darkseagreen:"dark sea green",darkslateblue:"dark slate blue",darkslategray:"dark slate gray",darkslategrey:"dark slate gray",darkturquoise:"dark turquoise",darkviolet:"dark violet",deeppink:"deep pink",deepskyblue:"deep sky blue",
dimgray:"dim gray",dimgrey:"dim gray",dodgerblue:"dodger blue",firebrick:"fire brick",floralwhite:"floral white",forestgreen:"forest green",fuchsia:"fuchsia",gainsboro:"gainsboro",ghostwhite:"ghost white",gold:"gold",goldenrod:"goldenrod",gray:"gray",green:"green",greenyellow:"green-yellow",grey:"gray",honeydew:"honeydew",hotpink:"hot pink",indianred:"indian red",indigo:"indigo",ivory:"ivory",khaki:"khaki",lavender:"lavender",lavenderblush:"lavender blush",lawngreen:"lawn green",lemonchiffon:"lemon chiffon",
lightblue:"light blue",lightcoral:"light coral",lightcyan:"light cyan",lightgoldenrodyellow:"light goldenrod yellow",lightgray:"light gray",lightgreen:"light green",lightgrey:"light gray",lightpink:"light pink",lightsalmon:"light salmon",lightseagreen:"light sea green",lightskyblue:"light sky blue",lightslategray:"light slate gray",lightslategrey:"light slate gray",lightsteelblue:"light steel blue",lightyellow:"light yellow",lime:"lime",limegreen:"lime green",linen:"linen",magenta:"magenta",maroon:"maroon",
mediumaquamarine:"medium aquamarine",mediumblue:"medium blue",mediumorchid:"medium orchid",mediumpurple:"medium purple",mediumseagreen:"medium sea green",mediumslateblue:"medium slate blue",mediumspringgreen:"medium spring green",mediumturquoise:"medium turquoise",mediumvioletred:"medium violet-red",midnightblue:"midnight blue",mintcream:"mint cream",mistyrose:"misty rose",moccasin:"moccasin",navajowhite:"navajo white",navy:"navy",oldlace:"old lace",olive:"olive",olivedrab:"olive drab",orange:"orange",
orangered:"orange red",orchid:"orchid",palegoldenrod:"pale goldenrod",palegreen:"pale green",paleturquoise:"pale turquoise",palevioletred:"pale violet-red",papayawhip:"papaya whip",peachpuff:"peach puff",peru:"peru",pink:"pink",plum:"plum",powderblue:"powder blue",purple:"purple",red:"red",rosybrown:"rosy brown",royalblue:"royal blue",saddlebrown:"saddle brown",salmon:"salmon",sandybrown:"sandy brown",seagreen:"sea green",seashell:"seashell",sienna:"sienna",silver:"silver",skyblue:"sky blue",slateblue:"slate blue",
slategray:"slate gray",slategrey:"slate gray",snow:"snow",springgreen:"spring green",steelblue:"steel blue",tan:"tan",teal:"teal",thistle:"thistle",tomato:"tomato",transparent:"transparent",turquoise:"turquoise",violet:"violet",wheat:"wheat",white:"white",whitesmoke:"white smoke",yellow:"yellow",yellowgreen:"yellow green"},zh:!0,"zh-tw":!0,uk:!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,hr:!0,he:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,
cs:!0,ca:!0,bg:!0,az:!0,ar:!0})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(l,m,k,f){var e={};m.setObject("dojo.colors",e);var d=function(c,b,a){0>a&&++a;1<a&&--a;var d=6*a;return 1>d?c+(b-c)*d:1>2*a?b:2>3*a?c+6*(b-c)*(2/3-a):c};l.colorFromRgb=k.fromRgb=function(c,b){var a=c.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(a){var e=a[2].split(/\s*,\s*/),l=e.length,a=a[1];if("rgb"==a&&3==l||"rgba"==a&&4==l)return a=e[0],"%"==
a.charAt(a.length-1)?(a=f.map(e,function(a){return 2.56*parseFloat(a)}),4==l&&(a[3]=e[3]),k.fromArray(a,b)):k.fromArray(e,b);if("hsl"==a&&3==l||"hsla"==a&&4==l){var a=(parseFloat(e[0])%360+360)%360/360,m=parseFloat(e[1])/100,h=parseFloat(e[2])/100,m=0.5>=h?h*(m+1):h+m-h*m,h=2*h-m,a=[256*d(h,m,a+1/3),256*d(h,m,a),256*d(h,m,a-1/3),1];4==l&&(a[3]=e[3]);return k.fromArray(a,b)}}return null};var n=function(c,b,a){c=Number(c);return isNaN(c)?a:c<b?b:c>a?a:c};k.prototype.sanitize=function(){this.r=Math.round(n(this.r,
0,255));this.g=Math.round(n(this.g,0,255));this.b=Math.round(n(this.b,0,255));this.a=n(this.a,0,1);return this};e.makeGrey=k.makeGrey=function(c,b){return k.fromArray([c,c,c,b])};m.mixin(k.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,
127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,
206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,
240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,
0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,
232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,
250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return k})},"xl/dijit-bootstrap/VerticalToggle":function(){define("dojo/_base/declare dojo/dom-construct dojo/on dojo/_base/lang dojo/keys dijit/focus dojo/dom-attr dojo/dom-class dijit/_WidgetBase dijit/_Container xl/dijit-bootstrap/Button".split(" "),function(l,m,k,f,
e,d,n,c,b,a,s){return l("xl.dijit-bootstrap.VerticalToggle",[b,a],{baseClass:"btn-group-vertical",buttons:null,domNode:null,enabled:!0,constructor:function(){this.buttons=[]},_setEnabledAttr:function(a){this.enabled=a;this.buttons.forEach(function(b){b.domNode&&(b.domNode.disabled=!a)})},toggle:function(a){this.buttons.forEach(function(a){a.domNode?c.remove(a.domNode,"groupToggled"):c.remove(a,"groupToggled")});a&&(a.domNode?c.add(a.domNode,"groupToggled"):c.add(a,"groupToggled"))},_onClick:function(a){var b=
this.inherited(arguments);this.toggle(a.target);return b},addButton:function(a){this.buttons.push(a);a.isInstanceOf(dijit._WidgetBase)?k(a,"click",f.hitch(this,this._onClick)):this.connect(a,"onclick","_onClick");this.addChild(a)},buildRendering:function(){this.domNode=m.create("div");this.inherited(arguments)},destroy:function(){var a=this;this.buttons.forEach(function(b){a.removeChild(b);b.isInstanceOf(dijit._WidgetBase)&&b.destroyRecursive()});this.buttons=[]},postCreate:function(){this.inherited(arguments)}})})},
"xl/util/mobileMethods":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/touch dojo/has dojo/on dojo/dom-style".split(" "),function(l,m,k,f,e,d,n){return new (l("xl.util.mobileMethods",null,{_lastTouch:null,preventDoubleTabZoom:function(c,b){b&&b.own&&(b.own(d(c,f.press,m.hitch(this,function(a){var b=a.timeStamp,c=b-(this._lastTouch||b);if(a.touches){var e=a.touches.length;this._lastTouch=b;if(c&&!(500<c||1<e))a.preventDefault(),(a=a.target)&&d.emit(a,"click",{bubbles:!0,cancelable:!0})}}))),
n.set(c,"-ms-touch-action","none"))}}))})},"xl/player/controls/InlineGraphPalette":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/has dojo/on dijit/place dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/event dojo/touch dojo/topic dojo/html dijit/_TemplatedMixin dojo/text!./templates/InlineGraphPalette.html xl/dijit-bootstrap/Button dijit/_WidgetsInTemplateMixin xl/util/_ToolPaletteMixin ./_GraphToolMixin xl/util/localization!html5player/player xl/util/eqEditorToolActions xl/util/mobileMethods xl/player/controls/_NeedsPlayerViewer".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O){return l("xl.player.controls.InlineGraphPalette",[m,A,F,B,D,O],{baseClass:"xlInlineGraphPalette",templateString:z,_toolButtonList:null,hidePaletteOnBlur:!1,buttonCancel:null,isInline:!0,_currentPaletteList:null,constructor:function(){this._toolButtons=[]},onCancel:function(a){this._hide()},onWidgetBlurred:function(a){a.paletteGainingFocus||n.forEach(this._toolButtons,function(a){a.set("disabled",!0)})},onWidgetFocused:function(a){var b=
this._graphControl.getGraphManager();s.set(this.domNode.parentNode,"visibility","visible");n.forEach(this._toolButtons,function(a){a.set("disabled",!1);d.contains(a.domNode,"iconDel")&&a.set("disabled",null===b.getSelectedObject())})},_checkFocus:function(a,b,c){if(this.graphControl&&0<=c.indexOf(this.graphControl.id))this.onWidgetFocused();else this.inherited(arguments)},_paletteContainerClicked:function(a){a.target===this.closeButtonNode||a.target.parentNode===this.closeButtonNode?this.blurTarget():
this.graphControl&&f.focus(this.graphControl.getGraph().domNode)},_setTargetWidget:function(a){a&&a!==this.targetWidget&&(a.paletteOverride?this._currentPaletteList!==a.paletteOverride&&(this._destroyToolButtons(),this._createPalette(a.paletteOverride)):this._currentPaletteList!==this._toolButtonList&&(this._destroyToolButtons(),this._createPalette(this._toolButtonList)));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);N.preventDoubleTabZoom(this.domNode,this);N.preventDoubleTabZoom(this.paletteNode,
this);this.own(b(this.domNode,"click",e.hitch(this,this._paletteContainerClicked)))},onShow:function(){s.set(this.domNode,"visibility","visible");this._resizeViewerContent()},onShowing:function(){},onHide:function(){s.set(this.domNode.parentNode,"visibility","hidden");this._resizeViewerContent()},attach:function(a){this._visible&&a.scrollIntoView&&a.scrollIntoView()},detach:function(a){},positionPalette:function(){},determineTarget:function(a){return a.isInstanceOf(xl.editgraph.GraphControl)&&a.editable&&
!a.getGraph().isZoomed?a.getGraph():null},stopEvent:function(a){if(c("ie")||c("trident"))a.stopImmediatePropagation(),a.preventDefault()},_destroyToolButtons:function(){this._toolButtons&&(n.forEach(this._toolButtons,function(a){a.destroy()}),this._toolButtons=null)},_createPalette:function(a){k.empty(this.paletteNode);var b=k.create("div",{"class":"keyRow"},this.paletteNode);a&&(this._toolButtons=[],this._setupToolButtons(b))},setToolMessage:function(a,b){var c;if(this.toolMessage){if(b){c=E["grpal.editing"]+
"\x3cbr\x3e";var d=this._objectToButtonInfo(b);c=d?c+d.tip:""}else c=E["grpal.selected"]+"\x3cbr\x3e",d=this.getButtonInfo()[a],c+=d?d.tip:E["grpal.none"];x.set(this.toolMessage,c)}},setToolButtons:function(a){this._isListSame(a,this._toolButtonList)||(this._toolButtonList=a,this._destroyToolButtons(),this._createPalette(a))},getToolButtons:function(){return this._toolButtonList},_isListSame:function(a,b){return a&&b?a.join(",")==b.join(","):null==a&&null==b},_toolToggle:function(){d.toggle(this.paletteNode,
"hidden");this._resizeViewerContent()},_resizeViewerContent:function(){var a=this.getViewer();a&&(a.viewerResizedByXYGraph=!0,a.mainPanel.resize());this.targetWidget&&this.targetWidget.scrollIntoView&&this.targetWidget.scrollIntoView()},destroy:function(){this.inherited(arguments)}})})},"xl/util/eqEditorToolActions":function(){define("dojo/_base/declare dojo/topic dojo/has xl/util/localization!html5player/math xl/util/localization!html5player/player xl/eqeditor/AssessmentsComponents xl/util/eqEditorClipboard".split(" "),
function(l,m,k,f,e,d,n){var c=d.EquationClasses.EqCaretEventDirection,b={createButtonInfo:function(){return{undo:{className:"iconUndo",cmd:"undo",tip:e["palette.undo"]},redo:{className:"iconRedo",cmd:"redo",tip:e["palette.redo"]},uparrowdir:{className:"iconUpArrowDir",cmd:"uparrowdir",tip:e["grpal.up"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-up"\x3e\x3c/span\x3e'},downarrowdir:{className:"iconDownArrowDir",cmd:"downarrowdir",tip:e["grpal.down"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-down"\x3e\x3c/span\x3e'},
leftarrowdir:{className:"iconLeftArrowDir",cmd:"leftarrowdir",tip:e["grpal.left"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-left"\x3e\x3c/span\x3e'},rightarrowdir:{className:"iconRightArrowDir",cmd:"rightarrowdir",tip:e["grpal.right"],text:'\x3cspan class\x3d"glyphicon glyphicon-arrow-right"\x3e\x3c/span\x3e'},over:{className:"iconDiv",cmd:"@DIV{;}",tip:f.fraction,announceText:"Fraction"},sqrt:{className:"iconSqrt",cmd:"@RT{}",tip:f.sqrt,announceText:"Square Root"},nroot:{className:"iconNRoot",
cmd:"@RT{;@CURSOR{}}",tip:f.nrt,announceText:"Nth Root"},mnum:{className:"iconMnum",cmd:"@DUMMY{}@DIV{}",tip:f.mnum},abs:{className:"iconAbs",cmd:"@ABS{@CURSOR{}}",tip:f.abs,announceText:"Absolute Value"},pi:{className:"iconPI",cmd:"\x26pi;",tip:f.pi},alpha:{className:"iconAlpha",cmd:"\x26alpha;",tip:f.alpha},and:{className:"iconAnd",cmd:"\x26and;",tip:f.and},angle:{className:"iconAngle",cmd:"\x26angle;",tip:f.cis},beta:{className:"iconBeta",cmd:"\x26beta;",tip:f.beta},delta:{className:"iconDelta",
cmd:"\x26delta;",tip:f.delta},tau:{className:"iconTau",cmd:"\x26tau;",tip:f.tau},intersect:{className:"iconCap",cmd:"\x26cap;",tip:f["int"]},cdelta:{className:"iconCDelta",cmd:"\x26cdelta;",tip:f.cdelta},union:{className:"iconCup",cmd:"\x26cup;",tip:f.union},divide:{className:"iconDivideSymbol",cmd:"\x26div;",tip:f.divsym},exp:{className:"iconE",cmd:"e",tip:f.e},emptyset:{className:"iconEmpty",cmd:"\x26empty;",tip:f.empty},gamma:{className:"iconGamma",cmd:"\x26gamma;",tip:f.gamma},ge:{className:"iconGE",
cmd:"\x26ge;",tip:f.ge},gt:{className:"iconGT",cmd:"\x26gt;",tip:f.gt},imag:{className:"iconI",cmd:"i",tip:f.i},element:{className:"iconIn",cmd:"\x26in;",tip:f.belongs},inf:{className:"iconInf",cmd:"\x26inf;",tip:f.inf},le:{className:"iconLE",cmd:"\x26le;",tip:f.le},lognot:{className:"iconLogNot",cmd:"\x26lognot;",tip:f.not},lt:{className:"iconLT",cmd:"\x26lt;",tip:f.lt},minus:{className:"iconMinus",cmd:"-",tip:f.minus},mu:{className:"iconMu",cmd:"\x26mu;",tip:f.mu},ne:{className:"iconNE",cmd:"\x26ne;",
tip:f.ne},notelement:{className:"iconNotIn",cmd:"\x26notin;",tip:f.notbelong},notpropsubset:{className:"iconNotPropSubset",cmd:"\x26notpropsubset;",tip:f.notpropersub},notsubset:{className:"iconNotSubset",cmd:"\x26notsubset;",tip:f.notsubset},or:{className:"iconOr",cmd:"\x26or;",tip:f.or},pairalt:{className:"iconOrderedPairAlt",cmd:"(@DUMMY{@CURSOR{}}\\;@DUMMY{})",tip:f.opair},pair:{className:"iconOrderedPair",cmd:"(@DUMMY{@CURSOR{}},@DUMMY{})",tip:f.opair,announceText:"Ordered Pair"},matx:{className:"iconMatrix",
cmd:"matx",tip:f.matx},detx:{className:"iconDeterminant",cmd:"detx",tip:f.detx},pipe:{className:"iconPipe",cmd:"|",tip:f.pipe},plus:{className:"iconPlus",cmd:"+",tip:f.plus},plusminus:{className:"iconPlusMinus",cmd:"\x26plusminus;",tip:f.plusminus_sc},propsubset:{className:"iconPropSubset",cmd:"\x26propsubset;",tip:f.propersub},sigma:{className:"iconSigma",cmd:"\x26sigma;",tip:f.sigma},asterisk:{className:"iconDot",cmd:"*",tip:f.multdot},sub:{className:"iconSub",cmd:"@Sub{}",tip:f.sub},subset:{className:"iconSubset",
cmd:"\x26subset;",tip:f.subset},"super":{className:"iconSup",cmd:"@Sup{}",tip:f["super"]},smscriptl:{className:"iconSmScriptL",cmd:"l",tip:f.smscriptl},theta:{className:"iconTheta",cmd:"\x26theta;",tip:f.theta},not:{className:"iconTilda",cmd:"~",tip:f.tilde},cross:{className:"iconCross",cmd:"\x26times;",tip:f.times},equal:{className:"iconEqual",cmd:"\x3d",tip:f.eq},lambda:{className:"iconLambda",cmd:"\x26lambda;",tip:f.lambda},chi:{className:"iconChi",cmd:"\x26chi;",tip:f.chi},rho:{className:"iconRho",
cmd:"\x26rho;",tip:f.rho},phiv:{className:"iconPhiv",cmd:"\x26phiv;",tip:f.phiv},grad:{className:"iconGrad",cmd:"\x26grad;",tip:f.grad},integral:{className:"iconIntegral",cmd:"\x26integral;",tip:f.integral},dintegral:{className:"iconDIntegral",cmd:"@INTEGRAL{;}",tip:f.dintegral},hat:{className:"iconHat",cmd:"@HAT{}",tip:f.hat},overbar:{className:"iconOverbar",cmd:"@OVERBAR{}",tip:f.overbar},overdbar:{className:"iconOverdbar",cmd:"@OVDBBAR{}",tip:f.dbloverbar},sum:{className:"iconSum",cmd:"@SUM{ ; }",
tip:f.sum},dsum:{className:"iconDSum",cmd:"@SUM{;}",tip:f.dsum},supsub:{className:"iconSupsub",cmd:"@SupSub{;;}",tip:f.supsub},subsub:{className:"iconSubsub",cmd:"@Sub{}@DUMMY{}@SUB{}",tip:f.subsub},mellip:{className:"iconEllipsis",cmd:"\x26mellip;",tip:f.mellip},semicolon:{className:"iconSemicolon",cmd:"\\;",tip:f.semicolon},colon:{className:"iconColon",cmd:":",tip:f.colon},leftbracket:{className:"iconLeftBracket",cmd:"[",tip:f.leftsquarebracket},rightbracket:{className:"iconRightBracket",cmd:"]",
tip:f.rightsquarebracket},epsi:{className:"iconEpsi",cmd:"\x26epsi;",tip:f.epsilon},eta:{className:"iconEta",cmd:"\x26eta;",tip:f.eta},psi:{className:"iconPsi",cmd:"\x26psi;",tip:f.psi},omega:{className:"iconOmega",cmd:"\x26omega;",tip:f.omega},phi:{className:"iconPhi",cmd:"\x26phi;",tip:f.phi},partiald:{className:"iconPartialD",cmd:"\x26partiald;",tip:f.partiald},prime:{className:"iconPrimeImg1",cmd:"\x26prime;",tip:f.prime},prime2:{className:"iconPrimeImg2",cmd:"\x26prime2;",tip:f.prime2},prime3:{className:"iconPrimeImg3",
cmd:"\x26prime3;",tip:f.prime3},ndash:{className:"iconMinus",cmd:"\x26ndash;",tip:f.ndash},mdash:{className:"iconMDash",cmd:"\x26mdash;",tip:f.mdash},leftarrow:{className:"iconLeftArrow",cmd:"\x26leftarrow;",tip:f.arrowleft,text:"\x26#x2190;"},rightarrow:{className:"iconRightArrow",cmd:"\x26rightarrow;",tip:f.arrowright,text:"\x26#x2192;"},leftrightarrow:{className:"iconLeftRightArrow",cmd:"\x26leftrightarrow;",tip:f.arrowleftright,text:"\x26#x2194;"},moretools:{className:"iconMoreTools",cmd:"moretools",
tip:e["palette.more"],text:e["palette.more"]},lesstools:{className:"iconLessTools",cmd:"lesstools",tip:e["palette.Less"],text:e["palette.Less"]},abctools:{className:"iconAbcTools",cmd:"lesstools",tip:e["palette.Less"],text:""},magnifyglass:{className:"iconMagnifyingGlass",cmd:"magnifyglass",tip:e["osk.zoomeditor"],text:" "},vcut:{className:"iconCutDir",cmd:"vcut",tip:e["palette.cut"],text:'\x3cspan class\x3d"glyphicon glyphicon-scissors"\x3e\x3c/span\x3e'},vcopy:{className:"iconCopyDir",cmd:"vcopy",
tip:e["palette.copy"],text:'\x3cspan class\x3d"glyphicon glyphicon-duplicate"\x3e\x3c/span\x3e'},vpaste:{className:"iconPasteDir",cmd:"vpaste",tip:e["palette.paste"],text:'\x3cspan class\x3d"glyphicon glyphicon-paste"\x3e\x3c/span\x3e'},osksettings:{className:"iconOskSettings",cmd:"osksettings",tip:"",text:" "},"delete":{className:"iconDelete",cmd:"delete",tip:e["osk.deletekey"],text:'\x3cspan class\x3d"glyphicon glyphicon-circle-arrow-left"\x3e\x3c/span\x3e'},stack:{className:"iconStack",cmd:"@SUPSUBSTACK{;}",
tip:f.stack},supsubstack:{className:"iconStack",cmd:"@SUPSUBSTACK{;}",tip:f.stack},nu:{className:"iconNu",cmd:"\x26nu;",tip:f.nu,text:"\x26#x3bd"},dbharpoon:{className:"iconDbharpoon",cmd:"\x26dbharpoon;",tip:f.dbharpoon,text:"\x26#x21cc;"},sci:{className:"iconSci",cmd:"*10@SUP{@CURSOR{}}",tip:f.sci},pc:{className:"iconPct",cmd:"%",tip:f.pc},deg:{className:"iconDeg",cmd:"\x26deg;",tip:f.deg},angstrom:{className:"iconAng",cmd:"\x26angstrom;",tip:f.angstrom},vector:{className:"iconVector",cmd:"@rayr{@CURSOR{}}",
tip:f.vector},unitvector:{className:"iconUnitVector",cmd:"@hat{@CURSOR{}}",tip:f.unitvector},kappa:{className:"iconKappa",cmd:"\x26kappa;",tip:f.kappa},csigma:{className:"iconCapSigma",cmd:"\x26csigma;",tip:f.csigma},cphi:{className:"iconCphi",cmd:"\x26cphi;",tip:f.cphi},cpsi:{className:"iconCpsi",cmd:"\x26cpsi;",tip:f.cpsi},comega:{className:"iconComega",cmd:"\x26comega;",tip:f.comega},hbar:{className:"iconHbar",cmd:"\x26hbar;",tip:f.hbar},emf:{className:"iconEmf",cmd:"\x26cale;",tip:f.emf}}},action:function(a,
b,d){switch(a){case "undo":b.undo();break;case "redo":b.redo();break;case "uparrowdir":b.moveCaret(c.UP);break;case "downarrowdir":b.moveCaret(c.DOWN);break;case "leftarrowdir":b.moveCaret(c.LEFT);break;case "rightarrowdir":b.moveCaret(c.RIGHT);break;case "matx":b.showMatrixSizePopup(!1,"@MATX{{;};{;}}",!1);break;case "detx":b.showMatrixSizePopup(!1,"@DETX{{;};{;}}",!0);break;case "vcut":n.cut(b);return;case "vpaste":n.paste(b);return;case "vcopy":n.copy(b);return;case "delete":b.deleteChar(!0);return;
default:b.insertEqText(a,{announce:!0,announceText:d})}k("ios")?setTimeout(function(){b&&b.setFocused(!0)},250):b.setFocused(!0)},defaultActions:"undo redo uparrowdir downarrowdir leftarrowdir rightarrowdir".split(" "),defaultMoreActions:["undo redo uparrowdir downarrowdir leftarrowdir rightarrowdir".split(" "),[]]},a=null;b.getButtonInfo=function(){return a||(a=b.createButtonInfo())};m.subscribe("localizationChanged",function(b){if("html5player/player"==b||"html5player/math"==b)a=null});return b})},
"xl/util/eqEditorClipboard":function(){define(["dojo/_base/declare","xl/util/localStore"],function(l,m){return new (l("xl.util.eqEditorClipboard",null,{_text:null,cut:function(k){this.copy(k)&&k.inputCharacter("delete")},paste:function(k){this._text&&(k.extractSelectionEqText(!0),k.insertEqText(this._text))},copy:function(k){return(k=k.extractSelectionEqText(!0))?(this._text=k,!0):!1}}))})},"xl/util/localStore":function(){define([],function(){var l;try{localStorage.getItem("dontCareWhatThisIs"),l=
localStorage}catch(m){l=(new function(){var k=[],f={};Object.defineProperty(f,"getItem",{value:function(e){return e?this[e]:null},writable:!1,configurable:!1,enumerable:!1});Object.defineProperty(f,"key",{value:function(e){return k[e]},writable:!1,configurable:!1,enumerable:!1});Object.defineProperty(f,"setItem",{value:function(e,d){e&&(document.cookie=escape(e)+"\x3d"+escape(d)+"; expires\x3dTue, 19 Jan 2038 03:14:07 GMT; path\x3d/",this[e]=d)},writable:!1,configurable:!1,enumerable:!1});Object.defineProperty(f,
"length",{get:function(){return k.length},configurable:!1,enumerable:!1});Object.defineProperty(f,"removeItem",{value:function(e){e&&(document.cookie=escape(e)+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:00 GMT; path\x3d/",delete this[e])},writable:!1,configurable:!1,enumerable:!1});this.get=function(){var e,d;for(d in f)e=k.indexOf(d),-1===e?f.setItem(d,f[d]):k.splice(e,1),delete f[d];for(e=0;e<k.length;e++)f.removeItem(k[e]);k=[];for(var l=0,c=document.cookie.split(/\s*;\s*/);l<c.length;l++)e=c[l].split(/\s*=\s*/),
1<e.length&&(f[d=unescape(e[0])]=unescape(e[1]),k.push(d));return f};this.configurable=!1;this.enumerable=!0}).get()}return l})},"xl/player/controls/TransformPalette":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/popup dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/on dojo/window dojo/dom dijit/place xl/dojo-ext/Moveable dojo/dom-style dojo/io-query xl/dijit/ResizeHandle dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/window dojo/dom-attr dojo/parser dojo/touch xl/player/controls/TransformControl dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/TransformPalette.html xl/util/_ToolPaletteMixin xl/util/localization!html5player/player xl/util/localization!html5player/popup xl/util/localStore xl/dijit-bootstrap/Button xl/editgraph/enums dojo/has xl/ZOrder/ZOrderManager".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O,H,K,M,P,I,L,Q){return l("xl.player.controls.TransformPalette",[m,E,J,O],{baseClass:"dijitPopup xlGraphPalette",baseWidth:120,basePadding:10,templateString:N,dockPositions:["below","after","above","before"],dockPadding:{left:2,top:2,right:2,bottom:2},_currentNode:null,_timer:null,delay:500,_delay:null,_movable:null,hidePalette:!1,_focusEvents:null,padding:{x:3,y:3},_visible:!1,_showHide:!1,_graphControl:null,_paletteLocation:null,constructor:function(a,
b){this._graphControl=a;this.owner=b},postCreate:function(){this.inherited(arguments);this._movable=new t(this.domNode,{handle:this.titleBar,delay:2});this.own(b(this.close,B.release,d.hitch(this,this._closeButtonClicked)),b(this._movable,"MoveStop",d.hitch(this,this._endDrag)));L("touch")&&(L("ie")||L("trident")||L("edge"))&&h.set(this.domNode,"touch-action","none");Q.bringToTop(this.domNode)},sendToBack:function(){h.set(this.domNode,"zIndex",948)},sendToFront:function(){Q.bringToTop(this.domNode)},
destroy:function(){this.inherited(arguments);this._movable&&this._movable.destroy();this._graphControl=null},getPalette:function(a){this._graphControl=a;null==this.domNode.parentNode&&(this.domNode.parentNode=this.ownerDocumentBody);this.startup();return this},determineTarget:function(a){return a.isInstanceOf(xl.editgraph.GraphControl)&&a.editable?a:null},graphControlSelection:null,show:function(a){this.targetWidget=this.graphControlSelection=null!=a?a:this._graphControl;this._show()},hide:function(){this.graphControlSelection=
null;this._hide()},showCondition:function(){return this.graphControlSelection&&this.targetWidget==this.graphControlSelection},_show:function(){this.showCondition()?this._visible||(this._visible=!0,this.onShowing(),n.remove(this.domNode,"hidden"),this.onShow(),this.positionPalette()):this._hide()},_hide:function(){!L("edge")&&!L("ios")&&this._visible&&(this._visible=!1,n.add(this.domNode,"hidden"),this.onHide())},anchorNode:function(){return this._graphControl.getGraph().domNode},positionPalette:function(){if(this.docked||
!this._positioned){this._positioned=!0;var a=this.anchorNode();if(a){a=v.position(a,!0);this.dockPadding&&(a.x-=this.dockPadding.left,a.y-=this.dockPadding.top,a.w+=this.dockPadding.right,a.h+=this.dockPadding.bottom);var b=this._graphControl.getPalette();b&&b.isToolbar&&(a=v.position(b.getToolsHolder(),!0));r.around(this.domNode,a,this.dockPositions,!0)}}},_closeButtonClicked:function(){var a=this;this._paletteLocation=null;if(L("edge")||L("ios"))n.add(this.domNode,"hidden"),this._visible=!1;setTimeout(function(){a.hide()},
this.delay)},_moveableMoved:function(a,b){this._paletteLocation=b},_endDrag:function(){this.constrainPosition();this.docked=!1},constrainPosition:function(){var b=v.position(this.domNode),c=a.getBox(this.ownerDocument);b.y=Math.min(Math.max(b.y,0),c.h-b.h);b.x=Math.min(Math.max(b.x,0),c.w-b.w);h.set(this.domNode,{left:Math.floor(c.l+b.x)+"px",top:Math.floor(c.t+b.y)+"px"})},initOptions:function(a,b,c,d){"undefined"==typeof c&&(c=!0);var e=0,f;for(f in a){var h=a[f];switch(f){case "amplitude":case "vstretch":this.pnlVStretch.initOptions(this,
f,h,b,d);break;case "period":case "hstretch":this.pnlHStretch.initOptions(this,f,h,b,d);break;case "vshift":this.pnlVShift.initOptions(this,f,h,b,d);break;case "hshift":this.pnlHShift.initOptions(this,f,h,b,d);break;case "xflip":this.pnlXFlip.initOptions(this,f,h,b,d);break;case "yflip":this.pnlYFlip.initOptions(this,f,h,b,d);break;case "base":c&&this.pnlBase.initOptions(this,f,h,b,d)}h.controlType&&h.controlType!=I.TransformControlType.NONE&&e++}(!c||"undefined"==typeof a.base)&&this.pnlBase.hide();
this.paletteBody.style.width=1<e?4+2*this.baseWidth+2*this.basePadding+"px":this.baseWidth+2*this.basePadding+"px";return 0<e},_obj:null,initObject:function(a){this._obj=a;this.pnlVStretch.visible&&this.pnlVStretch.initObject(this._graphControl,a);this.pnlHStretch.visible&&this.pnlHStretch.initObject(this._graphControl,a);this.pnlVShift.visible&&this.pnlVShift.initObject(this._graphControl,a);this.pnlHShift.visible&&this.pnlHShift.initObject(this._graphControl,a);this.pnlXFlip.visible&&this.pnlXFlip.initObject(this._graphControl,
a);this.pnlYFlip.visible&&this.pnlYFlip.initObject(this._graphControl,a);this.pnlBase.visible&&this.pnlBase.initObject(this._graphControl,a)},onShow:function(){if(this.pnlVStretch.visible)this.pnlVStretch.onShow();if(this.pnlHStretch.visible)this.pnlHStretch.onShow();if(this.pnlVShift.visible)this.pnlVShift.onShow();if(this.pnlHShift.visible)this.pnlHShift.onShow();if(this.pnlXFlip.visible)this.pnlXFlip.onShow();if(this.pnlYFlip.visible)this.pnlYFlip.onShow();if(this.pnlBase.visible)this.pnlBase.onShow()},
onShowing:function(){},onHide:function(){}})})},"xl/player/controls/TransformControl":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/popup dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/on dojo/window dijit/place dojo/dom-style dojo/io-query dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/window dojo/dom-attr dojo/parser xl/player/controls/HorizontalSlider xl/player/controls/HorizontalRule xl/player/controls/HorizontalRuleLabels dijit/form/CheckBox xl/eqeditor/EqEditor xl/util/IPMath xl/util/stringUtils xl/util/localization!html5player/graphmanager xl/player/dialogs/ConfirmationDialog xl/util/eqUtils dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/TransformControl.html xl/editgraph/enums".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O,H,K,M,P,I){return l("xl.player.controls.TransformControl",[m,K,M],{baseClass:"xlTransformControl",templateString:P,constructor:function(a){},postCreate:function(){this.inherited(arguments);n.add(this.eqEditor.domNode,"transformEditor");var a=this.eqEditor.getEditor();a.onBlur=d.hitch(this,this.eqEditorBlur);a.onFocus=d.hitch(this,this.eqEditorFocus);a.autoLowerCaseChars="E";a.processCtrlShortcuts=!1;a.allowSubscriptShortcuts=!1;a.allowSuperscriptShortcuts=
!1;var c=this.eqEditor.getEqDoc();c.suppressEmptyHiding=!0;c.interpretFunctions=!0;c.showEmptyBoxes=!0;c.addShortcut("pi","\x26pi;");c.addShortcut("Pi","\x26pi;");c.addShortcut("pI","\x26pi;");c.addShortcut("PI","\x26pi;");a.allowSingleFraction=!0;a.restrictChars="01234456789.-//EePpIi";this.own(b(this.eqEditor,"keydown",d.hitch(this,this.eqEditorKeydown)))},destroy:function(){this.inherited(arguments)},_paramName:"",_options:null,tp:null,getEvalNumber:function(a){try{var b=eval(a)}catch(c){b=NaN}return b},
initOptions:function(a,b,c,d,e){this.tp=a;d||(this._paramName=b);this._options=c;this._minValue=this.getEvalNumber(c.minValue);this._maxValue=this.getEvalNumber(c.maxValue);if(!d||this._paramName==b)this.divTitle.innerHTML=c.controlTitle;c.controlType==I.TransformControlType.INPUT?r.set(this.divField,{display:"inline-block"}):r.set(this.divField,{display:"none"});if(c.controlType==I.TransformControlType.SLIDER){r.set(this.divSlider.domNode,{display:"inline-block"});this.divSlider.minimum=eval(c.minValue);
this.divSlider.maximum=eval(c.maxValue);c.labels?(this.ruleLabels.useFormulas=c.useFormulas,this.ruleLabels.interpretFunctions=c.interpretFunctions,this.ruleLabels.resetLabels(),e&&e!=this.lastSelObj&&(this.ruleLabels.recalculateLabels(),this.lastSelObj=e),c.labels.split(",").forEach(function(a){this.ruleLabels.labels.push(a)},this),this.ruleLabels.count=this.ruleLabels.labels.length,this.ruleLabels.buildRendering(),this.ruleLabels.domNode.style.display=""):this.ruleLabels.domNode.style.display="none";
this.divSlider.snapInterval=c.snapInt?eval(c.snapInt):null;this.divSlider.snapToTicks=c.snapToTicks;this.ruleTicks.count=0;if(c.tickInt||c.tickValues)this.ruleTicks.minimum=this.divSlider.minimum,this.ruleTicks.maximum=this.divSlider.maximum,this.ruleTicks.tickInterval=c.tickInt?eval(c.tickInt):null,this.divSlider.tickInterval=this.ruleTicks.tickInterval,0>=this.ruleTicks.tickInterval&&(this.ruleTicks.tickInterval=null,this.divSlider.tickInterval=null),this.ruleTicks.tickValues=[],this.divSlider.tickValues=
[],c.tickValues&&c.tickValues.split(",").forEach(function(a){this.ruleTicks.tickValues.push(a);this.divSlider.tickValues.push(a)},this),this.ruleTicks.buildRendering();this.divSlider.showDataTip=!c.hideDataTip}else r.set(this.divSlider.domNode,{display:"none"});c.controlType==I.TransformControlType.CHECKBOX?(this.inputCB.domNode.style.display="",this.divTitle.style.display="inline"):(this.inputCB.domNode.style.display="none",this.divTitle.style.display="");c.controlType==I.TransformControlType.NONE?
this.hide():(r.set(this.domNode,{display:"inline-block"}),this.visible=!0)},hide:function(){r.set(this.domNode,{display:"none"});this.visible=!1},_obj:null,_gc:null,initObject:function(a,b){this._obj=b;this._gc=a;this._inittingObj=!0;try{if(this._options.controlType==I.TransformControlType.CHECKBOX){var c=b.paramValue(this._paramName);E.sameValue(c,-1)?this.inputCB.set("value",!0):this.inputCB.set("value",!1)}else if(this._options.controlType==I.TransformControlType.SLIDER)this.divSlider.set("value",
b.paramValue(this._paramName));else{var d=b.getParam(this._paramName);try{this.eqEditor.setEqText(d),this.lastEqText=d}catch(e){this.eqEditor.setEqText(this.formatNumber(b.paramValue(this._paramName)))}}}finally{this._inittingObj=!1}},sliderChange:function(a){!this._inittingObj&&this._obj&&(this._obj.setParam(this._paramName,this.divSlider.value.toString()),this._obj.invalidate(),this._gc._graphManager.selectObject(this._obj),this.domNode.focus())},cbChange:function(a){if(!this._inittingObj&&this._obj&&
(a=this.inputCB.checked?"-1":"1",this._obj.getParam(this._paramName)!=a)){this._obj.setParam(this._paramName,a);a="xflip"==this._paramName?"vshift":"hshift";var b=this._obj.getParam(a);0<b.length&&"-"==b[0]?b=b.substr(1):"0"!=b&&(b="-"+b);this._obj.setParam(a,b);this._obj.invalidate();this._gc._graphManager.selectObject(this._obj);this.domNode.focus()}},evalParam:function(a){return H.evalEq(a)},_EPSILON:1E-8,eqEditorBlur:function(a){if(!this._inittingObj&&this._obj&&(a=this.eqEditor.getEqText(),console.log("eqEditorBlur",
this.lastEqText,a),this._obj.getParam(this._paramName)!=a&&this.lastEqText!=a)){var b=this.evalParam(a),c=null;!isNaN(this._minValue)&&b<this._minValue-this._EPSILON&&(c=N["sdg.range_min"]+" "+this.formatNumber(this._minValue)+".");!isNaN(this._maxValue)&&b>this._maxValue+this._EPSILON&&(c=N["sdg.range_max"]+" "+this.formatNumber(this._maxValue)+".");isNaN(b)&&(c=N["sdg.invalid_number"]);this._lastRow=this.eqEditor.getCurrentRow();this._lastCP=this.eqEditor.getCaretPosition();c?(this.showDialog(c,
d.hitch(this,this.focusEditor)),this.eqEditor.setEqText(this.lastEqText)):(this.lastEqText=a,this._obj.setParam(this._paramName,a),this._obj.invalidate(),this._gc._graphManager.selectObject(this._obj))}},_dialogUp:null,showDialog:function(a,b){if(!this._dialogUp){var c=this;this.tp.hide();this._dialogUp=O.displayText(a,"\x26nbsp;",[O.BUTTON.OK]).then(function(a){c._dialogUp=null;c.tp.show();b()})}},eqEditorKeydown:function(a){13==a.keyCode&&(this.eqEditorBlur(),this.eqEditor.setCaretEnd(),this.eqEditor.focusEditor())},
divFieldClick:function(a){a.target==this.divField&&((a.offsetX||a.clientX-h.position(this.divField).x)>=this.eqEditor.getEqDoc().getNodeSize().w?this.eqEditor.setCaretEnd():this.eqEditor.setCaretHome(),this.eqEditor.focusEditor())},eqEditorFocus:function(a){console.log("eqEditorFocus",this.lastEqText,this.eqEditor.getEqText())},formatNumber:function(a){return J.formatFloat(a,"#.---")},titleClick:function(a){this.inputCB&&(this.inputCB.domNode&&"none"!=this.inputCB.domNode.style.display)&&this.inputCB.set("value",
!this.inputCB.checked)},focusEditor:function(){this.eqEditor.focus()},onShow:function(){this.ruleLabels.updateLabels()}})})},"xl/player/controls/HorizontalSlider":function(){define("dojo/_base/declare dojo/on dijit/popup dojo/mouse dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/touch dijit/Tooltip dijit/form/HorizontalSlider xl/util/stringUtils dojo/dom-style dojo/has".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t){return l("xl.player.controls.HorizontalSlider",[a],{_setPixelValue:function(a,
b,c){if(!this.disabled&&!this.readOnly){a=a*(this.maximum-this.minimum)/b+this.minimum;b=(this.maximum-this.minimum)/b;var d=Number.MAX_VALUE,e=Number.NaN;if(this.snapToTicks){if(this.tickValues&&0<this.tickValues.length)for(var f=0;f<this.tickValues.length;f++)Math.abs(this.tickValues[f]-a)<d&&(d=Math.abs(this.tickValues[f]-a),e=this.tickValues[f]);0<this.tickInterval&&(f=Math.round((a-this.minimum)/this.tickInterval)*this.tickInterval+this.minimum,Math.abs(f-a)<d&&(e=f,d=Math.abs(f-a)))}!isNaN(this.snapInterval)&&
0!=this.snapInterval&&(f=Math.round(a/this.snapInterval)*this.snapInterval,Math.abs(f-a)<d&&(e=f,d=Math.abs(f-a)));0.002>=a-this.minimum?a=this.minimum:0.002>=this.maximum-a?a=this.maximum:d!=Number.MAX_VALUE?a=e:Math.abs(Math.round(a)-a)<b&&(a=Math.round(a));this._setValueAttr(a,c)}},decrement:function(a){a=1E-8;var b=Number.MAX_VALUE,c=Number.NaN,d=this.get("value");if(this.snapToTicks){if(this.tickValues&&0<this.tickValues.length)for(var f=0;f<this.tickValues.length;f++)this.tickValues[f]<d&&d-
this.tickValues[f]<b&&(b=d-this.tickValues[f],c=this.tickValues[f]);0<this.tickInterval&&(f=Math.floor((d-this.minimum-a)/this.tickInterval)*this.tickInterval+this.minimum,d-f<b&&(c=f,b=d-f))}!isNaN(this.snapInterval)&&0!=this.snapInterval&&(f=Math.floor(d/this.snapInterval-a)*this.snapInterval,d-f<b&&(c=f,b=d-f));d-this.minimum<b&&(c=this.minimum,b=d-this.minimum);b!=Number.MAX_VALUE?d=c:(this._abspos=this._abspos||e.position(this.sliderBarContainer,!0),d-=(this.maximum-this.minimum)/this._abspos[this._pixelCount]);
d<this.minimum&&(d=this.minimum);this._setValueAttr(d)},increment:function(a){a=1E-8;var b=Number.MAX_VALUE,c=Number.NaN,d=this.get("value");if(this.snapToTicks){if(this.tickValues&&0<this.tickValues.length)for(var f=0;f<this.tickValues.length;f++)this.tickValues[f]>d&&this.tickValues[f]-d<b&&(b=this.tickValues[f]-d,c=this.tickValues[f]);0<this.tickInterval&&(f=Math.ceil((d-this.minimum+a)/this.tickInterval)*this.tickInterval+this.minimum,f-d<b&&(c=f,b=Math.abs(f-d)))}this.maximum-d<b&&(c=this.maximum,
b=this.maximum-d);!isNaN(this.snapInterval)&&0!=this.snapInterval&&(f=Math.ceil(d/this.snapInterval+a)*this.snapInterval,f-d<b&&(c=f,b=Math.abs(f-d)));b!=Number.MAX_VALUE?d=c:(this._abspos=this._abspos||e.position(this.sliderBarContainer,!0),d+=(this.maximum-this.minimum)/this._abspos[this._pixelCount]);d>this.maximum&&(d=this.maximum);this._setValueAttr(d)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();0<a.wheelDelta?this.increment():this.decrement()},showDataTip:!1,buildRendering:function(){function a(b){b.preventDefault();
b.stopPropagation()}this.inherited(arguments);this.own(m(this.sliderHandle,c.press,d.hitch(this,this.tipMouseDown)),m(this.sliderHandle,c.release,d.hitch(this,this.tipMouseUp)),m(this.domNode.ownerDocument,c.release,d.hitch(this,this.tipMouseUp)),m(this,"change",d.hitch(this,this.sliderChange)),m(this.sliderHandle,"dragstart",a),m(this.sliderHandle,"selectstart",a));t("edge")&&t("touch")&&(r.set(this.domNode,"touch-action","none"),m(this.domNode,"pointermove",d.hitch(this,this.sliderChange)),m(this.domNode,
"pointerdown",d.hitch(this,this.tipMouseDown)),m(this.domNode,"pointerup",d.hitch(this,this.tipMouseUp)))},getLabel:function(){return s.formatFloat(this.get("value"),"#.##")},tipMouseDown:function(a){this.showDataTip&&(this._mouseDown=!0,this.showToolTip())},updateToolTipPos:function(a){a=e.position(this.sliderHandle);var c=e.getMarginBox(b._masterTT.domNode);b._masterTT.domNode.style.top=a.y-c.h-10+"px"},sliderChange:function(a){this._mouseDown?this.getLabel()!=this.tipLabel&&this.showToolTip():
this.hideToolTip()},tipMouseUp:function(a){this._mouseDown=!1;this.hideToolTip()},showToolTip:function(){if(this._mouseDown){b.hide(this.sliderHandle);this.tipLabel=this.getLabel();var a=e.position(this.sliderHandle);a.y-=10;b.show(this.tipLabel,a,["above-centered"]);this._tooltipAnchor=a}},hideToolTip:function(){b.hide(this._tooltipAnchor);this._tooltipAnchor=null}})})},"xl/player/controls/HorizontalRule":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin"],function(l,
m,k){return l("xl.player.controls.HorizontalRule",[m,k],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',count:0,container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',_genHTML:function(f){return this._positionPrefix+f+this._positionSuffix+this.ruleStyle+this._suffix},_isHorizontal:!0,minimum:0,maximum:1,calcPct:function(f){return 100*((f-this.minimum)/
(this.maximum-this.minimum))},buildRendering:function(){this.inherited(arguments);this.tickInterval&&(this.count=(this.maximum-this.minimum)/this.tickInterval+1);var f="";if(1==this.count)f=this._genHTML(50,0);else if(1<this.count){var e,d=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){f=this._genHTML(0,0);for(e=1;e<this.count-1;e++)f+=this._genHTML(d*e,e);f+=this._genHTML(100,this.count-1)}else{f=this._genHTML(100,0);for(e=1;e<this.count-1;e++)f+=this._genHTML(100-d*e,e);f+=this._genHTML(0,
this.count-1)}}if(this.tickValues&&0<this.tickValues.length)for(e=0;e<this.tickValues.length;e++)f+=this._genHTML(this.calcPct(this.tickValues[e]),e);this.domNode.innerHTML=f}})})},"xl/player/controls/HorizontalRuleLabels":function(){define("dojo/_base/declare dojo/_base/lang dijit/Viewport dojo/on dojo/dom-geometry xl/eqeditor/EqLabel dijit/form/HorizontalRuleLabels".split(" "),function(l,m,k,f,e,d,n){return l("xl.player.controls.HorizontalRuleLabels",[n],{_calcPosition:function(c){return c},_genHTML:function(c,
b){var a=this.labels[b];if(this.useFormulas){var e=new d;e.getEqDoc().interpretFunctions=this.interpretFunctions;e.setEqText(a);e.startup();a=e.domNode.innerHTML}return this._positionPrefix+this._calcPosition(c)+this._positionSuffix+this.labelStyle+this._genDirectionHTML(a)+this._labelPrefix+a+this._suffix},startup:function(){this.inherited(arguments);this.useFormulas&&(this.needUpdateLabels=!0)},buildRendering:function(){this.inherited(arguments);if(this.labelBottoms&&0<this.domNode.childNodes.length)for(var c=
0;c<this.domNode.childNodes.length;c++)this.domNode.childNodes[c].style.bottom=this.labelBottoms[c];else this.needUpdateLabels&&(c=e.getMarginBox(this.domNode),0!=c.h&&0!=c.w?this.updateLabels():setTimeout(m.hitch(this,this.updateLabels),0))},cnt:10,resetLabels:function(){this.labels=[];this.useFormulas&&(this.needUpdateLabels=!0)},recalculateLabels:function(){this.labelBottoms=null;this.domNode&&(this.domNode.style.height="")},updateLabels:function(){if(this.needUpdateLabels){if(this.useFormulas){var c=
e.getMarginBox(this.domNode);if(0==c.h&&0==c.w&&0<this.cnt--){setTimeout(this.updateLabels,0);return}for(var b=c=0;b<this.domNode.childNodes.length;b++)var a=this.domNode.childNodes[b],d=e.getMarginBox(a).h,c=Math.max(c,d);this.domNode.style.height=c.toString()+"px";this.labelBottoms=[];for(b=0;b<this.domNode.childNodes.length;b++)a=this.domNode.childNodes[b],d=e.getMarginBox(a).h,d=new Number((c-d)/2),this.labelBottoms[b]=d.toString()+"px",a.style.bottom=this.labelBottoms[b]}this.needUpdateLabels=
!1}}})})},"xl/eqeditor/EqEditor":function(){define("dojo/_base/declare dojo/dom-construct dojo/keys dojo/on dojo/_base/lang dojo/dom-class dojo/_base/event dojo/dom-geometry dojo/touch dojo/mouse dojo/dnd/autoscroll dojo/_base/array dojo/has dijit/focus dojo/_base/connect dijit/registry xl/dojo-ext/window dojo/dom-attr dojo/html dojo/parser dijit/_WidgetBase dijit/_FocusMixin xl/util/_FormWidgetKeyboardMixin ./AssessmentsComponents".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,
F,B){var D=AssessmentsComponents.EquationClasses.EqCaretEventDirection;l=l("xl.eqeditor.EqEditor",[z],{_editor:null,constructor:function(a,b){a||(a={});a.focusCallback=e.hitch(this,this.onFocus);a.blurCallback=e.hitch(this,this.onBlur);a.updateCaretCallback=e.hitch(this,this.onUpdateCaret);a.parentBaseClass="step";this._editor=new B.EquationEditor(a,b,!0)},buildRendering:function(){this.domNode=this._editor.domNode;this.focusNode=this._editor.focusNode;this.inherited(arguments)},postCreate:function(){if(this._editor.focusNode.getAttribute("arialabel")||
this._editor.focusNode.getAttribute("ariadescription"))this._editor.focusNode.removeAttribute("arialabel"),this._editor.focusNode.removeAttribute("ariadescription")},startup:function(){this._started||(this._editor.startup(),this.inherited(arguments))},onFocus:function(){},onBlur:function(){},onUpdateCaret:function(){},onChange:function(){},getEqDoc:function(){return this._editor.getEqDocument()},getEditor:function(){return this._editor},getFocusNode:function(){return this._editor.focusNode},getEqText:function(){return this._editor.getEqText()},
setEqText:function(a){this._editor.setEqText(a)},replaceEqText:function(a){this._editor.replaceEqText(a)},getUndoSequence:function(){return this._editor.getUndoSequence()},setUndoSequence:function(a){this._editor.setUndoSequence(a)},setAccessible:function(a){this._editor.setAccessible(a)},getAccessible:function(){return this._editor.getAccessible()},setEditorProps:function(a){e.mixin(this._editor,a)},_setDisabledAttr:function(a){this.inherited(arguments);this._set("disabled",a);this._editor&&this._editor.setDisabled(a)},
setDisabled:function(a){this.set("disabled",a)},getDisabled:function(){return this._editor.getDisabled()},getDisableScrollIntoView:function(){return this.disableScrollIntoView},setDisableScrollIntoView:function(a){this.disableScrollIntoView=a},updateCaret:function(){this._editor.updateCaret()},deleteChar:function(a){this._editor.deleteChar(a)},insertEqText:function(a,b){return this._editor.insertEqText(a,b)},undo:function(){this._editor.undo()},redo:function(){this._editor.redo()},saveUndo:function(){this._editor._undo.save()},
moveCaret:function(a){this._editor.moveCaret(a)},clear:function(){this._editor.clear()},setCurrentRow:function(a){this._editor.setCurrentRow(a)},getCurrentRow:function(){return this._editor.getCurrentRow()},getCaretPosition:function(){return this._editor._caretPosition},setCaretPosition:function(a,b,c){this._editor.setCaretPosition(a,b,c)},setCaretHome:function(){this._editor.setCaretHome()},setCaretEnd:function(){this._editor.setCaretEnd()},focus:function(){this._editor.focus()},getReadOnly:function(){return this.readOnly},
_setReadOnlyAttr:function(a){this.inherited(arguments);this.readOnly=a;this._editor&&this._editor.setReadOnly(a)},setFocused:function(a){this._editor.setFocused(a)},getFocused:function(){return this._editor.focused},setChanged:function(a){this._editor._changed=a},isEmpty:function(){return this._editor.isEmpty()},doLayout:function(){this._editor.doLayout()},reLayout:function(){this._editor.reLayout()},resetMultiSelect:function(){this._editor.resetMultiSelect()},insertCharacter:function(a){return this._editor.insertCharacter(a)},
resize:function(){this._editor.resize()},inputCharacter:function(a){return this._editor.inputCharacter(a)},simulateKeyDownEvent:function(a){this._editor._onKeyDown(a)},extractSelectionEqText:function(a){return this._editor.extractSelectionEqText(a)},focusEditor:function(){return this._editor.focusEditor()},setPrompt:function(a){this._editor.setPrompt(a)},destroy:function(){this.inherited(arguments);this._editor.destroy()}});window.EqEditor={getEqEditor:function(a){a=u.byId(a);return!a?null:a},insertCharacter:function(a,
b){var c=this.getEqEditor(a);c&&c.insertCharacter(b)},undo:function(a){(a=this.getEqEditor(a))&&a.undo()},redo:function(a){(a=this.getEqEditor(a))&&a.redo()},clear:function(a){(a=this.getEqEditor(a))&&a.clear()},deleteChar:function(a){if(a=this.getEqEditor(a))a.deleteChar(!1),a.focus()},backspace:function(a){if(a=this.getEqEditor(a))a.deleteChar(!0),a.focus()},moveCaret:function(a,b,c,d){if(a=this.getEqEditor(a)){var e=D.NONE;switch(b){case "up":e=D.UP;break;case "down":e=D.DOWN;break;case "left":e=
D.LEFT;break;case "right":e=D.RIGHT;break;case "home":e=D.HOME;break;case "end":e=D.END}a.moveCaret(e,c,d);a.focus()}},setEqText:function(a,b){var c=this.getEqEditor(a);c&&c.setEqText(b)},getEqText:function(a){return(a=this.getEqEditor(a))?a.getEqText():null}};return l})},"xl/dojo-ext/window":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojo/_base/window dojo/dom dojo/dom-geometry dojo/dom-style dojo/dom-construct dojo/window".split(" "),function(l,m,k,f,e,d,n,c,b){b.scrollBottomIntoView=
function(a,b,c){try{a=e.byId(a);var l=a.ownerDocument||f.doc,h=f.body(l),m=l.documentElement||h.parentNode,u=k("ie"),v=k("webkit");if(!(a==h||a==m))if(!k("mozilla")&&(!u&&!v&&!k("opera")&&!k("trident"))&&"scrollIntoView"in a)a.scrollIntoView(!1);else{var w="BackCompat"==l.compatMode,x=Math.min(h.clientWidth||m.clientWidth,m.clientWidth||h.clientWidth),A=Math.min(h.clientHeight||m.clientHeight,m.clientHeight||h.clientHeight),l=v||w?h:m,z=b||d.position(a),C=a.parentNode;b=function(a){return 6>=u||7==
u&&w?!1:k("position-fixed-support")&&"fixed"==n.get(a,"position").toLowerCase()};var F;c&&(F=d.position(c));if(!b(a))for(;C;){C==h&&(C=l);var B=d.position(C),D=b(C),E="rtl"==n.getComputedStyle(C).direction.toLowerCase();if(C==l){B.w=x;B.h=A;l==m&&(u&&E)&&(B.x+=l.offsetWidth-B.w);if(0>B.x||!u||9<=u)B.x=0;if(0>B.y||!u||9<=u)B.y=0}else{var J=d.getPadBorderExtents(C);B.w-=J.w;B.h-=J.h;B.x+=J.l;B.y+=J.t;var N=C.clientWidth,O=B.w-N;0<N&&0<O&&(E&&k("rtl-adjust-position-for-verticalScrollBar")&&(B.x+=O),
B.w=N);N=C.clientHeight;O=B.h-N;0<N&&0<O&&(B.h=N)}D&&(0>B.y&&(B.h+=B.y,B.y=0),0>B.x&&(B.w+=B.x,B.x=0),B.y+B.h>A&&(B.h=A-B.y),B.x+B.w>x&&(B.w=x-B.x));var H=z.x-B.x,K=H+z.w-B.w,M=z.y-B.y+z.h-B.h,P;F&&(P=F.y-B.y);var I,L;if(0<K*H&&(C.scrollLeft||C==l||C.scrollWidth>C.offsetHeight)){I=Math[0>H?"max":"min"](H,K);if(E&&(8==u&&!w||9<=u))I=-I;L=C.scrollLeft;C.scrollLeft+=I;I=C.scrollLeft-L;z.x-=I}if(0<M&&(C.scrollTop||C==l||C.scrollHeight>C.offsetHeight))I=Math.ceil(M),L=C.scrollTop,0<=P&&(I=Math.min(P,I)),
C.scrollTop+=I,I=C.scrollTop-L,z.y-=I,F&&(F.y-=I);C=C!=l&&!D&&C.parentNode}}}catch(Q){console.error("scrollIntoView: "+Q),a.scrollIntoView(!1)}};return b})},"xl/util/_FormWidgetKeyboardMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array xl/util/_FormWidgetMixin dojo/on dojo/window dojo/has dijit/focus dojo/_base/event".split(" "),function(l,m,k,f,e,d,n,c,b){return l("xl.form._FormWidgetKeyboardMixin",[f],{isMouseDown:!1,postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,
"mousedown",m.hitch(this,this._onTouchStart)),e(this.domNode,"mouseup",m.hitch(this,this._onTouchEnd)),e(this.domNode.ownerDocument,"mouseup",m.hitch(this,this._onDocumentTouchEnd)))},_onTouchStart:function(){this.isMouseDown=!0},destroy:function(){this.inherited(arguments)},_onTouchEnd:function(){this.isMouseDown&&(this.focusNode.focus(),this.isMouseDown=!1)},_onDocumentTouchEnd:function(a){this.isMouseDown=!1}})})},"xl/util/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window dijit/a11y".split(" "),
function(l,m,k,f,e,d,n,c,b,a){return m("xl.util._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);k.set(this.focusNode,"disabled",b);this.valueNode&&k.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",!1),
b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",l.forEach(e.isArray(b)?b:[b],function(b){b=this[b];c("webkit")||a.hasDefaultTabStop(b)?b.setAttribute("tabIndex","-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var d=this.own(n(this.focusNode,"focus",function(){f.remove();d.remove()}))[0],f=this.own(n(this.ownerDocumentBody,
c("android")?"touchend":"mouseup, touchend",e.hitch(this,function(a){f.remove();d.remove();this.focused&&this.focus()})))[0];this.scrollOnFocus&&this.defer(function(){b.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=f.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?
0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),
this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"xl/grapher/IPCursorResponse":function(){define("dojo/_base/declare xl/grapher/IPGraphBlob xl/grapher/IPStroke xl/util/ForeignObject dojo/dom-geometry xl/grapher/enums xl/util/ByRef xl/grapher/Point xl/util/graphUtils xl/util/logger".split(" "),
function(l,m,k,f,e,d,n,c,b){return l("xl.grapher.IPCursorResponse",[m],{x:null,y:null,text:null,font:null,fontSize:"10px",fontColor:null,fontBold:!1,symbol:null,fillSymbol:null,symbolColor:null,symbolBackground:null,symbolSize:3,cursor:null,_node:null,_graph:null,clientId:null,isMarker:!1,constructor:function(){this._infinityOffset=10;this._snapToTicks=this._canMove=!1},getText:function(){return this.text},setText:function(a){this.text=a},getFont:function(){return this.font},setFont:function(a){this.font=
a},getLocationX:function(){return this.x},setLocationX:function(a){this.x=a},getLocationY:function(){return this.y},setLocationY:function(a){this.y=y},draw:function(a,e){var f=new c,k,h;if(this.getGraph()){k=this.xWorldToView(this.x);h=this.yWorldToView(this.y);k<this._graph.getAxisX().getView().min?k=this._graph.getAxisX().getView().min-10:k>this._graph.getAxisX().getView().max&&(k=this._graph.getAxisX().getView().max+10);f.x=k;f.y=h;var l;document.createElementNS("http://www.w3.org/2000/svg","a").setAttributeNS("http://www.w3.org/1999/xlink",
"xlink:href","javascript:void(0);");this.symbol!==d.IPGrShapes.NONE&&(l=b.drawSymbol(a,this.symbol,{x:f.x,y:f.y,size:this.symbolSize,aColor:this.symbolColor,fillColor:this.symbolBackground,addOffsetWidthProp:e,fillSymbol:this.fillSymbol,borderWidth:this.symbolStrokeSize}));this._node=l;this.emit("cursorResponseDrawn",{blob:this});return l}},updatePosition:function(a){var b=e.getMarginBox(a.domNode);if(g=this.getGraph()){var c,d;c=this.xWorldToView(this.x);d=this.yWorldToView(this.y);c=Math.floor(c)+
0.5;d=Math.floor(d)+0.5;a.setBox({x:c,y:d,w:b.w,h:b.h})}},getNode:function(){return this._node},isUnderPoint:function(a,b){return!this.visible||!this._graph?null:this.calcDistFromPoint(a,b,this.symbolSize)}})})},"xl/editgraph/GraphStatus":function(){define("dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin xl/player/controls/_NeedsPlayerViewer dojo/text!./templates/graphstatus.html dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-class dojo/on dojo/_base/lang xl/editgraph/GraphTransformObject xl/editgraph/GraphHandle xl/editgraph/GraphCursor xl/player/dialogs/EditCoordsDialog xl/util/stringUtils xl/util/localization!html5player/graphmanager xl/grapher/enums xl/editgraph/enums".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x){return d("xl.editgraph.GraphStatus",[l,m,f],{templateString:e,baseClass:"graphStatus",placeHolderText:"\x3cdiv class\x3d'graphControlMissing'\x3eX\x3c/div\x3e",EDITOR_ALLOWED_CHARS:"-0123456789/",_gm:null,_graph:null,_editX:null,_editY:null,_popup:null,allowEditCoords:!1,_showCoords:!1,constructor:function(a){},postCreate:function(){var a=v["sdg.edit_coords"];this.getViewer()&&this.getViewer().useSentenceCase&&(a=u.sentenceCase(a));this.lblEditCoords.innerHTML=
a;this._validateLblCoordsHidden()},setShowCoords:function(a){a!=this._showCoords&&(this._showCoords=a,this._validateLblCoordsHidden())},_validateLblCoordsHidden:function(){this._showCoords?b.remove(this.lblCoords,"hidden"):b.add(this.lblCoords,"hidden")},setCursorText:function(a){this._gm.isReact||(this._gm.getSelectedObject()&&this._gm.getSelectedObject().isInstanceOf(r)&&(a=""),a&&this._graph.getFocusBlob()&&(this._graph.getFocusBlob().isInstanceOf(t)?this.setShowCoords(!0):this._graph.getFocusBlob().isInstanceOf(h)&&
(this._graph.getXYCursorBlobObject()?this.setShowCoords(this._graph.getXYCursorBlobObject().cursor.show):this.setShowCoords(!0))),(this.lblCoords.innerHTML=a)&&this.allowEditCoords&&this._graph.getFocusBlob()&&this._graph.getFocusBlob().isInstanceOf(t)?b.remove(this.lblEditCoords,"hidden"):b.add(this.lblEditCoords,"hidden"))},editCoordsClick:function(a){this._popup=new q({restrictChars:this.EDITOR_ALLOWED_CHARS,pt:{x:this._editX,y:this._editY},plotBoundaries:{xmin:this._graph.getAxisX().getMinimum(),
xmax:this._graph.getAxisX().getMaximum(),ymin:this._graph.getAxisY().getMinimum(),ymax:this._graph.getAxisY().getMaximum()}});this._popup.on("okeditcoords",s.hitch(this,this.okEditCoords));this._popup.show()},okEditCoords:function(a){this._graph.getFocusBlob().move(a.x,a.y,w.IPGraphBlobState.UP,!0);this.setCursorText(this._gm.getCursorText())},cursorMoved:function(a){a&&(this._editX=a.x,this._editY=a.y);this.setCursorText(this._gm.getCursorText())},getGraph:function(){return this._graph},setGraph:function(a){a!=
this._graph&&(this._graph=a,this._gm=this._graph.getGraphControl().getGraphManager(),this._gm.on(x.GraphObjectEvent.CURSOR_MOVED,s.hitch(this,this.cursorMoved)))},mouseDown:function(a){var b=this._graph.getGraphControl().getPalette();b&&(b.showPalette=!1);a.stopPropagation();a.preventDefault()},mouseUp:function(a){var b=this._graph.getGraphControl().getPalette();b&&(b.showPalette=!0);a.stopPropagation();a.preventDefault()}})})},"xl/player/dialogs/EditCoordsDialog":function(){define("dojo/_base/declare xl/eqeditor/EqEditor dojo/_base/lang dojo/dom-construct dojo/_base/array dojo/text!./templates/EditCoordsDialog.html dojo/dom-style dojo/dom-geometry dijit/registry dojo/Evented dojo/has xl/grapher/XYGraph2 xl/player/dialogs/BaseDialog dojox/xml/parser dojo/query xl/grapher/enums xl/util/stringUtils xl/util/IPMath xl/util/localization!html5player/graphmanager xl/util/localization!html5player/popup dojo/dom-class dojo/json xl/player/dialogs/ConfirmationDialog xl/eqeditor/AssessmentsComponents".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B){var D=B.EquationClasses.EqTextParser,E=B.EquationClasses.TDXInputOption;return l("xl.player.dialogs.EditCoordsDialog",[t],{baseClass:"editCoords",contentString:d,isModal:!0,_pt:{x:0,y:0},_plotBoundaries:null,_restrictChars:null,_docSettings:{processCtrlShortcuts:!1,restrictChars:this._restrictChars,allowSubscriptShortcuts:!1,allowSuperscriptShortcuts:!1,allowSingleFraction:!0,smartSlash:!0,smartSlashNumbersOnly:!0,allowCommaNumbers:!1,tabEnabled:!0,
focusEnabled:!0,tabChildren:!0,suppressEmptyHiding:!0},_docSettingsStr:null,useOsk:!1,constructor:function(a){this.useOsk=!(!s("iPad")&&!s("ios")&&!s("android"));this._restrictChars=a.restrictChars;this._docSettingsStr=C.stringify(this._docSettings,",");this._pt=a.pt;this._plotBoundaries=a.plotBoundaries},postCreate:function(){this.inherited(arguments);this.editCoordsText.innerHTML=x["sdg.edit_coords_text"];this.editCoordsInstructions.innerHTML=x["sdg.edit_coords_instructions"];this.xCoordInput.setEqText(this._pt.x.toString());
this.yCoordInput.setEqText(this._pt.y.toString())},show:function(){this.inherited(arguments)},setupFooter:function(){this.addButton({label:A.cancel,onClick:k.hitch(this,this.cancelClicked)});this.addButton({label:A.submit,onClick:k.hitch(this,this.okClicked)});this.inherited(arguments)},setupHeader:function(){var a=x["sdg.edit_coords"];this.getViewer()&&this.getViewer().useSentenceCase&&(a=v.sentenceCase(a));f.create("label",{innerHTML:a},this.titleNode);this.inherited(arguments)},okClicked:function(a){if(this.validateInput()){var b=
this.getValueFromEqText(this.xCoordInput.getEqText()),c=this.getValueFromEqText(this.yCoordInput.getEqText());this._pt={x:b,y:c};this.emit("okeditcoords",this._pt);this.onExecute(a)}else a.stopPropagation()},validateInput:function(){var a,b,c;try{b=this.getValue(this.xCoordInput.getEqDoc())}catch(d){a=x["sdg.edit_coords_invalidnumber"]}try{c=this.getValue(this.yCoordInput.getEqDoc())}catch(e){a=x["sdg.edit_coords_invalidnumber"]}if(this.xCoordInput.isEmpty()||this.yCoordInput.isEmpty())a=x["sdg.edit_coords_invalidnumber"];
if(isNaN(b)||isNaN(c))a=x["sdg.edit_coords_invalidnumber"];b>this._plotBoundaries.xmax?(this.xCoordInput.setEqText(this._plotBoundaries.xmax.toString()),a=x["sdg.edit_coords_range"]):b<this._plotBoundaries.xmin&&(this.xCoordInput.setEqText(this._plotBoundaries.xmin.toString()),a=x["sdg.edit_coords_range"]);c>this._plotBoundaries.ymax?(this.yCoordInput.setEqText(this._plotBoundaries.ymax.toString()),a=x["sdg.edit_coords_range"]):c<this._plotBoundaries.ymin&&(this.yCoordInput.setEqText(this._plotBoundaries.ymin.toString()),
a=x["sdg.edit_coords_range"]);b=this.xCoordInput.getEqText();c=b.indexOf("@mnum");var f=this.yCoordInput.getEqText(),h=f.indexOf("@mnum");if(-1<c||-1<h)a=x["sdg.edit_coords_invalidnumber"];c=b.indexOf("}");h=f.indexOf("}");if(c!=b.length-1&&-1!=c||h!=f.length-1&&-1!=h)a=x["sdg.edit_coords_invalidnumber"];return a?(F.displayText(a,"",[F.BUTTON.OK],"300px"),!1):!0},getValue:function(a){var b,c=1,d=a.getChild(0);"-"==d.getEqText()&&2==a.getNumChildren()&&(c=-1,d=a.getChild(1));d.isEqDivide()&&(1==a.getNumChildren()||
-1==c)?(a=d,b=c*this.getValue(a.getEqRow(0))/this.getValue(a.getEqRow(1))):(c={},d=E.ALLOWMINUS+E.ZEROOPTIONAL,this.inputToFloat(a.getEqText(),c,"$",d)&&(b=c.value));if(isNaN(b))throw Error();return b},inputToFloat:function(a,b,c,d){d||(d=15);var e;e=new D;e.currencyChar=c;e.allowCommaNumbers=0!=(E.ALLOWCOMMANUMBER&d);e.allowDollarNumbers=0!=(E.ALLOWDOLLAR&d);e.allowNegParens=0!=(E.ALLOWNEGPARENS&d);e.allowPlus=0!=(E.ALLOWPLUS&d);e.allowMinus=0!=(E.ALLOWMINUS&d);e.siCommaChar=0!=(E.USESICOMMASPACE&
d)?" ":0!=(E.USESICOMMAPERIOD&d)?".":",";e.siCommaDecimal=0!=(E.USESICOMMADECIMAL&d);e.zeroOptional=0!=(E.ZEROOPTIONAL&d);e.allowSpaceAfterCurrencyChar=0!=(E.ALLOWSPACEAFTERCURRENCYCHAR&d);e.allowSpaceAfterNegParen=0!=(E.ALLOWSPACEAFTERNEGPAREN&d);e.allowSpaceAfterMinus=0!=(E.ALLOWSPACEAFTERMINUS&d);e.setText(a);this.intIn(e.nextToken(),[D.EqTextParserToken.INTEGER,D.EqTextParserToken.FLOAT])&&!e.moreTokens()?(b.value=e.numberValue,a=!0):a=!1;return a},intIn:function(a,b){for(var c=0;c<b.length;c++)if(a==
b[c])return!0;return!1},getValueFromEqText:function(a){if(0>a.indexOf("@DIV"))return Number(a);var b=a.indexOf("{"),c=a.indexOf(";"),d=a.indexOf("}"),b=a.substring(b+1,c),c=a.substring(c+1,d),c=b/c;if((a.match(/-/g)||[]).length%2)c=-c;return c},cancelClicked:function(a){this.hide()},DEF_FORMAT:"#",format:"#.##",formatNum:function(a){return w.isInfinite(a)?0<a?"\x26infin;":"-\x26infin;":!this.format||""==this.format?v.formatFloat(a,this.DEF_FORMAT):v.formatFloat(a,this.format)}})})},"dojox/xml/parser":function(){define(["dojo/_base/kernel",
"dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(l){l.getObject("xml.parser",!0,dojox);dojox.xml.parser.parse=function(m,k){var f=l.doc,e;k=k||"text/xml";if(m&&l.trim(m)&&"DOMParser"in l.global){e=(new DOMParser).parseFromString(m,k);f=e.documentElement;if("parsererror"==f.nodeName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"==f.namespaceURI){var d=f.getElementsByTagNameNS("http://www.mozilla.org/newlayout/xml/parsererror.xml","sourcetext")[0];d&&(d=
d.firstChild.data);throw Error("Error parsing text "+f.firstChild.data+" \n"+d);}return e}if("ActiveXObject"in l.global){f=function(c){return"MSXML"+c+".DOMDocument"};f=["Microsoft.XMLDOM",f(6),f(4),f(3),f(2)];l.some(f,function(c){try{e=new ActiveXObject(c)}catch(b){return!1}return!0});if(m&&e&&(e.async=!1,e.loadXML(m),f=e.parseError,0!==f.errorCode))throw Error("Line: "+f.line+"\nCol: "+f.linepos+"\nReason: "+f.reason+"\nError Code: "+f.errorCode+"\nSource: "+f.srcText);if(e)return e}else if(f.implementation&&
f.implementation.createDocument){if(m&&l.trim(m)&&f.createElement){d=f.createElement("xml");d.innerHTML=m;var n=f.implementation.createDocument("foo","",null);l.forEach(d.childNodes,function(c){n.importNode(c,!0)});return n}return f.implementation.createDocument("","",null)}return null};dojox.xml.parser.textContent=function(m,k){if(1<arguments.length)return dojox.xml.parser.replaceChildren(m,(m.ownerDocument||l.doc).createTextNode(k)),k;if(void 0!==m.textContent)return m.textContent;var f="";m&&l.forEach(m.childNodes,
function(e){switch(e.nodeType){case 1:case 5:f+=dojox.xml.parser.textContent(e);break;case 3:case 2:case 4:f+=e.nodeValue}});return f};dojox.xml.parser.replaceChildren=function(m,k){var f=[];l.isIE&&l.forEach(m.childNodes,function(e){f.push(e)});dojox.xml.parser.removeChildren(m);l.forEach(f,l.destroy);l.isArray(k)?l.forEach(k,function(e){m.appendChild(e)}):m.appendChild(k)};dojox.xml.parser.removeChildren=function(l){for(var k=l.childNodes.length;l.hasChildNodes();)l.removeChild(l.firstChild);return k};
dojox.xml.parser.innerXML=function(l){return l.innerXML?l.innerXML:l.xml?l.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(l):null};return dojox.xml.parser})},"xl/player/dialogs/InteractionsNativeDialog":function(){define("dojo/_base/array dojo/_base/lang dijit/registry xl/util/nativeDeferredManager xl/util/nativeMessageManager xl/grapher/IPGraphLabel xl/grapher/IPGraphScatter xl/grapher/IPGraphFunction xl/grapher/GraphInteractions".split(" "),function(l,m,k,f,e,d,n,c,
b){function a(a,b){var c=[];v=b;a?w=a:a=w;l.forEach(a,function(a,b){var d={};d.id=b;d.label=a.name;u[d.id]?d.selected=u[d.id].selected:0==b&&(d.selected=!0);d.controls=[];if(a.selectOptionsNameX){var e={type:"dropDown"};e.id=a.selectOptionsNameX;e.text=a.selectOptionsNameX;e.options=[];l.forEach(a.selectOptionsX,function(a,b){u[e.id]&&u[e.id].value==a.value?e.options.push({label:a.label,value:a.value,selected:!0}):e.options.push({label:a.label,value:a.value})});u[e.id]?u[e.id].valueChange=s:(u[e.id]=
{id:e.id,type:e.type,value:e.options[0].value,valueChange:s,curveIndex:d.id},e.options[0].selected=!0);d.controls.push(e)}a.selectOptionsNameY&&(e={type:"dropDown"},e.id=a.selectOptionsNameY,e.text=a.selectOptionsNameY,e.options=[],l.forEach(a.selectOptionsY,function(a,b){u[e.id]&&u[e.id].value==a.value?e.options.push({label:a.label,value:a.value,selected:!0}):e.options.push({label:a.label,value:a.value})}),u[e.id]?u[e.id].valueChange=r:(u[e.id]={id:e.id,type:e.type,value:e.options[0].value,valueChange:r,
curveIndex:d.id},e.options[0].selected=!0),d.controls.push(e));var f=null;l.forEach(a.params,function(a,b){f={type:"slider"};f.id=a.varName;f.label=a.name;f.min=a.min;f.max=a.max;f.discreteValues=a.discreteValues;f.value=u[f.id]?u[f.id]:a.value;d.controls.push(f);u[f.id]?u[f.id].valueChange=t:u[f.id]={id:f.id,type:f.type,value:f.value,valueChange:t,curveIndex:d.id}});c.push(d)});var d={type:"nativeDialog",isModal:!0,data:{title:"Graph Interactions",message:"",controlGroups:c,commands:[{type:"button",
id:"resetgraph",text:"Reset Graph"},{type:"button",id:"close",text:"Close"}]}};u.resetgraph||(u.resetgraph={id:"resetgraph",type:"button",valueChange:h});e.setMessageReceiver(q);e.makeRequest(d)}function s(a){Number(a.value)!==Number.NEGATIVE_INFINITY&&(u[a.id].value=a.value,a={type:"executeCommand",data:{command:"interactionplotmarker",arguments:{curveIndex:u[a.id].curveIndex,graphId:v,type:0,value:a.value},result:"interactionplotmarker"}},f.makeRequest(a).then(b.markerValueChange))}function r(a){Number(a.value)!==
Number.NEGATIVE_INFINITY&&(u[a.id].value=a.value,a={type:"executeCommand",data:{command:"interactionplotmarker",arguments:{curveIndex:u[a.id].curveIndex,graphId:v,type:1,value:a.value},result:"interactionplotmarker"}},f.makeRequest(a).then(b.markerValueChange))}function t(a){if(Number(a.value)!==Number.NEGATIVE_INFINITY){var c=[],d=u[a.id];u[a.id].value=a.value;for(var e in u)"slider"==u[e].type&&u[e].curveIndex==d.curveIndex&&c.push(u[e].value);a={type:"executeCommand",data:{command:"interactionAnimatePlot",
arguments:{curveIndex:u[a.id].curveIndex,graphId:v,params:c},result:"interactionAnimatePlot"}};f.makeRequest(a).then(b.animatePlotAction)}}function h(a){a={type:"executeCommand",data:{command:"interactionreset",arguments:{graphId:v},result:"interactionreset"}};f.makeRequest(a).then(b.reset)}function q(a){l.forEach(a.values,function(a,b){u[a.id]&&u[a.id].valueChange(a)})}var u={},v=null,w=null;return{showNativeInteractionDialog:a,interactionscontrols:u,graphObjects:{},setDialogControlsData:function(b){u=
b;a(null,v)}}})},"xl/util/nativeMessageManager":function(){define(["dojo/_base/array","dojo/_base/lang","xl/util/nativeDeferredManager"],function(l,m,k){function f(){return k.getNextId()}var e=null,d=null;return{makeRequest:function(d){e&&(d.id=f(),d.time=Date.now(),e(d))},setMessageSender:function(d){e=d},setMessageReceiver:function(e){d=e},receiveResponse:function(e){d(e.data)},getNextId:f}})},"xl/grapher/GraphInteractions":function(){define("dojo/_base/declare dijit/registry dojo/_base/array xl/grapher/IPGraphLabel xl/grapher/IPGraphScatter xl/grapher/IPGraphFunction".split(" "),
function(l,m,k,f,e,d){return{animatePlotAction:function(l){var c=0,b=setInterval(function(){var a=l.graphChanges[c++];k.forEach(a,function(a){var b=m.byId(a.graphId),c=a.scatters;a=a.markers;if(null!=b){k.forEach(c,function(a){var c=b.getPlot(a.index);if(c&&(null!=c.animatedPlot&&(b.removePart(c.animatedPlot),c.animatedPlot=null),null!=a.scatter)){var f;a:{f=a.scatter;var k=null;switch(f.plotType){case "scatter":k=new e(f);k.objectParams=f;f=k;break a;case "function":k=new d(f);k.objectParams=f;f=
k;break a}f=void 0}"function"===c.plotType&&(c.animatedPlot=f,f.setGraph(b));c.hasSamePoints(f.xPts,f.yPts)?c.hidden&&(c.hidden=!1,c.setVisible(c.origVisible)):(c.animatedPlot=f,f.setGraph(b),!a.showSnapshot&&!c.hidden&&(c.hidden=!0,c.origVisible=c.visible,c.setVisible(!1)))}});b.clearMarkerList();for(c=0;c<a.length;c++)(new f(a[c])).setGraph(b);b.validateGraph()}});10==c&&clearInterval(b)},200)},markerValueChange:function(d){k.forEach(d.graphChanges,function(c){var b=m.byId(c.graphId);c=c.markers;
if(null!=b){b.clearMarkerList();for(var a=0;a<c.length;a++){var d=new f(c[a]);d.objectParams=c[a];d.setGraph(b)}b.validateGraph()}})},reset:function(d){k.forEach(d.graphChanges,function(c){var b=m.byId(c.graphId);c=c.markers;if(null!=b){for(var a=0;a<b.getPlotCount();a++){var d=b.getPlot(a);null!=d.animatedPlot&&(b.removePart(d.animatedPlot),d.animatedPlot=null);d.hidden&&(d.hidden=!1,d.setVisible(d.origVisible))}b.clearMarkerList();for(a=0;a<c.length;a++)(new f(c[a])).setGraph(b);b.validateGraph()}})}}})},
"xl/player/dialogs/DataGrapherNativeDialog":function(){define("dojo/_base/array dojo/_base/lang dijit/registry xl/util/nativeDeferredManager xl/util/nativeMessageManager xl/grapher/IPGraphLabel xl/grapher/IPGraphScatter xl/grapher/IPGraphFunction xl/grapher/DataGrapherActions".split(" "),function(l,m,k,f,e,d,n,c,b){function a(a,b){a?A=a:a=A;var c=a.selectOptions,d=[];w=b;var f=2<=c.length,k=2<=a.count,m=3<=a.count,n=4<=a.count,x=5<=a.count,H={id:"group0",number:1,type:"group",label:"Time Series (1 or 2 plots)"};
H.selected=v[H.id]?v[H.id].selected:!0;H.controls=[];var K={type:"dropDown",id:"selectYAxis1",text:"Y Axis1",options:[]};l.forEach(c,function(a,b){v[K.id]&&v[K.id].value==a.value?K.options.push({label:a.label,value:a.value,selected:!0}):K.options.push({label:a.label,value:a.value})});K.options[0].selected=!0;H.controls.push(K);v[K.id]?v[K.id].valueChange=s:v[K.id]={id:K.id,type:K.type,value:K.options[0].value,valueChange:s,groupId:H.id};if(f){var M={type:"dropDown",id:"selectYAxis2",text:"Y Axis2",
options:[]};l.forEach(c,function(a,b){v[M.id]&&v[M.id].value==a.value?M.options.push({label:a.label,value:a.value,selected:!0}):M.options.push({label:a.label,value:a.value})});M.options[0].selected=!0;H.controls.push(M);v[M.id]?v[M.id].valueChange=s:v[M.id]={id:M.id,type:M.type,value:M.options[0].value,valueChange:s,groupId:H.id}}d.push(H);v[H.id]?v[H.id].valueChange=t:v[H.id]={id:H.id,type:H.type,value:0,valueChange:t,groupId:H.id,selected:H.selected,number:H.number};f={id:"group1",number:2,type:"group",
label:"Multiple Plots"};v[f.id]&&(f.selected=v[f.id].selected);f.controls=[];var P={type:"dropDown",id:"selectY1",text:"Y1",options:[]};l.forEach(c,function(a,b){v[P.id]&&v[P.id].value==a.value?P.options.push({label:a.label,value:a.value,selected:!0}):P.options.push({label:a.label,value:a.value})});P.options[0].selected=!0;f.controls.push(P);v[P.id]?v[P.id].valueChange=s:v[P.id]={id:P.id,type:P.type,value:P.options[0].value,valueChange:s,groupId:f.id};if(k){var I={type:"dropDown",id:"selectY2",text:"Y2",
options:[]};l.forEach(c,function(a,b){v[I.id]&&v[I.id].value==a.value?I.options.push({label:a.label,value:a.value,selected:!0}):I.options.push({label:a.label,value:a.value})});I.options[0].selected=!0;f.controls.push(I);v[I.id]?v[I.id].valueChange=s:v[I.id]={id:I.id,type:I.type,value:I.options[0].value,valueChange:s,groupId:f.id}}if(m){var L={type:"dropDown",id:"selectY3",text:"Y3",options:[]};l.forEach(c,function(a,b){v[L.id]&&v[L.id].value==a.value?L.options.push({label:a.label,value:a.value,selected:!0}):
L.options.push({label:a.label,value:a.value})});L.options[0].selected=!0;f.controls.push(L);v[L.id]?v[L.id].valueChange=s:v[L.id]={id:L.id,type:L.type,value:L.options[0].value,valueChange:s,groupId:f.id}}if(n){var Q={type:"dropDown",id:"selectY4",text:"Y4",options:[]};l.forEach(c,function(a,b){v[Q.id]&&v[Q.id].value==a.value?Q.options.push({label:a.label,value:a.value,selected:!0}):Q.options.push({label:a.label,value:a.value})});Q.options[0].selected=!0;f.controls.push(Q);v[Q.id]?v[Q.id].valueChange=
s:v[Q.id]={id:Q.id,type:Q.type,value:Q.options[0].value,valueChange:s,groupId:f.id}}if(x){var W={type:"dropDown",id:"selectY5",text:"Y5",options:[]};l.forEach(c,function(a,b){v[W.id]&&v[W.id].value==a.value?W.options.push({label:a.label,value:a.value,selected:!0}):W.options.push({label:a.label,value:a.value})});W.options[0].selected=!0;f.controls.push(W);v[W.id]?v[W.id].valueChange=s:v[W.id]={id:W.id,type:W.type,value:W.options[0].value,valueChange:s,groupId:f.id}}d.push(f);v[f.id]?v[f.id].valueChange=
t:v[f.id]={id:f.id,type:f.type,value:0,valueChange:t,groupId:f.id,number:f.number};k={id:"group2",number:3,type:"group",label:"Scatter Diagram"};v[k.id]&&(k.selected=v[k.id].selected);k.controls=[];var R={type:"dropDown",id:"selectXAxis",text:"X Axis",options:[]};l.forEach(c,function(a,b){v[R.id]&&v[R.id].value==a.value?R.options.push({label:a.label,value:a.value,selected:!0}):R.options.push({label:a.label,value:a.value})});R.options[0].selected=!0;k.controls.push(R);v[R.id]?v[R.id].valueChange=s:
v[R.id]={id:R.id,type:R.type,value:R.options[0].value,valueChange:s,groupId:k.id};var T={type:"dropDown",id:"selectYAxis",text:"Y Axis",options:[]};l.forEach(c,function(a,b){v[T.id]&&v[T.id].value==a.value?T.options.push({label:a.label,value:a.value,selected:!0}):T.options.push({label:a.label,value:a.value})});T.options[0].selected=!0;k.controls.push(T);v[T.id]?v[T.id].valueChange=s:v[T.id]={id:T.id,type:T.type,value:T.options[0].value,valueChange:s,groupId:k.id};c={type:"checkBox",id:"plotLines",
text:"Plot Lines",value:"false"};c.checked=v[c.id]?v[c.id].value:"false";k.controls.push(c);v[c.id]?v[c.id].valueChange=r:v[c.id]={id:c.id,type:c.type,value:c.checked,valueChange:r,groupId:k.id};d.push(k);v[k.id]?v[k.id].valueChange=t:v[k.id]={id:k.id,type:k.type,value:0,valueChange:t,groupId:k.id,number:k.number};a={type:"nativeDialog",isModal:!0,data:{title:"Data Grapher",message:"",controlGroups:d,commands:[{type:"button",id:"resetgraph",text:"Reset Graph"},{type:"button",id:"close",text:"Close"},
{type:"button",id:"plot",text:"Plot"}]}};v.resetgraph||(v.resetgraph={id:"resetgraph",type:"button",valueChange:q});v.plot||(v.plot={id:"plot",type:"button",valueChange:h});e.setMessageReceiver(u);e.makeRequest(a)}function s(a){v[a.id].value=a.value}function r(a){v[a.id].value=x=a.value}function t(a){if(Number(a.value)!==Number.NEGATIVE_INFINITY)for(var b in v)v[b].id==a.id?v[b].selected=!0:"group"==v[b].type&&(v[b].selected=!1)}function h(a){a=[];var c,d,e;for(e in v)if("group"==v[e].type&&v[e].selected){c=
v[e].groupId;d=v[e].number;for(var h in v)"dropDown"==v[h].type&&v[h].groupId==c&&-1<v[h].value&&a.push(v[h].value)}0!==a.length&&f.makeRequest({type:"executeCommand",data:{command:"displaydatagrapher",arguments:{plots:a,graphId:w,type:d,drawLines:x},result:"displaydatagrapher"}}).then(b.plot)}function q(a){a={type:"executeCommand",data:{command:"resetdatagrapher",arguments:{graphId:w},result:"displaydatagrapher"}};f.makeRequest(a).then(b.reset)}function u(a){l.forEach(a.values,function(a,b){v[a.id]&&
v[a.id].valueChange(a)})}var v={},w=null,x=!1,A=null;return{showNativeDataGrapherDialog:a,datagraphcontrols:v,setDialogControlsData:function(b){v=b;a(null,w)}}})},"xl/grapher/DataGrapherActions":function(){define(["dojo/_base/declare","dijit/registry","xl/grapher/IPGraphScatter"],function(l,m,k){return{plot:function(f){var e=m.byId(f.graphId),d=f.xAxis,l=f.yAxis,c=f.yAltAxis?f.yAltAxis:{};f=f.drawObjects?f.drawObjects:f.scatterPlots;if(null!=e){e.getAxisX().setProperties(d);e.getAxisY().setProperties(l);
e.getAxisYAlt()&&e.getAxisYAlt().setProperties(c);e.dataGraphRemoveAllPlots();for(d=0;d<f.length;d++)l=new k(f[d]),l.objectParams=f[d],e.dataGraphAddPlot(l);e.reset(!0)}},reset:function(f){var e=m.byId(f.graphId);e.dataGrapherOptions=null;var d=f.xAxis,l=f.yAxis,c=f.yAltAxis?f.yAltAxis:{};f=f.drawObjects?f.drawObjects:f.scatterPlots;if(null!=e){e.getAxisX().setProperties(d);e.getAxisY().setProperties(l);e.getAxisYAlt()&&e.getAxisYAlt().setProperties(c);e.dataGraphRemoveAllPlots();for(d=0;d<f.length;d++)l=
new k(f[d]),l.objectParams=f[d],e.dataGraphAddPlot(l);e.reset(!0)}}}})},"xl/grapher/NumberLine":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojo/dom-geometry dojo/dom-class dojo/dom-style dijit/registry dojox/gfx/registry ./XYGraph2 xl/util/positionMonitor ./IPNumberLinePlot xl/grapher/enums xl/grapher/IPCursorResponse".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t){return l("xl.grapher.NumberLine",[b],{_positionMonitor:null,constructor:function(a){this.hasZoomButton=!1;this.plotMargins=
{top:5,left:5,right:5,bottom:5};a.loadFromJson&&m.mixin(this,a.config)},postCreate:function(){this.inherited(arguments);this._positionMonitor=a.register(this.domNode,m.hitch(this,this.reset));if(this.getParent){var b=this.getParent();b&&(b.domNode&&e.contains(b.domNode,"mcAnswerOverflow"))&&e.remove(b.domNode,"mcAnswerOverflow")}this.customDropPoint&&(b=this.createPoint(this.customDropPoint.isCorrect,this.customDropPoint.xPos),this.addPart(b))},createPoint:function(a,b){return new t({_graph:this,
symbolColor:a?"#000000":"#BF2324",symbolBackground:"#9AB0D8",symbol:r.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:4,x:b,y:0})},destroy:function(){this.inherited(arguments);this._positionMonitor&&this._positionMonitor.remove()},draw:function(a){this.getAxisX().tickStyle=r.IPGraphTickStyle.FULL;this.getAxisY().tickStyle=r.IPGraphTickStyle.FULL;for(var b=this.domNode,c;b.parentNode;){if(e.contains(b,"dijitTooltipContents")){c=b;break}b=b.parentNode}c&&(this.reset(),d.set(c,"width",f.getMarginBox(this.getViewer().domNode).w-
75+"px"));this.inherited(arguments)},onFormatNumber:null,resize:function(){var a=f.getMarginBox(this.domNode);if(a.w!=this.myWidth||a.h!=this.myHeight)this.reset(),this.myWidth=a.w,this.myHeight=a.h}})})},"xl/util/positionMonitor":function(){define(["dojo/dom-geometry","dojo/_base/array"],function(l,m){var k=[],f=void 0,e=function(){m.forEach(k,function(d){var e=l.getMarginBox(d.domNode);if(e.l!=d.lastPos.l||e.t!=d.lastPos.t||e.w!=d.lastPos.w||e.h!=d.lastPos.h)d.callback(e,d.domNode),d.lastPos=l.getMarginBox(d.domNode)});
f=0<k.length?setTimeout(e,50):void 0};return{register:function(d,n){var c={domNode:d,callback:n};c.lastPos=l.getMarginBox(d);k.push(c);f||(f=setTimeout(e,50));return{remove:function(){k=m.filter(k,function(b){return b!=c});0==k.length&&(clearTimeout(f),f=void 0)}}}}})},"xl/player/controls/XYCursor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class xl/grapher/XYCursor xl/player/controls/_InputObject dijit/registry xl/grapher/XYPointCursor xl/grapher/enums dojo/keys dojo/_base/event xl/player/controls/_NeedsPlayerViewer".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s){return l("xl.player.controls.XYCursor",[f,e,s],{cursor:null,getInputData:function(){return{x:this.cursor.getLocationX(),y:this.cursor.getLocationY(),type:"cursor"}},setInputData:function(a){this._graph.getGraphControl().getGraphManager().clearGraphPoints();a&&(a.noninteractive?(this.cursor.setVisible(!1),this.nonInteractive=!0,this.dropPoint(this._graph,a)):(this.cursor.setVisible(!0),this.cursor.setLocation(a.x,a.y)))},processCommand:function(a,b){switch(a){case "attach":this.graphId=
b.graphId;this._graph=d.byId(this.graphId);if(!this._graph)break;this.cursor=new n({graph:this._graph,snapX:this.snapX,snapY:this.snapY});b.hideCrosshair&&(this.cursor.setShowVertLine(!1),this.cursor.setShowHorzLine(!1));this.cursor.setLocation(this.startX,this.startY);this.cursor.on(c.IPGraphBlobEvent.BLOB_MOVED,m.hitch(this,this.blobMoved));this._graph.on("graphZoomed",m.hitch(this,this.graphZoomed));this._graph.on("keydown",m.hitch(this,this._onKeyDown));this._graph.on("graphmouseup",m.hitch(this,
this.graphMouseUp));this._graph.addXYCursor(this);b.clearPoints&&this._graph.getGraphControl().getGraphManager().clearGraphPoints();this.cursorLoaded&&this.cursorLoaded();break;case "answered":this.answeredCommand(b);this.clearCursor(this._graph);this.dropPoint(this._graph);this.updateControlState();break;case "answerapplied":this.answerAppliedCommand(b)}},answerAppliedCommand:function(a){a&&(this.cursor.setLocation(a.answerX,a.answerY),this.solutionX=a.answerX,this.solutionY=a.answerY,this.userResponseX=
a.answerX,this.userResponseY=a.answerY,this.displayAnswer())},answeredCommand:function(a){a&&(this.isAnswered=!0,this.isCorrect=a.isCorrect,this.toolTipContent=a.toolTip,this.showFeedbackLink=a.showFeedbackLink,this.solutionX=a.answerX,this.solutionY=a.answerY,this.userResponseX=a.userResponse.x,this.userResponseY=a.userResponse.y,this.isCorrect||this.displayAnswer())},displayAnswer:function(){this.label.setEqText("("+this.solutionX+this.delimiterChar+" "+this.solutionY+")")},updateControlState:function(){this.updateToolTipDijit(this._answerPoint._node.rawNode,
!0);k.remove(this.domNode,"correct");k.remove(this.domNode,"incorrect");k.remove(this.domNode,"answered");this.isAnswered&&(k.add(this.domNode,"answered"),k.add(this.domNode,this.isCorrect?"correct":"incorrect"))},clear:function(){this.cursor.setLocation(this.startX,this.startY);this.userResponseX=this.startX;this.userResponseY=this.startY;this.display()},_onKeyDown:function(c){c.keyCode===b.ENTER&&!this.isAnswered?(a.stop(c),this.inputEntered()):c.keyCode===b.ENTER&&this.isAnswered&&(a.stop(c),this.showToolTip(this.cursor.graph.domNode.getElementsByTagName("circle")[0],
this.cursor.graph.domNode))}})})},"xl/grapher/XYCursor":function(){define("dojo/_base/declare dijit/_WidgetBase xl/grapher/XYPointCursor xl/eqeditor/EqLabel dijit/registry dojo/_base/lang dojo/dom-construct dojo/dom-class xl/grapher/IPCursorResponse xl/grapher/enums dojo/Evented dojo/_base/event dojo/keys dijit/Tooltip xl/util/localization!html5player/player xl/util/stringUtils xl/util/DijitLoadMonitor dojo/on xl/player/controls/_NeedsPlayerViewer".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,
q,u,v,w,x){return l("xl.grapher.XYCursor",[m,s,x],{name:null,format:null,show:!0,cursor:null,label:null,_graph:null,graphId:null,startX:null,startY:null,solutionX:null,solutionY:null,userResponseX:null,userResponseY:null,snapX:1,snapY:1,isAnswered:!1,propName:"",baseClass:"xycursor",toolTipContent:null,DEF_FORMAT:"#",delimiterChar:",",constructor:function(a){d.mixin(a);this.inputFilled=!0},postCreate:function(){this._graph=e.byId(this.graphId);var a=n.create("span",null,this.domNode);this.label=new f(null,
a);this.label.startup();this.propName||(this.userResponseX=this.startX,this.userResponseY=this.startY);this.display();v.staticFunctions.loadingStarted(this)},display:function(){switch(this.propName){case "response":this.label.setEqText("("+this._format(this.userResponseX)+this.delimiterChar+" "+this._format(this.userResponseY)+")");break;case "output":this.label.setEqText("("+this._format(this.solutionX)+this.delimiterChar+" "+this._format(this.solutionY)+")");break;default:this.label.setEqText("("+
this._format(this.userResponseX)+this.delimiterChar+" "+this._format(this.userResponseY)+")")}this.label.domNode.style.display=this.show?"inline":"none"},_parentCursorNode:null,cancelZoomed:function(a){this.resetToolTipEvents(a)},resetToolTipEvents:function(a){null!=this._parentCursorNode&&(this._answerPoint._node.rawNode=this._parentCursorNode,this.updateToolTipDijit(this._parentCursorNode,!0),this._parentCursorNode=null)},okZoomed:function(a){this._parentCursorNode=null;if(!this.isAnswered){var b=
a.zoomedGraph.currentBlob.getLocationX(),c=a.zoomedGraph.currentBlob.getLocationY();this.userResponseX=b;this.userResponseY=c;a.graph.currentBlob.setLocationX(b);a.graph.currentBlob.setLocationY(c);a.graph.currentBlob.draw(a.graph.getBlobSurfaceLayer());this.display()}},graphZoomed:function(a){if(this.isAnswered)this._parentCursorNode=this._answerPoint._node.rawNode,this.dropPoint(a.zoomedGraph.getGraphControl().getGraph());else{var b=a.zoomedGraph.getGraphControl().getGraph(),c=new k({graph:b,delayDraw:!0,
snapX:b.getAxisX().tickSpacing,snapY:b.getAxisY().tickSpacing,cursor:this});c.setLocationX(a.graph.currentBlob.getLocationX());c.setLocationY(a.graph.currentBlob.getLocationY());b.on("graphmouseup",d.hitch(this,this.graphMouseUp))}a.zoomedGraph.on("okZoomed",d.hitch(this,this.okZoomed));a.zoomedGraph.on("cancelZoomed",d.hitch(this,this.cancelZoomed));a.zoomedGraph.on("resetToolTip",d.hitch(this,this.resetToolTipEvents))},blobMoved:function(a){this.userResponseX=a.x;this.userResponseY=a.y;this.display();
w.emit(this.domNode,"xycursor_moved",{x:this.userResponseX,y:this.userResponseY,bubbles:!0})},graphMouseUp:function(b){if(!(void 0==b.x||void 0==b.y||!b.graph)){var c=b.graph.getXYCursorBlobObject();c&&c.move(b.x,b.y,a.IPGraphBlobState.MOVED,!1,!1)}},_answerPoint:null,dropPoint:function(c,e){c&&(this._answerPoint=this.isCorrect?new b({_graph:c,cursor:this,symbolColor:"#000000",symbolBackground:"#9AB0D8",symbol:a.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:4,x:this.solutionX,y:this.solutionY}):this.nonInteractive?
new b({_graph:c,cursor:this,symbolColor:"#19a6a4",symbolBackground:"#19a6a4",symbol:a.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:4,x:e.x,y:e.y,isCorrect:!1}):new b({_graph:c,cursor:this,symbolColor:"#BF2324",symbolBackground:"#9AB0D8",symbol:a.IPGrShapes.CIRCLE,fillSymbol:!0,symbolSize:4,x:this.solutionX,y:this.solutionY,isCorrect:!1}),this._answerPoint.setTag(-1),this._answerPoint.on("cursorResponseDrawn",d.hitch(this,this.cursorResponseDrawn)),c.addPart(this._answerPoint),c.draw())},cursorResponseDrawn:function(a){a.blob&&
this.updateToolTipDijit(a.blob._node.rawNode,!0)},clearCursor:function(a){a&&(a.getBlobSurfaceLayer().clear(),a.removePart(this.cursor),this.cursor.destroy(),a.draw())},_format:function(a){return""==this.format?u.formatFloat(a,this.DEF_FORMAT):u.formatFloat(a,this.format)},cursorLoaded:function(){v.staticFunctions.loadingCompleted(this)}})})},"xl/grapher/IPBarChart":function(){define("dojo/_base/declare xl/grapher/IPBar ./enums xl/grapher/IPBarLegend xl/grapher/IPGraphLabel xl/grapher/Rectangle dojox/gfx dojo/dom-geometry xl/grapher/XYGraph2 xl/player/controls/_AltTextToolTip xl/grapher/IPGraphAxis dojo/_base/array xl/eqeditor/EqLabel".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t){return l("xl.grapher.IPBarChart",[b,a],{orientation:0,_barList:null,barGap:null,legend:null,useLetters:!1,barSize:0,barAspect:null,zeroBar:!1,align:0,autoSize:!0,labelSpacing:0,axisMin:0,axisMax:0,tickSpacing:0,axisTitle:"",altAxisTitlePos:!1,constructor:function(a){a&&a.loadFromJson&&(a.showGrid||(a.showGrid=!1),a.axisX.orientation&&(a.axisX.orientation=a.axisX.orientation.toLowerCase()),a.axisY.orientation&&(a.axisY.orientation=a.axisY.orientation.toLowerCase()));
this._barList=[];this.hasZoomButton=!1;this.plotMargins.bottom=0},postCreate:function(){this.inherited(arguments)},setAxisPositions:function(){this.updateBarAxis();this.inherited(arguments)},updateBarAxis:function(){var a,b;this.orientation==k.IPBarOrientation.BARVERTICAL?(b=this.getAxisX(),a=this.getAxisY()):(b=this.getAxisY(),a=this.getAxisX());this.orientation===k.IPBarOrientation.BARVERTICAL?b.setRange(0.5,Math.max(1,this.getVisibleBarCount())+0.5):b.setRange(Math.max(1,this.getVisibleBarCount())+
0.5,0.5);a.showGrid=!0;a._gridMajor=!0;a._location=k.IPGraphAxisOrigin.MINIMUM;a.labelSpacing=this.labelSpacing;a.tickSpacing=this.tickSpacing;a.onBuildTickList=null;a.setRange(this.axisMin,this.axisMax);a.title=this.axisTitle;a.altTitlePos=this.altAxisTitlePos;b.tickSpacing=1;b.labelSpacing=1;b.showMaxArrow=!1;b.showGrid=!1;b.titleFontFamily=a.titleFontFamily;b.labelFontFamily=a.labelFontFamily;b.onBuildTickList=this.createBarTickList;b.title="";b.altTitlePos=!1;b._location=k.IPGraphAxisOrigin.MINIMUM},
createBarTickList:function(a){if(!this._graph.useLetters&&this._graph.legend&&this._graph.legend.visible)return!1;for(var b="A",c=0;c<this._graph.getBarCount();c++)this._graph._barList[c].visible&&(this._graph.useLetters?a.addLabel(c+1,b):a.addLabel(c+1,this._graph._barList[c].text),b=String.fromCharCode(b.charCodeAt(0)+1));return!1},initialize:function(){this.updateBarAxis();this.adjustSize();this.inherited(arguments);this.addAccLabel()},adjustSize:function(){var a=c.getContentBox(this.domNode);
n.switchTo(this.renderMode);this._surfaceList.axisLayer=n.createSurface(this.domNode,a.w,a.h);this._surfaceList.barChartLayer=n.createSurface(this.domNode,a.w,a.h);this.doAutoSize(this.getBarChartSurfaceLayer(),a.w,a.h);this.graphTitle&&this.titlePosition==k.IPGraphTitlePosition.TOP&&(a=c.getContentBox(this.domNode),this.doAutoSize(this.getBarChartSurfaceLayer(),a.w,a.h));this._surfaceList.axisLayer.destroy();this._surfaceList.barChartLayer.destroy()},doAutoSize:function(a,b,e){var f;this.setupAllTitles(a);
a=new d({left:0,right:1E3,top:0,bottom:1E3});this.calcPlotRect(a);f=e;f=this.orientation==k.IPBarOrientation.BARVERTICAL?this.getVisibleBarCount()*this.barSize+Math.round(this.getVisibleBarCount()*this.barGap*this.barSize):Math.round(this.barAspect*this.barSize);this.legend.visible&&(f=Math.max(f,this.legend._width));b=f+(a.right-a.left)-(this._plotRect.right-this._plotRect.left);f=this.orientation==k.IPBarOrientation.BARHORIZONTAL?this.getVisibleBarCount()*this.barSize+Math.round(this.getVisibleBarCount()*
this.barGap*this.barSize):Math.round(this.barAspect*this.barSize);f=f+(a.bottom-a.top)-(this._plotRect.bottom-this._plotRect.top);(b!=e||f!=e)&&c.setContentSize(this.domNode,{w:b,h:f})},getAxis:function(){return this.orientation==k.IPBarOrientation.BARVERTICAL?this.getAxisY():this.getAxisX()},getBarCount:function(){return this._barList.length},getBarChartSurfaceLayer:function(){return this._surfaceList.barChartLayer},getBarAxis:function(){return this.orientation==k.IPBarOrientation.BARVERTICAL?this.getAxisX():
this.getAxisY()},getVisibleBarCount:function(){for(var a=0,b=0;b<this.getBarCount();b++)this._barList[b].visible&&a++;return a},setOrientation:function(a){a!=this.orientation&&(this.orientation=a,this.getBarAxis().invalidateTickList(),this.invalidateGraph())},setBarGap:function(a){a!=this.barGap&&(this.barGap=a,this.invalidateGraph())},setUseLetters:function(a){a!=this.useLetters&&(this.useLetters=a,this.orientation==k.IPBarOrientation.BARVERTICAL?_xAxis.invalidateTickList():_yAxis.invalidateTickList(),
this.invalidateGraph())},setBarSize:function(a){this.barSize!=a&&(0>a&&(a=0),this.barSize=a,this.invalidateGraph())},setBarAspect:function(a){this.barAspect!=a&&(0>a&&(a=0),this.barAspect=a,this.invalidateGraph())},setZeroBar:function(a){this.zeroBar!=a&&(this.zeroBar=a,this.invalidateGraph())},getVisibleBarLegendCount:function(){for(var a=0,b=0;b<this.getBarCount();b++)this._barList[b].visible&&!this._barList[b].hideFromLegend&&a++;return a},drawFunctionsExtra:function(){for(var a=this.getBarChartSurfaceLayer(),
b=0;b<this.getBarCount();b++)this._barList[b].visible&&this._barList[b].draw(a,b+1);this.legend&&this.legend.draw()},draw:function(){this.inherited(arguments,[!0])},adjustPlotRect:function(a){this.legend&&this.legend.visible&&(this.legend.calcMetrics(this.getBarChartSurfaceLayer()),a.bottom-=this.legend._height)},addPart:function(a){a.isInstanceOf(f)?this.legend=a:a.isInstanceOf(e)?this._labelList.push(a):this._barList.push(a)},removePart:function(a){a.isInstanceOf(f)?this.legend=null:a.isInstanceOf(e)?
(a=this._labelList.indexOf(a),this._labelList.splice(a,1)):(a=this._barList.indexOf(a),this._barList.splice(a,1))},destroy:function(){this.inherited(arguments)},_initializeFromJSON:function(){var a=this;this.barLegend.visible||(this.barLegend.visible=!1);this.barLegend._graph&&(this.barLegend._graph=null);var b=new f(this.barLegend);b.setGraph(this);b.startup();r.forEach(this.bars,function(b){b.hideFromLegend||(b.hideFromLegend=!1);(new m(b)).setGraph(a)})},initializeChildren:function(){this.inherited(arguments);
this.loadFromJson&&this._initializeFromJSON()},onFormatNumber:null})})},"xl/grapher/IPBar":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphPart xl/util/RegionFill xl/util/imageProcessing xl/grapher/Rectangle dojox/gfx xl/util/graphUtils xl/util/IPMath ./enums".split(" "),function(l,m,k,f,e,d,n,c,b,a){return l("xl.grapher.IPBar",[k],{color:null,outlineColor:null,barValue:null,text:null,hideFromLegend:!1,draw:function(e,f){var k=this._graph,h=new d,l=k.getBarAxis(),m=k.getAxis(),
n=0.5-0.5*l.viewToWorldRel(b.round(k.barGap*k.barSize));0>n&&(n=0);var w=!1;this.barValue>m._maximum&&(this.barValue=m._maximum,w=!0);this.barValue<m._minimum&&(this.barValue=m._minimum);k.orientation==a.IPBarOrientation.BARVERTICAL?(h.left=l.worldToView(f-n),h.top=m.worldToView(this.barValue),h.right=l.worldToView(f+n),h.bottom=k.zeroBar?m.worldToView(0):m.worldToView(m._minimum)):(h.left=k.zeroBar?m.worldToView(0):m.worldToView(m._minimum),h.top=l.worldToView(f-n),h.right=m.worldToView(this.barValue),
h.bottom=l.worldToView(f+n));c.fixRectangle(h);c.drawRectangleObj(e,h,this.outlineColor,this.color);k.orientation==a.IPBarOrientation.BARVERTICAL?(c.drawLine(e,h.left,h.bottom,h.right,h.bottom,l.color),w&&c.drawLine(e,h.left,h.top,h.right,h.top,this.color)):(c.drawLine(e,h.left,h.bottom,h.left,h.top,l.color),w&&c.drawLine(e,h.right,h.bottom,h.right,h.top,this.color))}})})},"xl/grapher/IPBarLegend":function(){define(["dojo/_base/declare","xl/grapher/IPGraphPart","xl/util/graphUtils"],function(l,m,
k){return l("xl.grapher.IPBarLegend",[m],{DEF_LEGENDSPACING:10,DEF_HORIZLABELSPACING:5,_color:null,_legendSpacing:0,_labelFontColor:null,_labelFontFamily:null,_labelFontSize:null,_labelSpacing:0,_width:0,_height:0,_maxLabelWidth:0,_maxLabelHeight:0,_rectSize:0,_setLegendSpacingAttr:function(f){this._legendSpacing=f},_setLabelFontFamilyAttr:function(f){this._labelFontFamily=f},_setLabelFontSizeAttr:function(f){this._labelFontSize=f},_setLabelSpacingAttr:function(f){this._labelSpacing=f},constructor:function(){this.inherited(arguments);
this._color="FFFFFF";this._legendSpacing=this.DEF_LEGENDSPACING},calcMetrics:function(f){this._maxLabelHeight=this._maxLabelWidth=-1;for(var e=0;e<this._graph.getBarCount();e++)if(this._graph._barList[e].visible&&!this._graph._barList[e].hideFromLegend){var d=this._graph._barList[e].text;if(""==d||null==d)d=" ";var l=k.measureText(f,d,this._labelFontSize,this._labelFontFamily),d=l.width,l=l.height-Math.ceil(0.1*parseInt(this._labelFontSize));d>this._maxLabelWidth&&(this._maxLabelWidth=d);l>this._maxLabelHeight&&
(this._maxLabelHeight=l)}this._rectSize=Math.ceil(4/3*parseInt(this._labelFontSize)/2);this._rectSize+this._labelSpacing>this._maxLabelHeight&&(this._maxLabelHeight=this._rectSize);this._width=this._rectSize+this.DEF_HORIZLABELSPACING+this._maxLabelWidth;this._height=this._maxLabelHeight*this._graph.getVisibleBarLegendCount()+Math.max(0,this._labelSpacing*(this._graph.getVisibleBarLegendCount()-1));this._height+=2*this._labelSpacing;this._width+=2*this._labelSpacing;this._height+=1;this._width+=1},
updateBar:function(){this._graph.invalidateGraph()},getColor:function(){return this._color},setColor:function(f){f!=this._color&&(this._color=f,this.updateBar())},getLegendSpacing:function(){return this._legendSpacing},setLegendSpacing:function(f){f!=this._legendSpacing&&(this._legendSpacing=f,this.updateBar())},getLabelSpacing:function(){return this._labelSpacing},setLabelSpacing:function(f){f!=this._labelSpacing&&(this._labelSpacing=f,this.updateBar())},draw:function(){if(this.visible){var f=this._graph.getBarChartSurfaceLayer(),
e=this._graph._plotRect.left,d=this._graph._h-this._height;k.drawRectangle(f,e,d,this._graph._plotRect.right-e-1,this._graph._h-d-1,this._graph.getBarAxis().color);for(var d=d+this._labelSpacing,e=e+(this._labelSpacing+2),l="A",c=0,b=0;b<this._graph.getBarCount();b++)if(this._graph._barList[b].visible&&!this._graph._barList[b].hideFromLegend){var a=d+this._maxLabelHeight*c+Math.max(this._labelSpacing*c,0),m=this._graph._barList[b];this._graph.useLetters?k.drawText(f,e,a,l+":",this._labelFontColor,
this._labelFontSize,this._labelFontFamily):k.drawRectangle(f,e,a+2,this._rectSize,this._rectSize,this._graph._barList[b].outlineColor,m.color);k.drawText(f,e+this._rectSize+this.DEF_HORIZLABELSPACING,a,m.text,this._labelFontColor,this._labelFontSize,this._labelFontFamily);l=String.fromCharCode(l.charCodeAt(0)+1);c++}}}})})},"xl/grapher/IPPieChart":function(){define("dojo/_base/declare xl/grapher/IPPiePiece xl/grapher/IPPieLegend ./enums xl/grapher/Margins xl/util/graphUtils xl/grapher/Rectangle dojox/gfx dojo/dom-geometry xl/grapher/XYGraph2 xl/player/controls/_AltTextToolTip xl/grapher/IPGraphAxis dojo/_base/array".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t){return l("xl.grapher.IPPieChart",[a,s],{DEF_PLOTMARGIN:5,pieList:null,legend:null,pieSize:0,align:0,autoSize:!0,constructor:function(a){a&&(a.loadFromJson&&!a.showGrid)&&(a.showGrid=!1);this.pieList=[];this.plotMargins=new e({top:this.DEF_PLOTMARGIN,left:this.DEF_PLOTMARGIN,right:this.DEF_PLOTMARGIN,bottom:this.DEF_PLOTMARGIN});this.hasZoomButton=!1},initialize:function(){this.autoSize&&this.adjustSize();this.inherited(arguments);this.addAccLabel()},postCreate:function(){this.inherited(arguments)},
adjustSize:function(){var a=b.getContentBox(this.domNode);c.switchTo(this.renderMode);this._surfaceList.axisLayer=c.createSurface(this.domNode,a.w,a.h);this._surfaceList.pieChartLayer=c.createSurface(this.domNode,a.w,a.h);this.doAutoSize(this.getPieChartSurfaceLayer(),a.w,a.h);this.graphTitle&&this.titlePosition==f.IPGraphTitlePosition.TOP&&(a=b.getContentBox(this.domNode),this.doAutoSize(this.getPieChartSurfaceLayer(),a.w,a.h));this._surfaceList.axisLayer.destroy();this._surfaceList.pieChartLayer.destroy()},
doAutoSize:function(a,c,d){var e;a=new n({left:0,right:5E3,top:0,bottom:5E3});this.calcPlotRect(a);e=d;e=this.pieSize;c=e+(a.right-this._plotRect.right)+(this._plotRect.left-a.left);e=this.pieSize;e=e+(a.bottom-this._plotRect.bottom)+(this._plotRect.top-a.top);if(this.getLegend().visible)switch(this.getLegend().getLegendAlign()){case f.IPPieLegendAlign.LEFT:case f.IPPieLegendAlign.RIGHT:e=Math.max(e,this.getLegend().getHeight()+(this._plotRect.top-a.top)+(a.bottom-this._plotRect.bottom));break;case f.IPPieLegendAlign.TOP:case f.IPPieLegendAlign.BOTTOM:c=
Math.max(c,this.getLegend().getWidth()+(this._plotRect.left-a.left)+(a.right-this._plotRect.right))}""!=this.title&&(c=Math.max(c,this._titleSize.w+this.plotMargins.left+this.plotMargins.right));(c!=d||e!=d)&&b.setContentSize(this.domNode,{w:c,h:e})},addPart:function(a){a.isInstanceOf(m)?this.pieList.push(a):a.isInstanceOf(k)&&(this.legend=a)},removePart:function(a){a.isInstanceOf(m)?(a=this.pieList.indexOf(a),this.pieList.splice(a,1)):a.isInstanceOf(k)&&(this.legend=null)},drawFunctionsExtra:function(){var a=
this.getPieChartSurfaceLayer(),b=0,c=0,e=this.pieSize/2,f=this._xAxis.worldToView(0),k=this._yAxis.worldToView(0);if(0<this.getPieTotal())for(a=0;a<this.getVisiblePieCount();a++)this.pieList[a].visible&&(1==this.getVisiblePieCount()?(this.pieList[a].drawPiece(f,k,e,c,360),b=0):(b=360*this.pieList[a].pieValue/this.getPieTotal(),this.pieList[a].drawPiece(f,k,e,c,c+b)),c+=b);else d.drawCircle(a,f,k,e,"#000000","#FFFFFF")},drawTitle:function(a){this.legend.draw(this.getPieChartSurfaceLayer());this.inherited(arguments)},
getPieChartSurfaceLayer:function(){return this._surfaceList.pieChartLayer},adjustPlotRect:function(a){if(this.legend.getVisible())switch(this.legend.calcMetrics(this.getPieChartSurfaceLayer()),this.legend.getLegendAlign()){case f.IPPieLegendAlign.LEFT:a.left+=this.legend.getWidth()+this.legend.getLegendSpacing()+this.plotMargins.left;break;case f.IPPieLegendAlign.RIGHT:a.right-=this.legend.getWidth()+this.legend.getLegendSpacing()+this.plotMargins.right;break;case f.IPPieLegendAlign.TOP:a.top+=this.legend.getHeight()+
this.legend.getLegendSpacing()+this.plotMargins.top;break;case f.IPPieLegendAlign.BOTTOM:a.bottom-=this.legend.getHeight()+this.legend.getLegendSpacing()+this.plotMargins.bottom}},getLegend:function(){return this.legend},getPieCount:function(){return this.pieList.length},getVisiblePieCount:function(){for(var a=0,b=0;b<this.getPieCount();b++)this.pieList[b].visible&&a++;return a},getPieTotal:function(){for(var a=0,b=0;b<this.getPieCount();b++)this.pieList[b].visible&&(a+=this.pieList[b].pieValue);
return a},destroy:function(){this.inherited(arguments)},initializeChildren:function(){this.inherited(arguments);this.loadFromJson&&this._initializeFromJSON()},_initializeFromJSON:function(){var a=this;this.titlePosition||(this.titlePosition=0);this.title&&(this.graphTitle=this.title,this.title="");this.axisX.visible||(this._xAxis.visible=this.axisX.visible);this.axisY.visible||(this._yAxis.visible=this.axisY.visible);this.pieLegend.visible||(this.pieLegend.visible=!1);this.pieLegend.legendAlign&&
"number"!==typeof this.pieLegend.legendAlign&&(this.pieLegend.legendAlign=this._getLegendAlign(this.pieLegend.legendAlign));this.pieLegend._graph&&(this.pieLegend._graph=null);var b=new k(this.pieLegend);b.setGraph(this);b.startup();t.forEach(this.pies,function(b){(new m(b)).setGraph(a)})},_legendAlign:{bottom:3,top:2,right:1},_getLegendAlign:function(a){a=this._legendAlign[a.toLowerCase()];return this._getReturnVal(a)},onFormatNumber:null})})},"xl/grapher/IPPiePiece":function(){define(["dojo/_base/declare",
"xl/util/graphUtils","xl/grapher/IPGraphPart"],function(l,m,k){return l("xl.grapher.IPPiePiece",[k],{color:null,outlineColor:null,pieValue:null,text:null,setPieValue:function(f){f!=this.pieValue&&(this.pieValue=f,invalidate())},setText:function(f){f!=this.text&&(this.text=f,invalidate())},setOutlineColor:function(f){this.outlineColor!=f&&(this.outlineColor=f,invalidate())},setColor:function(f){this.color!=f&&(this.color=f,invalidate())},drawPiece:function(f,e,d,k,c){var b=this._graph.getPieChartSurfaceLayer();
0==k&&360==c?m.drawCircle(b,f,e,d,this.outlineColor,this.color):m.drawWedge(b,f,e,k,c,d,this.outlineColor,this.color)}})})},"xl/grapher/IPPieLegend":function(){define(["dojo/_base/declare","xl/grapher/IPGraphPart","./enums","xl/util/graphUtils","xl/util/stringUtils"],function(l,m,k,f,e){return l("xl.grapher.IPPieLegend",[m],{DEF_HORIZLABELSPACING:5,_color:null,_legendSpacing:0,_labelSpacing:0,_width:0,_height:0,_maxLabelWidth:0,_maxLabelHeight:0,_rectSize:0,_legendAlign:0,_labelFormat:0,_labelLayer:null,
_labelFontSize:11,_setLegendSpacingAttr:function(d){this._legendSpacing=d},_setLegendAlignAttr:function(d){this._legendAlign=d},_setLabelSpacingAttr:function(d){this._labelSpacing=d},_setLabelFontSizeAttr:function(d){this._labelFontSize=d},_getFontSize:function(){return this._labelFontSize},constructor:function(){this._color="FFFFFF"},calcMetrics:function(d){this._maxLabelHeight=this._maxLabelWidth=-1;for(var e=0;e<this._graph.getPieCount();e++)if(this._graph.pieList[e].visible){var c=this._graph.pieList[e].text;
if(""===c||null===c)c=" ";var b=f.measureText(d,c,this._getFontSize(),this._graph.titleFont),c=b.width,b=b.height;c>this._maxLabelWidth&&(this._maxLabelWidth=c);b>this._maxLabelHeight&&(this._maxLabelHeight=b)}this._rectSize=Math.round(0.75*this._maxLabelHeight);this._width=3+this._rectSize+this.DEF_HORIZLABELSPACING+this._maxLabelWidth;this._height=this._maxLabelHeight*this._graph.getVisiblePieCount()+Math.max(0,this._labelSpacing*(this._graph.getVisiblePieCount()+1));this._width+=2*this._labelSpacing;
this._height+=this._labelSpacing-1},draw:function(d){if(this.visible){var e=0,c=0;switch(this._legendAlign){case k.IPPieLegendAlign.LEFT:c=this._graph._plotRect.left-this._legendSpacing-this._width;e=this._graph._plotRect.top;break;case k.IPPieLegendAlign.RIGHT:c=this._graph._plotRect.right+this._legendSpacing;e=this._graph._plotRect.top;break;case k.IPPieLegendAlign.TOP:c=(this._graph._plotRect.left+this._graph._plotRect.right-this._width)/2;e=this._graph._plotRect.top-this._height-this._legendSpacing;
this._graph.adjustGTitlePos(e);break;case k.IPPieLegendAlign.BOTTOM:c=(this._graph._plotRect.left+this._graph._plotRect.right-this._width)/2,e=this._graph._plotRect.bottom+this._legendSpacing,this._graph.adjustGTitlePos(e+this._height)}f.drawRectangle(d,c,e,this._width,this._height,this._graph._xAxis.color);for(var e=e+this._labelSpacing,c=c+(this._labelSpacing+2),b=0;b<this._graph.getPieCount();b++)if(this._graph.pieList[b].visible){var a=this._graph.pieList[b];f.drawRectangle(d,c,e+2,this._rectSize-
1,this._rectSize-1,a.outlineColor,a.color);f.drawText(d,c+this._rectSize+this.DEF_HORIZLABELSPACING,e,a.text,this._graph.titleColor,this._getFontSize(),this._graph.titleFont);e+=this._maxLabelHeight+this._labelSpacing}}},getWidth:function(){return this._width},getHeight:function(){return this._height},getLegendAlign:function(){return this._legendAlign},getLegendSpacing:function(){return this._legendSpacing}})})},"xl/standalonegrapher/ReactGrapherViewer":function(){define("dojo/_base/declare dojo/json dojo/dom-style dojo/dom-attr dojo/dom dojo/dom-class dojo/dom-geometry dojo/topic dojo/on dojo/_base/connect dojo/_base/lang dojo/dom-construct dojo/Deferred dojo/has dojox/gfx dojo/_base/xhr dijit/registry dojo/_base/sniff dojox/gesture/swipe dojo/touch dojo/io-query dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ReactGrapherViewer.html dijit/layout/_LayoutWidget dijit/layout/BorderContainer xl/player/ContentPanel dijit/Menu dijit/MenuItem dijit/MenuSeparator dijit/PopupMenuBarItem dijit/DropDownMenu dijit/MenuBar xl/editgraph/GraphControl dijit/layout/ContentPane xl/util/array xl/util/IPMath xl/dijit-bootstrap/bootstrapUtils xl/editgraph/enums xl/standalonegrapher/GraphOptionsDialog xl/player/dialogs/ConfirmationDialog xl/player/dialogs/EmailGraphDialog xl/monkeypatch/dojo/has xl/util/popupWindow xl/player/controls/MobileGraphToolBar xl/editgraph/GraphObjectFactory xl/editgraph/GraphSettings xl/util/localization!html5player/player xl/util/nativeDeferredManager dojox/gfx/registry dojox/gfx/shape".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F,B,D,E,J,N,O,H,K,M,P,I,L,Q,W,R,T,U,Y,ca,V,X,fa,$,aa,Z,ba,ja,la,ha){return l("xl.standalonegrapher.ReactGrapherViewer",[C,E,F,B],{templateString:D,baseClass:"grapherViewer",widgetsInTemplate:!0,popups:null,_toolButtons:null,_graphParams:null,loadFromJson:!1,_polylineMousePressHandle:null,constructor:function(a){this.popups=[];aa.useCircleHandles=!0;aa.handleSize=8;this._toolButtons=[]},postCreate:function(){this.inherited(arguments);b(this.btnCoordOk,
"click",s.hitch(this,this.movePoint));b(this.xCoord,"keydown",s.hitch(this,this.coordKeyDown));b(this.yCoord,"keydown",s.hitch(this,this.coordKeyDown));b(this.btnDelete,A.release,s.hitch(this,this.showConfirmationDialog));b(this.btnAddPoint,A.release,s.hitch(this,this.polylineAddPoint));this._polylineMousePressHandle=c.subscribe("editgraph/polylinemousepress",s.hitch(this,this._polylineMousePress))},destroy:function(){this.inherited(arguments);this._polylineMousePressHandle.remove();this._polylineMousePressHandle=
null},initializeChildren:function(){k.set(this.menuPanel.domNode,"padding","0px");k.set(this.contentPanel.domNode,"padding","0px");k.set(this.bottomPanel.domNode,"padding","0px");this.config.hasZoomButton=!1;this.config.graph.config.visible=!0;this.config.useMobileLabels=!1;this.config.editable=!0;this.config.isReact=!0;this.graphControl=new L(this.config);this.graphControl.loadFromJson=!0;this.graphControl.startup();r.place(this.graphControl.domNode,this.contentPanel.containerNode);n.getContentBox(this.graphControl.domNode);
this.mainPanel.resize()},swipeEnd:function(a){console.log("swipe end - ",a)},_polylineMousePress:function(a){d.add(this.btnAddPoint,"active");0<a.pointCount&&(d.remove(this.btnAddPoint,"hide"),d.remove(this.btnUndo,"hide"))},_initFromObject:function(a){d.remove(this.btnAddPoint,"hide");d.add(this.btnAddPoint,"active")},polylineAddPoint:function(a){a=this.graphControl.getGraphManager();d.remove(this.btnAddPoint,"hide");d.contains(this.btnAddPoint,"active")?(a.completeTool(),d.remove(this.btnAddPoint,
"active")):(a.replaceCurrentObjectWithTool(),d.add(this.btnAddPoint,"active"))},paletteCommand:function(a){this.graphControl._paletteToolSelected(a)},simulateToolbarClick:function(a){var b=this._toolBar._toolButtons.find(function(b){return b.domNode.cmd===a.cmd});b?(b.emit(A.press,{cancelable:!0,bubbles:!0}),this._toolBar._toolButtonClicked({target:b.domNode})):("solid"===a.cmd||"dashed"===a.cmd)&&this._toolBar._toolButtonClicked({target:a});this.graphControl.getGraph().domNode.focus()},startup:function(){if(!this._started){k.set(this.domNode,
"height","100%");this.inherited(arguments);this.initializeChildren();this._createToolBar();var a=this.getParent&&this.getParent();(!a||!a.isLayoutContainer)&&this.resize();c.subscribe(U.GraphObjectEvent.UPDATE_MESSAGE,s.hitch(this,this._updateMessage));this.initializeGraphSettings();a=this.graphControl.getGraphManager();a.isReact=!0;this.own(a.on("currentobjectchanged",s.hitch(this,this.currentObjectChanged)));this.own(a.on("object_changed",s.hitch(this,this.objectChanged)));this.own(a.on("graphobjectlabel_changed",
s.hitch(this,this.graphObjectLabelChanged)));this.own(a.on("blobFocusChanged",s.hitch(this,this._blobFocusChanged)));this.own(a.on("graphobjectlabel_menuopened",s.hitch(this,this.graphObjectLabelMenuOpened)));this.own(a.on("graphobjectlabel_menuclosed",s.hitch(this,this.graphObjectLabelMenuClosed)));this.own(a.on("CURSOR_MOVED",s.hitch(this,this._cursorMoved)));this.own(a.on(U.GraphObjectEvent.OBJECT_CREATED,s.hitch(this,this._objectCreated)));this.own(a.on("initFromObject",s.hitch(this,this._initFromObject)));
this.graphControl.editable=!0;a.setDisableEdit(!1);a.setToolType(U.GraphToolType.SELECT);this._updateTopToolBar(null)}},initializeGraphSettings:function(){Z.handleColor="#19A6A4";Z.handleBorderColor="#19A6A4";Z.handleSelectedColor="#F4BD85";Z.handleSelectedBorderColor="#19A6A4";Z.handleSelectedInnerBorderColor="#FFFFFF";Z.objectColor="#19A6A4";Z.objectSelectedColor="#19A6A4";Z.toolColor="#19A6A4";Z.pointColor="#19A6A4";Z.arrowColor="#19A6A4";Z.doubleArrowColor="#19A6A4";Z.pointToolColor="#19A6A4";
Z.arrowToolColor="#19A6A4";Z.handleBorderSize=3;Z.handleSelectedBorderSize=3},setQuerySettings:function(){var a=this.graphControl.getGraphManager();a.persistCurrentTool=!0;a.setTapSelection(!0);this._toolButtons.push("point");this._toolButtons.push("line");this._toolButtons.push("triangle");this._toolButtons.push("rectangle");this._toolButtons.push("polygon");this._toolButtons.push("curve");this._toolButtons.push("curve4");this._toolButtons.push("arrow");this._toolButtons.push("doublearrow");this._toolButtons.push("polyline")},
updateGraphObjects:function(a){this.graphControl.updateGraphObjects(a)},currentObjectChanged:function(a){this._updateTopToolBar(a.currentObj);this._emitCurrentObjectChanged()},objectChanged:function(a){this._emitCurrentObjectChanged()},graphObjectLabelChanged:function(a){this._emitCurrentObjectChanged()},graphObjectLabelMenuOpened:function(){this.emit("object_label_menuopened")},graphObjectLabelMenuClosed:function(){this.emit("object_label_menuclosed")},_emitCurrentObjectChanged:function(a){this.emit("currentobjectchanged",
{graphObjects:this._getGraphObjects()})},_updateTopToolBar:function(a){a?("polyline"===a.getObjectType()&&(d.remove(this.btnAddPoint,"hide"),d.remove(this.btnAddPoint,"active"),d.add(this.btnUndo,"hide")),d.remove(this.btnDelete,"hide")):(d.add(this.btnAddPoint,"hide"),d.add(this.btnUndo,"hide"),d.add(this.btnDelete,"hide"),d.add(this.editCoordsPanel,"hide"))},_cursorMoved:function(a){this._setCoordsText(a);a&&this.setCoordsCallback&&this.setCoordsCallback({x:+parseFloat(a.x).toFixed(2),y:+parseFloat(a.y).toFixed(2)})},
_objectCreated:function(){d.remove(this.btnAddPoint,"active");this.emit("object_created",{graphObjects:this._getGraphObjects()})},_getGraphObjects:function(){return this.graphControl.getGraphManager().getGraphObjectsData()},showConfirmationDialog:function(){this.deleteObject()},deleteObject:function(){this.graphControl.getGraphManager().clearTool()},movePoint:function(a){a=parseFloat(this.xCoord.value);var b=parseFloat(this.yCoord.value);R.isNumber(a)||(this.xCoord.value="");R.isNumber(b)||(this.yCoord.value=
"");""===this.xCoord.value||""===this.yCoord.value||this.graphControl.getGraph().getFocusBlob().move(a,b,"up",!1)},movePointWithCoords:function(a,b){this.graphControl.getGraph().getFocusBlob().move(a,b,"up",!1)},coordKeyDown:function(a){13===a.which&&this.movePoint()},layout:function(){var a=n.getContentBox(this.domNode);this.mainPanel.resize(a);this.graphControl&&(a=n.getMarginBox(this.contentPanel.containerNode),this.graphControl.setSize(a.w,a.h))},resize:function(a){a&&n.setMarginBox(this.domNode,
a);this.layout()},registerPopup:function(a){this.popups.push(a)},deRegisterPopup:function(a){a=this.popups.indexOf(a);0<=a&&this.popups.splice(a,1)},_createToolBar:function(){this._toolBar||(this.graphControl.getGraphManager().getGraph(),this._toolBar=new $({graphControl:this.graphControl,containerNode:this.graphPaletteContainer,skipToolReorder:!0}),this._toolBar.startup(),this.graphControl.setPalette(this._toolBar))},_updateMessage:function(a){this._setTooltipText(a.message)},_setTooltipText:function(a){this.tooltip.innerHTML=
a},_blobFocusChanged:function(a){null===a||void 0===a||(a.blob.getFocused()?(this.xCoord.value=a.x,this.yCoord.value=a.y,d.remove(this.editCoordsPanel,"hide"),d.remove(this.btnCoordOk,"hide"),f.remove(this.xCoord,"disabled"),f.remove(this.yCoord,"disabled")):(d.add(this.editCoordsPanel,"hide"),d.add(this.btnCoordOk,"hide"),f.set(this.xCoord,"disabled",""),f.set(this.yCoord,"disabled","")),this.emit("toggleEditCoords",{x:a.x,y:a.y,visible:a.blob.getFocused(),bubbles:!0}))},_setCoordsText:function(a){null===
a||(void 0===a||!this.xCoord||!this.yCoord)||("dragged"===a.state&&d.remove(this.editCoordsPanel,"hide"),this.xCoord.value=+parseFloat(a.x).toFixed(2),this.yCoord.value=+parseFloat(a.y).toFixed(2))}})})},"dojox/gesture/swipe":function(){define(["dojo/_base/kernel","dojo/_base/declare","./Base","../main"],function(l,m,k,f){l.experimental("dojox.gesture.swipe");l=m(k,{defaultEvent:"swipe",subEvents:["end"],press:function(e,d){d.touches&&2<=d.touches.length?delete e.context:(e.context||(e.context={x:0,
y:0,t:0}),e.context.x=d.screenX,e.context.y=d.screenY,e.context.t=(new Date).getTime(),this.lock(d.currentTarget))},move:function(e,d){this._recognize(e,d,"swipe")},release:function(e,d){this._recognize(e,d,"swipe.end");delete e.context;this.unLock()},cancel:function(e,d){delete e.context;this.unLock()},_recognize:function(e,d,f){if(e.context&&(e=this._getSwipeInfo(e,d)))e.type=f,this.fire(d.target,e)},_getSwipeInfo:function(e,d){var f,c,b={};c=e.context;b.time=(new Date).getTime()-c.t;f=d.screenX-
c.x;c=d.screenY-c.y;if(0===f&&0===c)return null;b.dx=f;b.dy=c;return b}});f.gesture.swipe=new l;f.gesture.swipe.Swipe=l;return f.gesture.swipe})},"xl/player/ContentPanel":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/layout/_LayoutWidget dijit/layout/ContentPane dijit/registry xl/util/array xl/util/logger dojo/_base/lang dojo/dom-style dojo/dom-geometry dojo/topic dijit/_Container dijit/layout/LayoutContainer".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r,t){return l("xl.player.ContentPanel",
[m,t],{layoutPanel:null,constructor:function(){},setLayout:function(a){this.clearChildren();this.layoutPanel=a;this.addChild(a)},clearChildren:function(){this.layoutPanel=null},_setLayoutTypeAttr:function(a){this._started&&this.clearChildren()},addChild:function(a,b){this.inherited(arguments);this._started&&this.layout()},startup:function(){this._started||(d.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(a){this.inherited(arguments);b.set(a.domNode,
"position","absolute")},layout:function(){this._started&&this.layoutPanel&&this.layoutPanel.layout();this.inherited(arguments);s.publish("contentPanelLayout")},getInnerContentHeight:function(){var a=0;this.layoutPanel&&(a=this.layoutPanel.getInnerContentHeight());return a},focusFirstPanel:function(){this.layoutPanel&&this.layoutPanel.focus()},destroyDescendants:function(a){var b=this.getChildren();0<b.length&&d.forEach(b,function(a){var b=a.getChildren();0<b.length&&d.forEach(b,function(a){var b=
a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);a.destroy()});a.destroy()});this.clearChildren();this.inherited(arguments)},hide:function(){b.set(this.domNode,"visibility","hidden")},show:function(){b.set(this.domNode,"visibility","visible")}})})},"dijit/PopupMenuBarItem":function(){define(["dojo/_base/declare","./PopupMenuItem","./MenuBarItem"],function(l,m,k){return l("dijit.PopupMenuBarItem",[m,k._MenuBarItemMixin],{})})},"dijit/PopupMenuItem":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/lang dojo/query ./popup ./registry ./MenuItem ./hccss".split(" "),
function(l,m,k,f,e,d,n){return l("dijit.PopupMenuItem",n,{_fillContent:function(){if(this.srcNodeRef){var c=f("*",this.srcNodeRef);this.inherited(arguments,[c[0]]);this.dropDownContainer=this.srcNodeRef}},_openPopup:function(c,b){var a=this.popup;e.open(k.delegate(c,{popup:this.popup,around:this.domNode}));b&&a.focus&&a.focus()},_closePopup:function(){e.close(this.popup);this.popup.parentMenu=null},startup:function(){if(!this._started){this.inherited(arguments);if(!this.popup){var c=f("[widgetId]",
this.dropDownContainer)[0];this.popup=d.byNode(c)}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);this.popup.startup();this.popup.domNode.style.display="none";this.arrowWrapper&&m.set(this.arrowWrapper,"visibility","");this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(c){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(c),delete this.popup);this.inherited(arguments)}})})},
"dijit/MenuBarItem":function(){define(["dojo/_base/declare","./MenuItem","dojo/text!./templates/MenuBarItem.html"],function(l,m,k){k=l("dijit._MenuBarItemMixin",null,{templateString:k,_setIconClassAttr:null});l=l("dijit.MenuBarItem",[m,k],{});l._MenuBarItemMixin=k;return l})},"dijit/MenuBar":function(){define(["dojo/_base/declare","dojo/keys","./_MenuBase","dojo/text!./templates/MenuBar.html"],function(l,m,k,f){return l("dijit.MenuBar",k,{templateString:f,baseClass:"dijitMenuBar",popupDelay:0,_isMenuBar:!0,
_orient:["below"],_moveToPopup:function(e){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,e)},focusChild:function(e){this.inherited(arguments);this.activated&&(e.popup&&!e.disabled)&&this._openItemPopup(e,!0)},_onChildDeselect:function(e){this.currentPopupItem==e&&(this.currentPopupItem=null,e._closePopup());this.inherited(arguments)},_onLeftArrow:function(){this.focusPrev()},_onRightArrow:function(){this.focusNext()},_onDownArrow:function(e){this._moveToPopup(e)},
_onUpArrow:function(){},onItemClick:function(e,d){e.popup&&e.popup.isShowingNow&&(!/^key/.test(d.type)||d.keyCode!==m.DOWN_ARROW)?(e.focusNode.focus(),this._cleanUp(!0)):this.inherited(arguments)}})})},"xl/dijit-bootstrap/bootstrapUtils":function(){define(["dojo/dom-class"],function(l){var m={setVisible:function(k,f){k.domNode&&(k=k.domNode);f?l.remove(k,"hidden"):l.add(k,"hidden")},getVisible:function(k){k.domNode&&(k=k.domNode);return!l.contains(k,"hidden")},hide:function(k){m.setVisible(k,!1)},
show:function(k){m.setVisible(k,!0)}};return m})},"xl/standalonegrapher/GraphOptionsDialog":function(){define("dojo/_base/declare dojo/text!./templates/GrapherOptionsDialog.html dojo/dom-construct dojo/_base/lang dijit/layout/TabContainer dijit/layout/ContentPane dijit/form/Select dijit/form/RadioButton dijit/form/CheckBox dijit/form/TextBox dijit/form/NumberSpinner xl/player/dialogs/BaseDialog".split(" "),function(l,m,k,f,e,d,n,c,b,a,s,r){return l("xl.standalonegrapher.GraphOptionsDialog",[r],{baseClass:"grapherOptionsDialog",
contentString:m,graphViewer:null,setupFooter:function(){this.addButton({label:"Cancel",onClick:f.hitch(this,this.hide)});this.addButton({label:"OK",onClick:f.hitch(this,this.graphViewer.optionsPopupOk)});this.inherited(arguments)},setupHeader:function(){k.create("label",{innerHTML:"Grapher Options"},this.titleNode);this.inherited(arguments)}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(l,m,k){return l("dijit.form.RadioButton",[m,
k],{baseClass:"dijitRadio"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query ../registry".split(" "),function(l,m,k,f,e,d){return m("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var k=[];e("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(f.hitch(this,function(c){c.name==this.name&&c.form==this.focusNode.form&&(c=d.getEnclosingWidget(c))&&k.push(c)}));return k},
_setCheckedAttr:function(d){this.inherited(arguments);this._created&&d&&l.forEach(this._getRelatedWidgets(),f.hitch(this,function(c){c!=this&&c.checked&&c.set("checked",!1)}))},_getSubmitValue:function(d){return null==d?"on":d},_onClick:function(d){return this.checked||this.disabled?(d.stopPropagation(),d.preventDefault(),!1):this.readOnly?(d.stopPropagation(),d.preventDefault(),l.forEach(this._getRelatedWidgets(),f.hitch(this,function(c){k.set(this.focusNode||this.domNode,"checked",c.checked)})),
!1):this.inherited(arguments)}})})},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(l,m,k,f){return l("dijit.form.NumberSpinner",[k,f.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(e,d){var f=this.constraints,c=isNaN(e),b=!isNaN(f.max),a=!isNaN(f.min);c&&0!=d&&(e=0<d?a?f.min:b?f.max:0:b?this.constraints.max:a?f.min:0);var k=e+d;if(c||isNaN(k))return e;b&&k>f.max&&(k=f.max);a&&k<f.min&&(k=f.min);
return k},_onKeyDown:function(e){if(!this.disabled&&!this.readOnly&&(e.keyCode==m.HOME||e.keyCode==m.END)&&!e.ctrlKey&&(!e.altKey&&!e.metaKey)&&"undefined"!=typeof this.get("value")){var d=this.constraints[e.keyCode==m.HOME?"min":"max"];"number"==typeof d&&this._setValueAttr(d,!1);e.stopPropagation();e.preventDefault()}}})})},"dijit/form/_Spinner":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/sniff dojo/mouse dojo/on ../typematic ./RangeBoundTextBox dojo/text!./templates/Spinner.html ./_TextBoxMixin".split(" "),
function(l,m,k,f,e,d,n,c,b,a){return l("dijit.form._Spinner",c,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:b,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{upArrowNode:"dijitUpArrowButton",downArrowNode:"dijitDownArrowButton"},adjust:function(a){return a},_arrowPressed:function(b,c,d){!this.disabled&&!this.readOnly&&(this._setValueAttr(this.adjust(this.get("value"),c*d),!1),a.selectInputText(this.textbox,this.textbox.value.length))},
_arrowReleased:function(){this._wheelTimer=null},_typematicCallback:function(a,b,c){var d=this.smallDelta;b==this.textbox&&(b=c.keyCode,d=b==m.PAGE_UP||b==m.PAGE_DOWN?this.largeDelta:this.smallDelta,b=b==m.UP_ARROW||b==m.PAGE_UP?this.upArrowNode:this.downArrowNode);-1==a?this._arrowReleased(b):this._arrowPressed(b,b==this.upArrowNode?1:-1,d)},_wheelTimer:null,_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();var b=a.wheelDelta/120;Math.floor(b)!=b&&(b=0<a.wheelDelta?1:-1);a=a.detail?
-1*a.detail:b;if(0!==a){var c=this[0<a?"upArrowNode":"downArrowNode"];this._arrowPressed(c,a,this.smallDelta);this._wheelTimer&&this._wheelTimer.remove();this._wheelTimer=this.defer(function(){this._arrowReleased(c)},50)}},_setConstraintsAttr:function(a){this.inherited(arguments);this.focusNode&&(void 0!==this.constraints.min?this.focusNode.setAttribute("aria-valuemin",this.constraints.min):this.focusNode.removeAttribute("aria-valuemin"),void 0!==this.constraints.max?this.focusNode.setAttribute("aria-valuemax",
this.constraints.max):this.focusNode.removeAttribute("aria-valuemax"))},_setValueAttr:function(a,b){this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,e.wheel,k.hitch(this,"_mouseWheeled")),n.addListener(this.upArrowNode,this.textbox,{keyCode:m.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),n.addListener(this.downArrowNode,
this.textbox,{keyCode:m.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),n.addListener(this.upArrowNode,this.textbox,{keyCode:m.PAGE_UP,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),n.addListener(this.downArrowNode,this.textbox,{keyCode:m.PAGE_DOWN,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1},this,"_typematicCallback",
this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout))}})})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(l,m,k){return l("dijit.form.RangeBoundTextBox",k,{rangeMessage:"",rangeCheck:function(f,e){return("min"in e?0<=this.compare(f,e.min):!0)&&("max"in e?0>=this.compare(f,e.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var f=this.get("value");
if(null==f)return!1;var e=!1;"min"in this.constraints&&(e=this.constraints.min,e=0>this.compare(f,"number"==typeof e&&0<=e&&0!=f?0:e));!e&&"max"in this.constraints&&(e=this.constraints.max,e=0<this.compare(f,"number"!=typeof e||0<e?e:0));return e},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(f){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(f))},getErrorMessage:function(f){var e=
this.get("value");return null!=e&&""!==e&&("number"!=typeof e||!isNaN(e))&&!this.isInRange(f)?this.rangeMessage:this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=m.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(l,m,k,f){return l("dijit.form.MappedTextBox",
f,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(e){return e.toString?e.toString():""},toString:function(){var e=this.filter(this.get("value"));return null!=e?"string"==typeof e?e:this.serialize(e,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=k.place("\x3cinput type\x3d'hidden'"+(this.name&&
!m("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(l,m,k,f,e,d){var n;return n=l("dijit.form.ValidationTextBox",f,{templateString:d,required:!1,promptMessage:"",invalidMessage:"$_unset_$",
missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(c,b){b!=n.prototype[c]&&(m.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+c+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(c){this._deprecateRegExp("regExpGen",c);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(c){this._deprecateRegExp("regExp",c)},
_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(c,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(c)&&(!this.required||!this._isEmpty(c))&&(this._isEmpty(c)||void 0!==this.parse(c,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(c){return(this.trim?/^\s*$/:/^$/).test(c)},getErrorMessage:function(){var c=
"$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?c:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:c},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(c){var b="",a=this.disabled||this.isValid(c);a&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),
e=!a&&c&&this._isValidSubset();this._set("state",a?"":((!this._hasBeenBlurred||c)&&d||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&c)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid",a?"false":"true");"Error"==this.state?(this._maskValidSubsetError=c&&e,b=this.getErrorMessage(c)):"Incomplete"==this.state?(b=this.getPromptMessage(c),this._maskValidSubsetError=!this._hasBeenBlurred||c):d&&(b=this.getPromptMessage(c));this.set("message",b);return a},displayMessage:function(c){c&&
this.focused?e.show(c,this.domNode,this.tooltipPosition,!this.isLeftToRight()):e.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(c){this.constraints={};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(c){!c.locale&&this.lang&&(c.locale=this.lang);this._set("constraints",c);this._refreshState()},_setPatternAttr:function(c){this._set("pattern",
c);this._refreshState()},_computeRegexp:function(c){var b=this.pattern;"function"==typeof b&&(b=b.call(this,c));if(b!=this._lastRegExp){var a="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(b){switch(b.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":a+=b;break;case ")":a+="|$)";break;default:a+="(?:"+b+"|$)"}});try{"".search(a)}catch(d){a=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre=
"^(?:"+a+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=k.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(c){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(c){this._set("required",c);this.focusNode.setAttribute("aria-required",c);this._refreshState()},_setMessageAttr:function(c){this._set("message",c);this.displayMessage(c)},reset:function(){this._maskValidSubsetError=
!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(l,m,k,f){var e=l("dijit.form.NumberTextBoxMixin",null,{pattern:function(d){return"("+(this.focused&&this.editOptions?this._regExpGenerator(m.delegate(d,this.editOptions))+"|":"")+this._regExpGenerator(d)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:k.format,
_regExpGenerator:k.regexp,postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},_setConstraintsAttr:function(d){var e="number"==typeof d.places?d.places:0;e&&e++;"number"!=typeof d.max&&(d.max=9*Math.pow(10,15-e));"number"!=typeof d.min&&(d.min=-9*Math.pow(10,15-e));this.inherited(arguments,[d]);this.focusNode&&(this.focusNode.value&&!isNaN(this.value))&&this.set("value",this.value)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var d=this.get("value");"number"==
typeof d&&!isNaN(d)&&(d=this.format(d,this.constraints),void 0!==d&&(this.textbox.value=d));this.inherited(arguments)}},format:function(d,e){var c=String(d);if("number"!=typeof d)return c;if(isNaN(d))return"";if(!("rangeCheck"in this&&this.rangeCheck(d,e))&&!1!==e.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&(e=m.mixin({},e,this.editOptions));return this._formatter(d,e)},_parser:k.parse,parse:function(d,e){var c=this._parser(d,m.mixin({},e,this.editOptions&&this.focused?
this.editOptions:{}));this.editOptions&&(this.focused&&isNaN(c))&&(c=this._parser(d,e));return c},_getDisplayedValueAttr:function(){var d=this.inherited(arguments);return isNaN(d)?this.textbox.value:d},filter:function(d){return null==d||""===d?NaN:this.inherited(arguments)},serialize:function(d,e){return"number"!=typeof d||isNaN(d)?"":this.inherited(arguments)},_setBlurValue:function(){var d=m.hitch(m.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(d,!0)},_setValueAttr:function(d,e,
c){if(void 0!==d&&void 0===c)if(c=String(d),"number"==typeof d)if(isNaN(d))c="";else{if("rangeCheck"in this&&this.rangeCheck(d,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else d?d=void 0:(c="",d=NaN);this.inherited(arguments,[d,e,c])},_getValueAttr:function(){var d=this.inherited(arguments);if(isNaN(d)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&RegExp("^"+k._realNumberRegexp(m.delegate(this.constraints))+
"$").test(this.textbox.value))return d=Number(this.textbox.value),isNaN(d)?void 0:d}else return d},isValid:function(d){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var e=this.get("value");return!isNaN(e)&&this.rangeCheck(e,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1}});l=l("dijit.form.NumberTextBox",[f,e],{baseClass:"dijitTextBox dijitNumberTextBox"});l.Mixin=e;return l})},"xl/player/dialogs/EmailGraphDialog":function(){define("dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on ./BaseDialog ./EmailDialog dijit/form/Button dijit/form/Textarea dijit/registry dojo/dom-style dojo/dom-geometry dijit/a11y".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r){return l("xl.player.dialogs.EmailGraphDialog",[d],{isModal:!0,image:null,setImage:function(a){this.image=a},setupAttachments:function(a){m.empty("attachments");a=m.create("img",{src:this.image},a);f.once(a,k.hitch(this,this.imageLoaded))},imageLoaded:function(){this.resize(!0)}})})},"xl/player/dialogs/EmailDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct ./BaseDialog dijit/form/Button dijit/form/Textarea dijit/_WidgetsInTemplateMixin dojo/text!./templates/EmailDialog.html xl/player/dialogs/ConfirmationDialog dijit/registry".split(" "),
function(l,m,k,f,e,d,n,c,b,a){return l("xl.player.dialogs.EmailDialog",[f,n],{isModal:!0,contentString:c,title:null,_sendEmail:null,getToAddress:function(){return a.byId("to").get("value")},getFromAddress:function(){return a.byId("from").get("value")},getSubject:function(){return a.byId("subject").get("value")},getBody:function(){return a.byId("body").get("value")},validateInputs:function(){return this.isEmpty(this.getToAddress())||this.isEmpty(this.getFromAddress())||this.isEmpty(this.getSubject())||
this.isEmpty(this.getBody())?(b.displayText("Please fill all the fields",this.title,[b.BUTTON.OK],"300px"),!1):!this.isValidEmail(this.getToAddress())||!this.isValidEmail(this.getFromAddress())?(b.displayText("Email(s) not valid",this.title,[b.BUTTON.OK],"300px"),!1):!0},isEmpty:function(a){return null==a||0===a.length||!a.trim()},isValidEmail:function(a){return/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(a)},show:function(b){this._sendEmail=
b;a.byId("to").set("value","");a.byId("subject").set("value","");a.byId("body").set("value","");return this.inherited(arguments)},onShown:function(){this.inherited(arguments);this.setupAttachments(this.attachmentNode)},setupAttachments:function(a){},sendClicked:function(a){if(!this.validateInputs())return!1;null!==this._sendEmail&&this._sendEmail();return!0},cancelClicked:function(a){this.hide()},setupFooter:function(){this.addButton({label:"Cancel",onClick:m.hitch(this,this.cancelClicked)});this.addButton({label:"Send",
type:"submit",onClick:m.hitch(this,this.sendClicked)});this.inherited(arguments)}})})},"xl/util/popupWindow":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/fx dojo/_base/Deferred dojo/_base/lang dijit/focus dojo/dom-construct dojo/on".split(" "),function(l,m,k,f,e,d,n,c){var b=[],a=[],s;l=location.href.indexOf("?");s=0>l?location.href:location.href.substring(0,l);s=s.substring(0,s.lastIndexOf("/")+1);return{popupUseTop:!1,popupDefWidth:400,popupDefHeight:300,popupTimeout:5550,open:function(c,
d,e){var f=!0,k=!1,l=!1,m=!1,n=!1,A=this.popupDefWidth,z=0,C=-1,F=-1,B=!0,D=!0,E=!1,J=!1,N=!0;"undefined"!=typeof e&&("undefined"!=typeof e.toolbar&&(k=e.toolbar),"undefined"!=typeof e.location&&(l=e.location),"undefined"!=typeof e.scrollbar&&(f=e.scrollbar),"undefined"!=typeof e.titlebar&&(m=e.titlebar),"undefined"!=typeof e.statusbar&&(n=e.statusbar),"undefined"!=typeof e.width&&(A=e.width),"undefined"!=typeof e.height&&(z=e.height),"undefined"!=typeof e.left&&(C=e.left),"undefined"!=typeof e.top&&
(F=e.top),"undefined"!=typeof e.autoClose&&(B=e.autoClose),"undefined"!=typeof e.resizable&&(D=e.resizeable),"undefined"!=typeof e.menubar&&(J=e.menubar),"undefined"!=typeof e.directories&&(N=e.directories));0==z&&(E=!0,z=this.popupDefHeight);if(!E&&(screen.availHeight==screen.height||35>screen.availHeight-z))screen.availHeight<z?(F=0,z=screen.availHeight-105):35>screen.availHeight-z&&(F=0,z-=70);10>screen.availWidth-A&&(C=0,A=screen.availWidth-10);e=[];f&&e.push("scrollbars\x3d1");k&&e.push("toolbar\x3d1");
l?e.push("location\x3d1"):e.push("location\x3d0");n?e.push("status\x3d1"):e.push("status\x3d0");m&&e.push("titlebar\x3d1");J&&e.push("menubar\x3d1");D&&e.push("resizable\x3d1");N||e.push("directories\x3d0");e.push("height\x3d"+z);e.push("width\x3d"+A);0>C&&(C=(screen.availWidth-A)/2);0>F&&(F=(screen.availHeight-z)/2);e.push("left\x3d"+C);e.push("top\x3d"+F);f=e.join(",");k=this.popupUseTop?F.window:window;l=!1;0==d.indexOf("http")&&(l=!0);""!=d&&("/"!=d.charAt(0)&&!l&&(d=s+d),d=!l&&E?this.replaceParam(d,
"autoh","yes"):this.removeParam(d,"autoh"),d=!l&&(0<=C||0<=F)?this.replaceParam(d,"centerwin","yes"):this.removeParam(d,"centerwin"));if((C=this.closePopup(c))&&!C.closed)return C;C=k.open("/Blank.html",c,f);if(!C)return console.log("Your security setting don't allow to open popup window. Please change that and try again."),null;d&&(C.location=d);b[c]=C;a[c]=B;C&&C.focus();B&&(k.attachEvent?k.attachEvent("onunload",this.popupMainWindowUnloaded):k.addEventListener&&k.addEventListener("unload",this.popupMainWindowUnloaded,
!1));return C},openerHasFunction:function(a){try{if(window.opener&&eval("window.opener."+a))return!0}catch(b){}return!1},getPopupWindows:function(){return b},getPopup:function(a){"string"==typeof a&&(a=b[a]);return a&&!a.closed?a:null},replaceParam:function(a,b,c){a=new String(a);a=this.removeParam(a,b);return a=0<=a.indexOf("?")?a+"\x26"+b+"\x3d"+c:a+"?"+b+"\x3d"+c},removeParam:function(a,b){var c;c=new String(a);c=c.replace(RegExp("[\\?|\\\x26]"+b+"\x3d(([^\\\x26]*)|s*$)","gi"),"");-1==c.indexOf("?")&&
-1!=c.indexOf("\x26")&&(c=c.replace(/\&/,"?"));return c},popupMainWindowUnloaded:function(){for(var c in b){var d=b[c];d&&("object"==typeof d&&!d.closed&&a[c])&&(b[c]=null,a[c]=!1,d.close())}},reset:function(c){b[c]=null;a[c]=!1},getPopupWindows:function(a){"string"==typeof a&&(a=b[a]);return a&&!a.closed?a:null},closePopup:function(a){"string"==typeof a&&(a=b[a]);a&&!a.closed&&a.close();return a},focusPopup:function(a){"string"==typeof a&&(a=b[a]);a&&!a.closed&&a.focus()}}})},"xl/player/controls/MobileGraphToolBar":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dijit/popup dijit/focus dojo/_base/lang dojo/dom-class dojo/_base/array dojo/on dijit/place dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/query dojo/window dojo/_base/window dojo/dom-attr dojo/touch dojo/topic ./_GraphToolMixin xl/util/mobileMethods xl/editgraph/enums".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C){return l("xl.player.controls.MobileGraphToolBar",[m,A],{baseClass:"xlGraphToolBar xlGraphTools",addArrows:!1,skipToolReorder:!1,constructor:function(a){a&&a.containerNode&&(this.containerNode=a.containerNode);this.commandsBeforeTools=this.showColorButton=this.showCommands=!1;this.isToolbar=!0},buildRendering:function(){this.domNode=k.create("div");z.preventDoubleTabZoom(this.domNode,this);this.containerNode&&k.place(this.domNode,this.containerNode,
"last");this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},setToolButtons:function(){this.inherited(arguments);this._setupToolButtons(this.domNode);this.toolMessage=k.create("div",{className:"toolMessage"},this.domNode,"last");this.setToolMessage()},setToolMessage:function(){},destroy:function(){this.containerNode=null;this.inherited(arguments)},destroyRecursive:function(){},_setupToolButtons:function(a){if(!(null!=this._toolButtons&&0<this._toolButtons.length)){this._toolButtons=
[];k.empty(a);if(this._toolButtonList){var b=this._toolButtonList.split(","),b=[C.GraphToolType.SELECT].concat(b);this.showColorButton&&b.concat([C.GraphToolType.COLOR]);var e=[];if(this.skipToolReorder)e=b;else for(var f in A.getButtonInfo())0<=b.indexOf(f)&&e.push(f);this._toolHolder=f=k.create("div",{"class":"toolsAndCommands"},a);var h;this.commandsBeforeTools?(b=k.create("div",{"class":"commands"},f),h=k.create("div",{"class":"tools"},f)):(h=k.create("div",{"class":"tools"},f),b=k.create("div",
{"class":"commands"},f));c.forEach(e,d.hitch(this,function(a){var b=A.getButtonInfo()[a],c=k.create("span",{"class":"btnContainer "+b.className},h);this._addCommand(a,c);k.create("span",{innerHTML:b.title},c)}));(e=this.graphControl.getViewer())&&e.showHelpButton&&this._addCommand(C.GraphToolType.HELP,b);this.showCommands||s.set(b,"display","none")}this.addArrows&&(this.isToolbar?(this._joystick=e=k.create("div",{"class":"joystick"},a),b=k.create("div",null,e),this._addCommand(C.GraphToolType.UP_ARROW,
b),b=k.create("div",null,e),f=k.create("div",{"class":"left"},b),this._addCommand(C.GraphToolType.LEFT_ARROW,f),b=k.create("div",{"class":"right"},b),this._addCommand(C.GraphToolType.RIGHT_ARROW,b),b=k.create("div",null,e),this._addCommand(C.GraphToolType.DOWN_ARROW,b)):(e=k.create("div"),this._addCommand(C.GraphToolType.UP_ARROW,e),this._addCommand(C.GraphToolType.DOWN_ARROW,e),this._addCommand(C.GraphToolType.LEFT_ARROW,e),this._addCommand(C.GraphToolType.RIGHT_ARROW,e)),a.appendChild(e))}}})})},
"xl/grapher/NumberLineCursor":function(){define("dojo/_base/declare dijit/_WidgetBase xl/grapher/NumberLinePointCursor xl/eqeditor/EqLabel xl/player/controls/_InputObject dijit/registry xl/util/IPMath dojo/on dojo/_base/lang dojo/dom-construct dojo/dom-class xl/grapher/IPCursorResponse xl/grapher/enums dojo/Evented dijit/Tooltip xl/util/localization!html5player/player xl/util/stringUtils dojo/keys dojo/_base/event xl/player/controls/_NeedsPlayerViewer xl/player/dialogs/InputFeedbackDialog xl/util/DijitLoadMonitor".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C){return l("xl.grapher.NumberLineCursor",[m,e,h,A],{name:null,format:null,show:!0,cursor:null,label:null,_numLine:null,numLineId:null,start:null,solution:null,userResponse:null,blobSnapInterval:0,isAnswered:!1,propName:"",toolTipContent:null,baseClass:"xycursor",DEF_FORMAT:"#",testMode:!1,isInteractive:!0,constructor:function(a){b.mixin(a);this.inputFilled=!0},postCreate:function(){this._numLine=d.byId(this.numLineId);var b=a.create("span",null,
this.domNode);this.label=new f(null,b);this.label.startup();this.propName||(this.userResponse=this.start);this.display();C.staticFunctions.loadingStarted(this)},display:function(){switch(this.propName){case "response":this.label.setEqText(this.formatNum(this.userResponse));break;case "output":this.label.setEqText(this.formatNum(this.solution));break;default:this.label.setEqText(this.formatNum(this.userResponse))}this.label.domNode.style.display=this.show?"inline":"none"},formatNum:function(a){return n.isInfinite(a)?
0<a?"\x26infin;":"-\x26infin;":this._numLine&&this._numLine.getAxisX()&&a<this._numLine.getAxisX().getMinimum()?"-\x26infin;":this._numLine&&this._numLine.getAxisX()&&a>this._numLine.getAxisX().getMaximum()?"\x26infin;":!this.format||""==this.format?v.formatFloat(a,this.DEF_FORMAT):v.formatFloat(a,this.format)},getInputData:function(){return{answer:this.userResponse.toString()}},processCommand:function(a,c){switch(a){case "attach":this.numLineId=c.numLineId;this._numLine=d.byId(this.numLineId);this.cursor=
new k({numLine:this._numLine,snapY:5,printing:this.printing});this.cursor.setSnapOriginX(0);this.cursor.setSnapIntervalX(this.blobSnapInterval);this.cursor.setLocation(this.start,0);this.own(this.cursor.on("moved",b.hitch(this,this.blobMoved)),this._numLine.on("keydown",b.hitch(this,this.onKeydown)),this._numLine.on("mousedown",b.hitch(this,this.numberLineMouseDown)));this.display();C.staticFunctions.loadingCompleted(this);break;case "answered":this.answeredCommand(c);this.dropPoint(this._numLine);
this.updateControlState();break;case "answerapplied":this.answerAppliedCommand(c)}},numberLineMouseDown:function(){this.cursor&&this._numLine.setFocusBlob(this.cursor)},onKeydown:function(a){a.keyCode===w.ENTER&&!this.isAnswered?(x.stop(a),this.inputEntered()):a.keyCode===w.ENTER&&this.isAnswered&&(x.stop(a),this.showToolTip(this.cursor.numLine.domNode.getElementsByTagName("circle")[0],this.cursor.numLine.domNode))},blobMoved:function(a){this._setUserResponse(a);a&&c.emit(this.domNode,"nlcursor_moved",
{x:a.x,bubbles:!0})},_setUserResponse:function(a){this.userResponse=a.x;0>n.compareValue(a.x,this._numLine.getAxisX().getMinimum())?(this.userResponse=Number.NEGATIVE_INFINITY,this.cursor._snapOriginX=this._numLine.getAxisX().getMinimum(),this.cursor.snapIntervalX=Math.abs(a.x-this._numLine.getAxisX().getMinimum()),a.x=this.userResponse):0<n.compareValue(a.x,this._numLine.getAxisX().getMaximum())?(this.userResponse=Number.POSITIVE_INFINITY,this.cursor._snapOriginX=this._numLine.getAxisX().getMaximum(),
this.cursor.snapIntervalX=Math.abs(a.x-this._numLine.getAxisX().getMaximum()),a.x=this.userResponse):(this.cursor.setSnapOriginX(0),this.cursor.setSnapIntervalX(this.blobSnapInterval));this.display()},_answerPoint:null,dropPoint:function(a){this._answerPoint=a.createPoint(this.isCorrect,this.solution);this._answerPoint.on("cursorResponseDrawn",b.hitch(this,this.cursorResponseDrawn));this.clearCursor();a.addPart(this._answerPoint);a.draw()},cursorResponseDrawn:function(a){a.blob&&this.updateToolTipDijit(a.blob._node.rawNode,
!0)},clearCursor:function(){this._numLine.getBlobSurfaceLayer().clear();this.clearPrevPoints?(this._numLine.removeBlobs(),this.cursor.destroy()):this._numLine.removePart(this.cursor)},answerAppliedCommand:function(a){a&&(a={x:a.answer},this._setUserResponse(a),this.cursor.setLocation(a.x,0),this.solution=a.x,this.isAnswered=!0)},answeredCommand:function(a){a&&(this.isAnswered=!0,this.isCorrect=a.isCorrect,this.toolTipContent=a.toolTip,this.solution=a.answer,this.userResponse=a.userResponse,this.showFeedbackLink=
a.showFeedbackLink,this.isCorrect||this.label.setEqText(this.formatNum(this.solution.toString())))},updateControlState:function(){this.updateToolTipDijit(this._answerPoint._node.rawNode,!0);s.remove(this.domNode,"correct");s.remove(this.domNode,"incorrect");s.remove(this.domNode,"answered");this.isAnswered&&(s.add(this.domNode,"answered"),s.add(this.domNode,this.isCorrect?"correct":"incorrect"))},clear:function(){this.cursor.setLocation(this.start,0);this.userResponse=this.start;this.display()},isStatic:function(){return!this.isInteractive}})})},
"xl/grapher/NumberLinePointCursor":function(){define("dojo/_base/declare dojo/_base/lang xl/grapher/IPGraphShapeBlob dojox/gfx/Moveable xl/grapher/Point xl/util/graphUtils xl/grapher/BlobMover xl/util/IPMath dojo/has dojo/dom-style".split(" "),function(l,m,k,f,e,d,n,c,b,a){return l("xl.grapher.NumberLinePointCursor",[k],{printing:!1,constructor:function(a){m.mixin(a);this._graph=a.numLine;this.snapY=a.snapY;this.printing=a.printing},postCreate:function(){this._graph.addBlob(this,!1)},draw:function(b){b&&
(this._surface=b);if(this._graph){b=new e(this.getViewX(),this.getViewY());if(!this._gfxGroup||!this._gfxGroup.parent)this._gfxGroup=this._surface.createGroup();this.drawBlob(this._gfxGroup,b);this.printing&&a.set(this._graph.domNode,"pointer-events","none")}},constrainPosition:function(a,b,d){var e=this._graph.getAxisX().viewToWorldRel(10);0>c.compareValue(a.x,this._graph.getAxisX().getMinimum(),1E-8)?(a.x=this._graph.getAxisX().getMinimum()-e,a.y=0):0<c.compareValue(a.x,this._graph.getAxisX().getMaximum(),
1E-8)?(a.x=this._graph.getAxisX().getMaximum()+e,a.y=0):this.inherited(arguments)},drawBlob:function(a,c){if(this._blob&&this._blob.parent&&this._blob.parent.parent)for(var e=0;e<this._blob.children.length;e++)this._blob.children[e].setShape({cx:c.x,cy:c.y});else{e=a.createGroup();d.drawCircle(e,c.x,c.y,this._size,"#FFCB5A","black",2);var h=b("touch")?3*this._size:2*this._size;d.drawCircle(e,c.x,c.y,h,"rgba(255,255,255,0.0)","rgba(255,255,255,0.0)",2);this._blob=e;e=new f(this._blob,{mover:n});e.graph=
this._graph;e.blob=this;this._blob.connect("onmousedown",m.hitch(this,"onMouseDown"))}}})})},"xl/player/forms/CalculatorForm":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/query dojo/_base/array dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/window dijit/place dojo/has dojo/sniff dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/CalculatorForm.html xl/player/controls/_NeedsPlayerViewer xl/util/_ToolPaletteMixin xl/util/Calculator xl/dojo-ext/Moveable xl/util/IPMath dijit/focus xl/ZOrder/ZOrderManager xl/util/localization!html5player/popup".split(" "),
function(l,m,k,f,e,d,n,c,b,a,s,r,t,h,q,u,v,w,x,A,z,C,F){return l("xl.player.forms.CalculatorForm",[t,h,v,u],{templateString:q,baseClass:"xlCalculator",MAX_DIGITS:22,CALC_PRECISION:14,DISP_PRECISION:13,_value:0,_lastOp:"\x3d",_mode:"CMOP",_error:!1,_movable:null,_memoryInUse:!1,_memoryValue:0,_operand:0,_sequenceLastOp:"\x3d",_referrerFocusableNode:null,postCreate:function(){this.inherited(arguments);this.display(0);this._movable=this.isWrapped?this.domNode:new x(this.domNode,{handle:this.titleBar,
delay:2});k(this._movable,"Moved",m.hitch(this,this._moveableMoved));k(this._movable,"MoveStop",m.hitch(this,this._endDrag));k(this.domNode,"keyup",m.hitch(this,this._onKeyUpEvent));k(this.domNode,"keypress",m.hitch(this,this._onKeyPressEvent));this._focusWatch&&this._focusWatch.unwatch()},numClick:function(a){this._error||this._pressDigit(a.currentTarget.innerHTML)},backspaceClick:function(a){this._error||this._backspace()},binaryClick:function(a){this._error||this._doBinaryClick(a.currentTarget.innerHTML)},
_doBinaryClick:function(a){try{"\x3d"==a||"CMOP"!=this._mode?(w.checkBinaryOp(this._lastOp,this.getOperand()),this._value=w.doBinary(this._lastOp,this.getOperand(),this._value),w.checkValue(this._value),this._mode="CMOP","\x3d"!=a&&(this._lastOp=a),this._sequenceLastOp=a,"\x3d"==this._sequenceLastOp&&(this._lastOp="\x3d")):this._sequenceLastOp=this._lastOp=a}catch(b){this._setError(b.message)}finally{this._error||this.display(this._value)}},memoryClick:function(a){if(!this._error)switch(a.currentTarget.innerHTML){case "MP":this._memoryPlus();
break;case "MS":this._memorySave();break;case "MR":this._memoryLoad();break;case "MC":this._memoryClear()}},resetClick:function(a){this._reset()},clearClick:function(a){this._error||this._clear()},enterClick:function(a){this._insertValue()},unaryClick:function(a){this._error||(a=a.currentTarget.id,this.setOperand(this.readValue()),this._doUnaryClick(a))},_doUnaryClick:function(a){try{w.checkUnaryOp(a,this.getOperand());var b=w.doUnary(a,this.getOperand(),this._value);w.checkValue(b);this.setOperand(b);
this.display(b);this._mode="CMENTERED"}catch(c){this._setError(c.message)}},toggleSignClick:function(a){this._error||this._toggleSign()},display:function(a){a=A.fixValue(a,this.DISP_PRECISION);this.operand.value=a.toString()},getOperand:function(){return this._operand},setOperand:function(a){this._operand=a},readValue:function(){return parseFloat(this.operand.value)},getDisplayStr:function(){return this.operand.value},close:function(){this._hide();this._reset();z.focus(this._referrerFocusableNode);
this.isWrapped&&k.emit(this.domNode,"calculatorenter_closed",{shoving:!1})},show:function(){this._show();C.bringToTop(this.domNode);this.operand.setAttribute("aria-label",F.calculator_input_label);this.closeButton.setAttribute("aria-label",F.close);this.enterButton.setAttribute("aria-label",F.enter);this.minusButton.setAttribute("aria-label",F.minus);this._referrerFocusableNode=z.curNode;var a=this;setTimeout(function(){z.focus(a.operand)},200)},anchorNode:function(){return this.targetWidget._editor&&
this.targetWidget.domTable?this.targetWidget._editor:this.targetWidget.domNode},_setError:function(a){this._error=!0;this.display(a);a=f(".xlCalculator .btn");e.forEach(a,function(a){"C"!=a.innerHTML&&(d.add(a,"disabled"),a.disabled=!0)})},_resetError:function(){this._error=!1;this.display(0);var a=f(".xlCalculator .btn");e.forEach(a,function(a){"C"!=a.innerHTML&&(d.remove(a,"disabled"),a.disabled=!1)})},_reset:function(){this._mode="CMOP";this._operand=this._value=0;this._lastOp="\x3d";this._resetError()},
_clear:function(){this.display(0)},_pressDigit:function(a){if("CMENTRY"!=this._mode||0==this.readValue()&&-1==this.getDisplayStr().indexOf("."))"."==a?this.display("0."):this.display(a);else{if(this.getDisplayStr().length>this.MAX_DIGITS)return;"."!=a?this.display(this.getDisplayStr()+a):-1==this.getDisplayStr().indexOf(".")&&this.display(this.readValue()+a)}"\x3d"==this._sequenceLastOp&&(this._lastOp="\x3d");this.setOperand(this.readValue());this._mode="CMENTRY"},_backspace:function(){"CMENTRY"==
this._mode&&(1<this.getDisplayStr().length?this.display(this.getDisplayStr().substring(0,this.getDisplayStr().length-1)):this.display(0));this.setOperand(this.readValue())},_memoryPlus:function(){this._memoryInUse?this._memoryValue=A.fixValue(this._memoryValue+this.readValue(),this.CALC_PRECISION):this._memorySave();this._mode="CMENTERED"},_memorySave:function(){this._memoryInUse=!0;this._memoryValue=this.readValue();this._mode="CMENTERED";c.set(this.memorystoredisplayer,"display","block")},_memoryLoad:function(){this._memoryInUse||
(this._memoryValue=0);this.display(this._memoryValue);this.setOperand(this._memoryValue);this._mode="CMENTERED"},_memoryClear:function(){this._memoryInUse=!1;c.set(this.memorystoredisplayer,"display","none")},_toggleSign:function(){"CMOP"==this._mode?(this._value=-this._value,this.display(this._value)):(this.setOperand(-this.readValue()),this.display(this.getOperand()))},_moveableMoved:function(a,b){this.set("docked",!1)},_endDrag:function(){this.constrainPosition()},_insertValue:function(){if(this.isWrapped)k.emit(this.domNode,
"calculatorenter_clicked",{result:this.getDisplayStr()});else{var a=this.getViewer().getLastFocusedInput();a||(a=this.targetWidget);this._insertValuetoInput(a,this.getDisplayStr())}},_onKeyUpEvent:function(a){var b=String.fromCharCode(a.keyCode);switch(a.keyCode){case 27:this._error?this._reset():this._clear();break;case 8:this._backspace();break;case 46:this._clear()}48<=a.keyCode&&57>=a.keyCode&&!a.shiftKey?this._pressDigit(b):96<=a.keyCode&&105>=a.keyCode?this._pressDigit(String.fromCharCode(a.keyCode-
48)):("."==b||190==a.keyCode||110==a.keyCode)&&46!=a.keyCode?this._pressDigit("."):53==a.keyCode&&a.shiftKey?this._doUnaryClick("prcntg"):106==a.keyCode||56==a.keyCode&&a.shiftKey?this._doBinaryClick("*"):(s("ie")||s("chrome")||s("trident"))&&189==a.keyCode&&!a.shiftKey?this._doBinaryClick("-"):s("mozilla")&&173==a.keyCode&&!a.shiftKey?this._doBinaryClick("-"):s("safari")&&189==a.keyCode&&!a.shiftKey?this._doBinaryClick("-"):109==a.keyCode?this._doBinaryClick("-"):(s("ie")||s("chrome")||s("trident"))&&
187==a.keyCode&&a.shiftKey?this._doBinaryClick("+"):s("mozilla")&&61==a.keyCode&&a.shiftKey?this._doBinaryClick("+"):s("safari")&&187==a.keyCode&&a.shiftKey?this._doBinaryClick("+"):107==a.keyCode?this._doBinaryClick("+"):111==a.keyCode||191==a.keyCode&&!a.shiftKey?this._doBinaryClick("/"):(s("ie")||s("chrome"))&&187==a.keyCode&&!a.shiftKey?this._doBinaryClick("\x3d"):s("mozilla")&&61==a.keyCode&&!a.shiftKey?this._doBinaryClick("\x3d"):s("trident")&&187==a.keyCode&&!a.shiftKey?this._doBinaryClick("\x3d"):
s("safari")&&(187==a.keyCode&&!a.shiftKey)&&this._doBinaryClick("\x3d")},positionPalette:function(){if(this.targetWidget&&(this.docked||!this._positioned)){this._positioned=!0;var d=this.anchorNode();if(d&&(d=n.position(d,!0),this.dockPadding&&(d.x-=this.dockPadding.left,d.y-=this.dockPadding.top,d.w+=this.dockPadding.right,d.h+=this.dockPadding.bottom),a.around(this.domNode,d,this.dockPositions,!0),this.needsCentering)){var d=this.domNode,e=this.viewportSize||b.getBox(this.ownerDocument),f=this._relativePosition,
h=f?null:n.position(d);c.set(d,{left:Math.floor(e.l+(f?f.x:(e.w-h.w)/2))+"px",top:Math.floor(e.t+(f?f.y:(e.h-h.h)/2))+"px",position:"absolute"});this.needsCentering=!1}}},_insertValuetoInput:function(a,b){a.insertEqText&&!a.readOnly?a.insertEqText(b,{clear:!0}):a._editor&&a.isEditable(a.currentCell)&&(a._editor.value=b,a.saveEditor(a.currentCell,a._editor))},setInputValue:function(a){var b=this.targetWidget;b&&this._insertValuetoInput(b,a)},_onKeyPressEvent:function(a){switch(a.keyCode){case 13:a.preventDefault(),
this._insertValue()}}})})},"xl/util/Calculator":function(){define(["./IPMath"],function(l){return{doUnary:function(l,k,f){k=parseFloat(k);f=parseFloat(f);try{switch(l){case "sqrt":return Math.sqrt(k);case "prcntg":return k/100*f;case "rcprcl":return 1/k}}catch(e){return e}},doBinary:function(l,k,f){k=parseFloat(k);f=parseFloat(f);switch(l){case "\x3d":return k;case "+":return f+k;case "-":return f-k;case "/":return f/k;case "*":return f*k}},checkBinaryOp:function(m,k){if("/"==m&&l.isZero(k))throw Error("Cannot divide by zero");
},checkValue:function(m){if(l.isInfinite(m)){if(0<=l.sign(m))throw Error("Infinity");throw Error("Negative Infinity");}},checkUnaryOp:function(m,k){switch(m){case "rcprcl":if(l.isZero(k))throw Error("Cannot divide by zero");break;case "sqrt":if(0>k)throw Error("Cannot take root of a negative");}}}})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color require ./_base/browser require".split(" "),
function(l,m,k,f,e,d,n,c){n.isDebug&&k(["./_firebug/firebug"]);return l})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(l){return l})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(l,m,k){var f=window,e={addOnWindowUnload:function(d,e){l.windowUnloaded||k(f,"unload",l.windowUnloaded=function(){});k(f,
"unload",m.hitch(d,e))},addOnUnload:function(d,e){k(f,"beforeunload",m.hitch(d,e))}};l.addOnWindowUnload=e.addOnWindowUnload;l.addOnUnload=e.addOnUnload;return e})},"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"0"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/player/dialogs/templates/BaseDialog.html":'\x3cdiv class\x3d"dijitDialog xlDialog" role\x3d"${ariaRole}"  data-dojo-attach-point\x3d"dialogNode" aria-modal\x3d"true" tabindex\x3d"-1" aria-labelledby\x3d"${id}_titleNode"\x3e      \n    \x3cdiv role\x3d"document" aria-labelledby\x3d"${id}_start ${id}_title ${id}_content ${id}_end"\x3e \n        \x3cspan class\x3d"sr-only" data-dojo-attach-point\x3d"content_start_span" id\x3d"${id}_start" \x3e\x3c/span\x3e      \n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar" id\x3d"${id}_title" \x3e\n            \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_titleNode"  \x3e\n                \x3c!--put title here--\x3e\n            \x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"minimizeButtonNode" class\x3d"hidden dijitDialogMinimizeIcon" data-dojo-attach-event\x3d"ondijitclick: onMinimize"\x3e\n                \x3cspan data-dojo-attach-point\x3d"minimizeText" role\x3d"button" tabindex\x3d"0" class\x3d"glyphicon glyphicon-white glyphicon-minus minimizeText"\x3e\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel"\x3e\n                \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" tabindex\x3d"0" role\x3d"button"\x3e\x3c/span\x3e\n            \x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"hidden xlDialogHeader" data-dojo-attach-point\x3d"dialogHeader"\x3e\n\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent" id\x3d"${id}_content"\x3e\n            \x3c!--put main content here--\x3e\n        \x3c/div\x3e\n        \x3cspan class\x3d"sr-only" data-dojo-attach-point\x3d"content_end_span" id\x3d"${id}_end"\x3e\x3c/span\x3e\n        \x3cdiv data-dojo-attach-point\x3d"dialogFooter" class\x3d"xlDialogFooter"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"dialogCheckbox" style\x3d"display:none" class\x3d"dialogCheckbox"\x3e\n                \x3c!--put checkbox here --\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"dialogButtons" class\x3d"xlDialogButtonContainer"\x3e\n                \x3c!--buttons go here--\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:xl/nonamd/ac/src/assessments-components.js":'/**\n *  PEARSON PROPRIETARY AND CONFIDENTIAL INFORMATION SUBJECT TO NDA\n *  Copyright \u00a9 2021 Pearson Education, Inc.\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains the property of\n * Pearson Education, Inc.  The intellectual and technical concepts contained\n * herein are proprietary to Pearson Education, Inc. and may be covered by U.S.\n * and Foreign Patents, patent applications, and are protected by trade secret\n * or copyright law.  Dissemination of this information, reproduction of this\n * material, and copying or distribution of this software is strictly forbidden\n * unless prior written permission is obtained from Pearson Education, Inc.\n* */\nvar AssessmentsComponents\x3dfunction(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i\x3d0;i\x3ce.length;i++){var n\x3de[i];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e\x26\x26i(t.prototype,e),n\x26\x26i(t,n),t}function r(t){return(r\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e,i){return(o\x3d"undefined"!\x3dtypeof Reflect\x26\x26Reflect.get?Reflect.get:function(t,e,i){var n\x3dfunction(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)\x26\x26null!\x3d\x3d(t\x3dr(t)););return t}(t,e);if(n){var o\x3dObject.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function s(t,e){return(s\x3dObject.setPrototypeOf||function(t,e){return t.__proto__\x3de,t})(t,e)}function a(t,e){if("function"!\x3dtypeof e\x26\x26null!\x3d\x3de)throw new TypeError("Super expression must either be null or a function");t.prototype\x3dObject.create(e\x26\x26e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e\x26\x26s(t,e)}function c(t){return(c\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(t){return typeof t}:function(t){return t\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26t.constructor\x3d\x3d\x3dSymbol\x26\x26t!\x3d\x3dSymbol.prototype?"symbol":typeof t})(t)}function u(t){if(void 0\x3d\x3d\x3dt)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}function l(t,e){return!e||"object"!\x3d\x3dc(e)\x26\x26"function"!\x3dtypeof e?u(t):e}function h(){return(h\x3dObject.assign||function(t){for(var e\x3d1;e\x3carguments.length;e++){var i\x3darguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)\x26\x26(t[n]\x3di[n])}return t}).apply(this,arguments)}var d\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(t){return typeof t}:function(t){return t\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26t.constructor\x3d\x3d\x3dSymbol\x26\x26t!\x3d\x3dSymbol.prototype?"symbol":typeof t},p\x3d"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof window?"undefined":d(window))\x26\x26"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof document?"undefined":d(document))\x26\x269\x3d\x3d\x3ddocument.nodeType;function f(t,e){t.prototype\x3dObject.create(e.prototype),t.prototype.constructor\x3dt,s(t,e)}var m\x3d{}.constructor;function g(t){if(null\x3d\x3dt||"object"!\x3dtypeof t)return t;if(Array.isArray(t))return t.map(g);if(t.constructor!\x3d\x3dm)return t;var e\x3d{};for(var i in t)e[i]\x3dg(t[i]);return e}function v(t,e,i){void 0\x3d\x3d\x3dt\x26\x26(t\x3d"unnamed");var n\x3di.jss,r\x3dg(e),o\x3dn.plugins.onCreateRule(t,r,i);return o||(t[0],null)}var y\x3dfunction(t,e){for(var i\x3d"",n\x3d0;n\x3ct.length\x26\x26"!important"!\x3d\x3dt[n];n++)i\x26\x26(i+\x3de),i+\x3dt[n];return i},x\x3dfunction(t,e){if(void 0\x3d\x3d\x3de\x26\x26(e\x3d!1),!Array.isArray(t))return t;var i\x3d"";if(Array.isArray(t[0]))for(var n\x3d0;n\x3ct.length\x26\x26"!important"!\x3d\x3dt[n];n++)i\x26\x26(i+\x3d", "),i+\x3dy(t[n]," ");else i\x3dy(t,", ");return e||"!important"!\x3d\x3dt[t.length-1]||(i+\x3d" !important"),i};function w(t){return t\x26\x26!1\x3d\x3d\x3dt.format?{linebreak:"",space:""}:{linebreak:"\\n",space:" "}}function C(t,e){for(var i\x3d"",n\x3d0;n\x3ce;n++)i+\x3d"  ";return i+t}function _(t,e,i){void 0\x3d\x3d\x3di\x26\x26(i\x3d{});var n\x3d"";if(!e)return n;var r\x3di.indent,o\x3dvoid 0\x3d\x3d\x3dr?0:r,s\x3de.fallbacks;!1\x3d\x3d\x3di.format\x26\x26(o\x3d-1/0);var a\x3dw(i),c\x3da.linebreak,u\x3da.space;if(t\x26\x26o++,s)if(Array.isArray(s))for(var l\x3d0;l\x3cs.length;l++){var h\x3ds[l];for(var d in h){var p\x3dh[d];null!\x3dp\x26\x26(n\x26\x26(n+\x3dc),n+\x3dC(d+":"+u+x(p)+";",o))}}else for(var f in s){var m\x3ds[f];null!\x3dm\x26\x26(n\x26\x26(n+\x3dc),n+\x3dC(f+":"+u+x(m)+";",o))}for(var g in e){var v\x3de[g];null!\x3dv\x26\x26"fallbacks"!\x3d\x3dg\x26\x26(n\x26\x26(n+\x3dc),n+\x3dC(g+":"+u+x(v)+";",o))}return(n||i.allowEmpty)\x26\x26t?(n\x26\x26(n\x3d""+c+n+c),C(""+t+u+"{"+n,--o)+C("}",o)):n}var E\x3d/([[\\].#*$\x3e\x3c+~\x3d|^:(),"\'`\\s])/g,b\x3d"undefined"!\x3dtypeof CSS\x26\x26CSS.escape,R\x3dfunction(t){return b?b(t):t.replace(E,"\\\\$1")},q\x3dfunction(){function t(t,e,i){this.type\x3d"style",this.isProcessed\x3d!1;var n\x3di.sheet,r\x3di.Renderer;this.key\x3dt,this.options\x3di,this.style\x3de,n?this.renderer\x3dn.renderer:r\x26\x26(this.renderer\x3dnew r)}return t.prototype.prop\x3dfunction(t,e,i){if(void 0\x3d\x3d\x3de)return this.style[t];var n\x3d!!i\x26\x26i.force;if(!n\x26\x26this.style[t]\x3d\x3d\x3de)return this;var r\x3de;i\x26\x26!1\x3d\x3d\x3di.process||(r\x3dthis.options.jss.plugins.onChangeValue(e,t,this));var o\x3dnull\x3d\x3dr||!1\x3d\x3d\x3dr,s\x3dt in this.style;if(o\x26\x26!s\x26\x26!n)return this;var a\x3do\x26\x26s;if(a?delete this.style[t]:this.style[t]\x3dr,this.renderable\x26\x26this.renderer)return a?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,r),this;var c\x3dthis.options.sheet;return c\x26\x26c.attached,this},t}(),k\x3dfunction(t){function e(e,i,n){var r;r\x3dt.call(this,e,i,n)||this;var o\x3dn.selector,s\x3dn.scoped,a\x3dn.sheet,c\x3dn.generateId;return o?r.selectorText\x3do:!1!\x3d\x3ds\x26\x26(r.id\x3dc(u(u(r)),a),r.selectorText\x3d"."+R(r.id)),r}f(e,t);var i\x3de.prototype;return i.applyTo\x3dfunction(t){var e\x3dthis.renderer;if(e){var i\x3dthis.toJSON();for(var n in i)e.setProperty(t,n,i[n])}return this},i.toJSON\x3dfunction(){var t\x3d{};for(var e in this.style){var i\x3dthis.style[e];"object"!\x3dtypeof i?t[e]\x3di:Array.isArray(i)\x26\x26(t[e]\x3dx(i))}return t},i.toString\x3dfunction(t){var e\x3dthis.options.sheet,i\x3d!!e\x26\x26e.options.link?h({},t,{allowEmpty:!0}):t;return _(this.selectorText,this.style,i)},n(e,[{key:"selector",set:function(t){if(t!\x3d\x3dthis.selectorText){this.selectorText\x3dt;var e\x3dthis.renderer,i\x3dthis.renderable;if(i\x26\x26e)e.setSelector(i,t)||e.replaceRule(i,this)}},get:function(){return this.selectorText}}]),e}(q),N\x3d{onCreateRule:function(t,e,i){return"@"\x3d\x3d\x3dt[0]||i.parent\x26\x26"keyframes"\x3d\x3d\x3di.parent.type?null:new k(t,e,i)}},T\x3d{indent:1,children:!0},S\x3d/@([\\w-]+)/,L\x3dfunction(){function t(t,e,i){this.type\x3d"conditional",this.isProcessed\x3d!1,this.key\x3dt;var n\x3dt.match(S);for(var r in this.at\x3dn?n[1]:"unknown",this.query\x3di.name||"@"+this.at,this.options\x3di,this.rules\x3dnew tt(h({},i,{parent:this})),e)this.rules.add(r,e[r]);this.rules.process()}var e\x3dt.prototype;return e.getRule\x3dfunction(t){return this.rules.get(t)},e.indexOf\x3dfunction(t){return this.rules.indexOf(t)},e.addRule\x3dfunction(t,e,i){var n\x3dthis.rules.add(t,e,i);return n?(this.options.jss.plugins.onProcessRule(n),n):null},e.toString\x3dfunction(t){void 0\x3d\x3d\x3dt\x26\x26(t\x3dT);var e\x3dw(t).linebreak;if(null\x3d\x3dt.indent\x26\x26(t.indent\x3dT.indent),null\x3d\x3dt.children\x26\x26(t.children\x3dT.children),!1\x3d\x3d\x3dt.children)return this.query+" {}";var i\x3dthis.rules.toString(t);return i?this.query+" {"+e+i+e+"}":""},t}(),A\x3d/@media|@supports\\s+/,P\x3d{onCreateRule:function(t,e,i){return A.test(t)?new L(t,e,i):null}},D\x3d{indent:1,children:!0},B\x3d/@keyframes\\s+([\\w-]+)/,M\x3dfunction(){function t(t,e,i){this.type\x3d"keyframes",this.at\x3d"@keyframes",this.isProcessed\x3d!1;var n\x3dt.match(B);n\x26\x26n[1]?this.name\x3dn[1]:this.name\x3d"noname",this.key\x3dthis.type+"-"+this.name,this.options\x3di;var r\x3di.scoped,o\x3di.sheet,s\x3di.generateId;for(var a in this.id\x3d!1\x3d\x3d\x3dr?this.name:R(s(this,o)),this.rules\x3dnew tt(h({},i,{parent:this})),e)this.rules.add(a,e[a],h({},i,{parent:this}));this.rules.process()}return t.prototype.toString\x3dfunction(t){void 0\x3d\x3d\x3dt\x26\x26(t\x3dD);var e\x3dw(t).linebreak;if(null\x3d\x3dt.indent\x26\x26(t.indent\x3dD.indent),null\x3d\x3dt.children\x26\x26(t.children\x3dD.children),!1\x3d\x3d\x3dt.children)return this.at+" "+this.id+" {}";var i\x3dthis.rules.toString(t);return i\x26\x26(i\x3d""+e+i+e),this.at+" "+this.id+" {"+i+"}"},t}(),O\x3d/@keyframes\\s+/,I\x3d/\\$([\\w-]+)/g,F\x3dfunction(t,e){return"string"\x3d\x3dtypeof t?t.replace(I,(function(t,i){return i in e?e[i]:t})):t},U\x3dfunction(t,e,i){var n\x3dt[e],r\x3dF(n,i);r!\x3d\x3dn\x26\x26(t[e]\x3dr)},V\x3d{onCreateRule:function(t,e,i){return"string"\x3d\x3dtypeof t\x26\x26O.test(t)?new M(t,e,i):null},onProcessStyle:function(t,e,i){return"style"\x3d\x3d\x3de.type\x26\x26i?("animation-name"in t\x26\x26U(t,"animation-name",i.keyframes),"animation"in t\x26\x26U(t,"animation",i.keyframes),t):t},onChangeValue:function(t,e,i){var n\x3di.options.sheet;if(!n)return t;switch(e){case"animation":case"animation-name":return F(t,n.keyframes);default:return t}}},H\x3dfunction(t){function e(){return t.apply(this,arguments)||this}return f(e,t),e.prototype.toString\x3dfunction(t){var e\x3dthis.options.sheet,i\x3d!!e\x26\x26e.options.link?h({},t,{allowEmpty:!0}):t;return _(this.key,this.style,i)},e}(q),j\x3d{onCreateRule:function(t,e,i){return i.parent\x26\x26"keyframes"\x3d\x3d\x3di.parent.type?new H(t,e,i):null}},W\x3dfunction(){function t(t,e,i){this.type\x3d"font-face",this.at\x3d"@font-face",this.isProcessed\x3d!1,this.key\x3dt,this.style\x3de,this.options\x3di}return t.prototype.toString\x3dfunction(t){var e\x3dw(t).linebreak;if(Array.isArray(this.style)){for(var i\x3d"",n\x3d0;n\x3cthis.style.length;n++)i+\x3d_(this.at,this.style[n]),this.style[n+1]\x26\x26(i+\x3de);return i}return _(this.at,this.style,t)},t}(),z\x3d/@font-face/,G\x3d{onCreateRule:function(t,e,i){return z.test(t)?new W(t,e,i):null}},X\x3dfunction(){function t(t,e,i){this.type\x3d"viewport",this.at\x3d"@viewport",this.isProcessed\x3d!1,this.key\x3dt,this.style\x3de,this.options\x3di}return t.prototype.toString\x3dfunction(t){return _(this.key,this.style,t)},t}(),Q\x3d{onCreateRule:function(t,e,i){return"@viewport"\x3d\x3d\x3dt||"@-ms-viewport"\x3d\x3d\x3dt?new X(t,e,i):null}},Y\x3dfunction(){function t(t,e,i){this.type\x3d"simple",this.isProcessed\x3d!1,this.key\x3dt,this.value\x3de,this.options\x3di}return t.prototype.toString\x3dfunction(t){if(Array.isArray(this.value)){for(var e\x3d"",i\x3d0;i\x3cthis.value.length;i++)e+\x3dthis.key+" "+this.value[i]+";",this.value[i+1]\x26\x26(e+\x3d"\\n");return e}return this.key+" "+this.value+";"},t}(),K\x3d{"@charset":!0,"@import":!0,"@namespace":!0},J\x3d[N,P,V,j,G,Q,{onCreateRule:function(t,e,i){return t in K?new Y(t,e,i):null}}],$\x3d{process:!0},Z\x3d{force:!0,process:!0},tt\x3dfunction(){function t(t){this.map\x3d{},this.raw\x3d{},this.index\x3d[],this.counter\x3d0,this.options\x3dt,this.classes\x3dt.classes,this.keyframes\x3dt.keyframes}var e\x3dt.prototype;return e.add\x3dfunction(t,e,i){var n\x3dthis.options,r\x3dn.parent,o\x3dn.sheet,s\x3dn.jss,a\x3dn.Renderer,c\x3dn.generateId,u\x3dn.scoped,l\x3dh({classes:this.classes,parent:r,sheet:o,jss:s,Renderer:a,generateId:c,scoped:u,name:t,keyframes:this.keyframes,selector:void 0},i),d\x3dt;t in this.raw\x26\x26(d\x3dt+"-d"+this.counter++),this.raw[d]\x3de,d in this.classes\x26\x26(l.selector\x3d"."+R(this.classes[d]));var p\x3dv(d,e,l);if(!p)return null;this.register(p);var f\x3dvoid 0\x3d\x3d\x3dl.index?this.index.length:l.index;return this.index.splice(f,0,p),p},e.get\x3dfunction(t){return this.map[t]},e.remove\x3dfunction(t){this.unregister(t),delete this.raw[t.key],this.index.splice(this.index.indexOf(t),1)},e.indexOf\x3dfunction(t){return this.index.indexOf(t)},e.process\x3dfunction(){var t\x3dthis.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)},e.register\x3dfunction(t){this.map[t.key]\x3dt,t instanceof k?(this.map[t.selector]\x3dt,t.id\x26\x26(this.classes[t.key]\x3dt.id)):t instanceof M\x26\x26this.keyframes\x26\x26(this.keyframes[t.name]\x3dt.id)},e.unregister\x3dfunction(t){delete this.map[t.key],t instanceof k?(delete this.map[t.selector],delete this.classes[t.key]):t instanceof M\x26\x26delete this.keyframes[t.name]},e.update\x3dfunction(){var t,e,i;if("string"\x3d\x3dtypeof(arguments.length\x3c\x3d0?void 0:arguments[0])?(t\x3darguments.length\x3c\x3d0?void 0:arguments[0],e\x3darguments.length\x3c\x3d1?void 0:arguments[1],i\x3darguments.length\x3c\x3d2?void 0:arguments[2]):(e\x3darguments.length\x3c\x3d0?void 0:arguments[0],i\x3darguments.length\x3c\x3d1?void 0:arguments[1],t\x3dnull),t)this.updateOne(this.map[t],e,i);else for(var n\x3d0;n\x3cthis.index.length;n++)this.updateOne(this.index[n],e,i)},e.updateOne\x3dfunction(e,i,n){void 0\x3d\x3d\x3dn\x26\x26(n\x3d$);var r\x3dthis.options,o\x3dr.jss.plugins,s\x3dr.sheet;if(e.rules instanceof t)e.rules.update(i,n);else{var a\x3de.style;if(o.onUpdate(i,e,s,n),n.process\x26\x26a\x26\x26a!\x3d\x3de.style){for(var c in o.onProcessStyle(e.style,e,s),e.style){var u\x3de.style[c];u!\x3d\x3da[c]\x26\x26e.prop(c,u,Z)}for(var l in a){var h\x3de.style[l],d\x3da[l];null\x3d\x3dh\x26\x26h!\x3d\x3dd\x26\x26e.prop(l,null,Z)}}}},e.toString\x3dfunction(t){for(var e\x3d"",i\x3dthis.options.sheet,n\x3d!!i\x26\x26i.options.link,r\x3dw(t).linebreak,o\x3d0;o\x3cthis.index.length;o++){var s\x3dthis.index[o].toString(t);(s||n)\x26\x26(e\x26\x26(e+\x3dr),e+\x3ds)}return e},t}(),et\x3dfunction(){function t(t,e){for(var i in this.attached\x3d!1,this.deployed\x3d!1,this.classes\x3d{},this.keyframes\x3d{},this.options\x3dh({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer\x26\x26(this.renderer\x3dnew e.Renderer(this)),this.rules\x3dnew tt(this.options),t)this.rules.add(i,t[i]);this.rules.process()}var e\x3dt.prototype;return e.attach\x3dfunction(){return this.attached||(this.renderer\x26\x26this.renderer.attach(),this.attached\x3d!0,this.deployed||this.deploy()),this},e.detach\x3dfunction(){return this.attached?(this.renderer\x26\x26this.renderer.detach(),this.attached\x3d!1,this):this},e.addRule\x3dfunction(t,e,i){var n\x3dthis.queue;this.attached\x26\x26!n\x26\x26(this.queue\x3d[]);var r\x3dthis.rules.add(t,e,i);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(n?n.push(r):(this.insertRule(r),this.queue\x26\x26(this.queue.forEach(this.insertRule,this),this.queue\x3dvoid 0)),r):r:(this.deployed\x3d!1,r)):null},e.insertRule\x3dfunction(t){this.renderer\x26\x26this.renderer.insertRule(t)},e.addRules\x3dfunction(t,e){var i\x3d[];for(var n in t){var r\x3dthis.addRule(n,t[n],e);r\x26\x26i.push(r)}return i},e.getRule\x3dfunction(t){return this.rules.get(t)},e.deleteRule\x3dfunction(t){var e\x3d"object"\x3d\x3dtypeof t?t:this.rules.get(t);return!(!e||this.attached\x26\x26!e.renderable)\x26\x26(this.rules.remove(e),!(this.attached\x26\x26e.renderable\x26\x26this.renderer)||this.renderer.deleteRule(e.renderable))},e.indexOf\x3dfunction(t){return this.rules.indexOf(t)},e.deploy\x3dfunction(){return this.renderer\x26\x26this.renderer.deploy(),this.deployed\x3d!0,this},e.update\x3dfunction(){var t;return(t\x3dthis.rules).update.apply(t,arguments),this},e.updateOne\x3dfunction(t,e,i){return this.rules.updateOne(t,e,i),this},e.toString\x3dfunction(t){return this.rules.toString(t)},t}(),it\x3dfunction(){function t(){this.plugins\x3d{internal:[],external:[]},this.registry\x3d{}}var e\x3dt.prototype;return e.onCreateRule\x3dfunction(t,e,i){for(var n\x3d0;n\x3cthis.registry.onCreateRule.length;n++){var r\x3dthis.registry.onCreateRule[n](t,e,i);if(r)return r}return null},e.onProcessRule\x3dfunction(t){if(!t.isProcessed){for(var e\x3dt.options.sheet,i\x3d0;i\x3cthis.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](t,e);t.style\x26\x26this.onProcessStyle(t.style,t,e),t.isProcessed\x3d!0}},e.onProcessStyle\x3dfunction(t,e,i){for(var n\x3d0;n\x3cthis.registry.onProcessStyle.length;n++)e.style\x3dthis.registry.onProcessStyle[n](e.style,e,i)},e.onProcessSheet\x3dfunction(t){for(var e\x3d0;e\x3cthis.registry.onProcessSheet.length;e++)this.registry.onProcessSheet[e](t)},e.onUpdate\x3dfunction(t,e,i,n){for(var r\x3d0;r\x3cthis.registry.onUpdate.length;r++)this.registry.onUpdate[r](t,e,i,n)},e.onChangeValue\x3dfunction(t,e,i){for(var n\x3dt,r\x3d0;r\x3cthis.registry.onChangeValue.length;r++)n\x3dthis.registry.onChangeValue[r](n,e,i);return n},e.use\x3dfunction(t,e){void 0\x3d\x3d\x3de\x26\x26(e\x3d{queue:"external"});var i\x3dthis.plugins[e.queue];-1\x3d\x3d\x3di.indexOf(t)\x26\x26(i.push(t),this.registry\x3d[].concat(this.plugins.external,this.plugins.internal).reduce((function(t,e){for(var i in e)i in t\x26\x26t[i].push(e[i]);return t}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),nt\x3dnew(function(){function t(){this.registry\x3d[]}var e\x3dt.prototype;return e.add\x3dfunction(t){var e\x3dthis.registry,i\x3dt.options.index;if(-1\x3d\x3d\x3de.indexOf(t))if(0\x3d\x3d\x3de.length||i\x3e\x3dthis.index)e.push(t);else for(var n\x3d0;n\x3ce.length;n++)if(e[n].options.index\x3ei)return void e.splice(n,0,t)},e.reset\x3dfunction(){this.registry\x3d[]},e.remove\x3dfunction(t){var e\x3dthis.registry.indexOf(t);this.registry.splice(e,1)},e.toString\x3dfunction(t){for(var e\x3dvoid 0\x3d\x3d\x3dt?{}:t,i\x3de.attached,n\x3dfunction(t,e){if(null\x3d\x3dt)return{};var i,n,r\x3d{},o\x3dObject.keys(t);for(n\x3d0;n\x3co.length;n++)i\x3do[n],e.indexOf(i)\x3e\x3d0||(r[i]\x3dt[i]);return r}(e,["attached"]),r\x3dw(n).linebreak,o\x3d"",s\x3d0;s\x3cthis.registry.length;s++){var a\x3dthis.registry[s];null!\x3di\x26\x26a.attached!\x3d\x3di||(o\x26\x26(o+\x3dr),o+\x3da.toString(n))}return o},n(t,[{key:"index",get:function(){return 0\x3d\x3d\x3dthis.registry.length?0:this.registry[this.registry.length-1].options.index}}]),t}()),rt\x3d"undefined"!\x3dtypeof globalThis?globalThis:"undefined"!\x3dtypeof window\x26\x26window.Math\x3d\x3d\x3dMath?window:"undefined"!\x3dtypeof self\x26\x26self.Math\x3d\x3d\x3dMath?self:Function("return this")(),ot\x3d"2f1acc6c3a606b082e5eef5e54414ffb";null\x3d\x3drt[ot]\x26\x26(rt[ot]\x3d0);var st\x3drt[ot]++,at\x3dfunction(t){void 0\x3d\x3d\x3dt\x26\x26(t\x3d{});var e\x3d0;return function(i,n){e+\x3d1;var r\x3d"",o\x3d"";return n\x26\x26(n.options.classNamePrefix\x26\x26(o\x3dn.options.classNamePrefix),null!\x3dn.options.jss.id\x26\x26(r\x3dString(n.options.jss.id))),t.minify?""+(o||"c")+st+r+e:o+i.key+"-"+st+(r?"-"+r:"")+"-"+e}},ct\x3dfunction(t){var e;return function(){return e||(e\x3dt()),e}},ut\x3dfunction(t,e){try{return t.attributeStyleMap?t.attributeStyleMap.get(e):t.style.getPropertyValue(e)}catch(t){return""}},lt\x3dfunction(t,e,i){try{var n\x3di;if(Array.isArray(i)\x26\x26(n\x3dx(i,!0),"!important"\x3d\x3d\x3di[i.length-1]))return t.style.setProperty(e,n,"important"),!0;t.attributeStyleMap?t.attributeStyleMap.set(e,n):t.style.setProperty(e,n)}catch(t){return!1}return!0},ht\x3dfunction(t,e){try{t.attributeStyleMap?t.attributeStyleMap.delete(e):t.style.removeProperty(e)}catch(t){}},dt\x3dfunction(t,e){return t.selectorText\x3de,t.selectorText\x3d\x3d\x3de},pt\x3dct((function(){return document.querySelector("head")}));function ft(t){var e\x3dnt.registry;if(e.length\x3e0){var i\x3dfunction(t,e){for(var i\x3d0;i\x3ct.length;i++){var n\x3dt[i];if(n.attached\x26\x26n.options.index\x3ee.index\x26\x26n.options.insertionPoint\x3d\x3d\x3de.insertionPoint)return n}return null}(e,t);if(i\x26\x26i.renderer)return{parent:i.renderer.element.parentNode,node:i.renderer.element};if((i\x3dfunction(t,e){for(var i\x3dt.length-1;i\x3e\x3d0;i--){var n\x3dt[i];if(n.attached\x26\x26n.options.insertionPoint\x3d\x3d\x3de.insertionPoint)return n}return null}(e,t))\x26\x26i.renderer)return{parent:i.renderer.element.parentNode,node:i.renderer.element.nextSibling}}var n\x3dt.insertionPoint;if(n\x26\x26"string"\x3d\x3dtypeof n){var r\x3dfunction(t){for(var e\x3dpt(),i\x3d0;i\x3ce.childNodes.length;i++){var n\x3de.childNodes[i];if(8\x3d\x3d\x3dn.nodeType\x26\x26n.nodeValue.trim()\x3d\x3d\x3dt)return n}return null}(n);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var mt\x3dct((function(){var t\x3ddocument.querySelector(\'meta[property\x3d"csp-nonce"]\');return t?t.getAttribute("content"):null})),gt\x3dfunction(t,e,i){try{"insertRule"in t?t.insertRule(e,i):"appendRule"in t\x26\x26t.appendRule(e)}catch(t){return!1}return t.cssRules[i]},vt\x3dfunction(t,e){var i\x3dt.cssRules.length;return void 0\x3d\x3d\x3de||e\x3ei?i:e},yt\x3dfunction(){function t(t){this.getPropertyValue\x3dut,this.setProperty\x3dlt,this.removeProperty\x3dht,this.setSelector\x3ddt,this.hasInsertedRules\x3d!1,this.cssRules\x3d[],t\x26\x26nt.add(t),this.sheet\x3dt;var e\x3dthis.sheet?this.sheet.options:{},i\x3de.media,n\x3de.meta,r\x3de.element;this.element\x3dr||function(){var t\x3ddocument.createElement("style");return t.textContent\x3d"\\n",t}(),this.element.setAttribute("data-jss",""),i\x26\x26this.element.setAttribute("media",i),n\x26\x26this.element.setAttribute("data-meta",n);var o\x3dmt();o\x26\x26this.element.setAttribute("nonce",o)}var e\x3dt.prototype;return e.attach\x3dfunction(){if(!this.element.parentNode\x26\x26this.sheet){!function(t,e){var i\x3de.insertionPoint,n\x3dft(e);if(!1!\x3d\x3dn\x26\x26n.parent)n.parent.insertBefore(t,n.node);else if(i\x26\x26"number"\x3d\x3dtypeof i.nodeType){var r\x3di,o\x3dr.parentNode;o\x26\x26o.insertBefore(t,r.nextSibling)}else pt().appendChild(t)}(this.element,this.sheet.options);var t\x3dBoolean(this.sheet\x26\x26this.sheet.deployed);this.hasInsertedRules\x26\x26t\x26\x26(this.hasInsertedRules\x3d!1,this.deploy())}},e.detach\x3dfunction(){if(this.sheet){var t\x3dthis.element.parentNode;t\x26\x26t.removeChild(this.element),this.sheet.options.link\x26\x26(this.cssRules\x3d[],this.element.textContent\x3d"\\n")}},e.deploy\x3dfunction(){var t\x3dthis.sheet;t\x26\x26(t.options.link?this.insertRules(t.rules):this.element.textContent\x3d"\\n"+t.toString()+"\\n")},e.insertRules\x3dfunction(t,e){for(var i\x3d0;i\x3ct.index.length;i++)this.insertRule(t.index[i],i,e)},e.insertRule\x3dfunction(t,e,i){if(void 0\x3d\x3d\x3di\x26\x26(i\x3dthis.element.sheet),t.rules){var n\x3dt,r\x3di;if("conditional"\x3d\x3d\x3dt.type||"keyframes"\x3d\x3d\x3dt.type){var o\x3dvt(i,e);if(!1\x3d\x3d\x3d(r\x3dgt(i,n.toString({children:!1}),o)))return!1;this.refCssRule(t,o,r)}return this.insertRules(n.rules,r),r}var s\x3dt.toString();if(!s)return!1;var a\x3dvt(i,e),c\x3dgt(i,s,a);return!1!\x3d\x3dc\x26\x26(this.hasInsertedRules\x3d!0,this.refCssRule(t,a,c),c)},e.refCssRule\x3dfunction(t,e,i){t.renderable\x3di,t.options.parent instanceof et\x26\x26(this.cssRules[e]\x3di)},e.deleteRule\x3dfunction(t){var e\x3dthis.element.sheet,i\x3dthis.indexOf(t);return-1!\x3d\x3di\x26\x26(e.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf\x3dfunction(t){return this.cssRules.indexOf(t)},e.replaceRule\x3dfunction(t,e){var i\x3dthis.indexOf(t);return-1!\x3d\x3di\x26\x26(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(e,i))},e.getRules\x3dfunction(){return this.element.sheet.cssRules},t}(),xt\x3d0,wt\x3dfunction(){function t(t){this.id\x3dxt++,this.version\x3d"10.8.0",this.plugins\x3dnew it,this.options\x3d{id:{minify:!1},createGenerateId:at,Renderer:p?yt:null,plugins:[]},this.generateId\x3dat({minify:!1});for(var e\x3d0;e\x3cJ.length;e++)this.plugins.use(J[e],{queue:"internal"});this.setup(t)}var e\x3dt.prototype;return e.setup\x3dfunction(t){return void 0\x3d\x3d\x3dt\x26\x26(t\x3d{}),t.createGenerateId\x26\x26(this.options.createGenerateId\x3dt.createGenerateId),t.id\x26\x26(this.options.id\x3dh({},this.options.id,t.id)),(t.createGenerateId||t.id)\x26\x26(this.generateId\x3dthis.options.createGenerateId(this.options.id)),null!\x3dt.insertionPoint\x26\x26(this.options.insertionPoint\x3dt.insertionPoint),"Renderer"in t\x26\x26(this.options.Renderer\x3dt.Renderer),t.plugins\x26\x26this.use.apply(this,t.plugins),this},e.createStyleSheet\x3dfunction(t,e){void 0\x3d\x3d\x3de\x26\x26(e\x3d{});var i\x3de.index;"number"!\x3dtypeof i\x26\x26(i\x3d0\x3d\x3d\x3dnt.index?0:nt.index+1);var n\x3dnew et(t,h({},e,{jss:this,generateId:e.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:i}));return this.plugins.onProcessSheet(n),n},e.removeStyleSheet\x3dfunction(t){return t.detach(),nt.remove(t),this},e.createRule\x3dfunction(t,e,i){if(void 0\x3d\x3d\x3de\x26\x26(e\x3d{}),void 0\x3d\x3d\x3di\x26\x26(i\x3d{}),"object"\x3d\x3dtypeof t)return this.createRule(void 0,t,e);var n\x3dh({},i,{name:t,jss:this,Renderer:this.options.Renderer});n.generateId||(n.generateId\x3dthis.generateId),n.classes||(n.classes\x3d{}),n.keyframes||(n.keyframes\x3d{});var r\x3dv(t,e,n);return r\x26\x26this.plugins.onProcessRule(r),r},e.use\x3dfunction(){for(var t\x3dthis,e\x3darguments.length,i\x3dnew Array(e),n\x3d0;n\x3ce;n++)i[n]\x3darguments[n];return i.forEach((function(e){t.plugins.use(e)})),this},t}(),Ct\x3dfunction(t){return new wt(t)},_t\x3d"object"\x3d\x3dtypeof CSS\x26\x26null!\x3dCSS\x26\x26"number"in CSS;\n/**\n   * A better abstraction over CSS.\n   *\n   * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n   * @website https://github.com/cssinjs/jss\n   * @license MIT\n   */\nCt();var Et\x3dDate.now(),bt\x3d"fnValues"+Et,Rt\x3d"fnStyle"+ ++Et;var qt\x3dfunction(t){var e,i\x3dt.Symbol;return"function"\x3d\x3dtypeof i?i.observable?e\x3di.observable:(e\x3di("observable"),i.observable\x3de):e\x3d"@@observable",e}("undefined"!\x3dtypeof self?self:"undefined"!\x3dtypeof window?window:"undefined"!\x3dtypeof global?global:"undefined"!\x3dtypeof module?module:Function("return this")()),kt\x3dfunction(t){return t\x26\x26t[qt]\x26\x26t\x3d\x3d\x3dt[qt]()},Nt\x3d/;\\n/,Tt\x3dfunction(t){"string"\x3d\x3dtypeof t.style\x26\x26(t.style\x3dfunction(t){for(var e\x3d{},i\x3dt.split(Nt),n\x3d0;n\x3ci.length;n++){var r\x3d(i[n]||"").trim();if(r){var o\x3dr.indexOf(":");if(-1!\x3d\x3do){var s\x3dr.substr(0,o).trim(),a\x3dr.substr(o+1).trim();e[s]\x3da}}}return e}(t.style))};var St\x3d"@global",Lt\x3dfunction(){function t(t,e,i){for(var n in this.type\x3d"global",this.at\x3dSt,this.isProcessed\x3d!1,this.key\x3dt,this.options\x3di,this.rules\x3dnew tt(h({},i,{parent:this})),e)this.rules.add(n,e[n]);this.rules.process()}var e\x3dt.prototype;return e.getRule\x3dfunction(t){return this.rules.get(t)},e.addRule\x3dfunction(t,e,i){var n\x3dthis.rules.add(t,e,i);return n\x26\x26this.options.jss.plugins.onProcessRule(n),n},e.indexOf\x3dfunction(t){return this.rules.indexOf(t)},e.toString\x3dfunction(){return this.rules.toString()},t}(),At\x3dfunction(){function t(t,e,i){this.type\x3d"global",this.at\x3dSt,this.isProcessed\x3d!1,this.key\x3dt,this.options\x3di;var n\x3dt.substr("@global ".length);this.rule\x3di.jss.createRule(n,e,h({},i,{parent:this}))}return t.prototype.toString\x3dfunction(t){return this.rule?this.rule.toString(t):""},t}(),Pt\x3d/\\s*,\\s*/g;function Dt(t,e){for(var i\x3dt.split(Pt),n\x3d"",r\x3d0;r\x3ci.length;r++)n+\x3de+" "+i[r].trim(),i[r+1]\x26\x26(n+\x3d", ");return n}function Bt(){return{onCreateRule:function(t,e,i){if(!t)return null;if(t\x3d\x3d\x3dSt)return new Lt(t,e,i);if("@"\x3d\x3d\x3dt[0]\x26\x26"@global "\x3d\x3d\x3dt.substr(0,"@global ".length))return new At(t,e,i);var n\x3di.parent;return n\x26\x26("global"\x3d\x3d\x3dn.type||n.options.parent\x26\x26"global"\x3d\x3d\x3dn.options.parent.type)\x26\x26(i.scoped\x3d!1),!1\x3d\x3d\x3di.scoped\x26\x26(i.selector\x3dt),null},onProcessRule:function(t,e){"style"\x3d\x3d\x3dt.type\x26\x26e\x26\x26(function(t,e){var i\x3dt.options,n\x3dt.style,r\x3dn?n[St]:null;if(r){for(var o in r)e.addRule(o,r[o],h({},i,{selector:Dt(o,t.selector)}));delete n[St]}}(t,e),function(t,e){var i\x3dt.options,n\x3dt.style;for(var r in n)if("@"\x3d\x3d\x3dr[0]\x26\x26r.substr(0,St.length)\x3d\x3d\x3dSt){var o\x3dDt(r.substr(St.length),t.selector);e.addRule(o,n[r],h({},i,{selector:o})),delete n[r]}}(t,e))}}}var Mt\x3dfunction(t){return t\x26\x26"object"\x3d\x3dtypeof t\x26\x26!Array.isArray(t)},Ot\x3d"extendCurrValue"+Date.now();function It(t,e,i,n){return void 0\x3d\x3d\x3dn\x26\x26(n\x3d{}),function(t,e,i,n){if("string"!\x3d\x3dtypeof t.extend)if(Array.isArray(t.extend))for(var r\x3d0;r\x3ct.extend.length;r++){var o\x3dt.extend[r];It("string"\x3d\x3dtypeof o?h({},t,{extend:o}):t.extend[r],e,i,n)}else for(var s in t.extend)"extend"!\x3d\x3ds?Mt(t.extend[s])?(s in n||(n[s]\x3d{}),It(t.extend[s],e,i,n[s])):n[s]\x3dt.extend[s]:It(t.extend.extend,e,i,n);else{if(!i)return;var a\x3di.getRule(t.extend);if(!a)return;if(a\x3d\x3d\x3de)return;var c\x3da.options.parent;c\x26\x26It(c.rules.raw[t.extend],e,i,n)}}(t,e,i,n),function(t,e,i,n){for(var r in t)"extend"!\x3d\x3dr\x26\x26(Mt(n[r])\x26\x26Mt(t[r])?It(t[r],e,i,n[r]):Mt(t[r])?n[r]\x3dIt(t[r],e,i):n[r]\x3dt[r])}(t,e,i,n),n}var Ft\x3d/\\s*,\\s*/g,Ut\x3d/\x26/g,Vt\x3d/\\$([\\w-]+)/g;function Ht(){function t(t,e){return function(i,n){var r\x3dt.getRule(n)||e\x26\x26e.getRule(n);return r?r.selector:n}}function e(t,e){for(var i\x3de.split(Ft),n\x3dt.split(Ft),r\x3d"",o\x3d0;o\x3ci.length;o++)for(var s\x3di[o],a\x3d0;a\x3cn.length;a++){var c\x3dn[a];r\x26\x26(r+\x3d", "),r+\x3d-1!\x3d\x3dc.indexOf("\x26")?c.replace(Ut,s):s+" "+c}return r}function i(t,e,i){if(i)return h({},i,{index:i.index+1});var n\x3dt.options.nestingLevel;n\x3dvoid 0\x3d\x3d\x3dn?1:n+1;var r\x3dh({},t.options,{nestingLevel:n,index:e.indexOf(t)+1});return delete r.name,r}return{onProcessStyle:function(n,r,o){if("style"!\x3d\x3dr.type)return n;var s,a,c\x3dr,u\x3dc.options.parent;for(var l in n){var d\x3d-1!\x3d\x3dl.indexOf("\x26"),p\x3d"@"\x3d\x3d\x3dl[0];if(d||p){if(s\x3di(c,u,s),d){var f\x3de(l,c.selector);a||(a\x3dt(u,o)),f\x3df.replace(Vt,a),u.addRule(f,n[l],h({},s,{selector:f}))}else p\x26\x26u.addRule(l,{},s).addRule(c.key,n[l],{selector:c.selector});delete n[l]}}return n}}}var jt\x3d/[A-Z]/g,Wt\x3d/^ms-/,zt\x3d{};function Gt(t){return"-"+t.toLowerCase()}function Xt(t){if(zt.hasOwnProperty(t))return zt[t];var e\x3dt.replace(jt,Gt);return zt[t]\x3dWt.test(e)?"-"+e:e}function Qt(t){var e\x3d{};for(var i in t){e[0\x3d\x3d\x3di.indexOf("--")?i:Xt(i)]\x3dt[i]}return t.fallbacks\x26\x26(Array.isArray(t.fallbacks)?e.fallbacks\x3dt.fallbacks.map(Qt):e.fallbacks\x3dQt(t.fallbacks)),e}var Yt\x3d_t\x26\x26CSS?CSS.px:"px",Kt\x3d_t\x26\x26CSS?CSS.ms:"ms",Jt\x3d_t\x26\x26CSS?CSS.percent:"%";function $t(t){var e\x3d/(-[a-z])/g,i\x3dfunction(t){return t[1].toUpperCase()},n\x3d{};for(var r in t)n[r]\x3dt[r],n[r.replace(e,i)]\x3dt[r];return n}var Zt\x3d$t({"animation-delay":Kt,"animation-duration":Kt,"background-position":Yt,"background-position-x":Yt,"background-position-y":Yt,"background-size":Yt,border:Yt,"border-bottom":Yt,"border-bottom-left-radius":Yt,"border-bottom-right-radius":Yt,"border-bottom-width":Yt,"border-left":Yt,"border-left-width":Yt,"border-radius":Yt,"border-right":Yt,"border-right-width":Yt,"border-top":Yt,"border-top-left-radius":Yt,"border-top-right-radius":Yt,"border-top-width":Yt,"border-width":Yt,"border-block":Yt,"border-block-end":Yt,"border-block-end-width":Yt,"border-block-start":Yt,"border-block-start-width":Yt,"border-block-width":Yt,"border-inline":Yt,"border-inline-end":Yt,"border-inline-end-width":Yt,"border-inline-start":Yt,"border-inline-start-width":Yt,"border-inline-width":Yt,"border-start-start-radius":Yt,"border-start-end-radius":Yt,"border-end-start-radius":Yt,"border-end-end-radius":Yt,margin:Yt,"margin-bottom":Yt,"margin-left":Yt,"margin-right":Yt,"margin-top":Yt,"margin-block":Yt,"margin-block-end":Yt,"margin-block-start":Yt,"margin-inline":Yt,"margin-inline-end":Yt,"margin-inline-start":Yt,padding:Yt,"padding-bottom":Yt,"padding-left":Yt,"padding-right":Yt,"padding-top":Yt,"padding-block":Yt,"padding-block-end":Yt,"padding-block-start":Yt,"padding-inline":Yt,"padding-inline-end":Yt,"padding-inline-start":Yt,"mask-position-x":Yt,"mask-position-y":Yt,"mask-size":Yt,height:Yt,width:Yt,"min-height":Yt,"max-height":Yt,"min-width":Yt,"max-width":Yt,bottom:Yt,left:Yt,top:Yt,right:Yt,inset:Yt,"inset-block":Yt,"inset-block-end":Yt,"inset-block-start":Yt,"inset-inline":Yt,"inset-inline-end":Yt,"inset-inline-start":Yt,"box-shadow":Yt,"text-shadow":Yt,"column-gap":Yt,"column-rule":Yt,"column-rule-width":Yt,"column-width":Yt,"font-size":Yt,"font-size-delta":Yt,"letter-spacing":Yt,"text-decoration-thickness":Yt,"text-indent":Yt,"text-stroke":Yt,"text-stroke-width":Yt,"word-spacing":Yt,motion:Yt,"motion-offset":Yt,outline:Yt,"outline-offset":Yt,"outline-width":Yt,perspective:Yt,"perspective-origin-x":Jt,"perspective-origin-y":Jt,"transform-origin":Jt,"transform-origin-x":Jt,"transform-origin-y":Jt,"transform-origin-z":Jt,"transition-delay":Kt,"transition-duration":Kt,"vertical-align":Yt,"flex-basis":Yt,"shape-margin":Yt,size:Yt,gap:Yt,grid:Yt,"grid-gap":Yt,"row-gap":Yt,"grid-row-gap":Yt,"grid-column-gap":Yt,"grid-template-rows":Yt,"grid-template-columns":Yt,"grid-auto-rows":Yt,"grid-auto-columns":Yt,"box-shadow-x":Yt,"box-shadow-y":Yt,"box-shadow-blur":Yt,"box-shadow-spread":Yt,"font-line-height":Yt,"text-shadow-x":Yt,"text-shadow-y":Yt,"text-shadow-blur":Yt});function te(t,e,i){if(null\x3d\x3de)return e;if(Array.isArray(e))for(var n\x3d0;n\x3ce.length;n++)e[n]\x3dte(t,e[n],i);else if("object"\x3d\x3dtypeof e)if("fallbacks"\x3d\x3d\x3dt)for(var r in e)e[r]\x3dte(r,e[r],i);else for(var o in e)e[o]\x3dte(t+"-"+o,e[o],i);else if("number"\x3d\x3dtypeof e\x26\x26!1\x3d\x3d\x3disNaN(e)){var s\x3di[t]||Zt[t];return!s||0\x3d\x3d\x3de\x26\x26s\x3d\x3d\x3dYt?e.toString():"function"\x3d\x3dtypeof s?s(e).toString():""+e+s}return e}function ee(t){void 0\x3d\x3d\x3dt\x26\x26(t\x3d{});var e\x3d$t(t);return{onProcessStyle:function(t,i){if("style"!\x3d\x3di.type)return t;for(var n in t)t[n]\x3dte(n,t[n],e);return t},onChangeValue:function(t,i){return te(i,t,e)}}}var ie\x3d{"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},ne\x3d{position:!0,size:!0},re\x3d{padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},oe\x3d{border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function se(t,e,i,n){return null\x3d\x3di[e]?t:0\x3d\x3d\x3dt.length?[]:Array.isArray(t[0])?se(t[0],e,i,n):"object"\x3d\x3dtypeof t[0]?function(t,e,i){return t.map((function(t){return ae(t,e,i,!1,!0)}))}(t,e,n):[t]}function ae(t,e,i,n,r){if(!re[e]\x26\x26!oe[e])return[];var o\x3d[];if(oe[e]\x26\x26(t\x3dfunction(t,e,i,n){for(var r in i){var o\x3di[r];if(void 0!\x3d\x3dt[r]\x26\x26(n||!e.prop(o))){var s,a\x3dce((s\x3d{},s[o]\x3dt[r],s),e)[o];n?e.style.fallbacks[o]\x3da:e.style[o]\x3da}delete t[r]}return t}(t,i,oe[e],n)),Object.keys(t).length)for(var s in re[e])t[s]?Array.isArray(t[s])?o.push(null\x3d\x3d\x3dne[s]?t[s]:t[s].join(" ")):o.push(t[s]):null!\x3dre[e][s]\x26\x26o.push(re[e][s]);return!o.length||r?o:[o]}function ce(t,e,i){for(var n in t){var r\x3dt[n];if(Array.isArray(r)){if(!Array.isArray(r[0])){if("fallbacks"\x3d\x3d\x3dn){for(var o\x3d0;o\x3ct.fallbacks.length;o++)t.fallbacks[o]\x3dce(t.fallbacks[o],e,!0);continue}t[n]\x3dse(r,n,ie,e),t[n].length||delete t[n]}}else if("object"\x3d\x3dtypeof r){if("fallbacks"\x3d\x3d\x3dn){t.fallbacks\x3dce(t.fallbacks,e,!0);continue}t[n]\x3dae(r,n,e,i),t[n].length||delete t[n]}else""\x3d\x3d\x3dt[n]\x26\x26delete t[n]}return t}function ue(t,e){(null\x3d\x3de||e\x3et.length)\x26\x26(e\x3dt.length);for(var i\x3d0,n\x3dnew Array(e);i\x3ce;i++)n[i]\x3dt[i];return n}function le(t){return function(t){if(Array.isArray(t))return ue(t)}(t)||function(t){if("undefined"!\x3dtypeof Symbol\x26\x26null!\x3dt[Symbol.iterator]||null!\x3dt["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"\x3d\x3dtypeof t)return ue(t,e);var i\x3dObject.prototype.toString.call(t).slice(8,-1);return"Object"\x3d\x3d\x3di\x26\x26t.constructor\x26\x26(i\x3dt.constructor.name),"Map"\x3d\x3d\x3di||"Set"\x3d\x3d\x3di?Array.from(t):"Arguments"\x3d\x3d\x3di||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ue(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var he\x3d"",de\x3d"",pe\x3d"",fe\x3d"",me\x3dp\x26\x26"ontouchstart"in document.documentElement;if(p){var ge\x3d{Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ve\x3ddocument.createElement("p").style;for(var ye in ge)if(ye+"Transform"in ve){he\x3dye,de\x3dge[ye];break}"Webkit"\x3d\x3d\x3dhe\x26\x26"msHyphens"in ve\x26\x26(he\x3d"ms",de\x3dge.ms,fe\x3d"edge"),"Webkit"\x3d\x3d\x3dhe\x26\x26"-apple-trailing-word"in ve\x26\x26(pe\x3d"apple")}var xe\x3dhe,we\x3dde,Ce\x3dpe,_e\x3dfe,Ee\x3dme;var be\x3d{noPrefill:["appearance"],supportedProperty:function(t){return"appearance"\x3d\x3d\x3dt\x26\x26("ms"\x3d\x3d\x3dxe?"-webkit-"+t:we+t)}},Re\x3d{noPrefill:["color-adjust"],supportedProperty:function(t){return"color-adjust"\x3d\x3d\x3dt\x26\x26("Webkit"\x3d\x3d\x3dxe?we+"print-"+t:t)}},qe\x3d/[-\\s]+(.)?/g;function ke(t,e){return e?e.toUpperCase():""}function Ne(t){return t.replace(qe,ke)}function Te(t){return Ne("-"+t)}var Se,Le\x3d{noPrefill:["mask"],supportedProperty:function(t,e){if(!/^mask/.test(t))return!1;if("Webkit"\x3d\x3d\x3dxe){if(Ne("mask-image")in e)return t;if(xe+Te("mask-image")in e)return we+t}return t}},Ae\x3d{noPrefill:["text-orientation"],supportedProperty:function(t){return"text-orientation"\x3d\x3d\x3dt\x26\x26("apple"!\x3d\x3dCe||Ee?t:we+t)}},Pe\x3d{noPrefill:["transform"],supportedProperty:function(t,e,i){return"transform"\x3d\x3d\x3dt\x26\x26(i.transform?t:we+t)}},De\x3d{noPrefill:["transition"],supportedProperty:function(t,e,i){return"transition"\x3d\x3d\x3dt\x26\x26(i.transition?t:we+t)}},Be\x3d{noPrefill:["writing-mode"],supportedProperty:function(t){return"writing-mode"\x3d\x3d\x3dt\x26\x26("Webkit"\x3d\x3d\x3dxe||"ms"\x3d\x3d\x3dxe\x26\x26"edge"!\x3d\x3d_e?we+t:t)}},Me\x3d{noPrefill:["user-select"],supportedProperty:function(t){return"user-select"\x3d\x3d\x3dt\x26\x26("Moz"\x3d\x3d\x3dxe||"ms"\x3d\x3d\x3dxe||"apple"\x3d\x3d\x3dCe?we+t:t)}},Oe\x3d{supportedProperty:function(t,e){return!!/^break-/.test(t)\x26\x26("Webkit"\x3d\x3d\x3dxe?"WebkitColumn"+Te(t)in e\x26\x26we+"column-"+t:"Moz"\x3d\x3d\x3dxe\x26\x26("page"+Te(t)in e\x26\x26"page-"+t))}},Ie\x3d{supportedProperty:function(t,e){if(!/^(border|margin|padding)-inline/.test(t))return!1;if("Moz"\x3d\x3d\x3dxe)return t;var i\x3dt.replace("-inline","");return xe+Te(i)in e\x26\x26we+i}},Fe\x3d{supportedProperty:function(t,e){return Ne(t)in e\x26\x26t}},Ue\x3d{supportedProperty:function(t,e){var i\x3dTe(t);return"-"\x3d\x3d\x3dt[0]||"-"\x3d\x3d\x3dt[0]\x26\x26"-"\x3d\x3d\x3dt[1]?t:xe+i in e?we+t:"Webkit"!\x3d\x3dxe\x26\x26"Webkit"+i in e\x26\x26"-webkit-"+t}},Ve\x3d{supportedProperty:function(t){return"scroll-snap"\x3d\x3d\x3dt.substring(0,11)\x26\x26("ms"\x3d\x3d\x3dxe?""+we+t:t)}},He\x3d{supportedProperty:function(t){return"overscroll-behavior"\x3d\x3d\x3dt\x26\x26("ms"\x3d\x3d\x3dxe?we+"scroll-chaining":t)}},je\x3d{"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},We\x3d{supportedProperty:function(t,e){var i\x3dje[t];return!!i\x26\x26(xe+Te(i)in e\x26\x26we+i)}},ze\x3d{flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ge\x3dObject.keys(ze),Xe\x3dfunction(t){return we+t},Qe\x3d[be,Re,Le,Ae,Pe,De,Be,Me,Oe,Ie,Fe,Ue,Ve,He,We,{supportedProperty:function(t,e,i){var n\x3di.multiple;if(Ge.indexOf(t)\x3e-1){var r\x3dze[t];if(!Array.isArray(r))return xe+Te(r)in e\x26\x26we+r;if(!n)return!1;for(var o\x3d0;o\x3cr.length;o++)if(!(xe+Te(r[0])in e))return!1;return r.map(Xe)}return!1}}],Ye\x3dQe.filter((function(t){return t.supportedProperty})).map((function(t){return t.supportedProperty})),Ke\x3dQe.filter((function(t){return t.noPrefill})).reduce((function(t,e){return t.push.apply(t,le(e.noPrefill)),t}),[]),Je\x3d{};if(p){Se\x3ddocument.createElement("p");var $e\x3dwindow.getComputedStyle(document.documentElement,"");for(var Ze in $e)isNaN(Ze)||(Je[$e[Ze]]\x3d$e[Ze]);Ke.forEach((function(t){return delete Je[t]}))}function ti(t,e){if(void 0\x3d\x3d\x3de\x26\x26(e\x3d{}),!Se)return t;if(null!\x3dJe[t])return Je[t];"transition"!\x3d\x3dt\x26\x26"transform"!\x3d\x3dt||(e[t]\x3dt in Se.style);for(var i\x3d0;i\x3cYe.length\x26\x26(Je[t]\x3dYe[i](t,Se.style,e),!Je[t]);i++);try{Se.style[t]\x3d""}catch(t){return!1}return Je[t]}var ei,ii\x3d{},ni\x3d{transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},ri\x3d/(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g;function oi(t,e,i){if("var"\x3d\x3d\x3de)return"var";if("all"\x3d\x3d\x3de)return"all";if("all"\x3d\x3d\x3di)return", all";var n\x3de?ti(e):", "+ti(i);return n||(e||i)}function si(t,e){var i\x3de;if(!ei||"content"\x3d\x3d\x3dt)return e;if("string"!\x3dtypeof i||!isNaN(parseInt(i,10)))return i;var n\x3dt+i;if(null!\x3dii[n])return ii[n];try{ei.style[t]\x3di}catch(t){return ii[n]\x3d!1,!1}if(ni[t])i\x3di.replace(ri,oi);else if(""\x3d\x3d\x3dei.style[t]\x26\x26("-ms-flex"\x3d\x3d\x3d(i\x3dwe+i)\x26\x26(ei.style[t]\x3d"-ms-flexbox"),ei.style[t]\x3di,""\x3d\x3d\x3dei.style[t]))return ii[n]\x3d!1,!1;return ei.style[t]\x3d"",ii[n]\x3di,ii[n]}function ai(){function t(e){for(var i in e){var n\x3de[i];if("fallbacks"\x3d\x3d\x3di\x26\x26Array.isArray(n))e[i]\x3dn.map(t);else{var r\x3d!1,o\x3dti(i);o\x26\x26o!\x3d\x3di\x26\x26(r\x3d!0);var s\x3d!1,a\x3dsi(o,x(n));a\x26\x26a!\x3d\x3dn\x26\x26(s\x3d!0),(r||s)\x26\x26(r\x26\x26delete e[i],e[o||i]\x3da||n)}}return e}return{onProcessRule:function(t){if("keyframes"\x3d\x3d\x3dt.type){var e\x3dt;e.at\x3dfunction(t){return"-"\x3d\x3d\x3dt[1]||"ms"\x3d\x3d\x3dxe?t:"@"+we+"keyframes"+t.substr(10)}(e.at)}},onProcessStyle:function(e,i){return"style"!\x3d\x3di.type?e:t(e)},onChangeValue:function(t,e){return si(e,x(t))||t}}}p\x26\x26(ei\x3ddocument.createElement("p"));var ci,ui,li,hi\x3dCt();hi.setup((void 0\x3d\x3d\x3dci\x26\x26(ci\x3d{}),{plugins:[{onCreateRule:function(t,e,i){if("function"!\x3dtypeof e)return null;var n\x3dv(t,{},i);return n[Rt]\x3de,n},onProcessStyle:function(t,e){if(bt in e||Rt in e)return t;var i\x3d{};for(var n in t){var r\x3dt[n];"function"\x3d\x3dtypeof r\x26\x26(delete t[n],i[n]\x3dr)}return e[bt]\x3di,t},onUpdate:function(t,e,i,n){var r\x3de,o\x3dr[Rt];o\x26\x26(r.style\x3do(t)||{});var s\x3dr[bt];if(s)for(var a in s)r.prop(a,s[a](t),n)}},(li\x3dci.observable,{onCreateRule:function(t,e,i){if(!kt(e))return null;var n\x3de,r\x3dv(t,{},i);return n.subscribe((function(t){for(var e in t)r.prop(e,t[e],li)})),r},onProcessRule:function(t){if(!t||"style"\x3d\x3d\x3dt.type){var e\x3dt,i\x3de.style,n\x3dfunction(t){var n\x3di[t];if(!kt(n))return"continue";delete i[t],n.subscribe({next:function(i){e.prop(t,i,li)}})};for(var r in i)n(r)}}}),{onProcessRule:Tt},Bt(),{onProcessStyle:function(t,e,i){return"extend"in t?It(t,e,i):t},onChangeValue:function(t,e,i){if("extend"!\x3d\x3de)return t;if(null\x3d\x3dt||!1\x3d\x3d\x3dt){for(var n in i[Ot])i.prop(n,null);return i[Ot]\x3dnull,null}if("object"\x3d\x3dtypeof t){for(var r in t)i.prop(r,t[r]);i[Ot]\x3dt}return null}},Ht(),{onProcessStyle:function(t,e){return"composes"in t?(function t(e,i){if(!i)return!0;if(Array.isArray(i)){for(var n\x3d0;n\x3ci.length;n++)if(!t(e,i[n]))return!1;return!0}if(i.indexOf(" ")\x3e-1)return t(e,i.split(" "));var r\x3de.options.parent;if("$"\x3d\x3d\x3di[0]){var o\x3dr.getRule(i.substr(1));return!!o\x26\x26o!\x3d\x3de\x26\x26(r.classes[e.key]+\x3d" "+r.classes[o.key],!0)}return r.classes[e.key]+\x3d" "+i,!0}(e,t.composes),delete t.composes,t):t}},{onProcessStyle:function(t){if(Array.isArray(t)){for(var e\x3d0;e\x3ct.length;e++)t[e]\x3dQt(t[e]);return t}return Qt(t)},onChangeValue:function(t,e,i){if(0\x3d\x3d\x3de.indexOf("--"))return t;var n\x3dXt(e);return e\x3d\x3d\x3dn?t:(i.prop(n,t),null)}},ee(ci.defaultUnit),{onProcessStyle:function(t,e){if(!t||"style"!\x3d\x3de.type)return t;if(Array.isArray(t)){for(var i\x3d0;i\x3ct.length;i++)t[i]\x3dce(t[i],e);return t}return ce(t,e)}},ai(),(ui\x3dfunction(t,e){return t.length\x3d\x3d\x3de.length?t\x3ee?1:-1:t.length-e.length},{onProcessStyle:function(t,e){if("style"!\x3d\x3de.type)return t;for(var i\x3d{},n\x3dObject.keys(t).sort(ui),r\x3d0;r\x3cn.length;r++)i[n[r]]\x3dt[n[r]];return i}})]}));var di\x3d"https://acs-cdn.prd-prsn.com/tdxclient/assets/fonts",pi\x3d{"@font-face":[{fontFamily:"STIXGeneralAc",src:\'url(" \'.concat(di,\'/STIXGeneral-Regular.eot"), url(" \').concat(di,\'/STIXGeneral-Regular.otf") format("opentype"), url(" \').concat(di,\'/STIXGeneral-Regular.woff") format("woff"), url(" \').concat(di,\'/STIXGeneral-Regular.ttf") format("truetype")\')},{fontFamily:"STIXGeneralAc",fontWeight:"bold",src:\'url(" \'.concat(di,\'/STIXGeneral-Bold.eot"), url(" \').concat(di,\'/STIXGeneral-Bold.otf") format("opentype"), url(" \').concat(di,\'/STIXGeneral-Bold.woff") format("woff"), url(" \').concat(di,\'/STIXGeneral-Bold.ttf") format("truetype")\')},{fontFamily:"STIXGeneralAc",fontStyle:"italic",src:\'url(" \'.concat(di,\'/STIXGeneral-Italic.eot"), url(" \').concat(di,\'/STIXGeneral-Italic.otf") format("opentype"), url(" \').concat(di,\'/STIXGeneral-Italic.woff") format("woff"), url(" \').concat(di,\'/STIXGeneral-Italic.ttf") format("truetype")\')},{fontFamily:"STIXGeneralAc",fontWeight:"bold",fontStyle:"italic",src:\'url(" \'.concat(di,\'/STIXGeneral-BoldItalic.eot"), url(" \').concat(di,\'/STIXGeneral-BoldItalic.otf") format("opentype"), url(" \').concat(di,\'/STIXGeneral-BoldItalic.woff") format("woff"), url(" \').concat(di,\'/STIXGeneral-BoldItalic.ttf") format("truetype")\')},{fontFamily:"STIXIntegralsUpAc",src:\'url(" \'.concat(di,\'/STIXIntegralsUp-Regular.eot"), url(" \').concat(di,\'/STIXIntegralsUp-Regular.woff") format("woff")\')},{fontFamily:"STIXIntegralsUpAc",src:\'url(" \'.concat(di,\'/STIXIntegralsUp-Bold.eot"), url(" \').concat(di,\'/STIXIntegralsUp-Bold.woff") format("woff")\'),fontWeight:"bold",fontStyle:"normal"}],eqAccessibleAnnouncer:{position:"relative",border:"0px",color:"transparent",overflow:"hidden",height:"0px",width:"1px"},"assessments-components":h({"box-sizing":"border-box","\x26:before, \x26:after":{"box-sizing":"border-box"},"\x26 *, \x26 *:before, \x26 *:after":{"box-sizing":"border-box"}},{"\x26 [hidden]":{display:"none"},"\x26 b, \x26 strong":{fontWeight:"bold"},"\x26 dfn":{fontStyle:"italic"},"\x26 small":{fontSize:"80%"},"\x26 sub, \x26 sup":{fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},"\x26 sup":{top:"-0.5em"},"\x26 sub":{bottom:"-0.25em"},"\x26 img":{border:"0"},"\x26 svg:not(:root)":{overflow:"hidden"},"\x26 figure":{margin:"0"},"\x26 table":{borderCollapse:"collapse",borderSpacing:"0","\x26.nowrap td, \x26.nowrap th":{whiteSpace:"nowrap"},"\x26.valign-middle td, \x26.valign-middle th":{verticalAlign:"middle"}},"\x26 .nowrap":{whiteSpace:"nowrap"},"\x26 .valign-middle":{verticalAlign:"middle"},"\x26 .align-center":{textAlign:"center"},"\x26 .align-right":{textAlign:"right"},"\x26 .fullwidth":{width:"100%"}},{"\x26.eqEditor textarea":{backgroundColor:"blue"},"\x26.eqEditor .hiddenInputContainer":{background:"#f00",position:"absolute",zIndex:"3",overflow:"hidden",opacity:"0",filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d0)",msFilter:\'"progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d0)"\',fallbacks:[{filter:"alpha(opacity\x3d0)"}]},"\x26.eqEditor .hiddenInputContainer .focusNode":{border:"none",outline:"0",position:"absolute",fontSize:"16px",top:"-30px",padding:"0px",margin:"0",width:"1px",display:"block",color:"red"},"\x26.eqEditor .hiddenInputContainer .focusNode.ios":{width:"1px",top:"-2px",left:"-2px",height:"1px",fontSize:"1px",color:"transparent"},"\x26.eqEditor .hiddenInputContainer .focusNode.android":{top:"0px",left:"-2px",height:"1px",width:"1px"},"\x26.eqEditor.disabled":{backgroundColor:"".concat("rgb(217,226,241)"," !important"),borderColor:"rgb(217,226,241)"},"\x26.eqEditor.disabled.incorrect .eqDocument:after":{content:\'""\',position:"absolute",borderTop:"6px solid ".concat("rgb(191,35,36)"),borderLeft:"6px solid transparent",width:"0px",height:"0px",right:"-3px",top:"-3px"},"\x26.eqEditor.inactive":{backgroundColor:"".concat("rgba(127,127,127,0.5)"," !important"),opacity:"0.5"},"div.eqLabel\x26":{position:"relative",backgroundColor:"transparent !important"},"span.eqLabel\x26":{backgroundColor:"transparent !important"},"\x26.eqLabel":{lineHeight:"0 !important",display:"inline-block"},"\x26 .eqDocument":{display:"inline-block",lineHeight:"0 !important",whiteSpace:"pre",paddingTop:"0px",paddingBottom:"0px",position:"relative",borderSpacing:"0"},"\x26 .eqDocument *":{borderColor:"black",margin:"0",padding:"0",paddingTop:"0px",lineHeight:"".concat("1.2"," !important")},"\x26 .eqDocument .eqRow":{lineHeight:"0 !important",fallbacks:[{lineHeight:"".concat("1.2"," !important")}],position:"relative"},"\x26 .eqDocument .eqRow.empty":{lineHeight:"".concat("1.2"," !important")},"\x26 .xlFillin span":{lineHeight:"normal !important"},"\x26 .xlFillin .eqDocument *":{lineHeight:"".concat("1.2"," !important")},"\x26 .eqAccessibleLabel":{position:"absolute !important",height:"1px !important",width:"1px !important",padding:"0 !important",clip:"rect(0 0 0 0) !important",clipPath:"inset(50%) !important",overflow:"hidden !important",whiteSpace:"nowrap !important"},"\x26 .eqDocument span, \x26 .eqDocument i, \x26 .eqDocument b":{display:"inline-block",webkitTouchCallout:"none",webkitUserSelect:"none",khtmlUserSelect:"none",mozUserSelect:"none",msUserSelect:"none",userSelect:"none"},"\x26 .eqDocument .eqRow \x3e span, \x26 .eqDocument .eqRow \x3e i, \x26 .eqDocument .eqRow \x3e b":{position:"relative"},"\x26 .eqDocument .eqMatrix":{display:"inline-table",verticalAlign:"middle",margin:"0.15em 0.1em 0.05em 0.1em",borderCollapse:"separate"},"\x26 .eqDocument .eqCheck":{display:"inline-table",verticalAlign:"middle",margin:"1px"},"\x26 .eqDocument .eqCheck \x3e tr \x3e td":{paddingRight:"0.1em",paddingLeft:"0.1em",verticalAlign:"baseline"},"\x26 .eqDocument .eqCheck \x3e tr:first-child":{borderBottom:"1px solid"},"\x26 .eqDocument .eqCheck \x3e tr \x3e td:first-child":{borderRight:"1px solid"},"\x26 .eqDocument .eqCheck \x3e tr:first-child \x3e td":{border:"none"},"\x26 .eqDocument .eqMatrix \x3e tr \x3e td":{padding:"0.33em"},"\x26 .eqDocument .eqRight":{textAlign:"right"},"\x26 .eqDocument .eqLeft":{textAlign:"left"},"\x26 .eqDocument .eqCenter":{textAlign:"center"},"\x26 .eqDocument .eqTab":{border:"1px solid"},"\x26 .eqDocument .eqTab \x3e tr:first-child \x3e td, \x26 .eqDocument .eqTab \x3e tr:first-child \x3e th":{borderBottom:"1px solid"},"\x26 .eqDocument .eqTab \x3e tr \x3e td":{borderRight:"1px solid"},"\x26 .eqDocument .eqTab \x3e tr \x3e td:last-child":{borderRight:"none"},"\x26 .eqDocument .eqColumn \x3e tr:first-child \x3e td":{borderBottom:"1px solid"},"\x26 .eqDocument .eqColumn \x3e tr \x3e td":{borderRight:"1px solid"},"\x26 .eqDocument .eqColumn \x3e tr \x3e td:last-child":{borderRight:"none"},"\x26 .eqDocument .eqTableRow \x3e tr \x3e td":{borderBottom:"1px solid"},"\x26 .eqDocument .eqTableRow \x3e tr:last-child \x3e td":{borderBottom:"none"},"\x26 .eqDocument .eqTableRow \x3e tr \x3e td:first-child":{borderRight:"1px solid"},"\x26 .eqDocument .eqTable \x3e tr:first-child \x3e td, \x26 .eqDocument .eqTable \x3e tr:first-child \x3e th":{borderBottom:"1px solid"},"\x26 .eqDocument .eqTable \x3e tr \x3e td:first-child":{borderRight:"1px solid"},"\x26 .eqDocument .eqLeq":{borderLeft:"1px solid",borderBottom:"1px solid"},"\x26 .eqDocument .eqDetx":{borderLeft:"1px solid",borderRight:"1px solid"},"\x26 .eqDocument .eqMatx th:first-child":{borderLeft:"1px solid",borderTop:"1px solid",borderBottom:"1px solid",padding:"2px"},"\x26 .eqDocument .eqMatx th:last-child":{borderRight:"1px solid",borderTop:"1px solid",borderBottom:"1px solid",padding:"2px"},"\x26 .eqDocument .eqAbs":{marginTop:"2px"},"\x26 .eqDocument .eqAbs .eqAbsRow":{marginTop:"-2px"},"\x26 .eqDocument .eqNorm":{marginTop:"2px"},"\x26 .eqDocument .eqNorm .eqNormBody":{display:"inline-block"},"\x26 .eqDocument .eqNorm .eqNormBody \x3e .eqRow":{marginTop:"-2px"},"\x26 .eqDocument .eqAugment \x3e tr \x3e td:last-child":{borderLeft:"1px solid"},"\x26 .eqDocument .nonItalicRoman span":{"font-style":"normal"},"\x26 .eqDocument .eqTab table.eqMatrix \x3e tr \x3e td, \x26 .eqDocument .eqColumn table.eqMatrix \x3e tr \x3e td, \x26 .eqDocument .eqTable table.eqMatrix \x3e tr \x3e td, \x26 .eqDocument .eqTableRow table.eqMatrix \x3e tr \x3e td":{borderRight:"none",borderBottom:"none"},"\x26.eqEditor":{display:"inline-block",border:"solid ".concat("rgb(51,102,204)"," 1px"),padding:"1px 2px 1px 2px",margin:"1px 1px 1px 1px",lineHeight:"1.25 !important",msTouchAction:"none",position:"relative"},"\x26 .eqDocument .eqEditor":{margin:"0px"},"\x26 .eqOverUnder .eqEditor":{margin:"0 2px"},"\x26.eqEditor.focused":{boxShadow:"0 0 2px 1px ".concat("rgb(51,102,204)"),outline:"none"},"\x26.eqEditor.focused .eqDocument .current":{backgroundColor:"#BFE0FF"},"\x26.eqEditor .eqDocument .eqRow.allspaces":{backgroundColor:"#BFE0FF"},"\x26.eqEditor.focused .eqDocument .selected":{backgroundColor:"#6090FF"},"\x26.eqEditor.oskFocused":{boxShadow:"0 0 2px 1px ".concat("rgb(51,102,204)"),outline:"none"},"\x26.eqEditor.inlineEditor":{border:"none"},"\x26.eqEditor.inlineEditor.eqEmpty":{border:"solid ".concat("rgb(51,102,204)"," 1px")},"\x26.eqEditor.inlineEditor.focused":{border:"thin ".concat("rgb(51,102,204)"),backgroundColor:"lightyellow",outline:"thin",outlineColor:"rgb(51,102,204)"},"\x26.eqEditor .eqCaret":{visibility:"hidden",display:"inline-block",borderLeft:"1px solid ".concat("rgb(50,100,220)"),marginRight:"-1px",position:"relative",width:"0px",zIndex:"1"},"\x26.eqEditor.transformEditor":{border:"none"},"\x26.eqEditor.transformEditor.focused":{boxShadow:"none",outline:"none"},"\x26.eqEditor.caretVisible .eqCaret":{visibility:"visible"},"\x26.eqEditor.caretVisible .eqCaret.blink":{visibility:"hidden"},"\x26.eqEditor .empty, \x26 .showEmptyBoxes .empty, \x26 .showEmptyBoxes .allspaces":{background:"none repeat scroll 0 0 ".concat("#BFE0FF")},"\x26.eqEditor .empty:after, \x26 .showEmptyBoxes .empty:after":{content:\'"m"\',visibility:"hidden"},"\x26 .eqDocument .eqSpace":{width:"0.30em"},"\x26.eqEditor .empty.eqPrompt:after":{content:"attr(data-prompt)",visibility:"visible",color:"#999",fontStyle:"italic"},"\x26.eqEditor .empty.eqPromptAcs:after":{content:"attr(data-prompt)",visibility:"visible",color:"#999"},"\x26.eqEditor .eqDocument.empty":{backgroundColor:"transparent"},"\x26 .eqDocument .eqPlaceHolder .placeholder-text":{color:"red"},"\x26 .eqDocument .eqDivide":{padding:"0.1em 0.1em 0 0.1em",textAlign:"center",verticalAlign:"-0.5em"},"\x26 .eqDocument .eqDivide.small":{fontSize:"85%"},"\x26 .eqDocument .eqDivide .eqNumerator, \x26 .eqDocument .eqDivide .eqDenominator":{display:"table",marginLeft:"auto",marginRight:"auto",borderCollapse:"separate"},"\x26 .eqDocument .eqDivide .eqNumerator":{paddingBottom:"0.2em",paddingLeft:"0.1em",paddingRight:"0.1em"},"\x26 .eqDocument .eqDivide .eqDenominator":{paddingBottom:"0.1em",paddingTop:"0.1em",paddingLeft:"0.1em",paddingRight:"0.1em",borderTop:"1px solid",float:"right",width:"100%"},"\x26.eqEditor .eqNumerator.empty, \x26.eqEditor .eqDenominator.empty":{display:"table",marginLeft:"auto",marginRight:"auto"},"\x26 .eqDocument .eqOverUnder":{textAlign:"center"},"\x26 .eqDocument .eqOver, \x26 .eqDocument .eqUnder":{fontSize:"85%",whiteSpace:"nowrap"},"\x26 .eqDocument .eqOverUnderBase":{whiteSpace:"nowrap",marginBottom:"0.1em"},"\x26 .eqDocument .eqUnder":{float:"right"},"\x26 .eqDocument .eqBar":{display:"inline-block",position:"relative"},"\x26 .eqDocument .eqBar svg":{pointerEvents:"none"},"\x26 .eqDocument .eqBar.eqBarMargin":{marginLeft:"1px",marginRight:"1px"},"\x26 .eqDocument .eqBar.eqBarMargin \x3e .eqRow":{marginLeft:"-1px",marginRight:"-1px"},"\x26 .eqDocument .eqCis":{position:"relative"},"\x26 .eqDocument .eqLDiv":{position:"relative",marginLeft:"0.15em",marginRight:"0.15em"},"\x26 .eqDocument .eqLDivContent":{position:"relative",paddingLeft:"0.3em",paddingTop:"0.15em"},"\x26 .eqDocument .eqLDivSymbol":{position:"absolute",top:"0px",left:"0px"},"\x26 .eqDocument .eqInt":{textAlign:"center",position:"relative"},"\x26 .eqDocument .eqSum":{textAlign:"center",position:"relative"},"\x26 .eqDocument .eqProductBase, \x26 .eqDocument .eqSumBase":{fontFamily:"STIXGeneralAc",fontSize:"140%",marginRight:"0.1em",marginBottom:"0.1em"},"\x26 .eqDocument .eqIntBase":{fontSize:"200%",fontFamily:"STIXIntegralsUp",marginBottom:"-0.1em",marginTop:"-0.1em",marginRight:"0.075em",lineHeight:"normal !important"},"\x26 .eqDocument .eqIntUpper, \x26 .eqDocument .eqIntLower":{fontSize:"85%",position:"absolute",left:"0px",paddingLeft:"0.2em",paddingRight:"0.25em"},"\x26 .eqDocument .eqIntUpper":{top:"0px"},"\x26 .eqDocument .eqIntLower":{bottom:"0px",marginTop:"0.1em"},"\x26 .eqDocument .eqConj":{fontWeight:"bold"},"\x26 .eqDocument .eqConj .eqConjAst":{verticalAlign:"top"},"\x26 .eqDocument .eqPhasor":{position:"relative"},"\x26 .eqDocument .eqPhasor \x3e .eqRow":{position:"relative",zIndex:"1"},"\x26 .eqDocument .eqPhasor .eqPhasorSymbol":{verticalAlign:"bottom",position:"absolute"},"\x26 .eqDocument .eqOp":{paddingLeft:"0.2em",paddingRight:"0.2em"},"\x26 .eqDocument .opDivide":{paddingLeft:"0.1em",paddingRight:"0.1em"},"\x26 .eqDocument .eqSuperscript, \x26 .eqDocument .eqSubscript":{fontSize:"85%",marginLeft:"0px",marginRight:"0.1em"},"\x26 .eqDocument .eqSupSub \x3e .eqSubscript":{margin:"1px 0px 0px 0px",paddingRight:"0.1em"},"\x26 .eqDocument .eqSupSub \x3e .eqSuperscript":{margin:"0px 0px 1px 0px",paddingRight:"0.1em"},"\x26 .adjustScripts \x3e .eqSuperscript":{verticalAlign:"0px !important"},"\x26 .eqDocument .eqSuperscript":{verticalAlign:"0.5em","\x26 .eqOp:first-child":{paddingLeft:"0"},"\x26 .eqOp:last-child":{paddingRight:"0"}},"\x26 .eqDocument .eqSubscript":{verticalAlign:"-0.4em",paddingBottom:"0.1em"},"\x26 .eqDocument .eqSupContent":{verticalAlign:"text-bottom"},"\x26 .eqDocument .eqSubContent":{verticalAlign:"text-top"},"\x26 .eqDocument .eqSupSubStack":{paddingRight:"0.2em",paddingLeft:"0.2em",position:"relative"},"\x26 .eqDocument .eqSupSubStack \x3e .eqSubscript":{position:"absolute",verticalAlign:"-0.6em",padding:"0px !important"},"\x26 .eqDocument .eqSupSubStack \x3e .eqSuperscript":{position:"relative"},"\x26.eqEditor .eqDocument .eqParen":{marginBottom:"0.1em"},"\x26 .eqDocument .eqParenSvg":{position:"relative",verticalAlign:"top"},"\x26 .eqDocument .eqParenSvg.left":{marginLeft:"2px"},"\x26 .eqDocument .eqParenSvg.right":{marginRight:"2px"},"\x26 .eqDocument .eqParenUnmatched":{color:"#ff0000"},"\x26 .eqDocument .eqSqrt":{padding:"0px 1px 1px 1px"},"\x26 .eqDocument .eqSqrt .radical-symbol":{position:"absolute",textAlign:"left"},"\x26 .eqDocument .eqSqrt .radicand-holder":{display:"inline-block"},"\x26 .eqDocument .eqSqrt .eqRadicand.empty:after":{content:\'"d"\',visibility:"hidden"},"\x26 .eqDocument .eqSqrt .eqRadicand":{marginTop:"3px",marginRight:"0.1em",marginLeft:"0.75em",position:"relative"},"\x26 .eqDocument .eqSqrt .eqRoot":{fontSize:"85%",verticalAlign:"text-bottom",marginRight:"-0.375em",marginBottom:"0.75em"},"\x26 .eqDocument .txtFunc":{fontWeight:"bold",paddingRight:"0.2em",paddingLeft:"0.2em"},"\x26 .eqDocument .txtFunc:first-child":{paddingLeft:"0em"},"\x26 .eqDocument .txtFunc:last-child":{paddingRight:"0em"},"\x26 .eqDocument .txtFunc.italic":{fontStyle:"italic"},"\x26 .eqDocument .txtFunc.nobold":{fontWeight:"normal"},"\x26 .eqDocument .italic":{fontStyle:"italic"},"\x26 .eqDocument .noitalic":{fontStyle:"normal"},"\x26 .eqDocument .italic.padLeft":{paddingLeft:"0.2em"},"\x26 .eqDocument .italic.padRight":{paddingRight:"0.2em"},"\x26 .eqDocument .nobold":{fontWeight:"normal"},"\x26 .eqDocument .txtNum":{},"\x26 .eqDocument .opPlus":{},"\x26 .eqDocument .eqUnicode":{fontFamily:\'"Lucida Sans Unicode", sans-serif\'},"\x26 .eqDocument .eqMathBB":{fontFamily:"STIXGeneralAc",fontSize:"1.1em",marginTop:"-0.1em"},"\x26 body.mce-content-body span.eqDocument span.eqMathBB":{marginTop:"-0.2em",marginBottom:"-0.2em"},"\x26 .swObject span.eqDocument span.eqMathBB":{marginTop:"-0.2em",marginBottom:"-0.2em"},"\x26 .xlFigure .eqDocument .eqMathBB":{fontSize:"1em",marginTop:"0"},"\x26 .xlFigure .eqDocument .eqMathBB.eqOp":{paddingLeft:"0.1em",paddingRight:"0.1em"},"\x26 .xlFigure .eqDocument .eqOp":{paddingLeft:"0.1em",paddingRight:"0.1em"},"\x26 .eqDocument .onePtFive":{fontSize:"1.5em",marginTop:"-0.5em"},"\x26 .eqDocument .onePtThree":{fontSize:"1.3em",marginTop:"-0.3em"},"\x26 .eqDocument .onePtTwo":{fontSize:"1.2em",marginTop:"-0.2em"},"\x26 .eqDocument .onePtOneNine":{fontSize:"1.19em",marginTop:"-0.19em"},"\x26 .eqDocument .prime":{fontSize:"1.2em",position:"relative",top:"0.05em"},"\x26 .eqDocument .multiplicationCross":{fontSize:"0.9em",bottom:"0.1em",position:"relative"},"\x26 .eqDocument .pushUpPt25":{bottom:"0.25em",position:"relative"},"\x26 .eqDocument .nodescent":{},"\x26 .eqDocument .eqCurveArrowLeft":{margin:"0 2px 0 -1px"},"\x26.eqEditor .eqEditorOverlay":{width:"100%",height:"100%",position:"absolute",cursor:"pointer"},"\x26 .eqObject":{fontWeight:"normal",fontStyle:"normal"},"\x26 .eqLabel \x3e .eqDocument \x3e .eqObject .eqEditor":{marginTop:"2px"},"\x26 .eqLabel \x3e .eqDocument \x3e .eqCBrace \x3e .eqRow \x3e .eqObject .eqEditor":{marginTop:"2px"},"\x26 .eqUnderBar span":{"text-decoration":"underline"},"\x26 .eqOverBar span":{"text-decoration":"overline"}})},fi\x3dhi.createStyleSheet(pi);fi.attach();var mi\x3d!1,gi\x3dfunction(){mi||(console.log("Assessments Components Version: ".concat("1.2.6")),mi\x3d!0)},vi\x3dfunction(){return"1.2.6"};gi();var yi\x3dfunction(t){return 1\x3d\x3dt.nodeType?window.getComputedStyle(t):{}},xi\x3d{left:!0,top:!0,margin:!0,padding:!0,width:!0,height:!0,max:!0,min:!0,offset:!0},wi\x3d/(^[A-Z])/g,Ci\x3dfunction(t){return t.replace(wi,"l$1")},_i\x3dyi,Ei\x3dfunction(t,e,i){if(void 0!\x3d\x3di)return t.style[Ci(e)]\x3di;for(var n in e)t.style[Ci(n)]\x3de[n];return yi(t)},bi\x3dfunction(t,e){var i\x3dyi(t);return e?function(t,e){return xi[t]?parseFloat(e)||0:e}(e,i[e]||t.style[e]):i},Ri\x3dfunction(t){return parseFloat(t)||0},qi\x3d{class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"},ki\x3d{innerHTML:1,className:1,value:1};var Ni\x3d{set:function t(e,i,n){if(!n\x26\x26"string"!\x3dtypeof i){for(var r in i)t(e,r,i[r]);return e}var o\x3di.toLowerCase(),s\x3dqi[o]||i;return"style"\x3d\x3d\x3ds\x26\x26"string"!\x3dtypeof n?(Ei(e,n),e):ki[s]?(e[s]\x3dn,e):(e.setAttribute(s,n),e)},get:function(t,e){var i\x3de.toLowerCase();return t[qi[i]||e]},has:function(t,e){var i\x3de.toLowerCase();return function(t,e){return t.hasAttribute(e)}(t,qi[i]||e)}},Ti\x3d"undefined"!\x3dtypeof window\x26\x26"undefined"!\x3dtypeof location\x26\x26"undefined"!\x3dtypeof document\x26\x26window.location\x3d\x3dlocation\x26\x26window.document\x3d\x3ddocument,Si\x3d{"host-browser":Ti,dom:Ti},Li\x3dfunction(t){return Si[t]};if(Li.add\x3dfunction(t,e){Si[t]\x3de},Ti){Si["dom-addeventlistener"]\x3d!!document.addEventListener,Si.touch\x3d"ontouchstart"in document||window.navigator.msMaxTouchPoints\x3e0;var Ai\x3dnavigator,Pi\x3dAi.userAgent,Di\x3dAi.appVersion,Bi\x3dparseFloat(Di);if(Li.add("air",Pi.indexOf("AdobeAIR")\x3e\x3d0),Li.add("msapp",parseFloat(Pi.split("MSAppHost/")[1])||void 0),Li.add("khtml",Di.indexOf("Konqueror")\x3e\x3d0?Bi:void 0),Li.add("webkit",parseFloat(Pi.split("WebKit/")[1])||void 0),Li.add("chrome",parseFloat(Pi.split("Chrome/")[1])||void 0),Li.add("safari",Di.indexOf("Safari")\x3e\x3d0\x26\x26!Li("chrome")?parseFloat(Di.split("Version/")[1]):void 0),Li.add("mac",Di.indexOf("Macintosh")\x3e\x3d0),Li.add("edge",parseFloat(Pi.split("Edg/")[1])||void 0),Pi.match(/(iPhone|iPod|iPad)/)){var Mi\x3dRegExp.$1.replace(/P/,"p"),Oi\x3dPi.match(/OS ([\\d_]+)/)?RegExp.$1:"1",Ii\x3dparseFloat(Oi.replace(/_/,".").replace(/_/g,""));Li.add(Mi,Ii),Li.add("ios",Ii)}if(Li.add("android",parseFloat(Pi.split("Android ")[1])||void 0),Li.add("bb",(Pi.indexOf("BlackBerry")\x3e\x3d0||Pi.indexOf("BB10")\x3e\x3d0)\x26\x26parseFloat(Pi.split("Version/")[1])||void 0),Li.add("trident",parseFloat(Di.split("Trident/")[1])||void 0),Li.add("svg","undefined"!\x3dtypeof SVGAngle),!Li("webkit")\x26\x26(Pi.indexOf("Opera")\x3e\x3d0\x26\x26Li.add("opera",Bi\x3e\x3d9.8\x26\x26parseFloat(Pi.split("Version/")[1])||Bi),Pi.indexOf("Gecko")\x3e\x3d0\x26\x26!Li("khtml")\x26\x26!Li("webkit")\x26\x26!Li("trident")\x26\x26Li.add("mozilla",Bi),Li("mozilla")\x26\x26Li.add("ff",parseFloat(Pi.split("Firefox/")[1]||Pi.split("Minefield/")[1])||void 0),document.documentMode)){var Fi\x3dparseFloat(Di.split("MSIE ")[1])||void 0,Ui\x3ddocument.documentMode;Ui\x26\x265!\x3dUi\x26\x26Math.floor(Fi)!\x3dUi\x26\x26(Fi\x3dUi),Li.add("ie",Fi)}}var Vi\x3dfunction(t,e,i){if("number"\x3d\x3dtypeof i){var n\x3de.childNodes;!n.length||n.length\x3c\x3di?e.appendChild(t):Wi(t,n[i\x3c0?0:i])}else switch(i){case"before":Wi(t,e);break;case"after":!function(t,e){var i\x3de.parentNode;i\x26\x26(i.lastChild\x3d\x3d\x3de?i.appendChild(t):i.insertBefore(t,e.nextSibling))}(t,e);break;case"replace":e.parentNode.replaceChild(t,e);break;case"only":Hi(e),e.appendChild(t);break;case"first":if(e.firstChild){Wi(t,e.firstChild);break}default:e.appendChild(t)}return t},Hi\x3dfunction(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t},ji\x3dfunction(t){var e\x3ddocument.createElement("div");if(e.innerHTML\x3dt,1\x3d\x3de.childNodes.length)return e.removeChild(e.firstChild);for(var i\x3ddocument.createDocumentFragment(),n\x3dnull;n\x3de.firstChild;)i.appendChild(n);return i};function Wi(t,e){var i\x3de.parentNode;i\x26\x26i.insertBefore(t,e)}var zi\x3d{create:function(t,e,i,n){var r\x3dnull,o\x3dnull,s\x3dwindow.document;return o\x3d"string"\x3d\x3dtypeof i?s.getElementById(i):i,r\x3d"string"\x3d\x3dtypeof t?s.createElement(t):t,e\x26\x26Ni.set(r,e),o\x26\x26Vi(r,o,n),r},place:Vi,destroy:function(t){t\x26\x26t.parentNode\x26\x26t.parentNode.removeChild(t)},empty:Hi,toDom:function(t){if(Li("ie"))return ji(t);var e\x3ddocument.createElement("template");return e.innerHTML\x3dt.trim(),e.content.firstChild}},Gi\x3d8,Xi\x3d9,Qi\x3d13,Yi\x3d35,Ki\x3d36,Ji\x3d37,$i\x3d38,Zi\x3d39,tn\x3d40,en\x3d46,nn\x3dfunction(t,e,i){t.addEventListener||(t\x3dt.domNode);var n\x3dnull,r\x3d!1;return t\x26\x26e\x26\x26i\x26\x26((n\x3de.split(/\\s*,\\s*/)).forEach((function(e){return t.addEventListener(e,i)})),r\x3d!0),{clear:function(){r\x26\x26t\x26\x26n.forEach((function(e){return t.removeEventListener(e,i)}))}}},rn\x3dfunction(t){return"string"\x3d\x3dtypeof t||t instanceof String},on\x3dfunction(t,e){var i\x3de;return rn(i)\x26\x26(i\x3dt[e]),i.bind(t)},sn\x3dfunction(t){t||(t\x3d{});for(var e\x3d0,i\x3darguments.length\x3c\x3d1?0:arguments.length-1;e\x3ci;e++)h(t,(e+1\x3c1||arguments.length\x3c\x3de+1?void 0:arguments[e+1])||{});return t},an\x3dfunction(t){return t\x26\x26(t instanceof Array||"array"\x3d\x3dtypeof t)},cn\x3dfunction(t,e){if(t){var i\x3d-1;return t.some((function(t,n){if(t\x3d\x3de)return i\x3dn,!0})),i}},un\x3dfunction(t,e){if(t)if(t.forEach)t.forEach(e);else if(t.length)for(var i\x3d0;i\x3ct.length;i++)e(t[i],i,t)},ln\x3dfunction(t,e){if(t)return t.find(e)},hn\x3dfunction(t,e){if(t\x26\x26t.classList\x26\x26e){var i\x3dan(e)?e:e.split(" ");un(i,(function(e){e\x26\x26t.classList.add(e)}))}},dn\x3dfunction(t,e){if(t\x26\x26t.classList\x26\x26e){var i\x3dan(e)?e:e.split(" ");un(i,(function(e){e\x26\x26t.classList.remove(e)}))}},pn\x3dfunction(t,e){return t\x26\x26t.classList\x26\x26e\x26\x26t.classList.contains(e)},fn\x3dhn,mn\x3ddn,gn\x3dfunction(t,e,i){t\x26\x26t.classList\x26\x26i\x26\x26e\x26\x26(dn(t,i),hn(t,e))},vn\x3dpn,yn\x3dfunction(t,e){pn(t,e)?dn(t,e):hn(t,e)},xn\x3dfunction(t){t\x26\x26(t.preventDefault\x26\x26t.preventDefault(),t.stopPropagation\x26\x26t.stopPropagation())},wn\x3dfunction(t,e){var i\x3de||_i(t),n\x3dRi,r\x3dn(i.marginLeft),o\x3dn(i.marginTop),s\x3dn(i.marginRight),a\x3dn(i.marginBottom);return{l:r,t:o,r:s,b:a,w:r+s,h:o+a}},Cn\x3dfunction(t,e){var i\x3dRi,n\x3de||_i(t),r\x3d"none"!\x3d\x3dn.borderLeftStyle?i(t,n.borderLeftWidth):0,o\x3d"none"!\x3d\x3dn.borderTopStyle?i(t,n.borderTopWidth):0,s\x3d"none"!\x3d\x3dn.borderRightStyle?i(t,n.borderRightWidth):0,a\x3d"none"!\x3d\x3dn.borderBottomStyle?i(t,n.borderBottomWidth):0;return{l:r,t:o,r:s,b:a,w:r+s,h:o+a}},_n\x3dfunction(t,e){var i\x3de||_i(t),n\x3dRi,r\x3dn(t,i.paddingLeft),o\x3dn(t,i.paddingTop),s\x3dn(t,i.paddingRight),a\x3dn(t,i.paddingBottom);return{l:r,t:o,r:s,b:a,w:r+s,h:o+a}},En\x3d{position:function(t,e){var i\x3dt.getBoundingClientRect(),n\x3d{x:i.left,y:i.top,w:i.right-i.left,h:i.bottom-i.top};if(e){var r\x3d{x:window.pageXOffset,y:window.pageYOffset};n.x+\x3dr.x,n.y+\x3dr.y}return n},getBorderExtents:Cn,getContentBox:function(t,e){var i,n\x3de||_i(t),r\x3dt.clientWidth,o\x3d_n(t,n),s\x3dCn(t,n);return r?(i\x3dt.clientHeight,s.w\x3ds.h\x3d0):(r\x3dt.offsetWidth,i\x3dt.offsetHeight),{l:o.l,t:o.t,w:r-o.w-s.w,h:i-o.h-s.h}},getMarginBox:function(t,e){var i\x3de||_i(t),n\x3dwn(t,i);return{l:t.offsetLeft-n.l,t:t.offsetTop-n.t,w:t.offsetWidth+n.w,h:t.offsetHeight+n.h}},getMarginExtents:wn,getPadExtents:_n,getPadBorderExtents:function(t,e){var i\x3de||_i(t),n\x3d_n(t,i),r\x3dCn(t,i);return{l:n.l+r.l,t:n.t+r.t,r:n.r+r.r,b:n.b+r.b,w:n.w+r.w,h:n.h+r.h}}};function bn(t){throw new TypeError(\'"\'+t+\'" is read-only\')}var Rn\x3dfunction(t){switch(t.nodeName.toLowerCase()){case"a":return Ni.has(t,"href");case"area":case"button":case"input":case"object":case"select":case"textarea":return!0;case"iframe":var e,i\x3dt.contentDocument;return"designMode"in i\x26\x26"on"\x3d\x3d\x3di.designMode||(e\x3di.body)\x26\x26("true"\x3d\x3d\x3de.contentEditable||e.firstChild\x26\x26"true"\x3d\x3d\x3de.firstChild.contentEditable);default:return"true"\x3d\x3d\x3dt.contentEditable}},qn\x3dfunction(t){if(!Ni.get(t,"disabled"))return Ni.has(t,"tabIndex")?+Ni.get(t,"tabIndex"):Rn(t)?0:void 0},kn\x3dfunction(t){return qn(t)\x3e\x3d-1},Nn\x3d{},Tn\x3d{},Sn\x3dfunction(t){var e;t in Tn||(Tn[t]\x3d0);do{e\x3d"".concat(t,"_").concat(++Tn[t])}while(Nn[e]);return"".concat("assessmentComponents","_").concat(e)},Ln\x3dfunction(t){if(Nn[t.id])throw new Error("Cannot register components with the duplicate id: ".concat(t.id));Nn[t.id]\x3dt},An\x3dfunction(t){Nn[t]\x26\x26delete Nn[t]},Pn\x3dfunction(t){return Nn[t]},Dn\x3dfunction(){},Bn\x3dnew(function(){function t(){e(this,t),this.activeStack\x3d[],this._justMouseDowned\x3d!1}return n(t,[{key:"_onBlurNode",value:function(){var t\x3dthis;this._clearFocusTimer\x26\x26clearTimeout(this._clearFocusTimer),this._clearFocusTimer\x3dsetTimeout((function(){t.prevNode\x3dt.curNode,t.curNode\x3dnull}),0),this._justMouseDowned||(this._clearActiveComponentsTimer\x26\x26clearTimeout(this._clearActiveComponentsTimer),this._clearActiveComponentsTimer\x3dsetTimeout((function(){delete t._clearActiveComponentsTimer,t._setStack([])}),0))}},{key:"_onTouchNode",value:function(t,e){this._clearActiveComponentsTimer\x26\x26(clearTimeout(this._clearActiveComponentsTimer),delete this._clearActiveComponentsTimer);var i\x3d[];try{for(;t;){var n\x3dt.getAttribute\x26\x26t.getAttribute("assessmentsComponentId"),r\x3dn\x26\x26Pn(n);!r||"mouse"\x3d\x3de\x26\x26r.disabled||i.unshift(n),t\x3dt.parentNode}}catch(t){}this._setStack(i,e)}},{key:"_onFocusNode",value:function(t){t\x26\x269!\x3dt.nodeType\x26\x26(this._clearFocusTimer\x26\x26(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(t),t!\x3d\x3dthis.curNode\x26\x26(this.prevNode\x3dthis.curNode,this.curNode\x3dt))}},{key:"_setStack",value:function(t,e){var i\x3dthis.activeStack,n\x3di.length-1,r\x3dt.length-1;if(t[r]!\x3di[n]){var o,s;for(this.activeStack\x3dt,s\x3dn;s\x3e\x3d0\x26\x26i[s]!\x3d\x3dt[s];s--)(o\x3dPn(i[s]))\x26\x26(o._hasBeenBlurred\x3d!0,o.focused\x3d!1,o._focusManager\x3d\x3d\x3dthis\x26\x26o._onBlur(e),o.emit("component-blur",{by:e,component:o}));for(s++;s\x3c\x3dr;s++)(o\x3dPn(t[s]))\x26\x26(o.focused\x3d!0,o._focusManager\x3d\x3d\x3dthis\x26\x26o._onFocus(e),o.emit("component-focus",{by:e,component:o}))}}},{key:"register",value:function(t,e){var i\x3dthis,n\x3dt.document\x26\x26t.document.body;if(n){var r\x3dnn(t.document,"mousedown, touchstart",(function(t){i._justMouseDowned\x3d!0,setTimeout((function(){i._justMouseDowned\x3d!1}),0),i._onTouchNode(e||t.target,"mouse")})),o\x3dnn(n,"focusin",(function(t){kn(t.target)\x26\x26i._onFocusNode(e||t.target)})),s\x3dnn(n,"focusout",(function(t){i._onBlurNode(e||t.target)}));return{clear:function(){try{r.clear(),o.clear(),s.clear(),bn("body")}catch(t){}}}}}},{key:"focus",value:function(t){if(t)try{t.focus()}catch(t){}}}]),t}()),Mn\x3d!1,On\x3dfunction(){Mn\x3d!0;var t\x3dBn.register(window);window.addEventListener("unload",(function(){t\x26\x26t.clear()}))},In\x3dfunction(){return"interactive"\x3d\x3d\x3ddocument.readyState||"complete"\x3d\x3d\x3ddocument.readyState};In()?On():document.addEventListener("readystatechange",(function t(){Mn||(In()\x26\x26document.removeEventListener("readystatechange",t),On())}));for(var Fn\x3dfunction(t,e){t\x26\x26(t.innerHTML\x3de)},Un\x3dwindow;Un.parent!\x3d\x3dUn;)Un\x3dUn.parent;var Vn\x3dfunction(t){return(t\x3dt||Un.document).body||t.getElementsByTagName("body")[0]},Hn\x3dfunction(t,e,i){try{var n\x3dt.ownerDocument,r\x3dVn(n),o\x3dn.documentElement||r.parentNode,s\x3dLi("ie"),a\x3dLi("webkit");if(t\x3d\x3dr||t\x3d\x3do)return;if(!(Li("mozilla")||s||a||Li("opera")||Li("trident"))\x26\x26"scrollIntoView"in t)return void t.scrollIntoView(!1);var c,u\x3d"BackCompat"\x3d\x3dn.compatMode,l\x3dMath.min(r.clientWidth||o.clientWidth,o.clientWidth||r.clientWidth),h\x3dMath.min(r.clientHeight||o.clientHeight,o.clientHeight||r.clientHeight),d\x3da||u?r:o,p\x3de||En.position(t),f\x3dfunction(t){return!(s\x3c\x3d6||7\x3d\x3ds\x26\x26u)\x26\x26"fixed"\x3d\x3d\x3dbi(t,"position").toLowerCase()},m\x3dt.parentNode;if(i\x26\x26(c\x3dEn.position(i)),f(t))return;for(;m;){m\x3d\x3dr\x26\x26(m\x3dd);var g\x3dEn.position(m),v\x3df(m),y\x3d"rtl"\x3d\x3d_i(m).direction.toLowerCase();if(m\x3d\x3dd)g.w\x3dl,g.h\x3dh,d\x3d\x3do\x26\x26s\x26\x26y\x26\x26(g.x+\x3dd.offsetWidth-g.w),(g.x\x3c0||!s||s\x3e\x3d9)\x26\x26(g.x\x3d0),(g.y\x3c0||!s||s\x3e\x3d9)\x26\x26(g.y\x3d0);else{var x\x3dEn.getPadBorderExtents(m);g.w-\x3dx.w,g.h-\x3dx.h,g.x+\x3dx.l,g.y+\x3dx.t;var w\x3dm.clientWidth,C\x3dg.w-w;w\x3e0\x26\x26C\x3e0\x26\x26(y\x26\x26Li("rtl-adjust-position-for-verticalScrollBar")\x26\x26(g.x+\x3dC),g.w\x3dw),w\x3dm.clientHeight,C\x3dg.h-w,w\x3e0\x26\x26C\x3e0\x26\x26(g.h\x3dw)}v\x26\x26(g.y\x3c0\x26\x26(g.h+\x3dg.y,g.y\x3d0),g.x\x3c0\x26\x26(g.w+\x3dg.x,g.x\x3d0),g.y+g.h\x3eh\x26\x26(g.h\x3dh-g.y),g.x+g.w\x3el\x26\x26(g.w\x3dl-g.x));var _,E,b,R\x3dp.x-g.x,q\x3dp.y-g.y,k\x3dR+p.w-g.w,N\x3dq+p.h-g.h;c\x26\x26(_\x3dc.y-g.y),k*R\x3e0\x26\x26(m.scrollLeft||m\x3d\x3dd||m.scrollWidth\x3em.offsetHeight)\x26\x26(E\x3dMath[R\x3c0?"max":"min"](R,k),y\x26\x26(8\x3d\x3ds\x26\x26!u||s\x3e\x3d9)\x26\x26(E\x3d-E),b\x3dm.scrollLeft,m.scrollLeft+\x3dE,E\x3dm.scrollLeft-b,p.x-\x3dE),N\x3e0\x26\x26(m.scrollTop||m\x3d\x3dd||m.scrollHeight\x3em.offsetHeight)\x26\x26(E\x3dMath.ceil(N),b\x3dm.scrollTop,_\x3e\x3d0\x26\x26(E\x3dMath.min(_,E)),m.scrollTop+\x3dE,E\x3dm.scrollTop-b,p.y-\x3dE,c\x26\x26(c.y-\x3dE)),m\x3dm!\x3dd\x26\x26!v\x26\x26m.parentNode}}catch(e){console.error("scrollIntoView: ".concat(e)),t.scrollIntoView(!1)}},jn\x3d{NONE:"",UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",HOME:"home",END:"end",TABFORWARD:"tab",TABBACK:"tabback"},Wn\x3dfunction(t,e,i){if(i){e\x3de||{};var n\x3di.ownerDocument.createEvent("HTMLEvents");for(var r in n.initEvent(t,!!e.bubbles,!!e.cancelable),e)r in n||(n[r]\x3de[r]);return i.dispatchEvent(n)\x26\x26n}},zn\x3dfunction(t){var e\x3dnull;if(Li("mozilla")){var i\x3d_i(t);e\x3d{left:NaN,top:NaN,marginTop:i.marginTop,marginLeft:i.marginLeft,marginRight:i.marginRight,marginBottom:i.marginBottom}}return En.getMarginBox(t,e)};function Gn(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Xn\x3dfunction(t){a(r,t);var i\x3dGn(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).initFields(),t}return n(r,[{key:"initFields",value:function(){this.domNode\x3dnull,this.baseClass\x3d"",this.parent\x3dnull,this._invalidating\x3d!1,this._eqDocument\x3dnull,this._validated\x3d!1}},{key:"isEqPart",value:function(){return!0}},{key:"getDomNode",value:function(){return this.domNode}},{key:"invalidate",value:function(t){if(!this._invalidating){this._invalidating\x3d!0;try{if(this._validated\x3d!1,this.parent\x26\x26this.parent.invalidate\x26\x26this.parent.invalidate(),t\x26\x26this.children)for(var e\x3d0;e\x3cthis.children.length;e++){this.children[e].invalidate(!0)}}finally{this._invalidating\x3d!1}}}},{key:"getInvalidating",value:function(){return this._invalidating}},{key:"invalidateEq",value:function(){}},{key:"preRender",value:function(){}},{key:"_initDom",value:function(){null\x3d\x3dthis.domNode\x26\x26(this.domNode\x3dthis.createDom(),this.domNode\x26\x26(this.baseClass\x26\x26fn(this.domNode,this.baseClass),this.domNode._eqPart\x3dthis))}},{key:"render",value:function(){this._initDom(),this._validated||this.updateDom()}},{key:"updateDom",value:function(){}},{key:"postRender",value:function(){}},{key:"validate",value:function(){this._validated\x3d!0}},{key:"getLastCaretPosition",value:function(){return 1}},{key:"isInsideRoman",value:function(){return!!this.parent\x26\x26(!!this.parent.isEqRoman()||this.parent.isInsideRoman())}},{key:"shouldInterpretFunctions",value:function(){return this.getEqDocument().interpretFunctions\x26\x26!this.isInsideRoman()}},{key:"parentRow",value:function(){if(this.parent){if(this.parent.isEqRow())return this.parent;if(this.parent.isEqPart())return this.parent.parentRow()}return null}},{key:"getPreviousSibling",value:function(t,e,i){var n\x3dthis.parentRow();return n?n.getPreviousEq(this,t,e,i):null}},{key:"getNextSibling",value:function(t,e){var i\x3dthis.parentRow();return i?i.getNextEq(this,t,e):null}},{key:"gotoPrevRow",value:function(t,e){this.parent\x26\x26this.parent.gotoPrevRow(this,e)}},{key:"gotoNextRow",value:function(t,e){this.parent\x26\x26this.parent.gotoNextRow(this,e)}},{key:"getLastRow",value:function(){return null}},{key:"getFirstRow",value:function(){return null}},{key:"getEqDocument",value:function(){return null\x3d\x3dthis._eqDocument\x26\x26this.parent\x26\x26(this.parent.isEqDocument()?this._eqDocument\x3dthis.parent:this._eqDocument\x3dthis.parent.getEqDocument()),this._eqDocument}},{key:"createDom",value:function(){return null}},{key:"destroyDom",value:function(){var t\x3dthis.domNode;t\x26\x26(t.parentNode\x26\x26t.parentNode.removeChild(t),t._eqPart\x3dnull,this.domNode\x3dnull)}},{key:"destroy",value:function(){this.parent\x26\x26this.parent.removeChild(this)}},{key:"placeCaret",value:function(t,e){this.domNode\x26\x26(0\x3d\x3de?zi.place(t,this.domNode,"before"):zi.place(t,this.domNode,"after"))}},{key:"insertEq",value:function(t,e){var i\x3dthis.parent.getChildIndex(this);return 0\x3d\x3de?this.parent.addChildBefore(t,i):this.parent.addChildAfter(t,i),t[0]}},{key:"deleteCharacter",value:function(){}},{key:"isEmpty",value:function(){return!1}},{key:"extractEqs",value:function(){return null}},{key:"hasDomNode",value:function(){return null!\x3dthis.domNode}},{key:"updateSelection",value:function(){this.hasDomNode()\x26\x26fn(this.getDomNode(),"selected")}},{key:"resetSelection",value:function(){this.hasDomNode()\x26\x26mn(this.getDomNode(),"selected")}},{key:"mouseDown",value:function(){}},{key:"getCaretPositionFromEvent",value:function(t){var e\x3dEn.position(this.getDomNode());return t.pageX-e.x\x3c.55*e.w?0:1}},{key:"getCaretLocation",value:function(t,e){var i\x3dEn.position(this.domNode),n\x3dthis.getLocalPos(e,{x:i.x,y:i.y}),r\x3d{top:n.y,left:n.x,bottom:n.y+i.h,right:n.x+i.w};return t\x3e0\x26\x26(r.left\x3dr.right),r}},{key:"getLocalPos",value:function(t,e){e||(e\x3dEn.position(this.getDomNode()));var i\x3dt||this.parent,n\x3di.isEqPart()?i.getDomNode():i,r\x3dEn.position(n);return e.x\x3de.x-r.x,e.y\x3de.y-r.y,e}},{key:"getParentPos",value:function(t,e){e||(e\x3dEn.position(this.getDomNode()));var i\x3dt||this.parent,n\x3di.isEqPart()?i.getDomNode():i,r\x3dEn.position(n),o\x3dEn.position(this.getDomNode());return e.x\x3do.x-r.x+e.x,e.y\x3do.y-r.y+e.y,e}},{key:"getCaretPositionAt",value:function(t){return t\x3cthis.getLocalPos().w/2?0:1}},{key:"getFocusRow",value:function(){for(var t\x3dthis.parent;t\x26\x26!t.isEqRow();)t\x3dt.parent;return t||this.getEqDocument()}},{key:"getTreeLabel",value:function(){return"???"}},{key:"getNodeSize",value:function(t){return zn(t||this.getDomNode())}},{key:"getNodeBorderExtents",value:function(t){return En.getBorderExtents(t||this.getDomNode())}},{key:"getParenBox",value:function(){return zn(this.getDomNode())}},{key:"hasNodeClass",value:function(t){return this instanceof t}},{key:"initCaret",value:function(t){if(this.parent.isEqRow()){t.row\x3dthis.parent;var e\x3dt.row.getChildIndex(this);t.position\x3dt.row.getFocusPosition(e)+this.getLastCaretPosition()}}},{key:"getMathML",value:function(){return""}},{key:"getEqText",value:function(){return""}},{key:"getLatex",value:function(){return""}},{key:"getAccessibleName",value:function(){return""}},{key:"getAccessiblePlainText",value:function(){return this.getEqText()}},{key:"getAccessiblePosition",value:function(t){return t?"after ":"before "}},{key:"clear",value:function(){this.invalidate()}},{key:"rowsFilled",value:function(){return!0}},{key:"checkParens",value:function(){return!0}},{key:"getJSText",value:function(){return""}},{key:"forceParenExpand",value:function(){return!1}},{key:"setEqDocument",value:function(t){this._eqDocument\x3dt}}]),r}(function(){function t(){e(this,t)}return n(t,[{key:"isEqRow",value:function(){return!1}},{key:"isEqSubscript",value:function(){return!1}},{key:"isEqSuperscript",value:function(){return!1}},{key:"isEqPart",value:function(){return!1}},{key:"isEqDocument",value:function(){return!1}},{key:"isEqText",value:function(){return!1}},{key:"isEqTextBase",value:function(){return!1}},{key:"isEqComposite",value:function(){return!1}},{key:"isEqObject",value:function(){return!1}},{key:"isEqStack",value:function(){return!1}},{key:"isEqDummyRow",value:function(){return!1}},{key:"isEqParen",value:function(){return!1}},{key:"isEqOp",value:function(){return!1}},{key:"isEqDivide",value:function(){return!1}},{key:"isEqBar",value:function(){return!1}},{key:"isEqContainer",value:function(){return!1}},{key:"isEqIntegral",value:function(){return!1}},{key:"isEqCursorMarker",value:function(){return!1}},{key:"isEqCBrace",value:function(){return!1}},{key:"isEqSupSub",value:function(){return!1}},{key:"isEqSymbol",value:function(){return!1}},{key:"isEqMat",value:function(){return!1}},{key:"isEqEditor",value:function(){return!1}},{key:"isEqSqrt",value:function(){return!1}},{key:"isEqRoman",value:function(){return!1}},{key:"isEqConj",value:function(){return!1}}]),t}());function Qn(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Yn\x3dfunction(t){a(s,t);var i\x3dQn(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._characterNodes\x3dnull,n._text\x3d"","string"\x3d\x3dtypeof t?n._text\x3dt:t\x26\x26(n._text\x3dt.text),n}return n(s,[{key:"isEqTextBase",value:function(){return!0}},{key:"getText",value:function(){return this._text}},{key:"setText",value:function(t){this.invalidate(),this.destroyDom(),this._text\x3dt}},{key:"isEmpty",value:function(){return 0\x3d\x3d\x3dthis._text.length}},{key:"createEqText",value:function(){}},{key:"createDom",value:function(){return zi.create("span")}},{key:"updateDom",value:function(){o(r(s.prototype),"updateDom",this).apply(this,arguments),this.renderCharacters(this.domNode)}},{key:"destroyDom",value:function(){o(r(s.prototype),"destroyDom",this).apply(this,arguments),this._characterNodes\x3dnull}},{key:"renderCharacters",value:function(t){var e\x3dthis._text.split(""),i\x3dthis._characterNodes\x3d[];zi.empty(t),un(e,(function(e,n){var r\x3d"";" "\x3d\x3de\x26\x26(e\x3d"\x26nbsp;",r\x3d"eqSpace");var o\x3dzi.create("span",{innerHTML:e,className:r},t);o.childIndex\x3dn,i.push(o)}))}},{key:"getLastCaretPosition",value:function(){return this._text.length}},{key:"getCaretPositionFromEvent",value:function(t){var e\x3dt.target.childIndex||0,i\x3dEn.position(t.target);return e+\x3dt.pageX-i.x\x3c.55*i.w?0:1}},{key:"placeCaret",value:function(t,e){this._characterNodes?e\x3cthis._text.length?zi.place(t,this._characterNodes[e],"before"):zi.place(t,this._characterNodes[this._characterNodes.length-1],"after"):o(r(s.prototype),"placeCaret",this).apply(this,arguments)}},{key:"insertEq",value:function(t,e){var i\x3dthis.parent;if(0\x3d\x3de)i.addChildBefore(t,i.getChildIndex(this));else if(e\x3e\x3dthis._text.length)i.addChildAfter(t,i.getChildIndex(this));else{var n\x3dthis.createEqText(this._text.substring(0,e));this.setText(this.getText().substring(e)),i.addChildBefore(t,i.getChildIndex(this)),i.addChildBefore(n,i.getChildIndex(an(t)?t[0]:t)),this.invalidateEq()}return t}},{key:"deleteCharacter",value:function(t){var e\x3dthis.getText().length,i\x3dMath.min(t.position,t.positionStart),n\x3dMath.max(t.position,t.positionStart);if(!(i\x3c0||n\x3ethis.getLastCaretPosition())\x26\x26e\x3e0){i\x3d\x3dn\x26\x26n++;var r\x3dthis.getText().slice(0,i),o\x3dthis.getText().slice(n);this.setText(r+o),this.invalidateEq(),t.characterDeleted\x3d!0}}},{key:"updateSelection",value:function(t,e){var i\x3dthis._characterNodes;if(i)for(var n\x3d0;n\x3ci.length;n++)n\x3e\x3dt\x26\x26n\x3ce\x26\x26t!\x3de?fn(i[n],"selected"):mn(i[n],"selected");else o(r(s.prototype),"updateSelection",this).apply(this,arguments)}},{key:"resetSelection",value:function(){o(r(s.prototype),"resetSelection",this).apply(this,arguments),this._characterNodes\x26\x26un(this._characterNodes,(function(t){mn(t,"selected")}))}},{key:"getCaretLocation",value:function(t,e){var i;t\x3cthis._characterNodes.length?i\x3dEn.position(this._characterNodes[t]):(i\x3dEn.position(this._characterNodes[this._characterNodes.length-1])).x+\x3di.w;var n\x3dthis.getLocalPos(e,{x:i.x,y:i.y});return{top:n.y,left:n.x,bottom:n.y+i.h,right:n.x+2,width:2,height:i.h}}},{key:"getCaretPositionAt",value:function(t){if(null\x3d\x3dthis._characterNodes)return o(r(s.prototype),"getCaretPositionAt",this).apply(this,arguments);for(var e\x3dEn.position(this.getDomNode()),i\x3d0;i\x3cthis._characterNodes.length;i++){var n\x3dthis._characterNodes[i],a\x3dEn.position(n);if(a.x-\x3de.x,a.y-\x3de.y,t\x3ca.x+a.w)return t\x3e\x3da.x+a.w/2?Math.min(i+1,this.getLastCaretPosition()):i}return this._characterNodes.length}},{key:"getTreeLabel",value:function(){return this._text}},{key:"isSeparator",value:function(){var t\x3dthis._text.trim();return""\x3d\x3dt||","\x3d\x3dt||";"\x3d\x3dt}},{key:"extractEqs",value:function(t,e,i){var n,r\x3d[];if(t\x3e\x3d0\x26\x26e\x3c\x3dthis._text.length-1\x26\x26((n\x3dthis.createEqText(this._text.substring(t,e)))._eqDocument\x3dthis.getEqDocument(),r.push(n)),!i){var o\x3dthis._text;t\x3e0\x26\x26this.setText(o.substring(0,t)),e\x3c\x3do.length-1\x26\x26(n\x3dthis.createEqText(o.substr(e)),this.parent.addChildAfter(n,this.parent.getChildIndex(this)))}return r}},{key:"getEqText",value:function(){return this.getText()}},{key:"getLatex",value:function(){return this.getText()}},{key:"getAccessibleName",value:function(t){return t\x3e\x3d0\x26\x26t\x3cthis._text.length?this._text.substr(t,1):this.getText()}},{key:"getAccessiblePlainText",value:function(){return this.getText()}},{key:"getAccessiblePosition",value:function(t){return o(r(s.prototype),"getAccessiblePosition",this).call(this,this.getText().length\x3d\x3d\x3dt)}}]),s}(Xn),Kn\x3dfunction(){function t(){e(this,t),this.initFields()}return n(t,[{key:"initFields",value:function(){this._position\x3d0,this._text\x3dnull,this.shortcutList\x3dnull,this.onVarExists\x3dnull,this.functionList\x3dnull,this.tokenValue\x3dnull,this.numberValue\x3dnull,this.caseSensitive\x3d!1,this.allowCommaNumbers\x3d!1,this.interpretFunctions\x3d!1,this.allowDollarNumbers\x3d!1,this.allowSpaceAfterCurrencyChar\x3d!1,this.allowSpaceAfterNegParen\x3d!1,this.allowSpaceAfterMinus\x3d!1,this.allowNegParens\x3d!1,this.allowMinus\x3d!1,this.allowPlus\x3d!1,this.currencyChar\x3d"$",this.allowEntities\x3d!1,this.siCommaChar\x3d",",this.siCommaDecimal\x3d!1,this.zeroOptional\x3d!1,this.isShortCut\x3dnull,this.getShortCutEq\x3dnull}},{key:"setText",value:function(t){this._text\x3dt,this._position\x3d0,this.tokenValue\x3d"",this.numberValue\x3dNaN}},{key:"getText",value:function(){return this._text}},{key:"moreTokens",value:function(){return this._position\x3cthis.getText().length}},{key:"nextToken",value:function(){var e,i\x3dt.EqTextParserToken.NONE;return this._position\x3e\x3dthis._text.length||((e\x3dthis._text.charAt(this._position))\x3e\x3d"0"\x26\x26e\x3c\x3d"9"||e\x3d\x3dthis.getDecimalChar()\x26\x26this.zeroOptional||this.allowDollarNumbers\x26\x26e\x3d\x3dthis.currencyChar||this.allowMinus\x26\x26"-"\x3d\x3de||this.allowPlus\x26\x26"+"\x3d\x3de?i\x3dthis.parseNumber():this.allowNegParens\x26\x26"("\x3d\x3de?i\x3dthis.parseNegParens():e\x3d\x3dthis.getCommaChar()?(i\x3dt.EqTextParserToken.COMMA,this.tokenValue\x3de,this._position++):i\x3d"~"\x3d\x3de\x26\x26null!\x3dthis.onVarExists?this.parseVariable():this.parseShortCut(),i\x3d\x3dt.EqTextParserToken.NONE\x26\x26(i\x3dthis.parseFunction()),this.allowEntities\x26\x26i\x3d\x3dt.EqTextParserToken.NONE\x26\x26"\x26"\x3d\x3de\x26\x26(i\x3dthis.parseEntity()),i\x3d\x3dt.EqTextParserToken.NONE\x26\x26(i\x3dt.EqTextParserToken.TEXT,this.tokenValue\x3dthis._text.charAt(this._position),this._position++)),i}},{key:"compareStrings",value:function(t,e,i){return 1\x3d\x3di\x26\x26(t\x3dt.toLowerCase(),e\x3de.toLowerCase()),t\x3d\x3de?0:t\x3ee?1:-1}},{key:"parseShortCut",value:function(){var e\x3dt.EqTextParserToken.NONE;if(this.shortcutList){var i\x3dthis.shortcutList.findLargestKey(this._text.substr(this._position));i\x26\x26i.length\x3e0\x26\x26(this._position+\x3di.length,this.tokenValue\x3di,e\x3dt.EqTextParserToken.SHORTCUT)}return e}},{key:"parseFunction",value:function(){var e,i,n,r,o,s,a\x3dt.EqTextParserToken.NONE;if(!this.functionList||0\x3d\x3dthis.functionList.length)return a;e\x3d0,this.tokenValue\x3d"",o\x3d-1,n\x3dthis._text.length,i\x3d0;try{do{for(;i+this._position\x3cn\x26\x26e\x3cthis.functionList.length;){if((s\x3dthis.compareStrings(this._text.substr(this._position,i+1),this.functionList[e].toString().substr(0,i+1),this.caseSensitive))\x3c0)return a;if(!(this.functionList[e].toString().length\x3c\x3di||s\x3e0))break;e++}if(e\x3e\x3dthis.functionList.length)return a;r\x3dthis._text.substr(this._position,i+1),0\x3d\x3d(["e","i","g"].indexOf(this.functionList[e].toString())\x3e\x3d0?this.compareStrings(r,this.functionList[e].toString(),!0):this.compareStrings(r,this.functionList[e].toString(),this.caseSensitive))\x26\x26(this.tokenValue\x3dr,o\x3dthis._position+i,a\x3dt.EqTextParserToken.FUNCTION),i++}while(i+this._position\x3cn)}finally{o\x3e\x3d0\x26\x26(this._position\x3do+1)}return a}},{key:"isDigit",value:function(t){return t\x3e\x3d"0"\x26\x26t\x3c\x3d"9"}},{key:"parseNegParens",value:function(){var e\x3d!1,i\x3dt.EqTextParserToken.NONE,n\x3dthis._position;for(this._position++;this._position\x3cthis._text.length;){var r\x3dthis._text.charAt(this._position);if(" "\x3d\x3dr)this._position++;else if(")"\x3d\x3dr){if(e)return this._position++,this.tokenValue\x3dthis._text.substring(n,this._position),this.numberValue\x3d-this.numberValue,i;this._position++}else{if((i\x3dthis.parseNumber())!\x3dt.EqTextParserToken.FLOAT\x26\x26i!\x3dt.EqTextParserToken.INTEGER)return this._position\x3dn+1,this.tokenValue\x3dthis._text.substring(n,this._position),t.EqTextParserToken.TEXT;e\x3d!0}}return this.tokenValue\x3dthis._text.substr(n,1),this._position\x3dn+1,t.EqTextParserToken.TEXT}},{key:"parseNumber",value:function(){var e,i,n,r,o,s,a,c\x3dt.EqTextParserToken.NONE;for(this.numberValue\x3d0,i\x3d!1,n\x3d!1,0,r\x3d!1,o\x3d!1,a\x3d!1,this.tokenValue\x3d"",s\x3d"",e\x3d!1;this._position\x3cthis._text.length;){var u\x3dthis._text.charAt(this._position);if(u!\x3dthis.currencyChar||!this.allowDollarNumbers||r||a)if(this.allowSpaceAfterCurrencyChar\x26\x26" "\x3d\x3du\x26\x26r\x26\x26!o)this._position++;else if(this.allowSpaceAfterMinus\x26\x26" "\x3d\x3du\x26\x26i\x26\x26!o)this._position++;else if(u\x3d\x3dthis.getCommaChar()){if(!this.allowCommaNumbers)break;if(e)break;if(!o)break;if(!a\x26\x26s.length\x3e3)break;if(this._text.length-1\x3cthis._position+3)break;if(!(this.isDigit(this._text.charAt(this._position+1))\x26\x26this.isDigit(this._text.charAt(this._position+2))\x26\x26this.isDigit(this._text.charAt(this._position+3))))break;if(this._text.length\x3ethis._position+4\x26\x26this.isDigit(this._text.charAt(this._position+4)))break;a\x3d!0,this.tokenValue\x3dthis.tokenValue+this._text.substr(this._position,4),s+\x3dthis._text.substr(this._position+1,3),this._position+\x3d4}else if(u\x3d\x3dthis.getDecimalChar()){if(e)break;a\x3d!1,e\x3d!0,this.tokenValue\x3dthis.tokenValue+u,s\x3d"".concat(s,"."),this._position++}else if(this.isDigit(u)){if(a)break;o\x3d!0,this.tokenValue\x3dthis.tokenValue+u,s+\x3du,this._position++}else{if(a)break;if(this.allowPlus\x26\x26"+"\x3d\x3du){if(n||o||e)break;n\x3d!0,this._position++}else if(this.allowMinus\x26\x26"-"\x3d\x3du){if(i||o||e)break;i\x3d!0,this.tokenValue\x3dthis.tokenValue+u,this._position++}else{if(!r||!this.allowNegParens||"("!\x3du)break;var l\x3dthis.tokenValue;this.parseNegParens(),this.tokenValue\x3dl+this.tokenValue}}else r\x3d!0,this.tokenValue\x3dthis.tokenValue+this.currencyChar,this._position++}return this.tokenValue.length\x3e0?(s.length\x3e0\x26\x26(this.numberValue\x3dparseFloat(s),isNaN(this.numberValue)||i\x26\x26(this.numberValue\x3d-this.numberValue)),c\x3de?t.EqTextParserToken.FLOAT:t.EqTextParserToken.INTEGER):c\x3dt.EqTextParserToken.NONE,c}},{key:"parseVariable",value:function(){}},{key:"parseEntity",value:function(){for(var e\x3dthis._position+1;e\x3cthis._text.length;){if(";"\x3d\x3dthis._text.charAt(e))return this.tokenValue\x3dthis._text.substring(this._position,e+1),this._position\x3de+1,t.EqTextParserToken.ENTITY;e++}return t.EqTextParserToken.NONE}},{key:"getCommaChar",value:function(){return this.siCommaChar}},{key:"getDecimalChar",value:function(){return this.siCommaDecimal?",":"."}}]),t}();function Jn(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Kn.EqTextParserToken\x3d{NONE:0,TEXT:1,INTEGER:2,FLOAT:3,FUNCTION:4,COMMA:5,VARIABLE:6,SHORTCUT:7,ENTITY:8};var $n\x3dfunction(t){a(s,t);var i\x3dJn(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"isEqCursorMarker",value:function(){return!0}},{key:"getLastCaretPosition",value:function(){return 1}},{key:"getEqText",value:function(){return"@CURSOR{}"}},{key:"getCaretLocation",value:function(t,e){return t\x3e0\x26\x26(t\x3d0),o(r(s.prototype),"getCaretLocation",this).call(this,t,e)}}]),s}(Xn),Zn\x3d{init:function(){for(var t\x3dwindow.document.documentElement.style,e\x3d0,i\x3d["WebkitT","MozT","OT","msT","t"];e\x3ci.length;e++)void 0!\x3d\x3dt["".concat(i[e],"ransform")]\x26\x26(this.transformName\x3d"".concat(i[e],"ransform"))},set:function(t,e){if(!this.transformName)throw new Error("Unable to determine css command for transform");domStyle.set(t,this.transformName,e)},get:function(t){if(!this.transformName)throw new Error("Unable to determine css command for transform");domStyle.set(t,this.transformName)}};Zn.init();var tr\x3d{Operators:["+","-","/","*","\x3d","\x3c","\x3e"],Parens:["(",")","[","]","{","}"],OpenParens:["(","[","{"],scale:function(t,e,i){Zn.set(t,"scale(".concat(e,",").concat(i,")"))},isOperator:function(t){return this.Operators.indexOf(t)\x3e\x3d0},isParen:function(t){return this.Parens.indexOf(t)\x3e\x3d0},isOpenParen:function(t){return this.OpenParens.indexOf(t)\x3e\x3d0},encodeText:function(t){return t.replace(/([\\\\\x26{}@^_;])/gi,"\\\\$1")},addText:function(t,e){t.appendChild(t.ownerDocument.createTextNode(e))},getRowBaseline:function(t){var e\x3dzi.create("span",{style:{display:"inline-block",width:"1px",height:"0px",verticalAlign:"baseline"}});try{zi.place(e,t);var i\x3dEn.position(e).y-En.position(t).y}finally{zi.destroy(e)}return i},decodeHtml:function(t){var e\x3dnew RegExp("(\x26amp;)","g"),i\x3d{"\x26amp;":"\x26"};return t\x3dt.replace(e,(function(t){return i[t]}))},getTextContent:function(t){return t.textContent||t.innerText},setTextContent:function(t,e){void 0\x3d\x3d\x3dt.textContent?t.innerText\x3de:t.textContent\x3de},getNearestAnnouncementAncestor:function(t){if(t){if(t.getAccessibleAnnouncement)return t;if(t.parent)return this.getNearestAnnouncementAncestor(t.parent)}return null}},er\x3dfunction(){function t(){e(this,t)}return n(t,null,[{key:"trim",value:function(t){return t.trim()}},{key:"substitute",value:function(t){if(null\x3d\x3dt)return"";for(var e\x3darguments.length,i\x3dnew Array(e\x3e1?e-1:0),n\x3d1;n\x3ce;n++)i[n-1]\x3darguments[n];var r,o\x3di.length;r\x3d1\x3d\x3do\x26\x26i[0]instanceof Array?i[0]:i.slice(0);for(var s\x3d0;s\x3cr.length;s++)t\x3dt.replace(new RegExp("\\\\{".concat(s,"\\\\}"),"gi"),r[s]);return t}},{key:"sameText",value:function(t,e){return t.toLowerCase()\x3d\x3de.toLowerCase()}},{key:"padString",value:function(t,e,i){return i||(i\x3d" "),!e||e\x3c\x3dt.length?t:new Array(e-t.length+1).join(i)+t}},{key:"endsWith",value:function(t,e){return!(!t||!e)\x26\x26-1!\x3d\x3dt.indexOf(e,t.length-e.length)}}]),t}(),ir\x3d{};function nr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}ir._functionNames\x3d{sin:"sine",cos:"cosine",tan:"tangent",sec:"secant",csc:"cosecant",cot:"cotangent",arcsin:"arcsine",arccos:"arccosine",arctan:"arctangent",arcsec:"arcsecant",arccsc:"arccosecant",arccot:"arccotangent",sinh:"hyperbolic sine",cosh:"hyperbolic cosine",tanh:"hyperbolic tangent",sech:"hyperbolic secant",csch:"hyperbolic cosecant",coth:"hyperbolic cotangent"},ir.getFunctionAccName\x3dfunction(t){var e\x3dir._functionNames[t];return e||t},ir._modifierNames\x3d{hat:"ModifyingAbove {0} with caret",rayr:"ModifyingAbove {0} with right arrow",rayl:"ModifyingAbove {0} with left arrow",raydb:"ModifyingAbove {0} with left right arrow",umlaut:"ModifyingAbove {0} with two dots",arc:"ModifyingAbove {0} with arc",accent:"ModifyingAbove {0} with accent",overbrc:"ModifyingAbove {0} with brace",sidot:"ModifyingAbove {0} with dot",prime2:"{0} double prime",prime3:"{0} triple prime",tilde:"ModifyingAbove {0} with tilde",ovdbbar:"{0} double overbar",slash:"CrossOut {0} EndCrossOut",arrowl:"ModifyingBelow {0} with left arrow",arrowr:"ModifyingBelow {0} with right arrow",arrowdb:"ModifyingBelow {0} with left right arrow",undrbar:"Modifying {0} with underline",undbbar:"Modifying {0} with double underline",undrbrc:"ModifyingBelow {0} with brace",hline:"ModifyingAbove and below {0} with horizontal line",dhline:"ModifyingAbove and below {0} with doybe horizontal line",hbrace:"ModifyingAbove and below {0} with brackets",hbracet:"ModifyingAbove {0} with bracket",hbraceb:"ModifyingBelow {0} with bracket"},ir.getModifierNames\x3dfunction(t,e){var i\x3dt.toLowerCase(),n\x3dir._modifierNames[i];return n?er.substitute(n,e):"".concat(e.join(" ")," ").concat(i)},ir._eqBraceNames\x3d{cbrace:"StartSet {0} EndSet",cbracel:"left brace {0}",cbracer:"{0} right brace",paren:"left parenthesis {0} right parenthesis",parenl:"left parenthesis {0}",parenr:"{0} right parenthesis",brace:"left bracket {0} right bracket",bracel:"left bracket {0}",bracer:"{0} right bracket",vector:"left angle {0} right angle",vectorl:"left angle {0}",vectorr:"{0} right angle",grint:"left double bracket {0} right double bracket",dbracel:"left double bracket {0}",dbracer:"{0} right double bracket",ceil:"Start ceiling {0} End ceiling",floor:"Start floor {0} End floor"},ir.getEqBraceNames\x3dfunction(t,e){var i\x3dir._eqBraceNames[t];return i?er.substitute(i,e):null},ir.divNumerators\x3d["zero","one","two","three","four","five","six","seven","eight","nine"],ir.divDenominators\x3d["","whole","half","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eightteenth","nineteenth"],ir.divDenominators_plural\x3d["","wholes","halves","thirds","fourths","fifths","sixths","sevenths","eighths","ninths","tenths","elevenths","twelfths","thirteenths","fourteenths","fifteenths","sixteenths","seventeenths","eightteenths","nineteenths"],ir.getNthString\x3dfunction(t){var e\x3dt.toString();switch(t){case 1:return"".concat(e,"st");case 2:return"".concat(e,"nd");case 3:return"".concat(e,"rd");default:return"".concat(e,"st")}};var rr\x3dfunction(t){a(s,t);var i\x3dnr(s);function s(t,n){var r;return e(this,s),(r\x3di.apply(this,arguments)).initFields(),n||(n\x3ds.EqTextType.TEXT),r._textType\x3dn,r}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._textType\x3ds.EqTextType.TEXT,this.isItalic\x3d!1,this.baseClass\x3d"eqText"}},{key:"isEqText",value:function(){return!0}},{key:"createDom",value:function(){var t\x3do(r(s.prototype),"createDom",this).apply(this,arguments),e\x3d"",i\x3dthis.getEqDocument();switch(this._textType){case s.EqTextType.FUNCTION:e\x3d!i.eiItalic||"e"!\x3dthis._text\x26\x26"i"!\x3dthis._text?"g"\x3d\x3dthis._text?i.supportGravityConstant||i.getItalicizeVariables()?"italic":"":"l"\x3d\x3d\x3dthis._text?"":i.latexSpecialFunctions\x26\x26i.isLatexFunction(this._text)?"txtFunc nobold":i.boldFunctions?"txtFunc":"txtFunc nobold":"italic eqMathBB";break;case s.EqTextType.FLOAT:case s.EqTextType.INTEGER:e\x3d"txtNum";break;case s.EqTextType.ENTITY:e\x3d"txtEnt";break;default:i.getItalicizeVariables()\x26\x26(e\x3d"italic",this.isItalic\x3d!0)}return gn(t,e,"txtFunc txtNum txtEnt"),t}},{key:"isDescending",value:function(t){for(var e\x3d0;e\x3ct.length;e++){var i\x3dt.charAt(e);if(i\x3c"."||i\x3e"z"||"gjpqyQ".indexOf(i)\x3e\x3d0)return!0}return!1}},{key:"renderCharacters",value:function(t){if("l"\x3d\x3d\x3dthis._text\x26\x26this.shouldInterpretFunctions()\x26\x26this.getEqDocument().convertLScript){var e\x3dthis._characterNodes\x3d[];zi.empty(t);var i\x3dzi.create("span",{innerHTML:"\x26#x2113;"},t);i.childIndex\x3d0,e.push(i)}else o(r(s.prototype),"renderCharacters",this).apply(this,arguments)}},{key:"postRender",value:function(){if(o(r(s.prototype),"postRender",this).apply(this,arguments),mn(this.domNode,"padLeft padRight"),this.isItalic){if(!this._text||0\x3d\x3dthis._text.length)return;"j"!\x3dthis._text[0]\x26\x26"f"!\x3dthis._text[0]||(fn(this.domNode,"padLeft"),"j"\x3d\x3dthis._text[0]\x26\x26this.parent.isEqRow()\x26\x26this.parent.parent\x26\x26this.parent.parent.isEqBar()\x26\x26fn(this.domNode,"padRight")),"f"\x3d\x3dthis._text[this._text.length-1]\x26\x26fn(this.domNode,"padRight")}}},{key:"getTextType",value:function(){return this._textType}},{key:"isNumber",value:function(){return this._textType\x3d\x3ds.EqTextType.INTEGER||this._textType\x3d\x3ds.EqTextType.FLOAT}},{key:"isInteger",value:function(){return this._textType\x3d\x3ds.EqTextType.INTEGER}},{key:"isFunction",value:function(){return this._textType\x3d\x3ds.EqTextType.FUNCTION}},{key:"isEntity",value:function(){return this._textType\x3d\x3ds.EqTextType.ENTITY}},{key:"_fixDecimal",value:function(t){var e;if(this.getEqDocument().siCommaDecimal){e\x3dt.replace(/[,]/g,".")}else e\x3dt;return e}},{key:"getEqText",value:function(){var t\x3dthis._text,e\x3dthis.getEqDocument();if(e.simpleEqText)return this._text;if(this.isNumber()){if(e.allowNegParens\x26\x26e.allowDollarNumbers\x26\x26this._text.indexOf(e.currencyChar)\x3e\x3d0\x26\x26-1\x3d\x3dthis._text.indexOf(e.siCommaChar))return"@CURR{".concat(this._text.replace(new RegExp("\\\\".concat(e.currencyChar),"g"),""),"}");if(e.allowCommaNumbers\x26\x26this._text.indexOf(e.siCommaChar)\x3e\x3d0)return"@CNUM{".concat(this._text.replace(new RegExp("\\\\".concat(e.siCommaChar),"g"),""),"}");if(e.allowDollarNumbers\x26\x26this._text.indexOf(e.currencyChar)\x3e\x3d0)return"@CURR{".concat(this._text.replace(new RegExp("\\\\".concat(e.currencyChar),"g"),""),"}");if(e.allowNegParens\x26\x26"("\x3d\x3dthis._text.substr(0,1)\x26\x26")"\x3d\x3dthis._text.substr(-1,1))return"@NEGP{".concat(this._text.substr(1,this._text.length-2),"}");t\x3dthis._text}else if(this.isEntity())return this._text;return tr.encodeText(t)}},{key:"tokenToTextType",value:function(t){switch(t){case Kn.EqTextParserToken.INTEGER:return s.EqTextType.INTEGER;case Kn.EqTextParserToken.FLOAT:return s.EqTextType.FLOAT;case Kn.EqTextParserToken.FUNCTION:return s.EqTextType.FUNCTION;case Kn.EqTextParserToken.VARIABLE:return s.EqTextType.VARIABLE;case Kn.EqTextParserToken.ENTITY:return s.EqTextType.ENTITY;default:return s.EqTextType.TEXT}}},{key:"parseText",value:function(t,e){var i,n,r;for(t.setText(this.getText()),n\x3d"",r\x3d[];t.moreTokens();)if((i\x3dt.nextToken())\x3d\x3dKn.EqTextParserToken.TEXT)n+\x3dt.tokenValue;else if(i\x3d\x3dKn.EqTextParserToken.SHORTCUT){var o\x3dthis.getEqDocument().getShortcutList().find(t.tokenValue);if(null!\x3do){n.length\x3e0\x26\x26(r.push(new s(n)),n\x3d"");var a\x3dthis.getEqDocument().parseNodes(o.toString(),e);r\x3dr.concat(a),e\x26\x26!e.eqCursorMarker\x26\x26(e.eqCursorMarker\x3dnew $n,this.getEqDocument().setEqCursorMarker(e.eqCursorMarker),r.push(e.eqCursorMarker))}else n+\x3dt.tokenValue}else{n.length\x3e0\x26\x26(r.push(new s(n)),n\x3d"");var c\x3dnew s(t.tokenValue);c._textType\x3dthis.tokenToTextType(i),r.push(c)}n.length\x3e0\x26\x26r.push(new s(n)),r.length\x3e0\x26\x26(r[0].isEqText()?(this._textType\x3dr[0].getTextType(),this.setText(r[0].getText()),r.length\x3e1\x26\x26this.parent.addChildAfter(r.slice(1,r.length),this.parent.getChildIndex(this))):(this.parent.addChildAfter(r,this.parent.getChildIndex(this)),this.parent.removeChild(this)))}},{key:"mergeText",value:function(t){this.setText(this._text+t.getText())}},{key:"getLatex",value:function(){return this.getTextType()\x3d\x3ds.EqTextType.FUNCTION?this.getEqDocument().latexSpecialFunctions\x26\x26this.getEqDocument().isLatexFunction(this._text)?this.getEqDocument().getLatexFunction(this._text):"{\\\\".concat(this._text,"}"):this._text}},{key:"getJSText",value:function(){return"e"\x3d\x3dthis._text||"E"\x3d\x3dthis._text?"Math.E":"pi"\x3d\x3dthis._text||"PI"\x3d\x3dthis._text?"Math.PI":this._text}},{key:"getAccessibleName",value:function(t){if(this._textType\x3d\x3ds.EqTextType.FUNCTION)return ir.getFunctionAccName(this._text);if(t\x3e\x3d0||this._textType!\x3d\x3ds.EqTextType.TEXT)return o(r(s.prototype),"getAccessibleName",this).apply(this,arguments);if(","\x3d\x3dthis._text)return"comma";for(var e,i\x3dthis._text.split(" "),n\x3d0;n\x3ci.length;n++){for(var a\x3di[n],c\x3d"";a.length\x3e0\x26\x26("\\r"\x3d\x3da.charAt(0)||"\\n"\x3d\x3da.charAt(0));)c+\x3da.charAt(0),a\x3da.substr(1);1\x3d\x3da.length\x26\x26a\x3e\x3d"A"\x26\x26a\x3c\x3d"Z"?i[n]\x3d"".concat(c,"Upper ").concat(a):a.indexOf("!")\x3e\x3d0?(e\x3da.split("!"),i[n]\x3dc+e.join(" exclamation mark ")):a.indexOf("?")\x3e\x3d0\x26\x26(e\x3da.split("?"),i[n]\x3dc+e.join(" question mark "))}return i.join(" ")}},{key:"createEqText",value:function(t){return new s(t)}}]),s}(Yn);function or(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}rr.EqTextType\x3d{TEXT:0,FUNCTION:1,FLOAT:2,INTEGER:3,VARIALE:4,ENTITY:5};var sr\x3dfunction(t){a(s,t);var i\x3dor(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._opType\x3dt,n._opInfo\x3ds._OpInfo[n._opType],n._text\x3dn._opInfo.text,n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._opType\x3dnull,this._opInfo\x3dnull,this.baseClass\x3d"eqOp"}},{key:"isEqOp",value:function(){return!0}},{key:"getOpType",value:function(){return this._opType}},{key:"getLastCaretPosition",value:function(){return 1}},{key:"createDom",value:function(){var t\x3do(r(s.prototype),"createDom",this).apply(this,arguments);return this._opInfo.className\x26\x26fn(t,this._opInfo.className),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().registerFont(this,this.domNode)}},{key:"getTreeLabel",value:function(){return"op:".concat(this._text)}},{key:"getLatex",value:function(){var t\x3dthis._opInfo.latex;return"\\\\"\x3d\x3d\x3dt.charAt(0)\x26\x26(t\x3d"{".concat(t,"}")),t}},{key:"getEqText",value:function(){return this._opType}},{key:"getJSText",value:function(){return this._opInfo\x26\x26this._opInfo.js?this._opInfo.js:""}},{key:"getAccessibleName",value:function(){if(this._opType\x3d\x3d\x3ds.OpTypes.MINUS\x26\x26this.parent\x26\x26this.parent.isEqRow()){var t\x3dthis.parent.getPreviousEq(this),e\x3dthis.parent.getNextEq(this);if(!t\x26\x26e||t\x26\x26t.isEqTextBase()\x26\x26"-,;\x3d".indexOf(t.getText())\x3e\x3d0||t\x26\x26t.isEqOp()\x26\x26"-\x3d".indexOf(t._opType)\x3e\x3d0||t\x26\x26t.isEqParen()\x26\x26t.isOpenParen())return"negative"}return this._opInfo.accName}},{key:"extractEqs",value:function(){return null}},{key:"createEqText",value:function(t){return new rr(t)}}]),s}(Yn);sr.OpTypes\x3d{EMPTY:"\x26emptyop;",SPACE:" ",PLUS:"+",MINUS:"-",MULTIPLY:"*",DIVIDE:"/",EQUALS:"\x3d",POWER:"^",LT:"\x26lt;",GT:"\x26gt;",LE:"\x26le;",GE:"\x26ge;",NE:"\x26ne;",DIV:"\x26div;",TIMES:"\x26times;",STAR:"\x26star;",APPROX:"\x26approx;",CONG:"\x26cong;",PLUSMINUS:"\x26plusminus;",COMPFN:"\x26compfn;",PRECEDES:"\x26precedes;",FOLLOWS:"\x26follows;",ESTIMATES:"\x26estimates;",MINUSPLUS:"\x26minusplus;",LTEQ:"\x26lteq;",GTEQ:"\x26gteq;",DOTPRODUCT:"\x26dotproduct;"};var ar\x3dsr.OpTypes;sr._OpChars\x3d{" ":ar.SPACE,"+":ar.PLUS,"-":ar.MINUS,"\u2212":ar.MINUS,"*":ar.MULTIPLY,"/":ar.DIVIDE,"\x3d":ar.EQUALS,"^":ar.POWER,"\x3c":ar.LT,"\x3e":ar.GT,"\u2264":ar.LE,"\u2265":ar.GE,"\u2260":ar.NE,"\u00f7":ar.DIV,"\u2022":ar.MULTIPLY,"\u00d7":ar.TIMES,"\u2248":ar.APPROX,"\u2245":ar.CONG,"\u00b1":ar.PLUSMINUS,"\u25e6":ar.COMPFN,"\u227a":ar.PRECEDES,"\u227b":ar.FOLLOWS,"\u2259":ar.ESTIMATES,"\u2213":ar.MINUSPLUS,"\u2266":ar.LTEQ,"\u2267":ar.GTEQ,"\u2299":ar.DOTPRODUCT};var cr\x3d{};cr[ar.EMPTY]\x3d{text:"\\0",latex:"",accName:"",mma:""},cr[ar.SPACE]\x3d{text:" ",latex:"",accName:"",mma:""},cr[ar.PLUS]\x3d{text:"+",latex:"+",accName:"plus",className:"opPlus",mma:"RawPlus",js:"+"},cr[ar.MINUS]\x3d{text:"\u2212",latex:"-",accName:"minus",mma:"RawMinus",className:"",js:"-"},cr[ar.MULTIPLY]\x3d{text:"\u2022",latex:"\\\\cdot",accName:" times ",mma:"RawStar",className:"",js:"*"},cr[ar.DIVIDE]\x3d{text:"/",latex:"/",accName:" divided by ",mma:"RawSlash",className:"eqMathBB opDivide",js:"/"},cr[ar.EQUALS]\x3d{text:"\x3d",latex:"\x3d",accName:"equals",mma:"Equal"},cr[ar.POWER]\x3d{text:"^",latex:"\\\\wedge",accName:"caret",mma:"RawWedge"},cr[ar.LT]\x3d{text:"\x3c",latex:"\x3c",accName:"less than",mma:"RawLess"},cr[ar.GT]\x3d{text:"\x3e",latex:"\x3e",accName:"greater than",mma:"RawGreater"},cr[ar.LE]\x3d{text:"\u2264",latex:"\\\\le",accName:"less than or equals",mma:"LessEqual"},cr[ar.GE]\x3d{text:"\u2265",latex:"\\\\ge",accName:"greater than or equals",mma:"GreaterEqual"},cr[ar.NE]\x3d{text:"\u2260",latex:"\\\\ne",accName:"not equals",mma:"NotEqual"},cr[ar.DIV]\x3d{text:"\u00f7",latex:"\\\\div",accName:" divided by ",mma:"Divide"},cr[ar.TIMES]\x3d{text:"\u00d7",latex:"\\\\times",accName:" times ",mma:"Cross",className:"eqMathBB multiplicationCross"},cr[ar.STAR]\x3d{text:"*",latex:"\\\\ast",accName:"star",mma:"Star",className:"eqMathBB"},cr[ar.APPROX]\x3d{text:"\u2248",latex:"\\\\approx",accName:"almost equals",mma:"TildeTilde",className:"eqMathBB"},cr[ar.CONG]\x3d{text:"\u2245",latex:"\\\\cong",accName:"congruent",mma:"TildeEqual",className:"eqMathBB"},cr[ar.PLUSMINUS]\x3d{text:"\u00b1",latex:"\\\\pm",accName:"plus or minus",mma:"PlusMinus"},cr[ar.COMPFN]\x3d{text:"\u25e6",latex:"\\\\circ",accName:"circle",mma:"SmallCircle",className:"eqMathBB"},cr[ar.PRECEDES]\x3d{text:"\u227a",latex:"\\\\prec",accName:"precedes",mma:"Precedes"},cr[ar.FOLLOWS]\x3d{text:"\u227b",latex:"\\\\succ",accName:"follows",mma:"Follows"},cr[ar.ESTIMATES]\x3d{text:"\u2259",latex:"\\\\estimates",accName:"estimates",mma:"Estimates"},cr[ar.MINUSPLUS]\x3d{text:"\u2213",latex:"\\\\minusplus",accName:"minus plus",mma:"MinusPlus"},cr[ar.LTEQ]\x3d{text:"\u2266",latex:"\\\\lteq",accName:"less than over equal",mma:"LessThenOverEqual",className:"eqMathBB"},cr[ar.GTEQ]\x3d{text:"\u2267",latex:"\\\\gteq",accName:"greater than over equal",mma:"GreaterthenOverEqual",className:"eqMathBB"},cr[ar.DOTPRODUCT]\x3d{text:"\u2299",latex:"\\\\dotproduct",accName:"dot product",mma:"DotProduct",className:"eqMathBB onePtFive"},sr._OpInfo\x3dcr,sr.getEqOp\x3dfunction(t){for(var e in sr.OpTypes)if(sr.OpTypes.hasOwnProperty(e)\x26\x26t\x3d\x3d\x3dsr.OpTypes[e])return new sr(t);return null},sr.getEqOpFromChar\x3dfunction(t){var e\x3dsr._OpChars[t];return e?new sr(e):null},sr.getEqOpNameFromMma\x3dfunction(t){for(var e in cr)if(cr.hasOwnProperty(e)\x26\x26t\x3d\x3d\x3dcr[e].mma)return e;return null},sr.isOpChar\x3dfunction(t){return!!sr._OpChars[t]},sr.isEqOpLatex\x3dfunction(t){return null!\x3dsr._getEqOpTypeFromLatex(t)},sr._getEqOpTypeFromLatex\x3dfunction(t){for(var e in cr)if(cr.hasOwnProperty(e)\x26\x26cr[e].latex.indexOf(t)\x3e-1)return e;return null},sr.getEqOpLatex\x3dfunction(t){var e\x3dsr._getEqOpTypeFromLatex(t);return null\x3d\x3de?null:new sr(e)};var ur\x3d{drawLeftBrace:function(t,e,i){var n\x3de/2,r\x3de\x3e20?2.5:1.5,o\x3d[];o.push(\'\x3csvg height\x3d"\'),o.push(e),o.push(\'" width\x3d"6"\x3e\'),o.push(\'\x3cpath d\x3d"M6,0 L3 4 L3 \'),o.push(n-r),o.push(" L0 "),o.push(n),o.push(" L3 "),o.push(n+r),o.push(" L3 "),o.push(e-3),o.push(" L6 "),o.push(e),o.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3do.join("")},drawRightBrace:function(t,e,i){var n\x3de/2,r\x3de\x3e20?2.5:1.5,o\x3d[];o.push(\'\x3csvg height\x3d"\'),o.push(e),o.push(\'" width\x3d"6"\x3e\'),o.push(\'\x3cpath d\x3d"M0,0 L3 4 L3 \'),o.push(n-r),o.push(" L6 "),o.push(n),o.push(" L3 "),o.push(n+r),o.push(" L3 "),o.push(e-3),o.push(" L0 "),o.push(e),o.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3do.join("")},drawLeftParen:function(t,e,i){var n\x3d[];e\x3dMath.floor(e)+.5,n.push(\'\x3csvg height\x3d"\'),n.push(e),n.push(\'" width\x3d"6.5"\x3e\'),n.push(\'\x3cpath d\x3d"M5.5,0.5 A 4,8 0 0 0 1.5,8.5 L1.5 \'),n.push(e-8.5),n.push(" A 4,8 0 0 0 5.5 "),n.push(e-1),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},drawRightParen:function(t,e,i){var n\x3d[];e\x3dMath.floor(e)+.5,n.push(\'\x3csvg height\x3d"\'),n.push(e),n.push(\'" width\x3d"6.5"\x3e\'),n.push(\'\x3cpath d\x3d"M0.5,0.5 A 4,8 0 0 1 4.5,8.5 L4.5 \'),n.push(e-8.5),n.push(" A 4,8 0 0 1 0.5 "),n.push(e-1),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},drawLeftBracket:function(t,e,i){var n\x3d[];e\x3dMath.floor(e)-.5;var r\x3dMath.ceil(e);n.push(\'\x3csvg height\x3d"\'),n.push(r),n.push(\'" width\x3d"5"\x3e\'),n.push(\'\x3cpath d\x3d"M4.5 0.5 h-4 V0.5 \'),n.push(e),n.push(" h4"),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},drawRightBracket:function(t,e,i){var n\x3d[],r\x3dMath.ceil(e);e\x3dMath.floor(e)-.5,n.push(\'\x3csvg height\x3d"\'),n.push(r),n.push(\'" width\x3d"5"\x3e\'),n.push(\'\x3cpath d\x3d"M0.5 0.5 h4 V\'),n.push(e),n.push(" h-4"),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},drawPipe:function(t,e,i){var n\x3d[],r\x3dMath.ceil(e);e\x3dMath.floor(e)-.5,n.push(\'\x3csvg height\x3d"\'),n.push(r),n.push(\'" width\x3d"2"\x3e\'),n.push(\'\x3cpath d\x3d"M0.5 0.5 V\'),n.push(e),n.push(\'" style\x3d"fill:none;stroke:\'.concat(i,\'; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')),t.innerHTML\x3dn.join("")},addBox:function(t,e){if(null\x3d\x3dt)return h({},e);var i\x3dh({},t),n\x3dt.t+t.h,r\x3de.t+e.h;return e.t\x3ct.t\x26\x26(i.t\x3de.t),r\x3en\x26\x26(n\x3dr),i.h\x3dn-i.t,i}},lr\x3dfunction(){function t(){e(this,t)}return n(t,null,[{key:"toHexString",value:function(t){var e\x3dt.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);if(null\x3d\x3de)return t;var i\x3dparseInt(e[1],10),n\x3dparseInt(e[2],10),r\x3dparseInt(e[3],10);return"#".concat(er.padString(i.toString(16),2,"0")).concat(er.padString(n.toString(16),2,"0")).concat(er.padString(r.toString(16),2,"0"))}}]),t}();function hr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var dr\x3dfunction(t){a(s,t);var i\x3dhr(s);function s(t,n){var r;return e(this,s),(r\x3di.apply(this,arguments)).initFields(),r._parenChar\x3dt,r._parenType\x3dn,r}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._matchedParen\x3dnull,this._parenChar\x3dnull,this._parenType\x3dnull,this.baseClass\x3d"eqParen",this.disableCharParens\x3d!1}},{key:"isEqParen",value:function(){return!0}},{key:"getMathML",value:function(){return null}},{key:"getLatex",value:function(){var t\x3d"";return"{"!\x3dthis.getParenChar()\x26\x26"}"!\x3dthis.getParenChar()||(t\x3d"\\\\"),this.isCloseParen()?"\\\\right".concat(t).concat(this._parenChar):"\\\\left".concat(t).concat(this._parenChar)}},{key:"setParenBox",value:function(t){var e,i\x3dthis.getDomNode(),n\x3dthis.getEqDocument();if(!this.checkParens()\x26\x26!n.disabled\x26\x26!n.disableParenMatching)fn(this.domNode,"eqParenUnmatched"),e\x3dn.getParenColor(!0);else{mn(this.domNode,"eqParenUnmatched");var r\x3dbi(this.domNode,"color");e\x3d""\x3d\x3dr?"#000":lr.toHexString(r)}var o\x3ds.ParenInfo[this._parenChar];s.calcParenNode(i,t,o,e)}},{key:"setMatchedParen",value:function(t){t!\x3dthis._matchedParen\x26\x26(this._matchedParen\x3dt,this.invalidate())}},{key:"getMatchedParen",value:function(){return this._matchedParen}},{key:"isOpenParen",value:function(){return this._parenType?this._parenType\x3d\x3ds.EqParenType.OPEN:s.OPENPARENS.indexOf(this._parenChar)\x3e\x3d0}},{key:"isCloseParen",value:function(){return this._parenType?this._parenType\x3d\x3ds.EqParenType.CLOSE:s.CLOSEPARENS.indexOf(this._parenChar)\x3e\x3d0}},{key:"isUnknownParen",value:function(){return this._parenType\x3d\x3ds.EqParenType.UNKNOWN||"|"\x3d\x3dthis._parenChar}},{key:"canClose",value:function(t){return this.isOpenParen()\x26\x26t.isCloseParen()}},{key:"setParenChar",value:function(t){this._parenChar!\x3dt\x26\x26(this._parenChar\x3dt,this.invalidate())}},{key:"getParenChar",value:function(){return this._parenChar}},{key:"getMatchingCloseParenChar",value:function(t){var e;return(e\x3ds.OPENPARENS.indexOf(t))\x3e\x3d0?s.CLOSEPARENS.charAt(e):t}},{key:"getMatchingOpenParenChar",value:function(t){var e;return(e\x3dthis.CLOSEPARENS.indexOf(t))\x3e\x3d0?this.OPENPARENS.charAt(e):t}},{key:"getMatchingParenChar",value:function(){return this.isOpenParen()?this.getMatchingCloseParenChar(this._parenChar):this.getMatchingOpenParenChar(this._parenChar)}},{key:"getIsEmpty",value:function(){return 0\x3d\x3dthis._parenChar.length}},{key:"deleteCharacter",value:function(t){this._parenChar\x3d"",t.characterDeleted\x3d!0}},{key:"isEmpty",value:function(){return 0\x3d\x3d\x3dthis._parenChar.length}},{key:"getEqText",value:function(){var t\x3ds.ParenInfo[this._parenChar];return t?t.text:this._parenChar}},{key:"getAccessibleName",value:function(){if("{"\x3d\x3dthis._parenChar)return"StartSet";if("}"\x3d\x3dthis._parenChar)return"EndSet";var t\x3dthis.isOpenParen()?"left ":"right ";return"["\x3d\x3dthis._parenChar||"]"\x3d\x3dthis._parenChar?t+\x3d"bracket":t+\x3d"parenthesis",t}},{key:"getAccessiblePlainText",value:function(){return this._parenChar}},{key:"getParenType",value:function(){return this._parenType}},{key:"setParenType",value:function(t){this._parenType\x3dt}},{key:"checkParens",value:function(){var t\x3d!1,e\x3dthis.getMatchedParen();return e\x26\x26(t\x3dthis.isOpenParen()?s.CLOSINGPAREN[this._parenChar]\x3d\x3d\x3de._parenChar:s.CLOSINGPAREN[e._parenChar]\x3d\x3d\x3dthis._parenChar),t||!(this.shouldInterpretFunctions()||this.getEqDocument().markUnmatchedParens)}},{key:"createDom",value:function(){return zi.create("span",{innerHTML:this._parenChar})}},{key:"postRender",value:function(){}},{key:"getTreeLabel",value:function(){return"paren: ".concat(this._parenChar)}}]),s}(Xn);dr.CLOSINGPAREN\x3d{"{":"}","(":")","[":"]","|":"|"},dr.OPENPARENS\x3d"([{|",dr.CLOSEPARENS\x3d")]}|",dr.LBRACKET\x3d"\x26lbracket;",dr.RBRACKET\x3d"\x26rbracket;",dr.LBRACE\x3d"\x26lbrace;",dr.RBRACE\x3d"\x26rbrace;",dr.EqParenType\x3d{OPEN:"open",CLOSE:"close",UNKNOWN:"unknown"};var pr\x3d{};pr["("]\x3d{text:"("},pr[")"]\x3d{text:")"},pr["["]\x3d{text:dr.LBRACKET,chr:"["},pr["]"]\x3d{text:dr.RBRACKET,chr:"]"},pr["{"]\x3d{text:dr.LBRACE,chr:"{"},pr["}"]\x3d{text:dr.RBRACE,chr:"}"},pr["|"]\x3d{text:"|"},dr.ParenInfo\x3dpr,dr.getEqParenFromEntity\x3dfunction(t){return t\x3d\x3ddr.LBRACKET?new dr("[",dr.EqParenType.OPEN):t\x3d\x3ddr.RBRACKET?new dr("]",dr.EqParenType.CLOSE):t\x3d\x3ddr.LBRACE?new dr("{",dr.EqParenType.OPEN):t\x3d\x3ddr.RBRACE?new dr("}",dr.EqParenType.CLOSE):null},dr.resetParenNode\x3dfunction(t){Ei(t,{fontSize:"inherit",marginLeft:"",marginRight:"",marginTop:"",marginBottom:"",height:"",width:""}),mn(t,"eqParenSvg"),t.parenBox\x3dnull},dr.calcParenNode\x3dfunction(t,e,i,n){if(dr.resetParenNode(t),t.innerHTML\x3di.chr?i.chr:i.text,!e.forceParenExpand){var r\x3dEn.getMarginBox(t);if(0\x3d\x3d\x3de.h||e.h\x3c\x3dr.h)return}switch(zi.empty(t),i.text){case dr.RBRACE:ur.drawRightBrace(t,e.h,n),fn(t,"right");break;case dr.LBRACE:ur.drawLeftBrace(t,e.h,n),fn(t,"left");break;case"(":ur.drawLeftParen(t,e.h,n),fn(t,"left");break;case")":ur.drawRightParen(t,e.h,n),fn(t,"right");break;case dr.LBRACKET:ur.drawLeftBracket(t,e.h,n),fn(t,"left");break;case dr.RBRACKET:ur.drawRightBracket(t,e.h,n),fn(t,"right");break;case"|":ur.drawPipe(t,e.h,n)}var o\x3dt.parentNode,s\x3dEn.getPadExtents(o),a\x3de.t-s.t,c\x3de.h;(Li("ie")||Li("trident"))\x26\x26(c\x3d0),fn(t,"eqParenSvg"),Ei(t,{height:"".concat(c,"px"),marginTop:"".concat(a,"px")}),t.parenBox\x3d{t:a,h:c}};var fr\x3dsetTimeout;function mr(t){return Boolean(t\x26\x26void 0!\x3d\x3dt.length)}function gr(){}function vr(t){if(!(this instanceof vr))throw new TypeError("Promises must be constructed via new");if("function"!\x3dtypeof t)throw new TypeError("not a function");this._state\x3d0,this._handled\x3d!1,this._value\x3dvoid 0,this._deferreds\x3d[],Er(t,this)}function yr(t,e){for(;3\x3d\x3d\x3dt._state;)t\x3dt._value;0!\x3d\x3dt._state?(t._handled\x3d!0,vr._immediateFn((function(){var i\x3d1\x3d\x3d\x3dt._state?e.onFulfilled:e.onRejected;if(null!\x3d\x3di){var n;try{n\x3di(t._value)}catch(t){return void wr(e.promise,t)}xr(e.promise,n)}else(1\x3d\x3d\x3dt._state?xr:wr)(e.promise,t._value)}))):t._deferreds.push(e)}function xr(t,e){try{if(e\x3d\x3d\x3dt)throw new TypeError("A promise cannot be resolved with itself.");if(e\x26\x26("object"\x3d\x3dtypeof e||"function"\x3d\x3dtypeof e)){var i\x3de.then;if(e instanceof vr)return t._state\x3d3,t._value\x3de,void Cr(t);if("function"\x3d\x3dtypeof i)return void Er((n\x3di,r\x3de,function(){n.apply(r,arguments)}),t)}t._state\x3d1,t._value\x3de,Cr(t)}catch(e){wr(t,e)}var n,r}function wr(t,e){t._state\x3d2,t._value\x3de,Cr(t)}function Cr(t){2\x3d\x3d\x3dt._state\x26\x260\x3d\x3d\x3dt._deferreds.length\x26\x26vr._immediateFn((function(){t._handled||vr._unhandledRejectionFn(t._value)}));for(var e\x3d0,i\x3dt._deferreds.length;e\x3ci;e++)yr(t,t._deferreds[e]);t._deferreds\x3dnull}function _r(t,e,i){this.onFulfilled\x3d"function"\x3d\x3dtypeof t?t:null,this.onRejected\x3d"function"\x3d\x3dtypeof e?e:null,this.promise\x3di}function Er(t,e){var i\x3d!1;try{t((function(t){i||(i\x3d!0,xr(e,t))}),(function(t){i||(i\x3d!0,wr(e,t))}))}catch(t){if(i)return;i\x3d!0,wr(e,t)}}vr.prototype.catch\x3dfunction(t){return this.then(null,t)},vr.prototype.then\x3dfunction(t,e){var i\x3dnew this.constructor(gr);return yr(this,new _r(t,e,i)),i},vr.prototype.finally\x3dfunction(t){var e\x3dthis.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){return e.reject(i)}))}))},vr.all\x3dfunction(t){return new vr((function(e,i){if(!mr(t))return i(new TypeError("Promise.all accepts an array"));var n\x3dArray.prototype.slice.call(t);if(0\x3d\x3d\x3dn.length)return e([]);var r\x3dn.length;function o(t,s){try{if(s\x26\x26("object"\x3d\x3dtypeof s||"function"\x3d\x3dtypeof s)){var a\x3ds.then;if("function"\x3d\x3dtypeof a)return void a.call(s,(function(e){o(t,e)}),i)}n[t]\x3ds,0\x3d\x3d--r\x26\x26e(n)}catch(t){i(t)}}for(var s\x3d0;s\x3cn.length;s++)o(s,n[s])}))},vr.allSettled\x3dfunction(t){return new this((function(e,i){if(!t||void 0\x3d\x3d\x3dt.length)return i(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n\x3dArray.prototype.slice.call(t);if(0\x3d\x3d\x3dn.length)return e([]);var r\x3dn.length;function o(t,i){if(i\x26\x26("object"\x3d\x3dtypeof i||"function"\x3d\x3dtypeof i)){var s\x3di.then;if("function"\x3d\x3dtypeof s)return void s.call(i,(function(e){o(t,e)}),(function(i){n[t]\x3d{status:"rejected",reason:i},0\x3d\x3d--r\x26\x26e(n)}))}n[t]\x3d{status:"fulfilled",value:i},0\x3d\x3d--r\x26\x26e(n)}for(var s\x3d0;s\x3cn.length;s++)o(s,n[s])}))},vr.resolve\x3dfunction(t){return t\x26\x26"object"\x3d\x3dtypeof t\x26\x26t.constructor\x3d\x3d\x3dvr?t:new vr((function(e){e(t)}))},vr.reject\x3dfunction(t){return new vr((function(e,i){i(t)}))},vr.race\x3dfunction(t){return new vr((function(e,i){if(!mr(t))return i(new TypeError("Promise.race accepts an array"));for(var n\x3d0,r\x3dt.length;n\x3cr;n++)vr.resolve(t[n]).then(e,i)}))},vr._immediateFn\x3d"function"\x3d\x3dtypeof setImmediate\x26\x26function(t){setImmediate(t)}||function(t){fr(t,0)},vr._unhandledRejectionFn\x3dfunction(t){"undefined"!\x3dtypeof console\x26\x26console\x26\x26console.warn("Possible Unhandled Promise Rejection:",t)};var br\x3dfunction(t){return Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"\x3d").concat(encodeURIComponent(t[e]))})).join("\x26")},Rr\x3d{},qr\x3dfunction(t){return Rr[t]},kr\x3dqr,Nr\x3dfunction(t){return new vr((function(e){var i\x3d[];if(un(t.families,(function(t){qr(t)||i.push(t)})),0!\x3di.length){t.families\x3di;var n\x3d{custom:{},loading:function(){},active:function(){e("active")},inactive:function(){e("inactive")},fontloading:function(){},fontactive:function(t,e){Rr["".concat(t,":").concat(e)]\x3d"active"},fontinactive:function(t,e){Rr["".concat(t,":").concat(e)]\x3d"inactive"}};sn(n.custom,t),function(t,e,i,n){var r;if("script"\x3d\x3d\x3dt)(r\x3ddocument.createElement("script")).type\x3d"text/javascript",r.src\x3de;else{if("style"!\x3d\x3dt)return void(n\x26\x26n());(r\x3ddocument.createElement("link")).rel\x3d"stylesheet",r.href\x3de}i\x26\x26(r.onreadystatechange\x3di,r.onload\x3di),n\x26\x26(r.onerror\x3dn);var o\x3ddocument.getElementsByTagName("head")[0];if("style"\x3d\x3d\x3dt){var s\x3do.getElementsByTagName("style");if(s.length)return void o.insertBefore(r,s[0])}o.appendChild(r)}("script","https://acs-cdn.prd-prsn.com/tdxclient/webFont.js",(function(){return window.WebFont.load(n)}))}else e("alreadyloaded")}))},Tr\x3dfunction(t){var e\x3dbi(t,"fontWeight"),i\x3dbi(t,"fontFamily"),n\x3d"";switch(bi(t,"fontStyle")){case"normal":case"":n\x3d"n";break;case"italic":n\x3d"i";break;case"oblique":n\x3d"o";break;default:n\x3d"n"}switch(e){case"400":case"normal":case"":n+\x3d"4";break;case"bold":n+\x3d"7";break;default:parseInt(e)\x26\x26(n+\x3de.substring(0,1))}return{name:"".concat(i,":").concat(n),family:i,fvd:n}},Sr\x3d{STIXIntegralsUpAc:"\u222b\u222e",STIXGeneralAc:"+-*/\x3d\x3c\x3e"},Lr\x3dfunction(){function t(i){e(this,t),this._fontsNeedLoading\x3dnull,this._eqDocument\x3di}return n(t,[{key:"clearFonts",value:function(){this._fontsNeedLoading\x3d{}}},{key:"_addFontToList",value:function(t,e){var i\x3dthis._fontsNeedLoading[t.name];i||(i\x3d{fontInfo:t,eqNodes:[]},this._fontsNeedLoading[t.name]\x3di),i.eqNodes.push(e)}},{key:"registerFont",value:function(t,e){var i\x3dTr(e);if(Sr[i.family]){if(kr(i.name))return;this._addFontToList(i,t)}}},{key:"processFonts",value:function(){var t\x3d[],e\x3d{},i\x3d[];for(var n in this._fontsNeedLoading){var r\x3dthis._fontsNeedLoading[n];t.push(n),e[r.fontInfo.family]\x3dSr[r.fontInfo.family],i\x3di.concat(r.eqNodes)}if(0!\x3dt.length){var o\x3dthis;Nr({families:t,testStrings:e}).then((function(t){if("active"\x3d\x3dt)try{un(i,(function(t){try{t.invalidate()}catch(t){}})),o._eqDocument.doLayout()}catch(t){}}))}}}]),t}();function Ar(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Pr\x3dfunction(t){a(s,t);var i\x3dAr(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._name\x3dt.name,n._info\x3ds._sInfo[n._name],n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._name\x3dnull,this._info\x3dnull,this._empty\x3d!1,this._defaultCSS\x3d"eqMathBB",this._sInfo\x3dnull,this.stopOverWriteItalic\x3d!1}},{key:"isEqSymbol",value:function(){return!0}},{key:"getText",value:function(){if(this._info){if(this._info.html)return"\x26".concat(this._info.html,";");if(this._info.sym)return this._info.sym}return"\x26".concat(this._name,";")}},{key:"getAccessibleName",value:function(){return this._info\x26\x26this._info.acc?this._info.acc:this._name}},{key:"getCSS",value:function(){return this._info\x26\x26this._info.css?this._info.css:this._defaultCSS}},{key:"getPadding",value:function(){return this._info\x26\x26this._info.padding?this._info.padding:null}},{key:"getUseItalics",value:function(){var t\x3dthis.getEqDocument();return t\x26\x26t.getItalicizeVariables()\x26\x26!this.isInsideRoman()}},{key:"getAllowItalics",value:function(){return this._info\x26\x26this._info.allowItalic}},{key:"createDom",value:function(){var t\x3dzi.create("span",{innerHTML:this.getText()}),e\x3dthis.getCSS();e\x26\x26fn(t,e),this.getAllowItalics()?this.getUseItalics()\x26\x26fn(t,"italic"):fn(t,"noitalic");var i\x3dthis.getPadding();return i\x26\x26(i.top\x26\x26Ei(t,"paddingTop",i.top),i.bottom\x26\x26Ei(t,"paddingBottom",i.bottom),i.left\x26\x26Ei(t,"paddingLeft",i.left),i.right\x26\x26Ei(t,"paddingRight",i.right)),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.isInsideRoman()\x26\x26(mn(this.domNode,"italic"),fn(this.domNode,"noitalic")),this.getEqDocument().registerFont(this,this.domNode)}},{key:"deleteCharacter",value:function(t){this._empty\x3d!0,t.characterDeleted\x3d!0}},{key:"isEmpty",value:function(){return this._empty}},{key:"getEqText",value:function(){return"\x26".concat(this._name,";")}},{key:"getLatex",value:function(){return this._info.latexSpaces?" \\\\".concat(this._info.latex," "):"{\\\\".concat(this._info.latex,"}")}},{key:"isOperator",value:function(){return!(!this._info||!this._info.isOp)}},{key:"getJSText",value:function(){return this._info\x26\x26this._info.js?this._info.js:""}}]),s}(Xn),Dr\x3d{null:{sym:"\x26#x0000;",html:"",mml:"",acc:"",mma:"",latex:""},nbsp:{sym:"\x26#x0160;",html:"nbsp",latex:"",css:"eqSpace"},alpha:{sym:"\x26#x03B1;",html:"alpha",mma:"alpha",latex:"alpha",acc:"alpha",unicode:"\u03b1",allowItalic:!0},beta:{sym:"\x26#x03B2;",html:"beta",mma:"beta",latex:"beta",acc:"beta",unicode:"\u03b2",allowItalic:!0},gamma:{sym:"\x26#x03B3;",html:"gamma",mma:"gamma",latex:"gamma",acc:"gamma",unicode:"\u03b3",allowItalic:!0},delta:{sym:"\x26#x03B4;",html:"delta",mma:"delta",latex:"delta",acc:"delta",unicode:"\u03b4",allowItalic:!0},epsi:{sym:"\x26#x03B5;",html:"epsilon",mma:"epsilon",latex:"epsilon",acc:"epsilon",unicode:"\u03b5",allowItalic:!0},zeta:{sym:"\x26#x03B6;",html:"zeta",mma:"Zeta",latex:"zeta",unicode:"\u03b6",allowItalic:!0},eta:{sym:"\x26#x03B7;",html:"eta",mma:"Eta",latex:"eta",unicode:"\u03b7",allowItalic:!0},theta:{sym:"\x26#x03B8;",html:"theta",mma:"Theta",latex:"theta",unicode:"\u03b8",allowItalic:!0},iota:{sym:"\x26#x03B9;",html:"iota",mma:"Iota",latex:"iota",unicode:"\u03b9",allowItalic:!0},kappa:{sym:"\x26#x03BA;",html:"kappa",mma:"Kappa",latex:"kappa",unicode:"\u03ba",allowItalic:!0},lambda:{sym:"\x26#x03BB;",html:"lambda",mma:"Lambda",latex:"lambda",unicode:"\u03bb",allowItalic:!0},mu:{sym:"\x26#x03BC;",html:"mu",mma:"Mu",latex:"mu",unicode:"\u03bc",allowItalic:!0},nu:{sym:"\x26#x03BD;",html:"nu",mma:"Nu",latex:"nu",unicode:"\u03bd",allowItalic:!0},xi:{sym:"\x26#x03BE;",html:"xi",mma:"Xi",latex:"xi",unicode:"\u03be",allowItalic:!0},omicron:{sym:"\x26#x03BF;",html:"omicron",mma:"Omicron",latex:"omicron",unicode:"\u03bf",allowItalic:!0},pi:{sym:"\x26#x03C0;",html:"pi",mma:"Pi",latex:"pi",js:"Math.PI",unicode:"\u03c0",allowItalic:!0},rho:{sym:"\x26#x03C1;",html:"rho",mma:"Rho",latex:"rho",unicode:"\u03c1",allowItalic:!0},sigma:{sym:"\x26#x03C3;",html:"sigma",mma:"Sigma",latex:"sigma",unicode:"\u03c3",allowItalic:!0},tau:{sym:"\x26#x03C4;",html:"tau",mma:"Tau",latex:"tau",unicode:"\u03c4",allowItalic:!0},cale:{sym:"\x26#x0190;",mma:"CalligraphicE",latex:"cal{E}",acc:"Calligraphic E",unicode:"\u0190",allowItalic:!0},upsi:{sym:"\x26#x03c5;",html:"upsilon",mma:"Upsilon",latex:"upsilon",acc:"upsilon",unicode:"\u03c5",allowItalic:!0},phi:{sym:"\x26#x03D5;",htmlx:"phi",mma:"Phi",latex:"phi",acc:"variant phi",unicode:"\u03d5",allowItalic:!0},chi:{sym:"\x26#x03C7;",html:"chi",mma:"Chi",latex:"chi",unicode:"\u03c7",allowItalic:!0},psi:{sym:"\x26#x03C8;",html:"psi",mma:"Psi",latex:"psi",unicode:"\u03c8",allowItalic:!0},omega:{sym:"\x26#x03C9;",html:"omega",mma:"Omega",latex:"omega",unicode:"\u03c9",allowItalic:!0},infin:{sym:"\x26#x221E;",html:"infin",mma:"Infinity",latex:"infty",acc:"infinity"},cap:{sym:"\x26#x2229;",html:"cap",mma:"Cap",latex:"cap",isOp:!0,acc:"intersect",css:"eqMathBB onePtTwo",unicode:"\u2229"},cup:{sym:"\x26#x222A;",html:"cup",mma:"Cup",latex:"cup",isOp:!0,acc:"union",css:"eqMathBB onePtTwo",unicode:"\u222a"},and:{sym:"\x26#x2227;",html:"and",mma:"And",latex:"and",isOp:!0,acc:"logical and",unicode:"\u2227"},or:{sym:"\x26#x2228;",html:"or",mma:"Or",latex:"or",isOp:!0,acc:"logical or",unicode:"\u2228"},notin:{sym:"\x26#x2209;",html:"notin",mma:"NotElement",latex:"noteelement",isOp:!0,acc:"is not an element of",css:"eqMathBB onePtTwo",unicode:"\u2209"},in:{sym:"\x26#x2208;",html:"isin",mma:"Element",latex:"element",isOp:!0,acc:"is an element of",css:"eqMathBB onePtTwo",unicode:"\u2208"},deg:{sym:"\x26#x00B0;",html:"deg",mma:"Degree",latex:"degree",acc:"degrees",css:"onePtThree",unicode:"\u00b0"},deg2:{sym:"\x26#x00B0;",html:"deg",mma:"deg",latex:"deg",acc:"deg",css:"onePtThree"},angstrom:{sym:"\x26#x00C5;",html:"Aring",mma:"Angstrom",latex:"AA",padding:{top:"0.4em"},unicode:"\u00c5"},cent:{sym:"\x26#x00A2;",html:"cent",mma:"Cent",latex:"cent",acc:"cents",unicode:"\u00a2"},rangle:{sym:"\x26#x232A;",mma:"RightAngleBracket",latex:"rightanglebracket",acc:"right angle",css:"eqMathBB onePtTwo",unicode:"\u232a"},inf:{sym:"\x26#x221E;",html:"infin",mma:"Infinity",latex:"infty_",acc:"infinity",unicode:"\u221e"},empty:{sym:"\x26#x2205;",html:"empty",mma:"EmptySet",latex:"emptyset",acc:"empty set",unicode:"\u2205"},uparrow:{sym:"\x26#x2191;",html:"uarr",mma:"UpArrow",latex:"uparrow",acc:"up arrow",css:"eqMathBB onePtTwo",latexSpaces:!0,unicode:"\u2191"},downarrow:{sym:"\x26#x2193;",html:"darr",mma:"DownArrow",latex:"downarrow",acc:"down arrow",css:"eqMathBB onePtTwo",latexSpaces:!0,unicode:"\u2193"},leftarrow:{sym:"\x26#x2190;",html:"larr",mma:"LeftArrow",latex:"leftarrow",isOp:!0,acc:"left arrow",css:"eqMathBB onePtTwo",latexSpaces:!0,unicode:"\u2190"},rightarrow:{sym:"\x26#x2192;",html:"rarr",mma:"RightArrow",latex:"rightarrow",isOp:!0,acc:"right arrow",css:"eqMathBB onePtTwo",latexSpaces:!0,unicode:"\u2192"},leftrightarrow:{sym:"\x26#x2194;",html:"harr",mma:"LeftRightArrow",latex:"leftrightarrow",isOp:!0,acc:"left right arrow",css:"eqMathBB onePtTwo",unicode:"\u2194"},dleftrightarrow:{sym:"\x26#x21D4;",html:"hArr",mma:"LeftRightArrow",latex:"dleftrightarrow",isOp:!0,acc:"double left right arrow",unicode:"\u21d4"},langle:{sym:"\x26#x2329;",mma:"LeftAngleBracket",latex:"leftanglebracket",acc:"left angle",css:"eqMathBB onePtTwo",unicode:"\u2329"},angle:{sym:"\x26#x2220;",html:"ang",mma:"Angle",latex:"C I S",css:"eqMathBB onePtFive",unicode:"\u2220"},sqrt:{sym:"\x26#x221A;",html:"radic",mma:"Sqrt",latex:"",acc:"square root",unicode:"\u221a"},dbharpoon:{sym:"\x26#x21cc;",mma:"rightarrowleftarrow",latex:"rightleftharpoons",acc:"right left harpoons",latexSpaces:!0,unicode:"\u21cc"},cdelta:{sym:"\x26#x0394;",html:"Delta",mma:"CapitalDelta",latex:"Delta",acc:"Upper Delta",unicode:"\u0394"},lognot:{sym:"\x26#x00AC;",mma:"Not",latex:"not",acc:"logical not",unicode:"\u00ac"},propsubset:{sym:"\x26#x2282;",html:"sub",mma:"Subset",latex:"subset",isOp:!0,acc:"is a proper subset of",css:"eqMathBB onePtTwo",unicode:"\u2282"},notpropsubset:{sym:"\x26#x2284;",html:"nsub",mma:"NotSubset",latex:"notsubset",isOp:!0,acc:"is not a proper subset of",css:"eqMathBB onePtTwo",unicode:"\u2284"},subset:{sym:"\x26#x2286;",html:"sube",mma:"SubsetEqual",latex:"subsetequal",isOp:!0,acc:"is a subset of",css:"eqMathBB onePtTwo",unicode:"\u2286"},sube:{sym:"\x26#x2286;",html:"sube",mma:"SubsetEqual",latex:"subsetequal",isOp:!0,acc:"subset equals",css:"eqMathBB onePtTwo"},notsubset:{sym:"\x26#x2288;",mma:"NotSubsetEqual",latex:"notsubsetequal",isOp:!0,acc:"is not a subset of",css:"eqMathBB onePtTwo",unicode:"\u2288"},supset:{sym:"\x26#x2283;",html:"sup",mma:"Superset",latex:"superset",isOp:!0,acc:"is a proper superset of",css:"eqMathBB onePtTwo",unicode:"\u2283"},notpropsupset:{sym:"\x26#x2285;",mma:"NotSuperset",latex:"notsuperset",isOp:!0,acc:"not proper superset",css:"eqMathBB onePtTwo",unicode:"\u2285"},supseteq:{sym:"\x26#x2287;",html:"supe",mma:"SupersetEqual",latex:"supersetequal",isOp:!0,acc:"is a superset of",css:"eqMathBB onePtTwo",unicode:"\u2287"},notsupset:{sym:"\x26#x2289;",mma:"NotSupersetEqual",latex:"notsupersetequal",isOp:!0,acc:"not superset equals",css:"eqMathBB onePtTwo",unicode:"\u2289"},cgamma:{sym:"\x26#x0393;",html:"Gamma",mma:"CapitalGamma",latex:"Gamma",acc:"Upper Gamma",unicode:"\u0393"},clambda:{sym:"\x26#x039B;",html:"Lambda",mma:"CapitalLambda",latex:"Lambda",acc:"Upper Lambda",unicode:"\u039b"},comega:{sym:"\x26#x03A9;",html:"Omega",mma:"CapitalOmega",latex:"Omega",acc:"Upper Omega",unicode:"\u03a9"},cphi:{sym:"\x26#x03A6;",html:"Phi",mma:"CapitalPhi",latex:"Phi",acc:"Upper Phi",unicode:"\u03a6"},phiv:{sym:"\x26#x03C6;",html:"phi",mma:"CurlyPhi",latex:"curlyphi",acc:"phi",unicode:"\u03c6"},cpi:{sym:"\x26#x03A0;",html:"Pi",mma:"CapitalPi",latex:"Pi",acc:"Upper Pi",unicode:"\u03a0"},piv:{sym:"\x26#x03D6;",html:"piv",mma:"CurlyPi",latex:"curlypi",acc:"variant pi",unicode:"\u03d6"},cpsi:{sym:"\x26#x03A8;",html:"Psi",mma:"CapitalPsi",latex:"Psi",acc:"Upper Psi",unicode:"\u03a8"},csigma:{sym:"\x26#x03A3;",html:"Sigma",mma:"CapitalSigma",latex:"Sigma",acc:"Upper Sigma",unicode:"\u03a3"},sigmav:{sym:"\x26#x03C2;",html:"sigmaf",mma:"FinalSigma",latex:"finalsigma",acc:"variant sigma",unicode:"\u03c2"},ctheta:{sym:"\x26#x0398;",html:"Theta",mma:"CapitalTheta",latex:"Theta",acc:"Upper Theta",unicode:"\u0398"},thetav:{sym:"\x26#x03D1;",html:"thetasym",mma:"CurlyTheta",latex:"curlytheta",acc:"script theta",unicode:"\u03d1"},cupsi:{sym:"\x26#x03d2;",mma:"CapitalUpsilon",latex:"Upsilon",acc:"Upper Upsilon",unicode:"\u03d2"},cxi:{sym:"\x26#x039E;",html:"Xi",mma:"CapitalXi",latex:"Xi",acc:"Upper Xi",unicode:"\u039e"},prime:{sym:"\x26#x2032;",html:"prime",mma:"Prime",latex:"prime",css:"eqMathBB prime",unicode:"\u2032"},prime2:{sym:"\x26#x2032;\x26#x2032;",mma:"DoublePrime",latex:"doubleprime",acc:"double prime",css:"eqMathBB prime",unicode:"\u2032\u2032"},prime3:{sym:"\x26#x2032;\x26#x2032;\x26#x2032;",mma:"TriplePrime",latex:"tripleprime",acc:"triple prime",css:"eqMathBB prime",unicode:"\u2032\u2032\u2032"},tilde:{sym:"~",mma:"~",latex:"Tilde",acc:"tilde",unicode:"~",isOp:!0,css:"eqOp"},otimes:{sym:"\x26#x2297;",html:"otimes",mma:"CircleTimes",latex:"circletimes",isOp:!0,acc:"product",css:"eqMathBB onePtTwo",unicode:"\u2297"},oplus:{sym:"\x26#x2295;",html:"oplus",mma:"CirclePlus",latex:"circleplus",isOp:!0,acc:"exclusive or",css:"eqMathBB onePtTwo",unicode:"\u2295"},forall:{sym:"\x26#x2200;",html:"forall",mma:"ForAll",latex:"forall",unicode:"\u2200"},exists:{sym:"\x26#x2203;",mma:"Exists",latex:"exists",css:"eqMathBB onePtTwo",unicode:"\u2203"},compfn:{sym:"\x26#x25E6;",html:"emptysmallcircle",mma:"EmptySmallCircle",latex:"emptysmallcircle",isOp:!0,unicode:"\u25e6"},hyphen:{sym:"-",mma:"Dash",latex:"dash",acc:"dash"},pound:{sym:"\x26#x00A3;",html:"",mma:"",latex:"pound",unicode:"\u00a3"},yen:{sym:"\x26#x00A5;",html:"yen",mma:"Yen",latex:"yen",unicode:"\u00a5"},euro:{sym:"\x26#x20AC;",html:"",mma:"",latex:"euro",unicode:"\u20ac"},mdash:{sym:"\x26#x2014;",html:"mdash",mma:"LongDash",latex:"longdash",acc:"long dash",css:"onePtOneNine",unicode:"\u2014"},grad:{sym:"\x26#x2207;",html:"nabla",mma:"Del",latex:"del",acc:"gradient",unicode:"\u2207"},partiald:{sym:"\x26#x2202;",html:"part",mma:"PartialD",latex:"partiald",acc:"partial derivative",unicode:"\u2202"},equiv:{sym:"\x26#x2261;",html:"",mma:"",latex:"equiv",isOp:!0,acc:"equivalent",unicode:"\u2261"},plus:{sym:"\x26#x002B;",mma:"+",latex:"plus",isOp:!0,js:"+",unicode:"+",css:"opPlus"},minus:{sym:"\x26#x002D;",mma:"-",latex:"minus",isOp:!0,js:"-",unicode:"-",css:" "},plusminus:{sym:"\x26#x00B1;",html:"PlusMinus",mma:"PlusMinus",latex:"plusminus",isOp:!0,acc:"plus or minus",unicode:"\u00b1"},minusplus:{sym:"\x26#x2213;",html:"MinusPlus",mma:"MinusPlus",latex:"minusplus",isOp:!0,acc:"minus or plus",unicode:"\u2213"},mult:{sym:"\x26#x00D7;",html:"Mult",mma:"Mult",latex:"mult",isOp:!0,acc:"multiply",css:"eqMathBB multiplicationCross",unicode:"\u00d7"},dot:{sym:"\x26#x2022;",html:"bull",mma:"Dot",latex:"dot",isOp:!0,css:"eqOp"},divide:{sym:"\x26#x00F7;",html:"divide",mma:"Divide",latex:"divide",isOp:!0,unicode:"\u00f7"},"/":{sym:"\x26#x002F;",mma:"/",latex:"slash",isOp:!0,unicode:"/"},gt:{sym:"\x26#x003E;",mma:"gt",latex:"gt",isOp:!0,acc:"greater than",unicode:"\x3e",css:" "},lt:{sym:"\x26#x003C;",html:"lt",mma:"\x3c",latex:"lt",isOp:!0,acc:"less than",unicode:"\x3c",css:" "},ge:{sym:"\x26#x2265;",html:"ge",mma:"GreaterEqual",latex:"geq",isOp:!0,acc:"greater than or equals",unicode:"\u2265"},le:{sym:"\x26#x2264;",html:"le",mma:"LessEqual",latex:"leq",isOp:!0,acc:"less than or equals",unicode:"\u2264"},eq:{sym:"\x26#x003D;",latex:"eq",isOp:!0,acc:"equals",unicode:"\x3d",css:" "},ne:{sym:"\x26#x2260;",html:"ne",mma:"NotEqual",latex:"noteq",isOp:!0,acc:"not equals",unicode:"\u2260"},approx:{sym:"\x26#x2248;",html:"asymp",mma:"Approx",latex:"approx",isOp:!0,acc:"approximate",unicode:"\u2248"},approxequal:{sym:"\x26#x2245;",html:"cong",mma:"ApproxEqual",latex:"aproxeq",isOp:!0,acc:"almost equals",unicode:"\u2245"},hbar:{sym:"\x26#x0127;",mma:"HBar",latex:"hbar",unicode:"\u0127"},sum:{sym:"\x26#x2211;",html:"sum",mma:"Sum",latex:"sum",acc:"summation",unicode:"\u2211"},integral:{sym:"\x26#x222B;",mma:"Integral",latex:"Integral",acc:"indefinite integral",unicode:"\u222b"},contourintegral:{sym:"\x26#x222E;",mma:"ContourIntegral",latex:"ContourIntegral",acc:"contour integral",unicode:"\u222e"},ndash:{sym:"\x26#x2013;",mma:"Dash",latex:"dash",acc:"dash",unicode:"\u2013"},bull:{sym:"\x26#x2022;",mma:"Bullet",latex:"item",acc:"bullet",css:"onePtTwo"},ldquo:{sym:"\x26#x201C;",mma:"OpenCurlyDoubleQuote",latex:"ldquo",acc:"open double quote",unicode:"\u201c"},rdquo:{sym:"\x26#x201D;",mma:"CloseCurlyDoubleQuote",latex:"rdquo",acc:"close double quote",unicode:"\u201d"},complex:{symnew:"\x26#x1D53A;",sym:"\x26#x02102;",symb:"\x26#x0043",mma:"DoubleStruckCapitalC",latex:"mathbb{C}",acc:"set of complex numbers C",unicode:"\u2102"},domain:{sym:"\x26#x1D53B;",symb:"\x26#x0044;",mma:"DoubleStruckCapitalD",latex:"mathbb{D}",acc:"domain D",unicode:"\ud835\udd3b"},plane:{sym:"\x26#x1D53C;",symb:"\x26#x0045;",mma:"DoubleStruckCapitalE",latex:"mathbb{E}",acc:"set of points of a plane E",unicode:"\ud835\udd3c"},basis:{sym:"\x26#x1D53E;",symb:"\x26#x0047;",mma:"DoubleStruckCapitalG",latex:"mathbb{G}",acc:"basis set G",unicode:"\ud835\udd3e"},halfplane:{symnew:"\x26#x1D53F;",sym:"\x26#x0210D;",symb:"\x26#x0048;",mma:"DoubleStruckCapitalE",latex:"mathbb{E}",acc:"set of points of a half plane H",unicode:"\u210d"},irrational:{sym:"\x26#x1D540;",symb:"\x26#x0049;",mma:"DoubleStruckCapitalI",latex:"mathbb{I}",acc:"set of irrational numbers I",unicode:"\ud835\udd40",allowItalic:!0},solution:{sym:"\x26#x1D543;",symb:"\x26#x004C;",mma:"DoubleStruckCapitalL",latex:"mathbb{L}",acc:"solution set L",unicode:"\ud835\udd43"},natural:{symnew:"\x26#x1D545;",sym:"\x26#x02115;",symb:"\x26#x004E;",mma:"DoubleStruckCapitalN",latex:"mathbb{N}",acc:"set of natural numbers N",unicode:"\u2115"},primes:{symnew:"\x26#x1D547",sym:"\x26#x02119;",symb:"\x26#x0050;",mma:"DoubleStruckCapitalP",latex:"mathbb{P}",acc:"set of prime numbers P",unicode:"\u2119"},rational:{symnew:"\x26#x1D548",sym:"\x26#x0211A;",symb:"\x26#x0051;",mma:"DoubleStruckCapitalQ",latex:"mathbb{Q}",acc:"set of rational numbers Q",unicode:"\u211a"},real:{symnew:"\x26#x1D549",sym:"\x26#x0211D;",symb:"\x26#x0052;",mma:"DoubleStruckCapitalR",latex:"mathbb{R}",acc:"set of real numbers R",unicode:"\u211d"},divisors:{sym:"\x26#x1D54B",symb:"\x26#x0054;",mma:"DoubleStruckCapitalT",latex:"mathbb{T}",acc:"set of divisors T",unicode:"\ud835\udd4b"},odds:{sym:"\x26#x1D54C;",symb:"\x26#x0055;",mma:"DoubleStruckCapitalU",latex:"mathbb{U}",acc:"set of odd numbers U",unicode:"\ud835\udd4c"},multipliers:{sym:"\x26#x1D54D;",symb:"\x26#x0056;",mma:"DoubleStruckCapitalV",latex:"mathbb{V}",acc:"set of multipliers V",unicode:"\ud835\udd4d"},whole:{sym:"\x26#x1D54E;",symb:"\x26#x0057;",mma:"DoubleStruckCapitalW",latex:"mathbb{W}",acc:"set of whole numbers W",unicode:"\ud835\udd4e"},integer:{symnew:"\x26#x1D551;",sym:"\x26#x2124;",symb:"\x26#x005A;",mma:"DoubleStruckCapitalZ",latex:"mathbb{Z}",acc:"set of integer numbers Z",unicode:"\u2124"},aleph:{sym:"\x26#x2135;",html:"alefsym",mma:"aleph",latex:"aleph",acc:"aleph",unicode:"\u2135"},dleftarrow:{sym:"\x26#x21D0;",html:"lArr",mma:"DoubleLeftArrow",latex:"dleftarrow",isOp:!0,acc:"double left arrow",unicode:"\u21d0"},duparrow:{sym:"\x26#x21D1;",html:"uArr",mma:"DoubleUpArrow",latex:"duparrow",isOp:!0,acc:"double up arrow",unicode:"\u21d1"},drightarrow:{sym:"\x26#x21D2;",html:"rArr",mma:"DoubleRightArrow",latex:"drightarrow",isOp:!0,acc:"double right arrow",css:"eqMathBB onePtTwo",unicode:"\u21d2"},ddownarrow:{sym:"\x26#x21D3;",html:"dArr",mma:"DoubleDownArrow",latex:"ddownarrow",isOp:!0,acc:"double down arrow",unicode:"\u21d3"},dupdownarrow:{sym:"\x26#x21D5;",mma:"DoubleUpDownArrow",latex:"dupdownarrow",isOp:!0,acc:"double up down arrow",unicode:"\u21d5"},orthogonal:{sym:"\x26#x22A5;",html:"perp",mma:"Orthogonal",latex:"othogonal",acc:"orthogonal",unicode:"\u22a5"},sphangle:{sym:"\x26#x2222;",mma:"SphericalAngle",latex:"sphericalangle",acc:"angle",unicode:"\u2222"},mapsto:{sym:"\x26#x21A6;",html:"",mma:"MapsTo",latex:"mapsto",acc:"maps to",unicode:"\u21a6"},smscriptl:{sym:"\x26#x2113;",mma:"SmallScriptl",latex:"smscriptl",acc:"small script letter l",css:" ",unicode:"\u2113"},divides:{sym:"\x26#x2223;",mma:"Divides",latex:"divides",acc:"vertical line",unicode:"\u2223"},doesnotdivide:{sym:"\x26#x2224;",mma:"DoesNotDivide",latex:"doesnotdivide",acc:"slashed vertical line",unicode:"\u2224"},parallelto:{sym:"\x26#x2225;",mma:"ParallelTo",latex:"parallelto",acc:"double vertical line",unicode:"\u2225"},notparallelto:{sym:"\x26#x2226;",mma:"NotParallelTo",latex:"notparalelto",acc:"slashed double vertical line",unicode:"\u2226"},triangleup:{sym:"\x26#x25B3;",mma:"triangle",latex:"UpPointingTriangle",acc:"triangle symbol",unicode:"\u25b3"},hellip:{sym:"\x26#x2026;",html:"hellip",mma:"hellip",latex:"ldots",acc:"horizontal ellipsis",unicode:"\u2026"},mellip:{sym:"\x26#x22EF;",mma:"mellip",latex:"cdots",acc:"midline ellipsis",unicode:"\u22ef",css:"eqMathBB"},laplace:{sym:"\x26#x2112;",mma:"laplace",latex:"mathcal{L}",acc:"laplace transform",unicode:"\u2112",css:"eqUnicode"},oslash:{sym:"\x26#x00F8;",mma:"OSlash",latex:"o",acc:"oslash",unicode:"\u00f8"},muchlessthan:{sym:"\x26#x226A",mma:"LessLess",latex:"ll",acc:"mush less-than",isOp:!0,css:"eqOp"},muchgreaterthan:{sym:"\x26#x226B",mma:"GreaterGreater",latex:"gg",acc:"much greater-than",isOp:!0,css:"eqOp"},uptee:{sym:"\x26#x22A5",mma:"UpTee",latex:"bot",acc:"up tack",css:"eqMathBB pushUpPt25"},downtee:{sym:"\x26#x22A4",mma:"DownTee",latex:"top",acc:"down tack",css:"eqMathBB pushUpPt25"},longleftrightarrow:{sym:"\x26#x27f7",mma:"LongLeftRightArrow",latex:"longleftrightarrow",acc:"long left-right arrow"}};Pr._sInfo\x3dDr,Pr.getMMASymbolInfo\x3dfunction(t){return ln(Dr,(function(e){return e.mma\x3d\x3dt}))},Pr.getLatexSymbolInfo\x3dfunction(t){for(var e in Dr)if(Dr[e].latex\x26\x26Dr[e].latex\x3d\x3dt)return e;return null},Pr.getUnicodeSymbolInfo\x3dfunction(t){for(var e in Dr)if(Dr[e].unicode\x26\x26Dr[e].unicode\x3d\x3d\x3dt)return e;return null};var Br\x3dfunction(){function t(){e(this,t),this._needsSorting\x3d!1,this._caseSensitive\x3d!1,this._stringsSorted\x3d[],this._stringsLookup\x3d{}}return n(t,[{key:"setCaseSensitive",value:function(t){this._caseSensitive!\x3dt\x26\x26(this._caseSensitive\x3dt,this._needsSorting\x3d!0)}},{key:"getCaseSensitive",value:function(){return this._caseSensitive}},{key:"_newNode",value:function(t,e){return{key:t,value:e}}},{key:"add",value:function(t,e){var i\x3dthis._newNode(t,e);this._stringsSorted.push(i),this._needsSorting\x3d!0,this._stringsLookup[t]\x3di}},{key:"exists",value:function(t){return null!\x3dthis.find(t)}},{key:"find",value:function(t){if(this._stringsLookup){var e\x3dthis._stringsLookup[t];if(e)return e.value}return null}},{key:"remove",value:function(t){var e\x3dthis._stringsSorted.indexOf(this._stringsLookup[t]);delete this._stringsLookup[t],e\x3e\x3d0\x26\x26this._stringsSorted.splice(e,1)}},{key:"sortList",value:function(){var t\x3dthis;this._stringsSorted.sort((function(e,i){return t.compareStrings(e.key,i.key)}))}},{key:"compareStrings",value:function(t,e){return 0\x3d\x3dthis._caseSensitive\x26\x26(t\x3dt.toLowerCase(),e\x3de.toLowerCase()),t\x3d\x3de?0:t\x3ee?1:-1}},{key:"getCount",value:function(){return this._stringsSorted.length}},{key:"findLargestKey",value:function(t){this._needsSorting\x26\x26this.sortList();var e\x3dnull,i\x3d0,n\x3d0,r\x3dt.length;do{for(;n\x3cr\x26\x26i\x3cthis._stringsSorted.length;){var o\x3dthis.compareStrings(t.substr(0,n+1),this._stringsSorted[i].key.substr(0,n+1));if(o\x3c0)return e;if(!(this._stringsSorted[i].key.length\x3c\x3dn||o\x3e0))break;i++}if(i\x3e\x3dthis._stringsSorted.length)return e;var s\x3dt.substr(0,n+1);0\x3d\x3dthis.compareStrings(s,this._stringsSorted[i].key)\x26\x26(e\x3ds),n++}while(n\x3cr);return e}}]),t}(),Mr\x3d{EqEditorEvent:{MOVE:"Move"},MoveDirection:{MOVE_RIGHT:"MOVE_RIGHT",MOVE_LEFT:"MOVE_LEFT"},EqRowEvent:{PROCESS_ROW:"Process Row"}};function Or(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ir\x3dfunction(t){a(s,t);var i\x3dOr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.children\x3d[]}},{key:"isEqContainer",value:function(){return!0}},{key:"_addChild",value:function(t,e){"string"\x3d\x3dtypeof t\x26\x26(t\x3dnew rr(t)),t.parent\x26\x26t.parent._removeChild\x26\x26t.parent._removeChild(t),void 0\x3d\x3d\x3de?this.children.push(t):this.children.splice(e,0,t),t.parent\x3dthis,this.invalidate()}},{key:"_removeChild",value:function(t){var e\x3dcn(this.children,t);e\x3e\x3d0\x26\x26(t.parent\x3dnull,t.destroyDom(),this.children.splice(e,1),t.invalidate(),this.invalidate())}},{key:"removeChildAt",value:function(t){var e\x3dthis.children[t];return e.parent\x3dnull,e.destroyDom(),this.children.splice(t,1),e.invalidate(),this.invalidate(),e}},{key:"removeChild",value:function(t){this._removeChild(t)}},{key:"addChild",value:function(t){var e\x3dthis;return an(t)?un(t,(function(t){e._addChild(t)})):e._addChild(t),this}},{key:"addChildBefore",value:function(t,e){var i\x3dthis;an(t)?un(t,(function(t){i._addChild(t,e++)})):i._addChild(t,e)}},{key:"addChildAt",value:function(t,e){this.addChildBefore(t,e)}},{key:"addChildAfter",value:function(t,e){var i\x3dthis;an(t)?un(t,(function(t){i._addChild(t,++e)})):i._addChild(t,++e)}},{key:"getChild",value:function(t){return this.children[t]}},{key:"getChildIndex",value:function(t){return cn(this.children,t)}},{key:"getNumChildren",value:function(){return this.children.length}},{key:"getChildCount",value:function(){return this.children.length}},{key:"forEach",value:function(t,e,i){i\x3di||this,un(this.children,(function(n,r){on(i,t)(n,r),e\x26\x26n.isEqContainer()\x26\x26n.forEach(t,e,i)}))}},{key:"preRenderChildren",value:function(){for(var t\x3d0;t\x3cthis.children.length;t++){var e\x3dthis.children[t];e._validated||e.preRender()}}},{key:"preRender",value:function(){this.preRenderChildren(),o(r(s.prototype),"preRender",this).apply(this,arguments)}},{key:"renderChildren",value:function(){for(var t\x3d0;t\x3cthis.children.length;t++){var e\x3dthis.children[t];e._validated||e.render()}}},{key:"render",value:function(){this.renderChildren(),o(r(s.prototype),"render",this).apply(this,arguments)}},{key:"postRenderChildren",value:function(){for(var t\x3d0;t\x3cthis.children.length;t++){var e\x3dthis.children[t];e._validated||e.postRender()}}},{key:"postRender",value:function(){this.postRenderChildren(),o(r(s.prototype),"postRender",this).apply(this,arguments)}},{key:"validateChildren",value:function(){for(var t\x3d0;t\x3cthis.children.length;t++){var e\x3dthis.children[t];e._validated||e.validate()}}},{key:"validate",value:function(){this.validateChildren(),o(r(s.prototype),"validate",this).apply(this,arguments)}},{key:"gotoPrevRow",value:function(t,e){var i,n;i\x3d-1,t\x26\x26(i\x3dthis.getChildIndex(t)),i\x3c0\x26\x26(i\x3dthis.getNumChildren()),--i\x3e\x3d0\x26\x26null!\x3d(n\x3dthis.getChild(i).getLastRow())?(e.row\x3dn,e.position\x3dn.getLastCaretPosition()):o(r(s.prototype),"gotoPrevRow",this).apply(this,arguments)}},{key:"gotoNextRow",value:function(t,e){var i,n;i\x3d-1,null!\x3dt\x26\x26(i\x3dthis.getChildIndex(t)),++i\x3cthis.getNumChildren()\x26\x26null!\x3d(n\x3dthis.getChild(i).getFirstRow())?(e.row\x3dn,e.position\x3d0):o(r(s.prototype),"gotoNextRow",this).apply(this,arguments)}},{key:"hasNodeClass",value:function(t){var e\x3dthis instanceof t;e||(e\x3dnull!\x3dln(this.children,(function(e){return e.hasNodeClass(t)})));return e}},{key:"getEqText",value:function(){var t\x3d[];return this.forEach((function(e){t.push(e.getEqText())})),t.join("")}},{key:"getAccessibleName",value:function(){var t\x3d[],e\x3dnull;return this.forEach((function(i){e\x26\x26(e.isEqSubscript()||e.isEqSuperscript())\x26\x26!e.getSimpleName()\x26\x26(this.parent\x26\x26this.parent.isEqSuperscript()?t.push("Superscript"):this.parent\x26\x26this.parent.isEqSubscript()?t.push("Subscript"):t.push("Baseline")),t.push(i.getAccessibleName()),e\x3di})),t.length\x3e0?t.join(" "):"nothing"}},{key:"getLatex",value:function(){var t\x3d[];this.forEach((function(e){t.push(e.getLatex())}));for(var e\x3d0;e\x3ct.length;e++){var i\x3dt[e];if("\\\\"\x3d\x3d\x3di[0]\x26\x26this._isLatexChar(i[i.length-1])\x26\x26e+1\x3ct.length){var n\x3dt[e+1];this._isLatexChar(n[0])\x26\x26(t[e]\x3d"{".concat(i,"}"))}}return t.join("")}},{key:"_isLatexChar",value:function(t){return t\x3e\x3d"a"\x26\x26t\x3c\x3d"z"||t\x3e\x3d"A"\x26\x26t\x3c\x3d"Z"}},{key:"getAccessiblePlainText",value:function(){var t\x3d[];return this.forEach((function(e){t.push(e.getAccessiblePlainText())})),t.join("")}},{key:"clear",value:function(){for(;this.getNumChildren()\x3e0;)this.removeChildAt(0);this.invalidate()}},{key:"checkParens",value:function(){for(var t\x3d0;t\x3cthis.getNumChildren();t++)if(!this.getChild(t).checkParens())return!1;return!0}},{key:"isAncestorOf",value:function(t){return!!t.parent\x26\x26(t.parent\x3d\x3d\x3dthis||this.isAncestorOf(t.parent))}}]),s}(Xn);function Fr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ur\x3dfunction(t){a(s,t);var i\x3dFr(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"isEqComposite",value:function(){return!0}},{key:"createDom",value:function(){throw Error("need to implement createDom")}},{key:"addRows",value:function(t){for(var e\x3d[],i\x3d0;i\x3ct;i++){var n\x3dnew Qr;this.addChild(n),e.push(n)}return e}},{key:"getEqRow",value:function(t){return this.children[t]}},{key:"getEqName",value:function(){return"@UNKOWN"}},{key:"getLatexName",value:function(){return"\\\\unknown"}},{key:"getLastRow",value:function(){var t,e;for(e\x3dthis.getNumChildren()-1;e\x3e\x3d0;e--)if((t\x3dthis.getChild(e)).isEqRow())return t.getLastRow();return null}},{key:"getFirstRow",value:function(){var t,e;for(e\x3d0;e\x3cthis.getNumChildren();e++)if((t\x3dthis.getChild(e)).isEqRow())return t;return null}},{key:"deleteCharacter",value:function(t){t.extendSelection\x3d!0}},{key:"addEqs",value:function(t){this.getEqRow(0).addChild(t)}},{key:"initCaret",value:function(t){var e,i;if(this.getNumChildren()\x3e0){for(e\x3dnull,i\x3d0;i\x3cthis.getNumChildren();i++)if(this.getEqRow(i)\x26\x260\x3d\x3dthis.getEqRow(i).getNumChildren()){e\x3dthis.getEqRow(i);break}if(null\x3d\x3de\x26\x26(e\x3dthis.getFirstRow()),null\x3d\x3de)return void o(r(s.prototype),"initCaret",this).apply(this,arguments);t.row\x3de,e.getNumChildren()\x3e0?t.position\x3de.getLastCaretPosition():t.position\x3d0}else o(r(s.prototype),"initCaret",this).apply(this,arguments)}},{key:"getTreeLabel",value:function(){return this.getEqName()}},{key:"getEqTextContents",value:function(){var t\x3d[];return this.forEach((function(e){t.push(this.getEqTextContentsOfChildStrippingLoneScripts(e))})),t.join(";")}},{key:"getEqTextContentsOfChildStrippingLoneScripts",value:function(t){if(this.getEqDocument()\x26\x26this.getEqDocument().ignoreScriptsInAllComposites\x26\x261\x3d\x3d\x3dt.getNumChildren()){var e\x3dt.getChild(0);if(e.isEqSubscript()||e.isEqSuperscript())return e.getEqTextContents()}return t.getEqText()}},{key:"getEqText",value:function(){var t\x3dthis.getEqTextContents();if(this.getEqDocument()\x26\x26this.getEqDocument().adjustCommas){var e\x3dt.replace(/(\\s+$)/g,""),i\x3de.length;if(","\x3d\x3d\x3de.charAt(i-1))return"".concat(this.getEqName(),"{").concat(t.substr(0,i-1),"}")+","}return"".concat(this.getEqName(),"{").concat(t,"}")}},{key:"getLatex",value:function(){var t\x3d[];return this.forEach((function(e){t.push(e.getLatex())})),"".concat(this.getLatexName(),"{").concat(t.join("}{"),"}")}},{key:"rowsFilled",value:function(){if(0\x3d\x3dthis.getNumChildren())return!0;for(var t\x3d0;t\x3cthis.getNumChildren();t++)if(!this.getChild(t).rowsFilled())return!1;return!0}}]),s}(Ir);function Vr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Hr\x3dfunction(t){a(s,t);var i\x3dVr(s);function s(t,n,r){var o;return e(this,s),(o\x3di.apply(this,arguments)).initFields(),o.addRows(1),""!\x3dt\x26\x26(o._ftext\x3dnew rr(t,rr.EqTextType.FUNCTION),o.addChild(o._ftext)),n||(n\x3d"("),r||(r\x3d")"),o._openP\x3dnew dr(n,dr.EqParenType.OPEN),o._closeP\x3dnew dr(r,dr.EqParenType.CLOSE),o._openP.setMatchedParen(o._closeP),o._closeP.setMatchedParen(o._openP),o.addChild(o._openP),o.addChild(o._closeP),o}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._ftext\x3dnull,this._openP\x3dnull,this._closeP\x3dnull,this._domNode\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this._domNode\x3dt,this._ftext\x26\x26zi.place(this._ftext.getDomNode(),this._domNode),zi.place(this._openP.getDomNode(),this._domNode),zi.place(this.getEqRow(0).getDomNode(),this._domNode),zi.place(this._closeP.getDomNode(),this._domNode),t}},{key:"postRender",value:function(){this.resizeParens(),o(r(s.prototype),"postRender",this).apply(this,arguments)}},{key:"resizeParens",value:function(){var t\x3dthis.getEqRow(0),e\x3dthis._closeP,i\x3dthis._openP,n\x3dt.getNodeSize();e.setContentTop({node:t.getDomNode(),top:n.t});var r\x3de.getContentTop().top;r+e.getContentHeight()\x3c\x3dn.t+n.h\x26\x26e.setContentHeight(n.h+n.t-r),i.setContentHeight(e.getContentHeight()),i.setContentTop(e.getContentTop())}},{key:"adjustParen",value:function(){}},{key:"getLatex",value:function(){var t\x3d"";return this._ftext\x26\x26this._ftext.length\x3e0\x26\x26(t\x3d"{\\\\".concat(this._ftext,"}")),t+\x3dthis._openP.getLatex(),t+\x3dthis.getEqRow(0).getLatex(),t+\x3dthis._closeP.getLatex()}},{key:"getEqName",value:function(){return"@function_".concat(this._ftext?this._ftext:"").concat(this._openP.getParenChar()).concat(this._closeP.getParenChar())}}]),s}(Ur);function jr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Wr\x3dfunction(t){a(r,t);var i\x3djr(r);function r(){return e(this,r),i.apply(this,arguments)}return n(r,[{key:"isEqStack",value:function(){return!0}},{key:"getRowAbove",value:function(t){var e,i,n,r,o,s;for(o\x3dthis.getEqRow(t),e\x3dEn.position(o.domNode).y,0,n\x3dnull,i\x3d0;i\x3cthis.getNumChildren();i++)i!\x3dt\x26\x26(o\x3dthis.getEqRow(i),(s\x3dEn.position(o.domNode)).y\x3ce\x26\x26s.y\x3e\x3d0\x26\x26(null\x3d\x3dn||null\x3d\x3dr||n\x26\x26s.y\x3er.y)\x26\x26(n\x3do,r\x3dEn.position(n.domNode)));return n}},{key:"getRowBelow",value:function(t){var e,i,n,r,o,s,a;e\x3dEn.position(this.getEqRow(t).domNode).y;var c\x3dEn.position(this.domNode);for(i\x3dc.h+c.y,r\x3dnull,n\x3d0;n\x3cthis.getNumChildren();n++)n!\x3dt\x26\x26(s\x3dthis.getEqRow(n),(a\x3dEn.position(s.domNode)).y\x3ee\x26\x26a.y\x3c\x3di\x26\x26(null\x3d\x3dr||null\x3d\x3do||r\x26\x26a.y\x3co.y)\x26\x26(r\x3ds,o\x3dEn.position(r.domNode)));return r}}]),r}(Ur);function zr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Gr\x3dfunction(t){a(s,t);var i\x3dzr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t.addRows(3),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.domNode\x3dnull,this.domBase\x3dnull,this.domSup\x3dnull,this.domSub\x3dnull,this.baseClass\x3d"eqSupSub"}},{key:"isEqSupSub",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span"),e\x3dthis.getEqRow(0).getDomNode(),i\x3dthis.getEqRow(1),n\x3di.getDomNode();fn(n,"eqSupContent");var r\x3dzi.create("span");fn(r,"eqSuperscript"),i\x26\x26Ei(r,{padding:0,margin:0,verticalAlign:0}),zi.place(n,r);var o\x3dthis.getEqRow(2),s\x3do.getDomNode();fn(s,"eqSubContent");var a\x3dzi.create("span");return fn(a,"eqSubscript"),o.isEmpty()\x26\x26Ei(a,{padding:0,verticalAlign:0}),zi.place(s,a),zi.place(e,t),zi.place(r,t),zi.place(a,t),this.dopNode\x3dt,this.domBase\x3de,this.domSup\x3dr,this.domSub\x3da,t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),Ei(this.domBase,"marginRight","0px"),Ei(this.domNode,"marginRight","0px"),Ei(this.domSub,{left:"",position:"default"}),zn(this.domNode),zn(this.domBase);var t\x3dzn(this.domSup),e\x3dzn(this.domSub),i\x3d1,n\x3dMath.min(t.w,e.w);Ei(this.domSub,{left:"".concat(-t.w,"px"),position:"relative",top:"1px"}),Ei(this.domBase,"marginRight","".concat(i,"px")),Ei(this.domNode,"marginRight","".concat(-n+i,"px"))}},{key:"getEqName",value:function(){return"@SUPSUB"}},{key:"getAccessibleName",value:function(){var t\x3d[],e\x3dthis.getEqRow(0),i\x3dthis.getEqRow(1),n\x3dthis.getEqRow(2);return e.isEmpty()||t.push(e.getAccessibleName()),n.isEmpty()||(t.push("Subscript"),t.push(n.getAccessibleName())),i.isEmpty()||(t.push("Superscript"),t.push(i.getAccessibleName())),this.parent\x26\x26this.parent.isEqRow()\x26\x26this.parent.getNextEq(this)\x26\x26t.push("Baseline"),t.join(" ")}}]),s}(Wr);function Xr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Qr\x3dfunction(t){a(s,t);var i\x3dXr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._focusPositions\x3dnull,this._lastFocusedElement\x3d0,this._isCurrent\x3d!1,this._focused\x3d!1,this.minSupOverhang\x3d4,this.minSubOverhang\x3d3}},{key:"isEqRow",value:function(){return!0}},{key:"setIsCurrent",value:function(t){this._isCurrent!\x3dt\x26\x26(this._isCurrent\x3dt),t||this.resetSelection(),this.updateCurrent()}},{key:"isCurrent",value:function(){return this._isCurrent}},{key:"updateCurrent",value:function(){this.domNode\x26\x26(this._isCurrent?fn(this.domNode,"current"):mn(this.domNode,"current"))}},{key:"getFocusPosition",value:function(t){return this.validateFocusPositions(),t\x3c0?0:this._focusPositions[t]}},{key:"getFocusPositionCount",value:function(){return this.validateFocusPositions(),this._focusPositions.length}},{key:"extractEqs",value:function(t,e,i){var n,r,o,s,a,c,u,l\x3dnull;e\x3ct\x26\x26(a\x3de,e\x3dt,t\x3da),t\x3c0\x26\x26(t\x3d0),e\x3c0\x26\x26(e\x3d0),this._disableTextMerge\x3d!0,l\x3d[];var h\x3d[];try{for(n\x3dthis.getFocusElementIndex(t),r\x3dthis.getFocusElementIndex(e),s\x3dn;s\x3c\x3dr;s++)if(void 0!\x3d\x3d(o\x3dthis.getChild(s)))if(u\x3d(c\x3dthis.getFocusPosition(s))+o.getLastCaretPosition(),c\x3e\x3dt\x26\x26u\x3c\x3de)l.push(o),h.push(o);else{var d\x3do.extractEqs(Math.max(t-c,0),Math.min(e-c,o.getLastCaretPosition()),i);un(d,(function(t){l.push(t),h.push(o)}))}i||un(h,on(this,(function(t){this.removeChild(t)})))}finally{this._disableTextMerge\x3d!1}return l}},{key:"insertEqRange",value:function(t,e,i,n){var r,o,s,a\x3dnull;r\x3dthis.extractEqs(e,i),n\x3dn||0,this._disableTextMerge\x3d!0;try{s\x3dMath.min(e,i),(o\x3dthis.getFocusElementIndex(s))\x3c0?this.addChildBefore(t,0):this.getFocusPosition(o)\x3d\x3ds?this.addChildBefore(t,o):this.addChildAfter(t,o),t[n].isEqRow()?(this.addChildBefore(r,this.getChildIndex(t[n])),this.removeChild(t[n]),a\x3dt.length\x3en+1?t[n+1]:o\x3e\x3d0?this.getChild(o):this.getChild[0]):t[n].isEqComposite()\x26\x26t[n].addEqs(r)}finally{this._disableTextMerge\x3d!1}return a||(a\x3dt[n]),a}},{key:"getFocusElementIndex",value:function(t){var e,i;if(0\x3d\x3dthis.children.length)return-1;if(0\x3d\x3d(e\x3dthis.getFocusPositionCount()))return-1;if(this._lastFocusedElement\x3e\x3de-1\x26\x26(this._lastFocusedElement\x3d0),t\x3cthis._focusPositions[this._lastFocusedElement]){for(i\x3dthis._lastFocusedElement;i\x3e0;)if(i--,this._focusPositions[i]\x3c\x3dt\x26\x26this.getChild(i).getLastCaretPosition()\x3e0){this._lastFocusedElement\x3di;break}}else for(i\x3dMath.max(this._lastFocusedElement,0);i\x3ce-1\x26\x26this._focusPositions[i]\x3c\x3dt;)this.getChild(i).getLastCaretPosition()\x3e0\x26\x26(this._lastFocusedElement\x3di),i++;return this._lastFocusedElement}},{key:"gotoPrevRow",value:function(t,e){var i;if(i\x3dthis.getChildIndex(t),e.extendSelection)return e.position\x3dMath.max(this.getFocusPosition(i),0),e.positionStart\x3dMath.max(this.getFocusPosition(i+1),0),void(e.row\x3dthis);--i\x3e\x3d0?this.getChild(i).isEqRow()?(e.row\x3dthis.getChild(i),e.position\x3d0):(e.row\x3dthis,e.position\x3dthis.getFocusPosition(i+1)):(e.row\x3dthis,e.position\x3d0)}},{key:"gotoNextRow",value:function(t,e){var i;if(i\x3dthis.getChildIndex(t),e.extendSelection)return e.position\x3dMath.max(this.getFocusPosition(i)+1,0),e.positionStart\x3dMath.max(this.getFocusPosition(i),0),void(e.row\x3dthis);++i\x3d\x3dthis.getNumChildren()?(e.row\x3dthis,e.position\x3dthis.getLastCaretPosition()):i\x3cthis.getNumChildren()?this.getChild(i).isEqRow()?(e.row\x3dthis.getChild(i),e.position\x3d0):t.isEqRow()\x26\x26this.getChild(i).isEqComposite()?(e.row\x3dthis.getChild(i).getFirstRow(),e.position\x3d0):(e.row\x3dthis,e.position\x3dthis.getFocusPosition(i)):this.parent\x26\x26this.parent.gotoNextRow(this,e)}},{key:"getLastRow",value:function(){return this}},{key:"getFirstRow",value:function(){return this}},{key:"getCaretPositionFromPart",value:function(t,e){for(var i\x3dt;i.isEqPart()\x26\x26null!\x3di.parent\x26\x26i.parent!\x3d\x3dthis;)i\x3di.parent;if(i.isEqPart()\x26\x26i.parent\x3d\x3dthis){var n\x3dthis.getChildIndex(i);if(n\x3e\x3d0)return this.getFocusPosition(n)+i.getCaretPositionFromEvent(e)}return-1}},{key:"preRender",value:function(){this.processRow(),o(r(s.prototype),"preRender",this).apply(this,arguments)}},{key:"createDom",value:function(){var t\x3dzi.create("span");return fn(t,"eqRow"),t}},{key:"updateDom",value:function(){o(r(s.prototype),"updateDom",this).apply(this,arguments);var t\x3dthis;un(this.children,(function(e,i){var n\x3de.getDomNode();n\x26\x26zi.place(n,t.domNode,i)})),this.domNode\x26\x26(this.isAllSpace()?fn(this.domNode,"allspaces"):mn(this.domNode,"allspaces")),this.calcFocusPositions()}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.resetScripts(),this.adjustScriptsInsideParens();var t\x3dthis.adjustScripts();this.adjustDivides(),t\x26\x26this.resizeParens(),0\x3d\x3d\x3dthis.getChildCount()?fn(this.domNode,"empty"):mn(this.domNode,"empty"),this.updateCurrent()}},{key:"add",value:function(t){return this.addChild(t),this.parent?this.parent:this}},{key:"invalidateEq",value:function(){this.invalidating||(this._focusPositions\x3dnull,o(r(s.prototype),"invalidateEq",this).apply(this,arguments))}},{key:"invalidate",value:function(){o(r(s.prototype),"invalidate",this).apply(this,arguments),this._focusPositions\x3dnull}},{key:"validateFocusPositions",value:function(){null\x3d\x3dthis._focusPosition\x26\x26this.calcFocusPositions()}},{key:"calcFocusPositions",value:function(){this._focusPositions\x3d[];var t\x3dthis.getNumChildren();if(t\x3e0){this._focusPositions.push(0);for(var e\x3d0,i\x3d0;i\x3ct;i++){e+\x3dthis.getChild(i).getLastCaretPosition(),this._focusPositions.push(e)}}}},{key:"getLastCaretPosition",value:function(){return 0\x3d\x3dthis.children.length?1:this.getFocusPosition(this.getFocusPositionCount()-1)}},{key:"moveCaret",value:function(t){switch(t.direction){case jn.LEFT:this.moveLeft(t);break;case jn.RIGHT:this.moveRight(t);break;case jn.UP:this.moveUp(t);break;case jn.DOWN:this.moveDown(t);break;case jn.HOME:this.moveHome(t);break;case jn.END:this.moveEnd(t);break;case jn.TABFORWARD:this.tabForward(t);break;case jn.TABBACK:this.tabBack(t);break;default:t.row\x3dnull}}},{key:"tabForward",value:function(t){var e,i,n;if((e\x3dt.position)\x3e\x3dthis.getLastCaretPosition()||0\x3d\x3dthis.children.length)null!\x3dthis.parent?this.parent.gotoNextRow(this,t):t.extendSelection||(t.moveRight\x3d!0);else if(i\x3dthis.getFocusElementIndex(e),e\x3d\x3dthis.getFocusPosition(i)){if(null!\x3d(n\x3dthis.getChild(i).getFirstRow()))return t.row\x3dn,void(t.position\x3d0);t.position\x3dthis._focusPositions[i+1]}else t.position\x3dthis._focusPositions[i+1]}},{key:"tabBack",value:function(t){var e,i,n,r;if((e\x3dt.position)\x3c\x3d0||0\x3d\x3dthis.children.length)null!\x3dthis.parent?this.parent.gotoPrevRow(this,t):t.extendSelection||(t.moveLeft\x3d!0);else if(n\x3dthis.getFocusElementIndex(e),e\x3d\x3d(i\x3dthis.getFocusPosition(n))||e\x3d\x3dthis.getLastCaretPosition()){if(e!\x3dthis.getLastCaretPosition()\x26\x26n--,n\x3e\x3d0){if(null!\x3d(r\x3dthis.getChild(n).getLastRow()))return t.row\x3dr,void(t.position\x3dr.getLastCaretPosition());t.position\x3dthis._focusPositions[n]}}else t.position\x3di}},{key:"moveDown",value:function(t){var e,i,n,r,o,s,a,c;for(n\x3dthis.getCaretLocation(t.position,this),i\x3dnull,o\x3d1e5,a\x3d0;a\x3cthis.getNumChildren();a++){var u\x3dthis.getChild(a);u.isEqSubscript()\x26\x26(c\x3dEn.position(u.domNode),(s\x3dn.left\x3c\x3dc.x?c.x-n.left:n.right\x3e\x3dc.x+c.w?n.right-(c.x+c.w):1e5)\x3co\x26\x26(i\x3du.getFirstRow(),o\x3ds))}if(!i\x26\x26this.parent\x26\x26this.parent.isEqStack()\x26\x26(e\x3dthis.parent.getChildIndex(this),i\x3dthis.parent.getRowBelow(e)),i){n\x3dthis.getCaretLocation(t.position,this);var l\x3dthis.getParentPos(i,{x:n.left,y:n.top});r\x3di.getCaretPositionAt(l.x,l.y),t.row\x3di,t.position\x3dr}}},{key:"moveUp",value:function(t){var e,i,n,r,o,s,a,c;for(n\x3dthis.getCaretLocation(t.position,this),i\x3dnull,o\x3d1e5,a\x3d0;a\x3cthis.getNumChildren();a++){var u\x3dthis.getChild(a);u.isEqSuperscript()\x26\x26(c\x3dEn.position(u.domNode),(s\x3dn.left\x3c\x3dc.x?c.x-n.left:n.right\x3e\x3dc.x+c.w?n.right-(c.x+c.w):1e5)\x3co\x26\x26(i\x3du.getFirstRow(),o\x3ds))}if(!i\x26\x26this.parent\x26\x26this.parent.isEqStack()\x26\x26(e\x3dthis.parent.getChildIndex(this),i\x3dthis.parent.getRowAbove(e)),i){n\x3dthis.getCaretLocation(t.position,i);var l\x3dEn.position(i.domNode);r\x3di.getCaretPositionAt(n.left,l.y),t.row\x3di,t.position\x3dr}}},{key:"getCaretLocation",value:function(t,e){var i,n\x3dEn.position(e.domNode),r\x3dEn.position(this.domNode),o\x3d{top:0,left:0,bottom:0,right:0},s\x3dthis.getNumChildren();if(0\x3d\x3ds||1\x3d\x3ds\x26\x260\x3d\x3dt\x26\x26(this.getChild(0).isEqSuperscript()||this.getChild(0).isEqSubscript()))return i\x3dthis.getLocalPos(e,{x:0,y:0}),o.top\x3di.y,o.left\x3di.x,o.bottom\x3dr.h,o.right\x3di.x+1,o.width\x3d1,o;if(t\x3d\x3dthis.getLastCaretPosition())return i\x3d{x:r.w,y:0},o.top\x3di.y,o.left\x3di.x,o.bottom\x3dn.h+i.y,o.right\x3di.x+1,o.width\x3d1,o;var a\x3dthis.getFocusElementIndex(t);if(a\x3e\x3d0){var c\x3dthis.getChild(a);this.getFocusPosition(a)\x3d\x3dt?a\x3e0\x26\x26!this.getChild(a-1).isEqComposite()\x26\x26!this.getChild(a-1).isEqRow()?o\x3dthis.getChild(a-1).getCaretLocation(t-this.getFocusPosition(a-1),e):c.getCaretLocation\x26\x26(o\x3dc.getCaretLocation(0,e)):o\x3dc.getCaretLocation(t-this.getFocusPosition(a),e)}return o}},{key:"moveLeft",value:function(t){var e,i,n;if(e\x3dt.position,t.extendSelection\x26\x26e\x3e0)t.position\x3de-1;else if(e\x3c\x3d0||0\x3d\x3dthis.children.length)this.parent?this.parent.gotoPrevRow(this,t):t.extendSelection||(t.moveLeft\x3d!0);else{if(i\x3dthis.getFocusElementIndex(e),(e\x3d\x3dthis.getFocusPosition(i)||e\x3d\x3dthis.getLastCaretPosition())\x26\x26(e!\x3dthis.getLastCaretPosition()\x26\x26i--,i\x3e\x3d0\x26\x26null!\x3d(n\x3dthis.getChild(i).getLastRow())))return t.row\x3dn,void(t.position\x3dn.getLastCaretPosition());t.position\x3de-1}}},{key:"moveRight",value:function(t){var e,i,n;if(e\x3dt.position,t.extendSelection\x26\x26e\x3cthis.getLastCaretPosition()\x26\x26this.children.length\x3e0)t.position\x3de+1;else if(e\x3e\x3dthis.getLastCaretPosition()||0\x3d\x3dthis.children.length)null!\x3dthis.parent?this.parent.gotoNextRow(this,t):t.extendSelection||(t.moveRight\x3d!0);else{if(i\x3dthis.getFocusElementIndex(e),e\x3d\x3dthis.getFocusPosition(i)\x26\x26null!\x3d(n\x3dthis.getChild(i).getFirstRow()))return t.row\x3dn,void(t.position\x3d0);t.position\x3de+1}}},{key:"moveHome",value:function(t){t.position\x3e0?t.position\x3d0:this.parent\x26\x26(this.parent.gotoPrevRow(this,t),t.position\x3d0)}},{key:"moveEnd",value:function(t){t.position\x3cthis.getLastCaretPosition()?t.position\x3dthis.getLastCaretPosition():this.parent\x26\x26(this.parent.gotoNextRow(this,t),t.position\x3dt.row.getLastCaretPosition())}},{key:"placeCaret",value:function(t,e){var i\x3d0,n\x3dthis;if(0\x3d\x3dthis.getNumChildren())return this.domNode\x26\x26zi.place(t,this.domNode),{eq:n,location:i};var r\x3dthis.getFocusElementIndex(e);return r\x3e\x3d0?(n\x3dthis.getChild(r),i\x3de-this.getFocusPosition(r),n\x26\x26n.placeCaret(t,i),{eq:n,location:i}):void 0}},{key:"insertEq",value:function(t,e){return 0\x3d\x3dthis.getNumChildren()?(this.addChild(t),this.getChild(0)):(i\x3dthis.getFocusElementIndex(e),n\x3dthis.getChild(i),e-(r\x3dthis.getFocusPosition(i))\x3d\x3d0?this.addChildBefore(t,i):n.insertEq(t,e-r),an(t)?t[0]:t);var i,n,r}},{key:"insertCharacter",value:function(t){var e;if(null!\x3d(e\x3dthis.getEqDocument().createNode(t.chr))){if(0\x3d\x3dthis.getNumChildren()){if(this.parent\x26\x26this.parent.isEqRow()){t.row\x3dthis.parent;var i\x3dt.row.getChildIndex(this);t.position\x3dt.row.getFocusPosition(i)+1}else t.position++;return this.insertEq(e,0),void(t.ignore||this.processRow(t))}var n,r\x3dthis.getFocusElementIndex(t.position),o\x3dthis.getChild(r);o.isEqDummyRow()?(this.insertEq(e,t.position),t.position+\x3de.getLastCaretPosition()):o.isEqRow()?(n\x3dt.position-this.getFocusPosition(r-1),(o\x3dthis.getChild(r-1)).insertEq(e,n),t.position++):(n\x3dt.position-this.getFocusPosition(r),o.insertEq(e,n),t.position++),t.ignore||this.processRow(t)}else t.ignore\x3d!0}},{key:"getNodeList",value:function(){var t\x3d[];return this.forEach((function(e){t.push(e)})),t}},{key:"removeNonEmptyDummyRows",value:function(){var t\x3dthis.getNodeList(),e\x3dthis;un(t,(function(t){if(t.isEqDummyRow()){var i\x3dt;if(t.getNumChildren()\x3e0\x26\x26!i.getChild(0).isEqCursorMarker()){var n\x3di.getNodeList();e.addChildBefore(n,e.getChildIndex(i)),e.removeChild(i)}}}))}},{key:"mergeTextFields",value:function(){var t,e;e\x3dnull,t\x3dthis.getNodeList();var i\x3dthis;un(t,(function(t){t.isEqText()?e?(e.mergeText(t),i.removeChild(t)):e\x3dt:e\x3dnull}))}},{key:"parseTextFields",value:function(t){var e,i;i\x3dnew Kn;var n\x3dthis.getEqDocument();i.interpretFunctions\x3dthis.shouldInterpretFunctions(),i.allowCommaNumbers\x3dn.allowCommaNumbers,i.allowDollarNumbers\x3dn.allowDollarNumbers,i.siCommaChar\x3dn.siCommaChar,i.siCommaDecimal\x3dn.siCommaDecimal,i.allowNegParens\x3dn.allowNegParens,i.allowSpaceAfterNegParen\x3dn.allowNegParens,i.allowMinus\x3d!1,i.currencyChar\x3dn.currencyChar,i.shortcutList\x3dn.getShortcutList(),i.onVarExists\x3dn.onVarExists,i.allowEntities\x3dn.getAccessible()\x26\x26n.showAccessibleSymbolNames,i.interpretFunctions\x26\x26(i.functionList\x3dn.getFunctionList()),e\x3dthis.getNodeList(),un(e,(function(e){e.isEqText()\x26\x26e.parseText(i,t)}))}},{key:"processRow",value:function(t){this.getNumChildren()\x3e0\x26\x26(this.removeNonEmptyDummyRows(),this._disableTextMerge||this.mergeTextFields(),this.parseTextFields(t),this.replaceSpecialShortcuts(),this.matchParens(),this.getEqDocument().useTemplateFunctions\x26\x26this.templateParens(t),this.getEqDocument().emit(Mr.EqRowEvent.PROCESS_ROW,{event:t}))}},{key:"replaceSpecialShortcuts",value:function(){this.getEqDocument().diffEqMode\x26\x26this._handleEulerNotation()}},{key:"_handleEulerNotation",value:function(){var t\x3dthis.getNumChildren();if(!(t\x3c2))for(var e,i\x3d0;i\x3ct;)if(e\x3dthis.getChild(i)){if(e.isEqText()\x26\x26e.getTextType()\x3d\x3d\x3drr.EqTextType.TEXT\x26\x26er.endsWith(e.getText(),"D")){var n\x3dthis.getChild(i+1);if(!n){i++;continue}var r\x3dn.isEqSuperscript(),o\x3dn.isEqSubscript();if(r||o){var s\x3dn.getEqRow(0);if(s\x26\x26s.getNumChildren()\x3e0){var a\x3ds.getChild(s.getNumChildren()-1);if(!(a\x26\x26(r\x26\x26a.isEqSubscript()||o\x26\x26a.isEqSuperscript()))){i++;continue}var c\x3dnew Gr;c.getEqRow(0).addChild("D"),s.removeChild(a),c.getEqRow(r?1:2).addChild(s.children),"D"\x3d\x3d\x3de.getText()?this.removeChild(e):e.setText(e.getText().substring(0,e.getText().length-1)),this.removeChild(n),this.addChild(c),this.getEqDocument().emit("newCurrentRow",{row:c.getEqRow(r?2:1),pos:0});break}}}i++}else i++}},{key:"templateParens",value:function(t){var e,i,n,r,o,s,a;e\x3d0;for(var c\x3dthis.getNumChildren();e\x3cc;)if(o\x3dthis.getChild(e)){if(o.isEqText()\x26\x26o.getTextType()\x3d\x3drr.EqTextType.FUNCTION)(e\x3d\x3dc-1||e\x3cc-1\x26\x26!this.getChild(e+1).isEqParen())\x26\x26(this.removeChildAt(e),s\x3dnew Hr(o.getText()),this.addChildAt(s,e),t\x26\x26(t.row\x3ds.getEqRow(0),t.position\x3d0));else if(o.isEqParen()\x26\x26o.isOpenParen())if(o.getMatchedParen()){n\x3de,r\x3dthis.getChildIndex(o.getMatchedParen());var u\x3d[];for(i\x3d0;i\x3cr-n+1;i++)u.push(this.getChild(n)),this.removeChildAt(n);var l\x3d"";for(e\x3e0\x26\x26(a\x3dthis.getChild(e-1)).isEqText()\x26\x26a.getTextType()\x3d\x3drr.EqTextType.FUNCTION\x26\x26(l\x3da.getText(),this.removeChildAt(e-1),n--,r--,e--),s\x3dnew Hr(l,o.getParenChar(),o.getMatchedParen().getParenChar()),this.addChildAt(s,n),i\x3d1;i\x3cu.length-1;i++){s.getEqRow(0).addChild(u[i])}e\x3dr}else this.removeChildAt(e),s\x3dnew Hr("",o.getParenChar(),o.getMatchingParenChar()),this.addChildAt(s,e),t\x26\x26(t.row\x3ds.getEqRow(0),t.position\x3d0);e++}else e++}},{key:"resizeParens",value:function(t){for(var e\x3dt||this.children,i\x3de.length,n\x3d0;n\x3ci;n++){var r\x3de[n];if(r.isEqParen()\x26\x26r.hasDomNode())if(r.isCloseParen())this._processCloseParen(r);else{for(var o\x3d!1,s\x3dnull,a\x3dr.getMatchedParen(),c\x3dn;++c\x3ci;){var u\x3de[c];if(u\x3d\x3d\x3da)break;u.hasDomNode()\x26\x26!u.isEqParen()\x26\x26(o\x3do||u.forceParenExpand(),s\x3dur.addBox(s,u.getParenBox()))}var l\x3dthis._getFontSize();null\x3d\x3ds\x26\x26(s\x3d{t:0,h:l});var h\x3dMath.round(.15*l);if(s.t+\x3dh,s.h-\x3dh,s.forceParenExpand\x3do,r.setParenBox(s),!a)continue;a.setParenBox(s)}}}},{key:"_getFontSize",value:function(){return bi(this.domNode,"fontSize").slice(0,-2)}},{key:"_processCloseParen",value:function(t){t.getMatchedParen()||(dr.resetParenNode(this.getDomNode()),t.setParenBox({t:0,h:this._getFontSize()}))}},{key:"matchParens",value:function(){var t,e,i,n\x3d[],r\x3d0;for(t\x3d0;t\x3cthis.getNumChildren();t++){var o\x3dthis.getChild(t);if(o.isEqParen()){var s\x3do;s.setMatchedParen(null),s.parenLevel\x3dr;var a\x3d!1;if(s.isUnknownParen()){for(e\x3dn.length-1;e\x3e\x3d0;e--)if((i\x3dn[e]).isUnknownParen()\x26\x26i.getParenChar()\x3d\x3ds.getParenChar()\x26\x26i.parenLevel\x3d\x3ds.parenLevel){for(a\x3d!0;n.length\x3ee;)n.pop();s.setMatchedParen(i),i.setMatchedParen(s),s.setParenType(dr.EqParenType.CLOSE),i.setParenType(dr.EqParenType.OPEN)}a||n.push(s)}else if(s.isOpenParen())n.push(s),r++;else if(s.isCloseParen()){for(;n.length\x3e0;)if((i\x3dn.pop()).canClose(s)){a\x3d!0,s.setMatchedParen(i),i.setMatchedParen(s);break}r--}}}}},{key:"resetScripts",value:function(){un(this.children,(function(t){(t.isEqSuperscript()||t.isEqSupSub()||t.isEqSubscript())\x26\x26(t.scriptProcessed\x3d!1)}))}},{key:"adjustScriptsInsideParens",value:function(){var t,e,i,n,r;for(t\x3dthis.children.length;t\x3e\x3d0;){if((r\x3dthis.getChild(t))\x26\x26r.isEqParen()\x26\x26r.isOpenParen()\x26\x26r.getMatchedParen()){i\x3dt,n\x3dthis.getChildIndex(r.getMatchedParen());var o\x3d[];for(e\x3di;e\x3c\x3dn;e++)o.push(this.getChild(e));this.adjustScripts(o)}t--}}},{key:"adjustScripts",value:function(t){var e\x3d!1;this.fontSize||(this.fontSize\x3dthis._getFontSize(),this.minSupOverhang\x3dMath.round(.25*this.fontSize),this.minSubOverhang\x3dMath.round(.2*this.fontSize)),t||(t\x3dthis.children),this._resetSuperScriptsVerticalAlignment(t),this.resizeParens(t);for(var i\x3d[],n\x3d0;n\x3ct.length;n++){var r\x3dt[n];r.scriptProcessed||((r.isEqSuperscript()||r.isEqSupSub())\x26\x26this._adjustSuperScript(r,i)\x26\x26(e\x3d!0),(r.isEqSubscript()||r.isEqSupSub())\x26\x26(e\x3dthis._adjustSubScript(r)||e))}return un(i,(function(t){Ei(t.node,{verticalAlign:t.vapx})})),e}},{key:"_resetSuperScriptsVerticalAlignment",value:function(t){for(var e\x3d0;e\x3ct.length;e++){var i\x3dt[e];i.scriptProcessed||!i.isEqSuperscript()\x26\x26!i.isEqSupSub()||(i.isEqSupSub()?Ei(i.domSup,"verticalAlign","0px"):Ei(i.domNode,"verticalAlign","0px"))}}},{key:"_adjustSuperScript",value:function(t,e){var i,n,r,o,s,a,c\x3dt.getPreviousSibling(!1,!1);t.isEqSupSub()\x26\x26(c\x3dnull);var u\x3d!1,l\x3d!1;return c\x26\x26(c.isEqParen()||c.isEqCBrace())?(i\x3dc,u\x3d!0):c\x26\x26c.isEqSuperscript()?(i\x3dc,l\x3d!0):i\x3dt.getPreviousSibling(!1,!0,!0),t.isEqSupSub()?(i\x3dt.getEqRow(0),n\x3dt.domSup):n\x3dt.domNode,i?(r\x3di.isEqIntegral()||i.isEqRow()\x26\x26i.getNumChildren()\x3e0\x26\x26i.getChild(i.getNumChildren()-1).isEqIntegral()?1.5:1,o\x3dthis._getSuperScriptPreviousSiblingSize(i,u)):(r\x3d1,o\x3d{t:0}),a\x3d(s\x3dthis._getSuperScriptNodeSize(n,l,e,i)).t+s.h-o.t-r*this.minSupOverhang-.45*this.fontSize,t.scriptProcessed\x3d!0,e.push({node:n,va:a,vapx:"".concat(a,"px")}),!0}},{key:"_adjustSubScript",value:function(t){var e,i,n,r,o,s,a,c,u\x3d!1;return e\x3dt.getPreviousSibling(!1,!0,!0),t.isEqSupSub()?(e\x3dt.getEqRow(0),i\x3dt.domSub):i\x3dt.domNode,Ei(i,{verticalAlign:""}),e\x26\x26(c\x3d(a\x3dbi(i,"verticalAlign")).substr(0,a.length-2),o\x3dt.getNodeSize(i),r\x3de.getNodeSize(),n\x3de.isEqIntegral()||e.isEqRow()\x26\x26e.getNumChildren()\x3e0\x26\x26e.getChild(e.getNumChildren()-1).isEqIntegral()?1.5:1,(s\x3do.t+o.h-r.t-r.h-n*this.minSubOverhang)\x3c0\x26\x26(s\x3dnew Number(c)+s,Ei(i,{verticalAlign:"".concat(s,"px")}),u\x3dMath.round(c)-Math.round(s)!\x3d0),t.scriptProcessed\x3d!0),u}},{key:"_getSuperScriptNodeSize",value:function(t,e,i,n){var r\x3dthis.getNodeSize(t);if(e\x26\x26i.length\x3e0){var o\x3di[i.length-1];o.node\x3d\x3d\x3dn.domNode\x26\x26(r.t+\x3do.va)}return r}},{key:"_getSuperScriptPreviousSiblingSize",value:function(t,e){var i\x3dt.getNodeSize();if(e\x26\x26t.domNode.parenBox){var n\x3dt.domNode.parenBox;i.t+\x3di.h-n.h}return i}},{key:"adjustDivides",value:function(){for(var t\x3d0,e\x3d0,i\x3d0;i\x3cthis.getNumChildren();i++){if((r\x3dthis.getChild(i)).isEqDivide()){e++,Ei(r.bottom.getDomNode(),{paddingTop:""});var n\x3dtr.getRowBaseline(r.bottom.getDomNode());n\x3c20?(r.bottom.myBaseline\x3dn,t\x3dMath.max(t,n)):r.bottom.myBaseline\x3dvoid 0}}if(e\x3e1)for(i\x3d0;i\x3cthis.getNumChildren();i++){var r;if((r\x3dthis.getChild(i)).isEqDivide()\x26\x26r.bottom.myBaseline){var o\x3d_i(r.bottom.getDomNode()).paddingTop.slice(0,-2),s\x3dt-r.bottom.myBaseline;s\x3e0\x26\x26(s+\x3dNumber(o),Ei(r.bottom.getDomNode(),{paddingTop:"".concat(s,"px")}))}}}},{key:"deleteSingleCharacter",value:function(t){var e,i,n,r,o,s;if(!(t.position\x3e\x3dthis.getLastCaretPosition()))if(t.position\x3c0){for(s\x3dthis;s\x26\x26s.parent\x26\x26!s.parent.isEqRow();)s\x3ds.parent;s\x26\x26s.parent\x26\x26s.parent.isEqRow()\x26\x26(t.row\x3ds.parent,t.positionStart\x3dMath.max(t.row.getFocusPosition(t.row.getChildIndex(s)),0),t.position\x3dt.positionStart+1,t.extendSelection\x3d!0)}else 0!\x3dthis.getNumChildren()?(e\x3dthis.getFocusElementIndex(t.position))\x3e\x3d0\x26\x26(i\x3dthis.getChild(e),n\x3dthis.getFocusPosition(e),r\x3dt.position,o\x3dt.positionStart,t.position\x3dMath.max(r-n,0),t.positionStart\x3dMath.max(o-n,0),i.deleteCharacter(t),t.position\x3dr,t.positionStart\x3do,i.isEmpty()\x26\x26(this.removeChild(i),t.row\x3d\x3dthis\x26\x26(t.position\x3dr,t.positionStart\x3do)),t.extendSelection\x26\x26(t.position\x3dr,r\x3cthis.getLastCaretPosition()\x26\x26(t.position\x3dr+1))):this.parent\x26\x26this.parent.isEqComposite()\x26\x26(t.extendSelection\x3d!0,this.parent.gotoNextRow(this,t))}},{key:"deleteCharacter",value:function(t){var e,i,n,r,o,s,a,c;if(s\x3dMath.min(t.position,t.positionStart),a\x3dMath.max(t.position,t.positionStart),this.parent\x26\x26this.parent.isEqRow())return t.row\x3dthis.parent,t.positionStart\x3dt.row.getFocusPosition(t.row.getChildIndex(this)),t.position\x3dt.positionStart+1,void(t.extendSelection\x3d!0);if(s!\x3da){if(s\x3c0){for(r\x3dthis;r.parent\x26\x26!r.parent.isEqRow();)r\x3dr.parent;r.parent.isEqRow()\x26\x26(t.row\x3dr.parent,t.positionStart\x3dMath.max(t.row.getFocusPosition(t.row.getChildIndex(r)),0),t.position\x3dt.positionStart+1,t.extendSelection\x3d!0)}else if(e\x3dthis.getFocusElementIndex(s),i\x3dthis.getFocusElementIndex(a),!(e\x3c0||i\x3c0)){for(o\x3dnew Array,c\x3dnew Array(this.getFocusPositionCount()),n\x3d0;n\x3cthis.getFocusPositionCount();n++)c[n]\x3dthis.getFocusPosition(n);try{for(n\x3de;n\x3c\x3di;n++)r\x3dthis.getChild(n),e!\x3di||s\x3d\x3dc[n]\x26\x26a\x3d\x3dc[n+1]?n\x3d\x3de\x26\x26this.getFocusPosition(n)\x3cs?(t.position\x3dc[n+1]-c[n],t.positionStart\x3ds-c[n],r.deleteCharacter(t),r.isEmpty()\x26\x26o.push(r)):n\x3d\x3di\x26\x26c[n+1]\x3ea?a\x3ec[n]\x26\x26(t.position\x3da-c[n],t.positionStart\x3d0,r.deleteCharacter(t),r.isEmpty()\x26\x26o.push(r)):o.push(r):(t.position\x3da-c[n],t.positionStart\x3ds-c[n],r.deleteCharacter(t),r.isEmpty()\x26\x26o.push(r))}finally{for(n\x3d0;n\x3co.length;n++)this.removeChild(o[n]);t.position\x3ds,t.positionStart\x3ds}}}else this.deleteSingleCharacter(t)}},{key:"updateSelection",value:function(t,e){if(null!\x3dthis.domNode){var i,n,r\x3dthis.getNumChildren();0\x3d\x3dr\x26\x26fn(this.getDomNode(),"selected"),mn(this.getDomNode(),"selected"),t\x3ee\x26\x26(i\x3dt,t\x3de,e\x3di);var o\x3dthis.getFocusElementIndex(t),s\x3dthis.getFocusElementIndex(e);for(n\x3d0;n\x3cr;n++){var a\x3dthis.getChild(n);n\x3e\x3do\x26\x26n\x3c\x3ds?o\x3d\x3ds?a.updateSelection(t-this.getFocusPosition(n),e-this.getFocusPosition(n)):n\x3d\x3do\x26\x26this.getFocusPosition(n)!\x3dt?a.updateSelection(t-this.getFocusPosition(n),a.getLastCaretPosition()):n\x3d\x3ds?this.getFocusPosition(n)\x3d\x3de?a.resetSelection():a.updateSelection(0,e-this.getFocusPosition(n)):a.updateSelection(0,a.getLastCaretPosition()):a.resetSelection()}}}},{key:"resetSelection",value:function(){null!\x3dthis.domNode\x26\x26un(this.children,(function(t){t.resetSelection()}))}},{key:"getCaretPositionAt",value:function(t,e){var i,n,r,o,s,a,c\x3dthis.getNumChildren();if(0\x3d\x3dc)return 0;if(s\x3dnull,t\x3cthis.getChild(0).getLocalPos().x)s\x3dthis.getChild(0);else if(t\x3ethis.getChild(c-1).getLocalPos().x+this.getChild(c-1).getLocalPos().w)s\x3dthis.getChild(c-1);else for(n\x3d0;n\x3cc;n++)if(t\x3e\x3d(a\x3d(i\x3dthis.getChild(n)).getLocalPos()).x\x26\x26t\x3c\x3da.x+a.w){s\x3di;break}return s?(r\x3dthis.getChildIndex(s),a\x3ds.getLocalPos(),o\x3ds.getCaretPositionAt(t-a.x,e-a.y),this.getFocusPosition(r)+o):-1}},{key:"getTreeLabel",value:function(){return"row"}},{key:"initCaret",value:function(t){t.row\x3dthis,t.position\x3d0}},{key:"isCurrentRow",value:function(){return this.getEqDocument()\x26\x26this.getEqDocument().getCurrentRow()\x3d\x3dthis}},{key:"getFocusRow",value:function(){return this}},{key:"isEmpty",value:function(t){if(!t)return 0\x3d\x3dthis.getNumChildren();for(var e\x3d0;e\x3cthis.getNumChildren();e++){if(!this.getChild(e).isEqCursorMarker())return!1}return!0}},{key:"isEqSpace",value:function(t){var e\x3dthis.getChild(t);return e.isEqOp()\x26\x26" "\x3d\x3de.getEqText()||e.isEqText()\x26\x26""\x3d\x3der.trim(e.getEqText())}},{key:"isAllSpace",value:function(){if(this.isEmpty())return!1;for(var t\x3d0;t\x3cthis.getNumChildren();t++)if(!this.isEqSpace(t))return!1;return!0}},{key:"isEqInteger",value:function(t){var e\x3dthis.getChild(t);return e.isEqText()\x26\x26e.isInteger()}},{key:"isEqSlash",value:function(t){var e\x3dthis.getChild(t);return e.isEqOp()\x26\x26"/"\x3d\x3de.getEqText()}},{key:"getEqText",value:function(){var t,e,i,n,r,o\x3dthis,s\x3dthis.getNumChildren(),a\x3dthis.getEqDocument(),c\x3dfunction(){for(;t+i\x3cs\x26\x26(o.isEqSpace(t+i)||a.ignoreEmptyBoxes\x26\x26o.getChild(t+i).isEqDummyRow());)i++};for(r\x3d"",t\x3d0;t\x3cs;){if(t\x3cs-1){if(a\x26\x26!a.authoring\x26\x26this.getChild(t).isEqText()\x26\x26this.getChild(t).isInteger()\x26\x26(i\x3d1,c(),t+i\x3cs))if(this.getChild(t+i).isEqDivide()){if((e\x3dthis.getChild(t+i)).isIntDiv()){r\x3d"".concat(r,"@MNUM{").concat(this.getChild(t).getEqText(),";").concat(e.getEqRow(0).getEqText(),";").concat(e.getEqRow(1).getEqText(),"}"),t+\x3di+1;continue}}else if(this.isEqInteger(t+i)){var u,l;if(u\x3dthis.getChild(t+i).getEqText(),i++,c(),t+i\x3cs\x26\x26this.isEqSlash(t+i)\x26\x26(i++,c(),t+i\x3cs\x26\x26this.isEqInteger(t+i))){l\x3dthis.getChild(t+i).getEqText(),r\x3d"".concat(r,"@MNUM{").concat(this.getChild(t).getEqText(),";").concat(u,";").concat(l,"}"),t+\x3di+1;continue}}if(t+1\x3cs){var h\x3dthis.getChild(t),d\x3dthis.getChild(t+1);if(h.isEqOp()\x26\x26d.isEqOp()){var p\x3dnull;switch(h.getOpType()+d.getOpType()){case sr.OpTypes.GT+sr.OpTypes.EQUALS:p\x3dsr.OpTypes.GE;break;case sr.OpTypes.LT+sr.OpTypes.EQUALS:p\x3dsr.OpTypes.LE;break;case sr.OpTypes.LT+sr.OpTypes.GT:p\x3dsr.OpTypes.NE}if(p){r+\x3dp,t+\x3d2;continue}}}}if(n\x3dthis.getChild(t).getEqText(),t+1\x3cs){var f\x3dthis.getChild(t),m\x3dthis.getChild(t+1);f.isEqText()\x26\x26m.isEqText()\x26\x26(f.getTextType()\x3d\x3drr.EqTextType.FUNCTION\x26\x26m.getTextType()\x3d\x3drr.EqTextType.TEXT\x26\x26er.sameText(n,"log")\x26\x26er.sameText(er.trim(m.getEqText()),"x")\x26\x26(n+\x3d" "),"_"\x3d\x3dn.substr(n.length-1,1)\x26\x26(n+\x3d"{".concat(m.getEqText(),"}"),t++))}r+\x3dn,t++}return r}},{key:"isNumber",value:function(){var t,e\x3d0;for(t\x3d0;t\x3cthis.getNumChildren();t++){var i\x3dthis.getChild(t);if(i.isEqOp()\x26\x26" "\x3d\x3di.getEqText());else if(i.isEqText()\x26\x26""\x3d\x3der.trim(i.getEqText()));else{if(!i.isEqText()||!i.isNumber())return!1;e++}}return 1\x3d\x3de}},{key:"isInteger",value:function(){var t,e\x3d0;for(t\x3d0;t\x3cthis.getNumChildren();t++){var i\x3dthis.getChild(t);if(i.isEqOp()\x26\x26" "\x3d\x3di.getEqText());else if(i.isEqText()\x26\x26""\x3d\x3der.trim(i.getEqText()));else{if(!i.isEqText()||!i.isInteger())return!1;e++}}return 1\x3d\x3de}},{key:"rowsFilled",value:function(){if(0\x3d\x3dthis.getNumChildren())return!1;if(this.isAllSpace()\x26\x26this.getEqDocument().suppressEmptyHiding)return!1;for(var t\x3d0;t\x3cthis.getNumChildren();t++)if(!this.getChild(t).rowsFilled())return!1;return!0}},{key:"getJSText",value:function(){var t\x3d"",e\x3d"",i\x3d!1,n\x3d"",r\x3dnull,o\x3d!1;this.mergeTextFields(),this.parseTextFields();for(var s\x3d0;s\x3cthis.getNumChildren();s++){var a\x3di,c\x3dn,u\x3dr,l\x3do;i\x3d(r\x3dthis.getChild(s)).isEqOp(),o\x3d"."\x3d\x3d(n\x3dr.getJSText()),!n||!c||a||i||o||l||(t+\x3d"*"),u\x26\x26u.isEqText()\x26\x26u.isInteger()\x26\x26r.isEqDivide()\x26\x26r.isIntDiv()?t\x3d"".concat(e,"(").concat(c,"+").concat(n,")"):t+\x3dn,i\x26\x26(e\x3dt)}return t}},{key:"getPreviousEq",value:function(t,e,i,n){void 0\x3d\x3d\x3de\x26\x26(e\x3d!0);for(var r\x3dthis.getChildIndex(t);r\x3e0;){r--;var o\x3dthis.getChild(r);if(!(e\x26\x26o\x26\x26o.isEqText()\x26\x26" "\x3d\x3do.getText())\x26\x26!(i\x26\x26o.isEqParen()||n\x26\x26(o.isEqSubscript()||o.isEqSuperscript())))return o}}},{key:"getNextEq",value:function(t,e,i){void 0\x3d\x3d\x3de\x26\x26(e\x3d!0);for(var n\x3dthis.getChildIndex(t)+1;n\x3cthis.getNumChildren();){var r\x3dthis.getChild(n);if(n++,!(e\x26\x26r\x26\x26r.isEqText()\x26\x26" "\x3d\x3dr.getText()||i\x26\x26r.isEqParen()))return r}}},{key:"forceParenExpand",value:function(){for(var t\x3d0;t\x3cthis.getNumChildren();t++){if(this.getChild(t).forceParenExpand())return!0}return!1}}]),s}(Ir);function Yr(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]\x3di,t}function Kr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Jr\x3dfunction(t){a(s,t);var i\x3dKr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).baseClass\x3d"eqSuperscript",t.addRows(1),t}return n(s,[{key:"isEqSuperscript",value:function(){return!0}},{key:"add",value:function(t){return this.getEqRow(0).add(t)}},{key:"createDom",value:function(){var t\x3dzi.create("span"),e\x3dthis.getEqRow(0),i\x3de.getDomNode();return fn(i,"eqSupContent"),zi.place(i,t),e.getAccessibleAnnouncement\x3dfunction(){return"Superscript"},t}},{key:"getTreeLabel",value:function(){return"sup"}},{key:"getEqName",value:function(){return"@Sup"}},{key:"getLatexName",value:function(){return"^"}},{key:"getLatex",value:function(){if(!this.parent)return o(r(s.prototype),"getLatex",this).apply(this,arguments);var t\x3dthis.parent.getChildIndex(this)-1;return t\x3e\x3d0\x26\x26t\x3cthis.parent.getNumChildren()\x26\x26this.parent.getChild(t).isEqSubscript()?"{".concat(this.getMergedSuperLatex(),"}"):this.getMergedSuperLatex()}},{key:"getMergedSuperLatex",value:function(){var t;if(!this.parent)return o(r(s.prototype),"getMergedSuperLatex",this).apply(this,arguments);var e\x3dthis.parent.getChildIndex(this)-1;if(e\x3e\x3d0\x26\x26e\x3cthis.parent.getNumChildren()\x26\x26this.parent.getChild(e).isEqSuperscript())return"";var i\x3dthis.getEqRow(0).getLatex();for(e\x3dthis.parent.getChildIndex(this),e++;e\x3e\x3d0\x26\x26e\x3cthis.parent.getNumChildren()\x26\x26(t\x3dthis.parent.getChild(e)).isEqSuperscript();)i+\x3dt.getEqRow(0).getLatex(),e++;return"^{".concat(i,"}")}},{key:"getSimpleName",value:function(){var t\x3dthis.getEqRow(0);if(t.isInteger()){var e\x3dt.getEqText(),i\x3dparseInt(e);if(2\x3d\x3di)return"squared";if(3\x3d\x3di)return"cubed"}return null}},{key:"getSuperSubPrefix",value:function(){var t;if(this.parent\x26\x26this.parent.parent){t\x3dthis.parent.parent;for(var e\x3d[];t;)t.isEqSuperscript()?e.push("Super"):t.isEqSubscript()\x26\x26e.push("Sub"),t\x3dt.parent;if(e.length\x3e0)return e.join(" ")}return null}},{key:"getAccessibleName",value:function(){var t\x3dthis.getSimpleName();if(t)return t;var e\x3d"Superscript ".concat(this.getEqRow(0).getAccessibleName()),i\x3dthis.getSuperSubPrefix();return i\x26\x26(e\x3d"".concat(i," ").concat(e)),e}},{key:"getRowAbove",value:function(){return null}},{key:"getRowBelow",value:function(){return this.getFocusRow()}},{key:"getEqText",value:function(){var t,e\x3dthis.getEqDocument(),i\x3dthis.getEqRow(0);return e.ignoreEmptyBoxes\x26\x26""\x3d\x3der.trim(i.getEqText())?"":e.ignoreSubscriptInSuperscript\x26\x261\x3d\x3di.getNumChildren()\x26\x26(t\x3di.getChild(0)).isEqSubscript()?"".concat(this.getEqName(),"{").concat(t.getEqTextContents(),"}"):o(r(s.prototype),"getEqText",this).apply(this,arguments)}}]),s}(Wr),$r\x3d{};function Zr(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}$r.OVERBAR\x3d0,$r.UNDRBAR\x3d1,$r.OVDBBAR\x3d2,$r.UNDBBAR\x3d3,$r.ARROWL\x3d4,$r.ARROWR\x3d5,$r.ARROWDB\x3d6,$r.RAYL\x3d7,$r.RAYR\x3d8,$r.RAYDB\x3d9,$r.OVERBRC\x3d10,$r.UNDRBRC\x3d11,$r.ARC\x3d12,$r.SLASH\x3d13,$r.HAT\x3d14,$r.TILDE\x3d15,$r.ACCENT\x3d16,$r.UMLAUT\x3d17,$r.PRIME\x3d18,$r.PRIME2\x3d19,$r.PRIME3\x3d20,$r.REP\x3d21,$r.HLINE\x3d22,$r.DHLINE\x3d23,$r.SIDOT\x3d24,$r.EVEC\x3d25,$r.HBRACE\x3d26,$r.HBRACET\x3d27,$r.HBRACEB\x3d28,$r.EqName\x3d["OVERBAR","UNDRBAR","OVDBBAR","UNDBBAR","ARROWL","ARROWR","ARROWDB","RAYL","RAYR","RAYDB","OVERBRC","UNDRBRC","ARC","SLASH","HAT","TILDE","ACCENT","UMLAUT","PRIME","PRIME2","PRIME3","REP","HLINE","DHLINE","SIDOT","EVEC","HBRACE","HBRACET","HBRACEB"];var to\x3dfunction(t){a(s,t);var i\x3dZr(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).baseClass\x3d"eqSubscript",t.addRows(1),t}return n(s,[{key:"isEqSubscript",value:function(){return!0}},{key:"add",value:function(t){return this.getEqRow(0).add(t)}},{key:"createDom",value:function(){var t\x3dzi.create("span"),e\x3dthis.getEqRow(0),i\x3de.getDomNode();return fn(i,"eqSubContent"),zi.place(i,t),this.getEqRow(0).isEmpty()\x26\x26Ei(t,{padding:0,verticalAlign:0}),e.getAccessibleAnnouncement\x3dfunction(){return"Subscript"},t}},{key:"getTreeLabel",value:function(){return"sub"}},{key:"getEqName",value:function(){return"@Sub"}},{key:"getLatexName",value:function(){return"_"}},{key:"getSuperSubPrefix",value:function(){var t;if(this.parent\x26\x26this.parent.parent){t\x3dthis.parent.parent;for(var e\x3d[];t;)t.isEqSuperscript()?e.push("Super"):t.isEqSubscript()\x26\x26e.push("Sub"),t\x3dt.parent;if(e.length\x3e0)return e.join(" ")}return null}},{key:"getSimpleName",value:function(){var t\x3dthis.getPreviousSibling();if(t\x26\x26t.isEqText()\x26\x26(t.isNumber()||t._textType\x3d\x3drr.EqTextType.FUNCTION))return null;var e\x3dthis.getEqRow(0),i\x3de.getAccessibleName();return e.isNumber()?i:null}},{key:"getAccessibleName",value:function(){var t\x3dthis.getSimpleName();if(t)return t;var e\x3dthis.getEqRow(0).getAccessibleName(),i\x3d"Subscript ".concat(e),n\x3dthis.getSuperSubPrefix();return n\x26\x26(i\x3d"".concat(n," ").concat(i)),i}},{key:"normLatex",value:function(){if(!this.parent)return _EqComposite.prototype.getLatex.apply(this);var t\x3dthis.parent.getChildIndex(this)-1;return t\x3e\x3d0\x26\x26t\x3cthis.parent.getNumChildren()\x26\x26this.parent.getChild(t).isEqSuperscript()?"{".concat(this.getMergedSubLatex(),"}"):this.getMergedSubLatex()}},{key:"getMergedSubLatex",value:function(){var t;if(!this.parent)return _EqComposite.prototype.getLatex.apply(this);var e\x3dthis.parent.getChildIndex(this)-1;if(e\x3e\x3d0\x26\x26e\x3cthis.parent.getNumChildren()\x26\x26this.parent.getChild(e).isEqSubscript())return"";var i\x3dthis.getEqRow(0).getLatex();for(e\x3dthis.parent.getChildIndex(this),e++;e\x3e\x3d0\x26\x26e\x3cthis.parent.getNumChildren()\x26\x26(t\x3dthis.parent.getChild(e)).isEqSubscript();)i+\x3dt.getEqRow(0).getLatex(),e++;return"_{".concat(i,"}")}},{key:"getLatex",value:function(t){if(t)return o(r(s.prototype),"getLatex",this).apply(this,arguments);if(this.getEqDocument().fixLatexVector){var e\x3dthis.parent;if(!e||!e.isEqRow())return this.normLatex();var i\x3de.getChildIndex(this)-1;return i\x3e\x3d0\x26\x26i\x3ce.getNumChildren()\x26\x26e.getChild(i).isEqBar()\x26\x26(e.getChild(i).barType\x3d\x3d$r.RAYR||e.getChild(i).barType\x3d\x3d$r.EVEC)?"":this.normLatex()}return this.normLatex()}},{key:"getLatexRaw",value:function(){return this.getLatex(!0)}},{key:"getEqText",value:function(){return this.getEqDocument().ignoreEmptyBoxes\x26\x26""\x3d\x3der.trim(this.getEqRow(0).getEqText())?"":o(r(s.prototype),"getEqText",this).apply(this,arguments)}},{key:"getRowAbove",value:function(t){return this.getFocusRow()}},{key:"getRowBelow",value:function(t){return null}}]),s}(Wr);function eo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var io\x3dfunction(t){a(s,t);var i\x3deo(s);function s(t){var n;e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqDivide",n._type\x3ds.DIV,n.addRows(2),n.top\x3dn.getEqRow(0),n.top.baseClass\x3d"eqNumerator",n.bottom\x3dn.getEqRow(1),n.bottom.baseClass\x3d"eqDenominator";var r\x3dfunction(){return"eqNumerator"\x3d\x3d\x3dthis.baseClass?"Fraction Numerator":"eqDenominator"\x3d\x3d\x3dthis.baseClass?"Fraction Denominator":null};return n.top.getAccessibleAnnouncement\x3dr,n.bottom.getAccessibleAnnouncement\x3dr,t\x26\x26(n._type\x3dt.divType||s.DIV),n._type\x3d\x3ds.DIVSM\x26\x26(n.baseClass\x3d"eqDivide small"),n}return n(s,[{key:"isEqDivide",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span");return zi.place(this.top.getDomNode(),t),zi.place(this.bottom.getDomNode(),t),zi.create("span",{style:{display:"inline-block",width:0}},t),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().suppressEmptyHiding||this.getEqRow(0).rowsFilled()\x26\x26this.getEqRow(1).rowsFilled()||Ei(this.domNode,{display:"none"})}},{key:"getEqName",value:function(){return this._type\x3d\x3d\x3ds.DIVSM?"@DIVSM":"@DIV"}},{key:"getLatexName",value:function(){return"\\\\frac"}},{key:"getJSText",value:function(){return"(".concat(this.top.getJSText(),")/(").concat(this.bottom.getJSText(),")")}},{key:"isIntDiv",value:function(){return this.getEqRow(0).isInteger()\x26\x26this.getEqRow(1).isInteger()}},{key:"_getNumericalName",value:function(){try{if(this.isIntDiv()){var t\x3dparseInt(this.getEqRow(0).getEqText()),e\x3dparseInt(this.getEqRow(1).getEqText());if(t\x3e\x3d1\x26\x26t\x3c\x3d9\x26\x26e\x3e1\x26\x26e\x3c\x3d19){var i,n\x3dir.divNumerators[t];if(i\x3d1\x3d\x3dt?ir.divDenominators[e]:ir.divDenominators_plural[e],this.parent\x26\x26this.parent.isEqRow()){var r\x3dthis.parent.getPreviousEq(this);r\x26\x26r.isEqText()\x26\x26r.isInteger()\x26\x26(n\x3d"and ".concat(n))}return"".concat(n," ").concat(i)}}}catch(t){}return null}},{key:"_calculateNesting",value:function(t){var e,i\x3dthis.getEqRow(0),n\x3dthis.getEqRow(1),r\x3dt,o\x3dt;for(e\x3d0;e\x3ci.getNumChildren();e++){var s\x3di.getChild(e);s.isEqDivide()\x26\x26!s._getNumericalName()\x26\x26(r\x3dMath.max(r,s._calculateNesting(t+1)))}for(e\x3d0;e\x3cn.getNumChildren();e++){var a\x3dn.getChild(e);a.isEqDivide()\x26\x26!a._getNumericalName()\x26\x26(o\x3dMath.max(o,a._calculateNesting(t+1)))}return Math.max(r,o)}},{key:"getAccessibleName",value:function(t){var e\x3d"Start",i\x3d"Over",n\x3d"End";if(0\x3d\x3d\x3dt)return"".concat(e).concat("Fraction");if(1\x3d\x3d\x3dt)return"".concat(n).concat("Fraction");var r\x3dthis._getNumericalName();if(r)return r;for(var o\x3dthis._calculateNesting(0),s\x3d0;s\x3co;s++)e+\x3d"Start",i+\x3d"Over",n+\x3d"End";return"".concat(e).concat("Fraction"," ").concat(this.getEqRow(0).getAccessibleName()," ").concat(i," ").concat(this.getEqRow(1).getAccessibleName()," ").concat(n).concat("Fraction")}},{key:"getAccessiblePlainText",value:function(){var t\x3d[];return t.push(this.top.getAccessiblePlainText()),t.push(this.bottom.getAccessiblePlainText())," ".concat(t.join("/")," ")}},{key:"getAccessiblePosition",value:function(t){return o(r(s.prototype),"getAccessiblePosition",this).call(this,1\x3d\x3d\x3dt)}}]),s}(Wr);io.DIV\x3d1,io.DIVSM\x3d2;var no\x3d{};no.create\x3dfunction(t,e,i){var n\x3ddocument.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e){var o\x3de[r];switch(r){case"textNode":n.appendChild(document.createTextNode(o));break;default:n.setAttributeNS("xlink:href"\x3d\x3dr?"http://www.w3.org/1999/xlink":null,r,o)}}return i\x26\x26i.appendChild(n),n};var ro\x3dfunction(){function t(){e(this,t),this._list\x3d[]}return n(t,[{key:"moveTo",value:function(t,e){return this._xy("M",t,e),this}},{key:"lineTo",value:function(t,e){return this._xy("L",t,e),this}},{key:"moveToRel",value:function(t,e){return this._xy("m",t,e),this}},{key:"lineToRel",value:function(t,e){return this._xy("l",t,e),this}},{key:"_xy",value:function(t,e,i){this._list.push(t.concat(e,",",i))}},{key:"toString",value:function(){return this._list.join(" ")}}]),t}();function oo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}no.path\x3dfunction(){return new ro};var so\x3dfunction(t){a(s,t);var i\x3doo(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t.addRows(1),t.radicand\x3dt.getEqRow(0),t.radicand.baseClass\x3d"eqRadicand",t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.radicand\x3dnull,this.radicalSymbol\x3dnull,this.radicandHolder\x3dnull,this.rootRow\x3dnull,this.baseClass\x3d"eqSqrt"}},{key:"isEqSqrt",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span");this.getNumChildren()\x3e1?(this.rootRow\x3dthis.getEqRow(1),fn(this.rootRow.getDomNode(),"eqRoot"),zi.place(this.rootRow.getDomNode(),t)):this.rootRow\x26\x26(this.rootRow.destroy(),this.rootRow\x3dnull),this.radicandHolder\x3dzi.create("span",{class:"radicand-holder"},t),this.radicalSymbol\x3dzi.create("span",{class:"radical-symbol"},this.radicandHolder),zi.place(this.radicand.getDomNode(),this.radicandHolder);var e\x3dfunction(){return"eqRadicand"\x3d\x3d\x3dthis.baseClass?"Root Radicand":"Root Radical"};return this.radicand.getAccessibleAnnouncement\x3de,this.rootRow\x26\x26(this.rootRow.getAccessibleAnnouncement\x3de),t}},{key:"postCreate",value:function(){o(r(s.prototype),"postCreate",this).apply(this,arguments)}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dfunction(t){return Math.floor(t)+.5};if(this.radicalSymbol){var e\x3dthis.radicand.getDomNode(),i\x3d_i(e),n\x3dEn.getMarginExtents(e,i),a\x3dEn.getMarginBox(e,i),c\x3dbi(e,"color"),u\x3dlr.toHexString(c),l\x3dn.t,h\x3dl/2,d\x3da.w,p\x3da.h,f\x3dt(0),m\x3dt(p-.7*n.l),g\x3dh+.5,v\x3dt(n.l/2),y\x3dt(p-h),x\x3dt(n.l-h),w\x3dt(l-1);zi.empty(this.radicalSymbol);var C\x3dno.create("svg",{height:p,width:d},this.radicalSymbol);no.create("path",{style:"none",stroke:u,"stroke-width":1,fill:"none",d:no.path().moveTo(f,m).lineToRel(g,-g).lineTo(v,y).lineTo(x,w).lineTo(t(d),w)},C)}}},{key:"getTreeLabel",value:function(){return"sqrt"}},{key:"getAccessibleName",value:function(t){return 0\x3d\x3d\x3dt?"StartRoot":1\x3d\x3d\x3dt?"EndRoot":1\x3d\x3d\x3dthis.getNumChildren()?"StartRoot ".concat(this.getEqRow(0).getAccessibleName()," EndRoot"):"RootIndex ".concat(this.getEqRow(1).getAccessibleName()," StartRoot ").concat(this.getEqRow(0).getAccessibleName()," EndRoot")}},{key:"getLastRow",value:function(){return this.getEqRow(0)}},{key:"getFirstRow",value:function(){return this.getEqRow(this.getNumChildren()-1)}},{key:"getEqName",value:function(){return"@RT"}},{key:"getLatexName",value:function(){return"\\\\sqrt"}},{key:"getLatex",value:function(){var t\x3dthis.getLatexName();return this.getNumChildren()\x3e1\x26\x26(t+\x3d"[".concat(this.getEqRow(1).getLatex(),"]")),"".concat(t,"{").concat(this.getEqRow(0).getLatex(),"}")}},{key:"gotoNextRow",value:function(t,e){var i\x3dthis.getNumChildren()\x3e1;if(i\x26\x26t\x3d\x3dthis.getChild(1))return e.row\x3dthis.getEqRow(0),void(e.position\x3d0);var n\x3dt;i\x26\x26t\x3d\x3dthis.getChild(0)\x26\x26(n\x3dthis.getEqRow(1)),o(r(s.prototype),"gotoNextRow",this).call(this,n,e)}},{key:"gotoPrevRow",value:function(t,e){var i\x3dthis.getNumChildren()\x3e1;if(i\x26\x26t\x3d\x3dthis.getChild(0))return e.row\x3dthis.getEqRow(1),void(e.position\x3d0);var n\x3dt;i\x26\x26t\x3d\x3dthis.getChild(1)\x26\x26(n\x3dthis.getEqRow(0)),o(r(s.prototype),"gotoPrevRow",this).call(this,n,e)}},{key:"getEqText",value:function(){return this.getEqDocument().ignoreEmptyBoxes\x26\x262\x3d\x3dthis.getNumChildren()\x26\x26""\x3d\x3der.trim(this.getEqRow(1).getEqText())?"".concat(this.getEqName(),"{").concat(this.getEqRow(0).getEqText(),"}"):o(r(s.prototype),"getEqText",this).apply(this,arguments)}},{key:"forceParenExpand",value:function(){return!0}},{key:"getAccessiblePosition",value:function(t){return o(r(s.prototype),"getAccessiblePosition",this).call(this,1\x3d\x3d\x3dt)}}]),s}(Wr);function ao(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var co\x3dfunction(t){a(s,t);var i\x3dao(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"isEqDummyRow",value:function(){return!0}},{key:"getLastCaretPosition",value:function(){return 1}},{key:"getEqText",value:function(){var t\x3do(r(s.prototype),"getEqText",this).apply(this,arguments);return this.getEqDocument().ignoreEmptyBoxes\x26\x26""\x3d\x3der.trim(t)?"":"@DUMMY{".concat(t,"}")}},{key:"getTreeLabel",value:function(){return"dummyRow"}},{key:"extractEqs",value:function(){return null}}]),s}(Qr);function uo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var lo\x3dfunction(t){a(r,t);var i\x3duo(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("b");return zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@B"}},{key:"getAccessibleName",value:function(){return"Bold ".concat(this.getEqRow(0).getAccessibleName())}}]),r}(Ur);function ho(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var po\x3dfunction(t){a(r,t);var i\x3dho(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("i");return zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@I"}}]),r}(Ur);function fo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var mo\x3dfunction(t){a(r,t);var i\x3dfo(r);function r(t){var n;return e(this,r),(n\x3di.apply(this,arguments)).baseClass\x3d"eqPlaceHolder",n._name\x3dt.name,n}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("span");return zi.create("span",{class:"placeholder-text",innerHTML:"".concat(this.getEqName(),"{")},t),this.forEach((function(e,i){i\x3e0\x26\x26zi.create("span",{class:"placeholder-text",innerHTML:";"},t),zi.place(e.getDomNode(),t)})),zi.create("span",{class:"placeholder-text",innerHTML:"}"},t),t}},{key:"getEqName",value:function(){return"@".concat(this._name)}},{key:"getTreeLabel",value:function(){return this.getEqName()}}]),r}(Ur);function go(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var vo\x3dfunction(t){a(r,t);var i\x3dgo(r);function r(t){var n;return e(this,r),(n\x3di.apply(this,arguments)).baseClass\x3d"",n.addRows(1),n._points\x3dt.points||1,n}return n(r,[{key:"createDom",value:function(){var t\x3dMath.max(.1,1+.1*this._points),e\x3dzi.create("span",{style:{fontSize:"".concat(t,"em")}});return zi.place(this.getEqRow(0).getDomNode(),e),e}},{key:"getEqName",value:function(){return"@SIZE"}},{key:"getEqText",value:function(){return"".concat(this.getEqName(),"{").concat(this.getEqRow(0).getEqText(),";").concat(this._points.toString(),"}")}},{key:"getAccessibleName",value:function(){return this._points\x3e0?" font size increased by ".concat(this._points.toString()," ").concat(this.getEqRow(0).getAccessibleName()):this._points\x3c0?" font size decreased by ".concat((-this._points).toString()," ").concat(this.getEqRow(0).getAccessibleName()):" font size normal ".concat(this.getEqRow(0).getAccessibleName())}},{key:"getPoints",value:function(){return this._points}},{key:"setPoints",value:function(t){this._points\x3dt}}]),r}(mo);function yo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var xo\x3dfunction(t){a(s,t);var i\x3dyo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._name\x3dt.name,n._orderNo\x3dt.orderNo,n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._name\x3d"",this._orderNo\x3d0,this._needsStartup\x3d!1,this.baseClass\x3d"eqObject",this.focusInput\x3dnull,this._eqHtml\x3dnull,this._changedHandler\x3dnull,this.lastEqText\x3dnull}},{key:"isEqObject",value:function(){return!0}},{key:"_detachHandlers",value:function(){this._changedHandler\x26\x26(this._changedHandler.remove(),this._changedHandler\x3dnull)}},{key:"createDom",value:function(){this._eqHtml\x3dnull,this._needsStartup\x3d!1,this._detachHandlers();var t\x3dthis.getEqDocument(),e\x3d{};if(t){var i\x3dt.getDomNode();if(i)e\x3d{fontSize:bi(i,"font-size")}}var n\x3dzi.create("span",{style:e});if(t\x26\x26t.inputs){this._needsStartup\x3d!0;for(var r\x3dthis._name.toLowerCase();this._orderNo-- \x3e0;)r+\x3d"x";this._eqHtml\x3dt.inputs[r]}return n}},{key:"postRender",value:function(){if(this._needsStartup){var t\x3dthis.getEqDocument();t.instantiateInput\x26\x26t.instantiateInput(this.domNode,this._eqHtml),this._eqHtml\x3dnull,this._needsStartup\x3d!1,this._detachHandlers(),this._changedHandler\x3dthis.domNode.addEventListener("eqeditor_change",on(this,this.editorChanged))}}},{key:"editorChanged",value:function(t){var e\x3dt.eqEditor;if(e\x26\x26e.getEqText){var i\x3de.getEqText();if(this.lastEqText!\x3di){this.focusInput\x3de.focusNode,this.lastEqText\x3di,this.lastAccessibleName\x3de.getAccessibleName(),this.invalidate();var n\x3dthis.getEqDocument();if(n.parentObject?n.parentObject.doLayout():n.doLayout(),!e.isClearing\x26\x26this.focusInput){var r\x3dthis;setTimeout((function(){r.focusInput.focus()}),10)}}}}},{key:"getEqName",value:function(){return"@INPUT"}},{key:"getEqText",value:function(){return"".concat(this.getEqName(),"{").concat(this._name,"}")}},{key:"destroyDom",value:function(){o(r(s.prototype),"destroyDom",this).apply(this,arguments),this._detachHandlers()}},{key:"getAccessibleName",value:function(){return this.lastAccessibleName||o(r(s.prototype),"getAccessibleName",this).call(this)}}]),s}(Ur);function wo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Co\x3dfunction(t){a(s,t);var i\x3dwo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._barType\x3dt,n.addRows(1),n.eqBase\x3dn.getEqRow(0),n.domBase\x3dnull,n.domNode\x3dnull,n.domTop\x3dnull,n.domBottom\x3dnull,n._color\x3dnull,n}return n(s,[{key:"isEqBar",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.baseClass\x3d"eqBar",this.needsMargin()\x26\x26(this.baseClass\x3d"".concat(this.baseClass," eqBarMargin")),this.domNode\x3dt,this.domBase\x3dthis.eqBase.getDomNode(),zi.place(this.domBase,this.domNode),this._barType\x3d\x3d\x3d$r.EVEC\x26\x26fn(t,"evec"),t}},{key:"updateDom",value:function(){o(r(s.prototype),"updateDom",this).apply(this,arguments)}},{key:"_getColor",value:function(){var t\x3dbi(this.domNode,"color");return lr.toHexString(t)}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t,e,i\x3dEn.getContentBox(this.domBase),n\x3dbi(this.domNode,"fontSize").slice(0,-2),a\x3d1;if(this._color\x3dthis._getColor(),this.isOverBorder()?(this.createOverBorder(),Ei(this.domNode,"marginTop","1px")):this.isOverDraw()\x26\x26(this.domTop\x26\x26zi.destroy(this.domTop),t\x3dthis.createBar(n,i.w,i.h),this.domTop\x3dt.Node,Ei(this.domTop,"position","absolute"),Ei(this.domTop,"top","1px"),Ei(this.domBase,"marginTop","".concat(t.h+a,"px")),zi.place(this.domTop,this.domNode,0)),this.isUnderBorder()\x26\x26(this.createUnderBorder(),Ei(this.domNode,"marginBottom","1px"),Ei(this.domNode,"paddingBottom","2px")),this.isUnderDraw()\x26\x26(this.domBottom\x26\x26zi.destroy(this.domBottom),t\x3dthis.createBar(n,i.w,i.h,!0),this.domBottom\x3dt.Node,Ei(this.domBase,"marginBottom","".concat(t.h+a,"px")),Ei(this.domBottom,"position","absolute"),t.nonSvg||Ei(this.domBottom,"left","0px"),Ei(this.domBottom,"bottom","0.5px"),zi.place(this.domBottom,this.domNode)),this._barType\x3d\x3d\x3d$r.SLASH\x26\x26(e\x3d!0,this.domTop\x26\x26zi.destroy(this.domTop),t\x3dthis.createBar(n,i.w,i.h),this.domTop\x3dt.Node,Ei(this.domTop,"position","absolute"),Ei(this.domTop,"left","0px"),zi.place(this.domTop,this.domNode)),this.isPrime())return this.domTop\x26\x26zi.destroy(this.domTop),t\x3dthis.createBar(n,i.w,i.h),this.domTop\x3dt.Node,Ei(this.domTop,{verticalAlign:"top",top:0}),e\x3d!0,void zi.place(this.domTop,this.domNode);t\x26\x26(e||Ei(this.domNode,"width","".concat(t.w,"px")),this._barType!\x3d\x3d$r.RAYR\x26\x26i.w\x3ct.w\x26\x26Ei(this.domBase,"marginLeft","".concat(Math.floor((t.w-i.w)/2),"px")))}},{key:"createBar",value:function(t,e,i,n){var r\x3d{},o\x3dMath.max(Math.round(t/15),2),s\x3d2*o+1,a\x3de,c\x3dMath.max(e,12);this.isDoubleArrow()\x26\x26(c\x3dMath.max(a,16));var u\x3dMath.max(Math.round(.15*t),2),l\x3dMath.max(Math.round(.3*t),u),h\x3dMath.max(Math.floor(.1*t),1);switch(this._barType){case $r.RAYR:case $r.ARROWR:a\x3dc,r.Node\x3dthis.createArrow(o,a,!1,!0);break;case $r.RAYL:case $r.ARROWL:a\x3dc,r.Node\x3dthis.createArrow(o,a,!0,!1);break;case $r.RAYDB:case $r.ARROWDB:a\x3dc,r.Node\x3dthis.createArrow(o,a,!0,!0);break;case $r.OVERBAR:case $r.UNDRBAR:case $r.REP:case $r.HLINE:r.Node\x3dthis.createOverBar(a),s\x3d1;break;case $r.OVDBBAR:case $r.UNDBBAR:case $r.DHLINE:r.Node\x3dthis.createDbBar(a),s\x3d4;break;case $r.HBRACE:case $r.HBRACEB:case $r.HBRACET:s\x3dMath.max(Math.floor(.33*t),4)+1,r.Node\x3dthis.createHBrace(a,s,n),r.nonSvg\x3d!0;break;case $r.OVERBRC:a\x3dMath.max(e,16),r.Node\x3dthis.createOverBrace(a),a+\x3d1,s\x3d10;break;case $r.UNDRBRC:a\x3dMath.max(e-1,16),r.Node\x3dthis.createUnderBrace(a),a+\x3d1,s\x3d10;break;case $r.ARC:s\x3dMath.max(Math.round(.33*t),3),r.Node\x3dthis.createArc(a,s);break;case $r.SLASH:s\x3di,r.Node\x3dthis.createSlash(a,s);break;case $r.HAT:if((s\x3dMath.max(Math.round(.33*t),3))/a\x3c.1\x26\x26(s\x3d.1*a),s\x3dMath.min(s,2*t),r.Node\x3dthis.createHat(Math.max(a,6),s),a\x3c6){var d\x3d(a-6)/2;Ei(r.Node,"left","".concat(d,"px"))}return r.w\x3da,r.h\x3ds,zi.create(r.Node,{width:"".concat(Math.max(a,6),"px"),height:"".concat(r.h,"px")}),r;case $r.TILDE:var p\x3dMath.round(.67*t);a\x3dMath.max(p,a),s\x3dMath.max(Math.round(.3*t),5),r.Node\x3dthis.createTilde(a,s,p);break;case $r.PRIME:r.Node\x3dthis.createPrime(u,l,1),r.nonSvg\x3d!0;break;case $r.PRIME2:r.Node\x3dthis.createPrime(u,l,2),r.nonSvg\x3d!0;break;case $r.PRIME3:r.Node\x3dthis.createPrime(u,l,3),r.nonSvg\x3d!0;break;case $r.ACCENT:a\x3dMath.max(u,a),s\x3dl,r.Node\x3dthis.createAccent(a,u,l);break;case $r.SIDOT:h*\x3d1.25,r.Node\x3dthis.createSiDot(a,h),s\x3d2*h;break;case $r.UMLAUT:a\x3dMath.max(7,a),r.Node\x3dthis.createUmlaut(a,h),s\x3d2*h}return r.w\x3da,r.h\x3ds,r.Node\x26\x26!r.nonSvg\x26\x26zi.create(r.Node,{width:"".concat(r.w,"px"),height:"".concat(r.h,"px")}),r}},{key:"createOverBar",value:function(t){var e;return e\x3d\'\x3csvg viewBox\x3d"0 0 \'.concat(t,\' 1" preserveAspectRatio\x3d"none"\x3e\'),e+\x3d"".concat(\'\x3cg\x3e\x3cpath d\x3d" M 0 0 h\').concat(t," v1 h-").concat(t,\' Z "/\x3e\')+"\x3c/g\x3e",e+\x3d"\x3c/svg\x3e",zi.toDom(e)}},{key:"createDbBar",value:function(t){var e;return t-\x3d1,e\x3d"\x3csvg\x3e",e+\x3d\'\x3cg stroke\x3d"\'.concat(this._color,\'" fill\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"butt" \x3e\'),e+\x3d\'\x3cline  x1\x3d"1" y1\x3d"0.5" x2\x3d"\'.concat(t,\'" y2\x3d"0.5" /\x3e\'),e+\x3d\'\x3cline  x1\x3d"1" y1\x3d"3.5" x2\x3d"\'.concat(t,\'" y2\x3d"3.5" /\x3e\'),e+\x3d"\x3c/g\x3e",e+\x3d"\x3c/svg\x3e",zi.toDom(e)}},{key:"createHBrace",value:function(t,e,i){var n;return i?(n\x3dzi.create("span"),Ei(n,{height:"".concat(e-1,"px"),width:"".concat(t-2,"px"),left:"1px",borderBottom:"solid 1px",borderLeft:"solid 1px",borderRight:"solid 1px"}),n):(n\x3dzi.create("span"),Ei(n,{height:"".concat(e-1,"px"),width:"".concat(t-2,"px"),left:"1px",borderTop:"solid 1px",borderLeft:"solid 1px",borderRight:"solid 1px"}),n)}},{key:"createArc",value:function(t,e){var i\x3de,n\x3d-.5*e,r\x3d(t-\x3d2)/2,o\x3d"\x3csvg\x3e";return o+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),o+\x3d\'\x3cpath d\x3d"\',o+\x3d"M1 ".concat(i," "),o+\x3d"Q".concat(r," ").concat(n," ").concat(t," ").concat(i),o+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(o)}},{key:"createHat",value:function(t,e){var i\x3de,n\x3dt/2,r\x3d"\x3csvg\x3e";return r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),r+\x3d\'\x3cpath d\x3d"\',r+\x3d"M1 ".concat(i," "),r+\x3d"L".concat(n," 1 ").concat(t-1," ").concat(i),r+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(r)}},{key:"createTilde",value:function(t,e,i){var n\x3de,r\x3dt/2,o\x3d"\x3csvg\x3e";o+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),o+\x3d\'\x3cpath d\x3d"\';var s\x3dn-e/2,a\x3dr-i/2;return o+\x3d" M".concat(a," ").concat(s),o+\x3d" Q".concat(a+i/4," ").concat(s-e/2," ").concat(r," ").concat(s),o+\x3d" Q".concat(r+i/4," ").concat(s+e/2," ").concat(a+i," ").concat(s),o+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(o)}},{key:"createSiDot",value:function(t,e){var i\x3de,n\x3dt/2,r\x3d"\x3csvg\x3e";return r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),r+\x3d\'\x3ccircle cx\x3d"\'.concat(n,\'" cy\x3d"\').concat(i,\'" r\x3d"\').concat(e,\'" /\x3e\'),r+\x3d"\x3c/g\x3e\x3c/svg\x3e",zi.toDom(r)}},{key:"createUmlaut",value:function(t,e){var i\x3de,n\x3dt/2,r\x3d"\x3csvg\x3e";return r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),r+\x3d\'\x3ccircle cx\x3d"\'.concat(n+2*e,\'" cy\x3d"\').concat(i,\'" r\x3d"\').concat(e,\'" /\x3e\'),r+\x3d\'\x3ccircle cx\x3d"\'.concat(n-2*e,\'" cy\x3d"\').concat(i,\'" r\x3d"\').concat(e,\'" /\x3e\'),r+\x3d"\x3c/g\x3e\x3c/svg\x3e",zi.toDom(r)}},{key:"createSlash",value:function(t,e){var i\x3d"\x3csvg\x3e";return i+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),i+\x3d\'\x3cpath d\x3d"\',i+\x3d"M1 ".concat(e," "),i+\x3d"L".concat(t-1," 0"),i+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(i)}},{key:"createPrime",value:function(t,e,i){var n\x3d"";do{n+\x3d"\x26#x2032;",i--}while(i\x3e0);return zi.create("span",{class:"eqMathBB prime",innerHTML:n})}},{key:"createAccent",value:function(t,e,i){var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),n+\x3d\'\x3cpath d\x3d"\';var r\x3dt/2+e/2;return n+\x3d"M ".concat(r," ").concat(0," "),n+\x3d"L".concat(r-e," ").concat(0+i," "),n+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(n)}},{key:"createOverBrace",value:function(t){var e\x3dMath.floor(t/2)+.5,i\x3d"\x3csvg\x3e";return i+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),i+\x3d\'\x3cpath d\x3d"\',i+\x3d"M0 ".concat(10," "),i+\x3d"Q0 ".concat(5," 4 ").concat(5," "),i+\x3d"L".concat(e-4," ").concat(5," "),i+\x3d"Q".concat(e," ").concat(5," ").concat(e," ").concat(0," "),i+\x3d"Q".concat(e," ").concat(5," ").concat(e+4," ").concat(5," "),i+\x3d"L".concat(t-4," ").concat(5," "),i+\x3d"Q".concat(t," ").concat(5," ").concat(t," ").concat(10," "),i+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(i)}},{key:"createUnderBrace",value:function(t){var e\x3dMath.floor(t/2)+.5,i\x3d"\x3csvg\x3e";return i+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._color,\'"\x3e\'),i+\x3d\'\x3cpath d\x3d"\',i+\x3d"M0 ".concat(0," "),i+\x3d"Q0 ".concat(5," 4 ").concat(5," "),i+\x3d"L".concat(e-4," ").concat(5," "),i+\x3d"Q".concat(e," ").concat(5," ").concat(e," ").concat(10," "),i+\x3d"Q".concat(e," ").concat(5," ").concat(e+4," ").concat(5," "),i+\x3d"L".concat(t-4," ").concat(5," "),i+\x3d"Q".concat(t," ").concat(5," ").concat(t," ").concat(0," "),i+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(i)}},{key:"createArrow",value:function(t,e,i,n){e-\x3d2;var r,o\x3dMath.round(3*t),s\x3d2*t+1,a\x3de-o,c\x3dt+.25;r\x3d\'\x3csvg viewBox\x3d"0 0 \'.concat(e+2," ").concat(s,\'" preserveAspectRatio\x3d"none" \x3e\'),r+\x3d\'\x3cg fill\x3d"\'.concat(this._color,\'" stroke\x3d"\').concat(this._color,\'"\x3e\x3cpath d\x3d"\');var u\x3d"v-".concat(t," l").concat(o," ").concat(t," -").concat(o," ").concat(t," V").concat(c),l\x3d"v".concat(t," l-").concat(o," -").concat(t," ").concat(o," -").concat(t," V").concat(c);return i\x26\x26n?(a-\x3do,r+\x3d"M".concat(o+1," ").concat(c).concat(l," h").concat(a).concat(u," z")):n?r+\x3d"M1 ".concat(c," h").concat(a).concat(u," h-").concat(a," z"):i\x26\x26(r+\x3d"M".concat(e+1," ").concat(c," h-").concat(a).concat(l," h").concat(a," z")),r+\x3d\'"/\x3e\x3c/g\x3e\x3c/svg\x3e\',zi.toDom(r)}},{key:"getEqName",value:function(){return"@".concat($r.EqName[this._barType])}},{key:"isDoubleArrow",value:function(){return this._barType\x3d\x3d\x3d$r.RAYDB||this._barType\x3d\x3d\x3d$r.ARROWDB}},{key:"_enableDoubleBorder",value:function(){return!1}},{key:"createOverBorder",value:function(){this.isDouble()?(Ei(this.domNode,"borderTop","double"),Ei(this.domNode,"borderTopWidth","4px")):(Ei(this.domNode,"borderTop","solid"),Ei(this.domNode,"borderTopWidth","1px"))}},{key:"createUnderBorder",value:function(){this.isDouble()?(Ei(this.domNode,"borderBottom","double"),Ei(this.domNode,"borderBottomWidth","4px")):(Ei(this.domNode,"borderBottom","solid"),Ei(this.domNode,"borderBottomWidth","1px"))}},{key:"isDouble",value:function(){return this._barType\x3d\x3d\x3d$r.OVDBBAR||this._barType\x3d\x3d\x3d$r.DHLINE||this._barType\x3d\x3d\x3d$r.UNDBBAR||this._barType\x3d\x3d\x3d$r.DHLINE}},{key:"isOverBorder",value:function(){return this._barType\x3d\x3d\x3d$r.OVERBAR||this._barType\x3d\x3d\x3d$r.OVDBBAR\x26\x26this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.HLINE||this._barType\x3d\x3d\x3d$r.DHLINE\x26\x26this._enableDoubleBorder()}},{key:"isUnderBorder",value:function(){return this._barType\x3d\x3d\x3d$r.UNDRBAR||this._barType\x3d\x3d\x3d$r.UNDBBAR\x26\x26this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.HLINE||this._barType\x3d\x3d\x3d$r.DHLINE\x26\x26this._enableDoubleBorder()}},{key:"isOverDraw",value:function(){return this._barType\x3d\x3d\x3d$r.RAYDB||this._barType\x3d\x3d\x3d$r.RAYR||this._barType\x3d\x3d\x3d$r.RAYL||this._barType\x3d\x3d\x3d$r.OVERBRC||this._barType\x3d\x3d\x3d$r.ARC||this._barType\x3d\x3d\x3d$r.HAT||this._barType\x3d\x3d\x3d$r.TILDE||this._barType\x3d\x3d\x3d$r.ACCENT||this._barType\x3d\x3d\x3d$r.REP||this._barType\x3d\x3d\x3d$r.UMLAUT||this._barType\x3d\x3d\x3d$r.SIDOT||this._barType\x3d\x3d\x3d$r.OVDBBAR\x26\x26!this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.DHLINE\x26\x26!this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.HBRACE||this._barType\x3d\x3d\x3d$r.HBRACET}},{key:"isUnderDraw",value:function(){return this._barType\x3d\x3d\x3d$r.ARROWDB||this._barType\x3d\x3d\x3d$r.ARROWR||this._barType\x3d\x3d\x3d$r.ARROWL||this._barType\x3d\x3d\x3d$r.UNDRBRC||this._barType\x3d\x3d\x3d$r.UNDBBAR\x26\x26!this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.DHLINE\x26\x26!this._enableDoubleBorder()||this._barType\x3d\x3d\x3d$r.HBRACE||this._barType\x3d\x3d\x3d$r.HBRACEB}},{key:"isPrime",value:function(){return this._barType\x3d\x3d\x3d$r.PRIME||this._barType\x3d\x3d\x3d$r.PRIME2||this._barType\x3d\x3d\x3d$r.PRIME3}},{key:"isTopBottom",value:function(){return this._barType\x3d\x3d\x3d$r.HLINE||this._barType\x3d\x3d\x3d$r.DHLINE}},{key:"needsMargin",value:function(){return this.isOverBorder()||this.isUnderBorder()}},{key:"getAccessibleName",value:function(){var t\x3dthis._barType;return ir.getModifierNames($r.EqName[t],[this.getEqRow(0).getAccessibleName()])}},{key:"getLatexName",value:function(){switch(this._barType){case $r.OVERBAR:return"\\\\bar";case $r.RAYDB:case $r.RAYL:return"\\\\unknownbar";case $r.RAYR:return"\\\\vec";case $r.HAT:return"\\\\hat";case $r.EVEC:return"\\\\evec";default:return"\\\\unknownbar"}}},{key:"getLatex",value:function(){if(!this.getEqDocument().fixLatexVector||this._barType!\x3d\x3d$r.RAYR\x26\x26this._barType!\x3d\x3d$r.EVEC)return o(r(s.prototype),"getLatex",this).apply(this,arguments);var t\x3dthis.parent;if(!t||!t.isEqRow())return o(r(s.prototype),"getLatex",this).apply(this,arguments);var e\x3dt.getChildIndex(this)+1;if(e\x3e\x3d0\x26\x26e\x3ct.getNumChildren()\x26\x26t.getChild(e).isEqSubscript()){var i\x3dt.getChild(e).getLatexRaw();return"".concat(this.getLatexName(),"{").concat(this.getEqRow(0).getLatex()).concat(i,"}")}return o(r(s.prototype),"getLatex",this).apply(this,arguments)}},{key:"forceParenExpand",value:function(){return!0}}]),s}(Ur);function _o(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Eo\x3dfunction(t){a(s,t);var i\x3d_o(s);function s(t){var n;switch(e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._type\x3dt,n._type){case s.OVERUNDER:n.addRows(3),n.base\x3dn.getEqRow(0),n.over\x3dn.getEqRow(1),n.under\x3dn.getEqRow(2);break;case s.OVER:n.addRows(2),n.base\x3dn.getEqRow(0),n.over\x3dn.getEqRow(1);break;case s.UNDER:n.addRows(2),n.base\x3dn.getEqRow(0),n.under\x3dn.getEqRow(1)}return n.baseClass\x3d"eqOverUnder",n.over\x26\x26(n.over.baseClass\x3d"eqOver"),n.under\x26\x26(n.under.baseClass\x3d"eqUnder"),n.base\x26\x26(n.base.baseClass\x3d"eqOverUnderBase"),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._type\x3ds.OVERUNDER,this.base\x3dnull,this.over\x3dnull,this.under\x3dnull,this.domNode\x3dnull,this.domOver\x3dnull,this.domUnder\x3dnull,this.domBase\x3dnull,this.domBase1\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span");switch(this.base\x26\x26(this.domBase\x3dthis.base.getDomNode()),this.over\x26\x26(this.domOver\x3dthis.over.getDomNode()),this.under\x26\x26(this.domUnder\x3dthis.under.getDomNode()),this._type){case s.OVER:zi.place(this.domOver,t),zi.place(this.domBase,t);break;case s.UNDER:zi.place(this.domBase,t),zi.place(this.domUnder,t);break;case s.OVERUNDER:var e\x3dzi.create("span");fn(e,"eqOverUnder"),zi.place(this.domOver,e),zi.place(this.domBase,e),zi.place(e,t),zi.place(this.domUnder,t),this.domBase1\x3de}return this.domNode\x3dt,t}},{key:"postRender",value:function(){switch(o(r(s.prototype),"postRender",this).apply(this,arguments),this._type){case s.OVER:this.updateOver(this.domNode,this.domBase,this.domOver);break;case s.UNDER:this.updateUnder(this.domNode,this.domBase,this.domUnder);break;case s.OVERUNDER:this.updateOver(this.domBase1,this.domBase,this.domOver),this.updateUnder(this.domNode,this.domBase1,this.domUnder)}}},{key:"updateOver",value:function(t,e,i){var n\x3dEn.getMarginBox(i),r\x3dEn.getMarginBox(e),o\x3dMath.max(n.w,r.w);Ei(t,"width","".concat(o,"px")),Ei(i,"width","".concat(o,"px")),Ei(i,"display","block")}},{key:"updateUnder",value:function(t,e,i){var n\x3dEn.getMarginBox(i),r\x3dEn.getMarginBox(e),o\x3dMath.max(n.w,r.w);Ei(t,"width","".concat(o,"px")),Ei(i,"width","".concat(o,"px"))}},{key:"getEqName",value:function(){switch(this._type){case 1:return"@OVERUNDER";case 2:return"@OVER";case 3:return"@UNDER";default:return""}}},{key:"getAccessibleName",value:function(){switch(this._type){case s.OVERUNDER:return"ModifyingAbove ModifyingBelow ".concat(this.getEqRow(0).getAccessibleName()," With ").concat(this.getEqRow(1).getAccessibleName()," width ").concat(this.getEqRow(2).getAccessibleName());case s.OVER:return"ModifyingAbove ".concat(this.getEqRow(0).getAccessibleName()," With ").concat(this.getEqRow(1).getAccessibleName());case s.UNDER:return"ModifyingBelow ".concat(this.getEqRow(0).getAccessibleName()," With ").concat(this.getEqRow(1).getAccessibleName());default:return""}}}]),s}(Wr);function bo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Eo.OVERUNDER\x3d1,Eo.OVER\x3d2,Eo.UNDER\x3d3;var Ro\x3dfunction(t){a(s,t);var i\x3dbo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqAbs",n.domNode\x3dnull,n.domBase\x3dnull,n.domLeft\x3dnull,n.domRight\x3dnull,n._type\x3d1,t\x26\x26(n._type\x3dt),n.addRows(1),n}return n(s,[{key:"createDom",value:function(){var t\x3dzi.create("span");this.domNode\x3dt;var e\x3dthis.getEqRow(0);return this.domBase\x3de.getDomNode(),fn(this.domBase,"eqAbsRow"),zi.place(this.domBase,this.domNode),e.getAccessibleAnnouncement\x3dfunction(){return"Absolute value"},t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),En.getContentBox(this.domBase);var t\x3dbi(this.domNode,"fontSize").slice(0,-2),e\x3dMath.max(Math.round(t/15*2),2),i\x3dMath.max(Math.round(t/15*2),2),n\x3d1;this._type!\x3ds.ABSR\x26\x26(Ei(this.domNode,"marginLeft","".concat(e,"px")),Ei(this.domBase,"marginLeft","".concat(i,"px")),this._type\x3d\x3ds.ABSL\x26\x26Ei(this.domNode,"marginRight","".concat(n,"px")),Ei(this.domNode,"borderLeft","solid 1px")),this._type!\x3ds.ABSL\x26\x26(Ei(this.domNode,"marginRight","".concat(e,"px")),Ei(this.domBase,"marginRight","".concat(i,"px")),this._type\x3d\x3ds.ABSR\x26\x26Ei(this.domNode,"marginLeft","".concat(n,"px")),Ei(this.domNode,"borderRight","solid 1px"))}},{key:"createPipe",value:function(t){var e\x3d"\x3csvg\x3e";e+\x3d\'\x3cg fill\x3d"none" stroke\x3d"black" shape-rendering\x3d"crispEdges" \x3e\',e+\x3d\'\x3cpath d\x3d"\';var i\x3d.5;e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"L".concat(i," ").concat(0+t," "),e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"L".concat(i," ").concat(0+t," "),e+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var n\x3dzi.toDom(e);return zi.create(n,{width:"1px",height:"".concat(t,"px")}),n}},{key:"getEqName",value:function(){switch(this._type){case s.ABS:return"@ABS";case s.ABSL:return"@ABSL";case s.ABSR:return"@ABSR";default:return"@ABS"}}},{key:"getLatexName",value:function(){return this.getEqDocument().parseLatexPipesAsABS\x26\x261\x3d\x3dthis._type?"":o(r(s.prototype),"getLatexName",this).apply(this,arguments)}},{key:"getLatex",value:function(){return this.getEqDocument().parseLatexPipesAsABS\x26\x261\x3d\x3dthis._type?"\\\\left|".concat(this.getEqRow(0).getLatex(),"\\\\right|"):o(r(s.prototype),"getLatex",this).apply(this,arguments)}},{key:"getAccessibleName",value:function(){switch(this._type){case s.ABSL:return"vertical line ".concat(this.getEqRow(0).getAccessibleName());case s.ABSR:return"".concat(this.getEqRow(0).getAccessibleName()," vertical line");case s.ABS:default:return"StartAbsoluteValue ".concat(this.getEqRow(0).getAccessibleName()," EndAbsoluteValue")}}}]),s}(Ur);function qo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Ro.ABS\x3d1,Ro.ABSL\x3d2,Ro.ABSR\x3d3;var ko\x3dfunction(t){a(s,t);var i\x3dqo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).addRows(1),n._type\x3dt,n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqNorm",this.domNode\x3dnull,this.domBase\x3dnull,this.domLeft\x3dnull,this.domRight\x3dnull,this.domHolder\x3dnull,this._type\x3ds.Norm}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.domNode\x3dt,this.domHolder\x3dzi.create("span",{class:"eqNormBody"},t),this.domBase\x3dthis.getEqRow(0).getDomNode(),zi.place(this.domBase,this.domHolder),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dbi(this.domNode,"fontSize").slice(0,-2),e\x3dMath.max(Math.round(t/15*2),2),i\x3dMath.max(Math.round(t/15*2),2),n\x3d1;this._type!\x3ds.NORMR\x26\x26(Ei(this.domNode,"marginLeft","".concat(e,"px")),Ei(this.domNode,"paddingLeft","1px"),Ei(this.domNode,"borderLeft","solid 1px"),Ei(this.domHolder,"paddingLeft","".concat(i,"px")),Ei(this.domHolder,"borderLeft","solid 1px"),this._type\x3d\x3ds.NORML\x26\x26Ei(this.domNode,"marginRight","".concat(n,"px"))),this._type!\x3ds.NORML\x26\x26(Ei(this.domNode,"marginRight","".concat(e,"px")),Ei(this.domNode,"paddingRight","1px"),Ei(this.domNode,"borderRight","solid 1px"),Ei(this.domHolder,"paddingRight","".concat(i,"px")),Ei(this.domHolder,"borderRight","solid 1px"),this._type\x3d\x3ds.NORMR\x26\x26Ei(this.domNode,"marginLeft","".concat(n,"px")))}},{key:"createPipe",value:function(t){var e\x3d"\x3csvg\x3e";e+\x3d\'\x3cg fill\x3d"none" stroke\x3d"black" shape-rendering\x3d"crispEdges" \x3e\',e+\x3d\'\x3cpath d\x3d"\';var i\x3d.6;e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"v".concat(0+t," "),e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"v".concat(0+t," "),e+\x3d"M ".concat(i\x3d2.4," ").concat(0," "),e+\x3d"v".concat(0+t," "),e+\x3d"M ".concat(i," ").concat(0," "),e+\x3d"v".concat(0+t," "),e+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var n\x3dzi.toDom(e);return zi.create(n,{width:"3px",height:"".concat(t,"px")}),n}},{key:"getEqName",value:function(){switch(this._type){case s.Norm:return"@Norm";case s.NormL:return"@NormL";case s.NormR:return"@NormR";default:return"@Norm"}}},{key:"getAccessibleName",value:function(){var t\x3dthis.getEqRow(0).getAccessibleName();switch(this._type){case 2:return"left double vertical line ".concat(t);case 3:return"".concat(t," right double vertical line");default:return"left norm ".concat(t," right norm")}}}]),s}(Ur);function No(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}ko.NORM\x3d1,ko.NORML\x3d2,ko.NORMR\x3d3;var To\x3dfunction(t){a(s,t);var i\x3dNo(s);function s(t,n,r){var o,a;e(this,s),(o\x3di.apply(this,arguments)).initFields(),o._type\x3dr,o._rowIndex\x3d[],o.addRows(t*n);for(var c\x3d0;c\x3ct;c++)a\x3dc*n,o._rowIndex.push(a);return o}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqMatrix",this.domNode\x3dnull,this.domBase\x3dnull,this.domSup\x3dnull,this.domSub\x3dnull,this._currentRow\x3dnull,this._type\x3ds.Mat,this._rowIndex\x3dnull,this._dimensionChanged\x3d!1}},{key:"isEqMat",value:function(){return!0}},{key:"_createNewEqRow",value:function(){return new Qr}},{key:"updateDom",value:function(){this._createMatrix()}},{key:"createDom",value:function(){var t\x3dzi.create("table");return this.isLeft()?fn(t,"eqLeft"):this.isRight()?fn(t,"eqRight"):this.isCenter()\x26\x26fn(t,"eqCenter"),this.isTab()?fn(t,"eqTab"):this.isColumn()?fn(t,"eqColumn"):this.isRow()?fn(t,"eqTableRow"):this.isTable()?fn(t,"eqTable"):this.isLeq()?fn(t,"eqLeq"):this.isAugment()?fn(t,"eqAugment"):this.isDetx()?fn(t,"eqDetx"):this.isMatx()\x26\x26fn(t,"eqMatx"),this.domNode\x3dt,this._dimensionChanged\x3d!0,t}},{key:"_createMatrix",value:function(){if(this._dimensionChanged){for(var t\x3dzi.create("table"),e\x3d0;e\x3cthis.getMatRowCount();e++){var i\x3dzi.create("tr");if(this.isMatx()\x26\x260\x3d\x3de){var n\x3dzi.create("th",{rowspan:this.getMatRowCount()});zi.place(n,i)}for(var r\x3d0;r\x3cthis.getMatColCount();r++){var o\x3dzi.create("td");zi.place(this.getMatEqRow(e,r).getDomNode(),o),zi.place(o,i)}if(this.isMatx()\x26\x260\x3d\x3de){var s\x3dzi.create("th",{rowspan:this.getMatRowCount()});zi.place(s,i)}zi.place(i,t)}zi.empty(this.domNode);for(var a\x3dthis.domNode;t.children.length\x3e0;){var c\x3dt.children[0];zi.place(c,a)}this._dimensionChanged\x3d!1}}},{key:"getEqName",value:function(){var t;switch(this._type){case s.MAT:t\x3d"MAT";break;case s.MATL:t\x3d"MATL";break;case s.MATR:t\x3d"MATR";break;case s.AUGMENT:t\x3d"AUGMENT";break;case s.AUGMENTL:t\x3d"AUGMENTL";break;case s.AUGMENTR:t\x3d"AUGMENTR";break;case s.ROW:t\x3d"ROW";break;case s.ROWL:t\x3d"ROWL";break;case s.ROWR:t\x3d"ROWR";break;case s.COLUMN:t\x3d"COLUMN";break;case s.COLUMNL:t\x3d"COLUMNL";break;case s.COLUMNR:t\x3d"COLUMNR";break;case s.TAB:t\x3d"TAB";break;case s.TABL:t\x3d"TABL";break;case s.TABR:t\x3d"TABR";break;case s.TABLE:t\x3d"TABLE";break;case s.TABLEL:t\x3d"TABLEL";break;case s.TABLER:t\x3d"TABLER";break;case s.MATX:t\x3d"MATX";break;case s.DETX:t\x3d"DETX";break;case s.LEQ:t\x3d"LEQ";break;case s.LEQL:t\x3d"LEQL";break;case s.LEQR:t\x3d"LEQR";break;default:t\x3d"MAT"}return t}},{key:"getMatColCount",value:function(){var t,e,i;for(e\x3d0,t\x3d0;t\x3cthis._rowIndex.length;t++)i\x3dt\x3cthis._rowIndex.length-1?this._rowIndex[t+1]:this.getNumChildren(),e\x3dMath.max(e,i-this._rowIndex[t]);return e}},{key:"setMatColCount",value:function(t){if(t!\x3dthis.getMatColCount()){for(;this.getMatColCount()\x3ct;)this.addCol();for(;this.getMatColCount()\x3et;)this.removeCol();this.invalidate()}}},{key:"getMatRowCount",value:function(){return this._rowIndex.length}},{key:"setMatRowCount",value:function(t){if(t!\x3dthis.getMatRowCount()){for(;this.getMatRowCount()\x3ct;)this.addRow();for(;this.getMatRowCount()\x3et;)this.removeRow();this.invalidate()}}},{key:"addRow",value:function(t){var e\x3dthis.getMatColCount();(isNaN(t)||t\x3c0||t\x3ethis.getMatRowCount())\x26\x26(t\x3dthis.getMatRowCount());var i\x3dt*e;this._rowIndex.splice(t,0,i);for(var n\x3d0;n\x3ce;n++){var r\x3di+n;r\x3cthis.getNumChildren()?this.addChildAt(this._createNewEqRow(),r):this.addChild(this._createNewEqRow())}for(n\x3dt+1;n\x3cthis.getMatRowCount();n++)this._rowIndex[n]\x3dthis._rowIndex[n]+e;this._dimensionChanged\x3d!0,this.invalidate()}},{key:"removeRow",value:function(t){var e\x3dthis.getMatColCount();(isNaN(t)||t\x3c0||t\x3e\x3dthis.getMatRowCount())\x26\x26(t\x3dthis.getMatRowCount()-1);var i\x3dthis._rowIndex[t];this._rowIndex.splice(t,1);for(var n\x3d0;n\x3ce;n++)this.removeChildAt(i);for(n\x3dt;n\x3cthis.getMatRowCount();n++)this._rowIndex[n]\x3dthis._rowIndex[n]-e;this._dimensionChanged\x3d!0,this.invalidate()}},{key:"addCol",value:function(t){(isNaN(t)||t\x3c0||t\x3ethis.getMatColCount())\x26\x26(t\x3dthis.getMatColCount());for(var e\x3d0;e\x3cthis.getMatRowCount();e++){if(e\x3e0)for(var i\x3de;i\x3cthis.getMatRowCount();i++)this._rowIndex[i]\x3dthis._rowIndex[i]+1;var n\x3dthis._rowIndex[e]+t;n\x3cthis.getNumChildren()?this.addChildAt(this._createNewEqRow(),n):this.addChild(this._createNewEqRow())}this._dimensionChanged\x3d!0,this.invalidate()}},{key:"removeCol",value:function(t){(isNaN(t)||t\x3c0||t\x3ethis.getMatColCount())\x26\x26(t\x3dthis.getMatColCount()-1);for(var e\x3d0;e\x3cthis.getMatRowCount();e++){if(e\x3e0)for(var i\x3de;i\x3cthis.getMatRowCount();i++)this._rowIndex[i]\x3dthis._rowIndex[i]-1;var n\x3dthis._rowIndex[e]+t;this.removeChildAt(n)}this._dimensionChanged\x3d!0,this.invalidate()}},{key:"getMatEqRow",value:function(t,e){var i;return(i\x3dthis._rowIndex[t]+e)\x3ethis.getNumChildren()-1?null:t\x3d\x3dthis._rowIndex.length-1\x26\x26i\x3cthis.getNumChildren()?this.getEqRow(i):i\x3e\x3dthis._rowIndex[t+1]?null:this.getEqRow(i)}},{key:"addEqRow",value:function(t){var e;return this.addChild(this._createNewEqRow()),t\x26\x26(e\x3dthis.getNumChildren()-1,this._rowIndex.push(e)),this.getEqRow(this.getNumChildren()-1)}},{key:"getEqText",value:function(){var t,e,i,n,r,o;for(o\x3d"@".concat(this.getEqName(),"{"),i\x3dthis.getMatRowCount(),n\x3dthis.getMatColCount(),t\x3d0;t\x3ci;t++){for(t\x3e0\x26\x26(o\x3d"".concat(o,";")),o\x3d"".concat(o,"{"),e\x3d0;e\x3cn;e++)e\x3e0\x26\x26(o\x3d"".concat(o,";")),(r\x3dthis.getMatEqRow(t,e))\x26\x26(o+\x3dthis.getEqTextContentsOfChildStrippingLoneScripts(r));o\x3d"".concat(o,"}")}return o\x3d"".concat(o,"}")}},{key:"getRowAbove",value:function(t){var e,i,n,r,o;for(r\x3d!1,i\x3d-1,o\x3dnull,n\x3dthis.getEqRow(t),e\x3d0;e\x3cthis.getMatRowCount();e++){for(i\x3d0;i\x3cthis.getMatColCount();i++)if(this.getMatEqRow(e,i)\x3d\x3dn){r\x3d!0;break}if(r)break}return r\x26\x26e\x3e0\x26\x26(o\x3dthis.getMatEqRow(e-1,i)),o}},{key:"getRowBelow",value:function(t){var e,i,n,r,o;for(r\x3d!1,i\x3d-1,o\x3dnull,n\x3dthis.getEqRow(t),e\x3d0;e\x3cthis.getMatRowCount();e++){for(i\x3d0;i\x3cthis.getMatColCount();i++)if(this.getMatEqRow(e,i)\x3d\x3dn){r\x3d!0;break}if(r)break}return r\x26\x26e\x3cthis.getMatRowCount()-1\x26\x26(o\x3dthis.getMatEqRow(e+1,i)),o}},{key:"getAccessibleName",value:function(){var t,e,i\x3d[],n\x3dthis.getMatRowCount(),r\x3dthis.getMatColCount();t\x3dthis._type\x3c\x3d3?"Matrix":"Table",i.push("Start"),i.push(n.toString()),i.push("By"),i.push(r.toString()),i.push(t);for(var o\x3d0;o\x3cn;o++){i.push(ir.getNthString(o+1)),i.push("Row");for(var s\x3d0;s\x3cr;s++)i.push(ir.getNthString(s+1)),i.push("Column"),(e\x3dthis.getMatEqRow(o,s))\x26\x26i.push(e.getAccessibleName())}return i.push("End".concat(t)),i.join(" ")}},{key:"isMatRowEmpty",value:function(t){for(var e\x3d0;e\x3cthis.getMatColCount();e++)if(!this.getMatEqRow(t,e).isEmpty())return!1;return!0}},{key:"isMatColEmpty",value:function(t){for(var e\x3d0;e\x3cthis.getMatRowCount();e++)if(!this.getMatEqRow(e,t).isEmpty())return!1;return!0}},{key:"isLeft",value:function(){return this._type%3\x3d\x3d2}},{key:"isRight",value:function(){return this._type%3\x3d\x3d0}},{key:"isCenter",value:function(){return this._type%3\x3d\x3d1}},{key:"isMat",value:function(){return this._type\x3d\x3ds.MAT||this._type\x3d\x3ds.MATL||this._type\x3d\x3ds.MATR}},{key:"isAugment",value:function(){return this._type\x3d\x3ds.AUGMENT||this._type\x3d\x3ds.AUGMENTL||this._type\x3d\x3ds.AUGMENTR}},{key:"isRow",value:function(){return this._type\x3d\x3ds.ROW||this._type\x3d\x3ds.ROWL||this._type\x3d\x3ds.ROWR}},{key:"isColumn",value:function(){return this._type\x3d\x3ds.COLUMN||this._type\x3d\x3ds.COLUMNL||this._type\x3d\x3ds.COLUMNR}},{key:"isTab",value:function(){return this._type\x3d\x3ds.TAB||this._type\x3d\x3ds.TABL||this._type\x3d\x3ds.TABR}},{key:"isTable",value:function(){return this._type\x3d\x3ds.TABLE||this._type\x3d\x3ds.TABLEL||this._type\x3d\x3ds.TABLER}},{key:"isMatx",value:function(){return this._type\x3d\x3ds.MATX}},{key:"isDetx",value:function(){return this._type\x3d\x3ds.DETX}},{key:"isLeq",value:function(){return this._type\x3d\x3ds.LEQ||this._type\x3d\x3ds.LEQL||this._type\x3d\x3ds.LEQR}}]),s}(Wr);function So(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}To.MAT\x3d1,To.MATL\x3d2,To.MATR\x3d3,To.AUGMENT\x3d4,To.AUGMENTL\x3d5,To.AUGMENTR\x3d6,To.ROW\x3d7,To.ROWL\x3d8,To.ROWR\x3d9,To.COLUMN\x3d10,To.COLUMNL\x3d11,To.COLUMNR\x3d12,To.TAB\x3d13,To.TABL\x3d14,To.TABR\x3d15,To.TABLE\x3d16,To.TABLEL\x3d17,To.TABLER\x3d18,To.MATX\x3d24,To.DETX\x3d27,To.LEQ\x3d19,To.LEQL\x3d20,To.LEQR\x3d21;var Lo\x3dfunction(t){a(s,t);var i\x3dSo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqCBrace",n.domNode\x3dnull,n.domBase\x3dnull,n.domLeft\x3dnull,n.domRight\x3dnull,n.domLeftDraw\x3dnull,n.domRightDraw\x3dnull,n._type\x3dt,n.addRows(1),n}return n(s,[{key:"isEqCBrace",value:function(){return!0}},{key:"createDom",value:function(){var t\x3dzi.create("span");this.domNode\x3dt,this.domBase\x3dthis.getEqRow(0).getDomNode(),zi.place(this.domBase,this.domNode);var e\x3dthis.getLeftChar();(""!\x3de||this.isLeftDraw())\x26\x26(this.domLeft\x3dzi.create("span",{innerHTML:e}),zi.place(this.domLeft,this.domNode,0));var i\x3dthis.getRightChar();return(""!\x3di||this.isRightDraw())\x26\x26(this.domRight\x3dzi.create("span",{innerHTML:i}),zi.place(this.domRight,this.domNode)),t}},{key:"getLeftChar",value:function(){switch(this._type){case s.CBRACE:case s.CBRACEL:return"{";case s.PAREN:case s.PARENL:return"(";case s.BRACE:case s.BRACEL:return"[";default:return""}}},{key:"getRightChar",value:function(){switch(this._type){case s.CBRACE:case s.CBRACER:return"}";case s.PAREN:case s.PARENR:return")";case s.BRACE:case s.BRACER:return"]";default:return""}}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dthis.getEqRow(0),e\x3dbi(this.domNode,"fontSize").slice(0,-2),i\x3dMath.round(.33*e);i\x3dMath.max(i,4);var n\x3dt.getParenBox();n.t\x3d0,n.forceParenExpand\x3dt.forceParenExpand();var a\x3dMath.round(.15*e);n.t+\x3da,n.h-\x3da;var c,u\x3dbi(this.domNode,"color"),l\x3dlr.toHexString(u),h\x3d0!\x3dn.h?n.h:e,d\x3dfunction(t,e){var i\x3de.h;(Li("ie")||Li("trident"))\x26\x26(i\x3d0),fn(t,"eqParenSvg"),Ei(t,{height:"".concat(i,"px"),marginTop:"".concat(e.t,"px")})};this.domLeft\x26\x26(this.isLeftDraw()?(dr.resetParenNode(this.domLeft),zi.empty(this.domLeft),c\x3dthis.createLeftDraw(i,h,l),zi.place(c.node,this.domLeft),fn(this.domLeft,"left"),d(this.domLeft,n)):dr.calcParenNode(this.domLeft,n,dr.ParenInfo[this.getLeftChar()],l)),this.domRight\x26\x26(this.isRightDraw()?(dr.resetParenNode(this.domRight),zi.empty(this.domRight),c\x3dthis.createRightDraw(i,h,l),zi.place(c.node,this.domRight),fn(this.domRight,"right"),d(this.domRight,n)):dr.calcParenNode(this.domRight,n,dr.ParenInfo[this.getRightChar()],l)),this.domNode.parenBox\x3dn}},{key:"isLeftDraw",value:function(){return this._type\x3d\x3ds.VECTOR||this._type\x3d\x3ds.VECTORL||this._type\x3d\x3ds.GRINT||this._type\x3d\x3ds.DBRACEL||this._type\x3d\x3ds.FLOOR||this._type\x3d\x3ds.CEIL}},{key:"isRightDraw",value:function(){return this._type\x3d\x3ds.VECTOR||this._type\x3d\x3ds.VECTORR||this._type\x3d\x3ds.GRINT||this._type\x3d\x3ds.DBRACER||this._type\x3d\x3ds.FLOOR||this._type\x3d\x3ds.CEIL}},{key:"createLeftDraw",value:function(t,e,i){switch(this._type){case s.VECTOR:case s.VECTORL:return this.createLeftVector(t,e,i);case s.GRINT:case s.DBRACEL:return this.createLeftDBrace(t,e,i);case s.FLOOR:return this.createLeftFloor(t,e,i);case s.CEIL:return this.createLeftCeil(t,e,i);default:return null}}},{key:"createRightDraw",value:function(t,e,i){switch(this._type){case s.VECTOR:case s.VECTORR:return this.createRightVector(t,e,i);case s.GRINT:case s.DBRACER:return this.createRightDBrace(t,e,i);case s.FLOOR:return this.createRightFloor(t,e,i);case s.CEIL:return this.createRightCeil(t,e,i);default:return null}}},{key:"createLeftVector",value:function(t,e,i){var n\x3d.5*e,r\x3d"\x3csvg\x3e";r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'"\x3e\'),r+\x3d\'\x3cpath d\x3d"\',r+\x3d"M".concat(t," ").concat(e),r+\x3d" L1 ".concat(n," "),r+\x3d"L".concat(t," 0"),r+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var o\x3dzi.toDom(r);zi.create(o,{width:"".concat(t+1,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt+1,s.h\x3de,s}},{key:"createRightVector",value:function(t,e,i){var n\x3d.5*e,r\x3d"\x3csvg\x3e";r+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'"\x3e\'),r+\x3d\'\x3cpath d\x3d"\',r+\x3d" M0 ".concat(e),r+\x3d" L".concat(t-1," ").concat(n),r+\x3d" L0 0",r+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var o\x3dzi.toDom(r);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"createLeftDBrace",value:function(t,e,i){var n\x3d.5+Math.round(.5*t),r\x3d(t+\x3d2)-1+.5,o\x3de-1+.5,s\x3d"\x3csvg\x3e";s+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges" \x3e\');var a\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';a+\x3d" M".concat(r," ").concat(o),a+\x3d" L".concat(.5," ").concat(o),a+\x3d" L".concat(.5," ").concat(.6),a+\x3d" L".concat(r," ").concat(.6),a+\x3d" M".concat(n," ").concat(o),a+\x3d" L".concat(n," ").concat(.6),s+\x3da+\x3d\'"\x3c/path\x3e\',s+\x3d"\x3c/g\x3e\x3c/svg\x3e";var c\x3dzi.toDom(s);zi.create(c,{width:"".concat(t,"px"),height:"".concat(e,"px")});var u\x3d{};return u.node\x3dc,u.w\x3dt,u.h\x3de,u}},{key:"createRightDBrace",value:function(t,e,i){var n\x3dt-Math.round(.5*t)-1+.5;n+\x3d2;var r\x3d(t+\x3d2)-1+.5,o\x3de-1+.5,s\x3d"\x3csvg\x3e";s+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges" \x3e\');var a\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';a+\x3d"M ".concat(.5," ").concat(o),a+\x3d" L".concat(r," ").concat(o),a+\x3d" L".concat(r," ").concat(.6),a+\x3d" L".concat(.5," ").concat(.6),a+\x3d" M".concat(n," ").concat(o),a+\x3d" L".concat(n," ").concat(.6),s+\x3da+\x3d\'"\x3c/path\x3e\',s+\x3d"\x3c/g\x3e\x3c/svg\x3e";var c\x3dzi.toDom(s);zi.create(c,{width:"".concat(t,"px"),height:"".concat(e,"px")});var u\x3d{};return u.node\x3dc,u.w\x3dt,u.h\x3de,u}},{key:"createLeftFloor",value:function(t,e,i){t+\x3d2;var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges" \x3e\');var r\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';r+\x3d"M".concat(t-.5," ").concat(e-.5),r+\x3d" L0.5 ".concat(e-.5),r+\x3d" L0.5 0.5",n+\x3dr+\x3d\'"\x3c/path\x3e\',n+\x3d"\x3c/g\x3e\x3c/svg\x3e";var o\x3dzi.toDom(n);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"createRightFloor",value:function(t,e,i){t+\x3d2;var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges" \x3e\');var r\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';r+\x3d"M0.5 ".concat(e-.5),r+\x3d" L".concat(t-.5," ").concat(e-.5),r+\x3d" L".concat(t-.5," 0.5"),n+\x3dr+\x3d\'"\x3c/path\x3e\',n+\x3d"\x3c/g\x3e\x3c/svg\x3e";var o\x3dzi.toDom(n);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"createLeftCeil",value:function(t,e,i){t+\x3d2;var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges"  \x3e\');var r\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';r+\x3d" M0.5 ".concat(e-.5),r+\x3d" L0.5 0.6",r+\x3d" L".concat(t-.5," 0.6"),n+\x3dr+\x3d\'"\x3c/path\x3e\',n+\x3d"\x3c/g\x3e\x3c/svg\x3e";var o\x3dzi.toDom(n);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"createRightCeil",value:function(t,e,i){t+\x3d2;var n\x3d"\x3csvg\x3e";n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(i,\'" shape-rendering\x3d"crispEdges"  \x3e\');var r\x3d\'\x3cpath stroke-linecap\x3d"square" d\x3d"\';r+\x3d" M".concat(t-.5," ").concat(e-.5),r+\x3d" L".concat(t-.5," 0.6"),r+\x3d" L0.5 0.6",n+\x3d(r+\x3d\'"\x3c/path\x3e\')+r,n+\x3d"\x3c/g\x3e\x3c/svg\x3e";var o\x3dzi.toDom(n);zi.create(o,{width:"".concat(t,"px"),height:"".concat(e,"px")});var s\x3d{};return s.node\x3do,s.w\x3dt,s.h\x3de,s}},{key:"_getBraceName",value:function(){var t\x3d"";return this._type\x3d\x3ds.CBRACE?t\x3d"CBRACE":this._type\x3d\x3ds.CBRACEL?t\x3d"CBRACEL":this._type\x3d\x3ds.CBRACER?t\x3d"CBRACER":this._type\x3d\x3ds.PAREN?t\x3d"PAREN":this._type\x3d\x3ds.PARENL?t\x3d"PARENL":this._type\x3d\x3ds.PARENR?t\x3d"PARENR":this._type\x3d\x3ds.BRACE?t\x3d"BRACE":this._type\x3d\x3ds.BRACEL?t\x3d"BRACEL":this._type\x3d\x3ds.BRACER?t\x3d"BRACER":this._type\x3d\x3ds.VECTOR?t\x3d"VECTOR":this._type\x3d\x3ds.VECTORL?t\x3d"VECTORL":this._type\x3d\x3ds.VECTORR?t\x3d"VECTORR":this._type\x3d\x3ds.GRINT?t\x3d"GRINT":this._type\x3d\x3ds.DBRACEL?t\x3d"DBRACEL":this._type\x3d\x3ds.DBRACER?t\x3d"DBRACER":this._type\x3d\x3ds.FLOOR?t\x3d"FLOOR":this._type\x3d\x3ds.CEIL\x26\x26(t\x3d"CEIL"),t}},{key:"getEqName",value:function(){var t\x3dthis._getBraceName();return"@".concat(t)}},{key:"getAccessibleName",value:function(){var t\x3dthis.getEqRow(0).getAccessibleName();return ir.getEqBraceNames(this._getBraceName().toLowerCase(),[t])||t}},{key:"forceParenExpand",value:function(){return this.getEqRow(0).forceParenExpand()}}]),s}(Ur);function Ao(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Lo.CBRACE\x3d1,Lo.CBRACEL\x3d2,Lo.CBRACER\x3d3,Lo.PAREN\x3d4,Lo.PARENL\x3d5,Lo.PARENR\x3d6,Lo.BRACE\x3d7,Lo.BRACEL\x3d8,Lo.BRACER\x3d9,Lo.VECTOR\x3d10,Lo.VECTORL\x3d11,Lo.VECTORR\x3d12,Lo.GRINT\x3d13,Lo.DBRACEL\x3d14,Lo.DBRACER\x3d15,Lo.FLOOR\x3d19,Lo.CEIL\x3d20;var Po\x3dfunction(t){a(s,t);var i\x3dAo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqCis",n.domNode\x3dnull,n.domLeft\x3dnull,n.domRight\x3dnull,n.domMiddle\x3dnull,n._stroke\x3dnull,n._type\x3dt,n.addRows(2),n}return n(s,[{key:"createDom",value:function(){var t\x3dzi.create("span");this.domNode\x3dt;var e\x3d0,i\x3d1;return this._type\x3d\x3ds.SYNDIV\x26\x26(e\x3d1,i\x3d0),this.domLeft\x3dthis.getEqRow(e).getDomNode(),this.domRight\x3dthis.getEqRow(i).getDomNode(),zi.place(this.domLeft,this.domNode),zi.place(this.domRight,this.domNode),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dEn.getMarginBox(this.domLeft),e\x3dEn.getMarginBox(this.domRight),i\x3dbi(this.domNode,"fontSize").slice(0,-2),n\x3dMath.max(Math.round(i/15*2),2),a\x3dMath.max(Math.round(.1*i),5),c\x3dMath.max(Math.round(i/15*2),1),u\x3dMath.max(t.t+t.h,e.t+e.h);Ei(this.domLeft,{paddingBottom:"".concat(u-t.t-t.h+c,"px"),paddingRight:"".concat(n,"px")}),Ei(this.domRight,{paddingBottom:"".concat(u-e.t-e.h+c,"px"),borderBottom:"solid 1px",paddingLeft:"".concat(n,"px")});var l\x3dbi(this.domNode,"color");switch(this._stroke\x3dlr.toHexString(l),this.domMiddle\x26\x26zi.destroy(this.domMiddle),this._type){case s.CIS:var h\x3dLi("ie")?0:1;this.domMiddle\x3dthis.createCIS(a,u+c+h),Ei(this.domRight,{paddingLeft:"".concat(a+n,"px")}),Ei(this.domMiddle,{left:"".concat(t.w+n,"px"),verticalAlign:"bottom",position:"absolute"}),zi.place(this.domMiddle,this.domNode);break;case s.SYNDIV:Ei(this.domRight,{borderLeft:"solid 1px"})}}},{key:"createCIS",value:function(t,e){var i\x3de,n\x3d"\x3csvg\x3e",r\x3dLi("ie")?0:1;n+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._stroke,\'"\x3e\'),n+\x3d\'\x3cpath d\x3d"\',n+\x3d"M".concat(r," ").concat(i," "),n+\x3d"L".concat(t," ",0),n+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\';var o\x3dzi.toDom(n);return zi.create(o,{width:t,height:e}),o}},{key:"getEqName",value:function(){switch(this._type){case s.CIS:return"@CIS";case s.SYNDIV:return"@SYNDIV";default:return"@Cis"}}},{key:"getAccessibleName",value:function(){var t\x3d"C I S";return this._type\x3d\x3ds.SYNDIV\x26\x26(t\x3d"synthetic divide"),"".concat(this.getEqRow(0).getAccessibleName()," ").concat(t," ").concat(this.getEqRow(1).getAccessibleName())}}]),s}(Ur);Po.CIS\x3d1,Po.SYNDIV\x3d2;var Do\x3dfunction(){function t(){e(this,t)}return n(t,null,[{key:"roundUp",value:function(t){return t\x3c0?Math.floor(t):Math.ceil(t)}}]),t}();function Bo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Mo\x3dfunction(t){a(s,t);var i\x3dBo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n.addRows(t),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.domNode\x3dnull,this.domBase\x3dnull,this.domUpper\x3dnull,this.domLower\x3dnull,this.eqUpper\x3dnull,this.eqLower\x3dnull,this.baseClass\x3d"eqSum"}},{key:"createDom",value:function(){var t\x3dzi.create("span");this.eqUpper\x3dnull,this.eqLower\x3dnull;var e\x3dzi.create("span",{innerHTML:"\x26#x2211;"});if(fn(e,"eqSumBase"),this.getNumChildren()\x3e0){var i\x3dthis.getEqRow(0),n\x3di.getDomNode();fn(n,"eqIntLower"),this.eqLower\x3di,this.domLower\x3dn}if(this.getNumChildren()\x3e1){var r\x3dthis.getEqRow(1),o\x3dr.getDomNode();fn(o,"eqIntUpper"),this.domUpper\x3do,this.eqUpper\x3dr}return zi.place(e,t),n\x26\x26zi.place(n,t),o\x26\x26zi.place(o,t),this.domNode\x3dt,this.domBase\x3de,t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().registerFont(this,this.domBase);var t\x3d!this.getEqDocument().suppressEmptyHiding,e\x3dEn.getContentBox(this.domBase).w;Ei(this.domBase,{marginTop:"",marginBottom:""});var i\x3dEn.getMarginExtents(this.domBase);if(this.domUpper)if(t\x26\x26!this.eqUpper.rowsFilled())Ei(this.domUpper,{display:"none"});else{Ei(this.domUpper,"width","");var n\x3dEn.getMarginBox(this.domUpper);Ei(this.domBase,"marginTop","".concat(n.h+Do.roundUp(i.t),"px")),e\x3dMath.max(e,n.w)}if(this.domLower)if(t\x26\x26!this.eqLower.rowsFilled())Ei(this.domLower,{display:"none"});else{Ei(this.domLower,"width","");var a\x3dEn.getMarginBox(this.domLower);Ei(this.domBase,"marginBottom","".concat(a.h+Do.roundUp(i.b),"px")),e\x3dMath.max(e,a.w)}Ei(this.domNode,"width","".concat(e,"px")),this.domUpper\x26\x26Ei(this.domUpper,"width","".concat(e+1,"px")),this.domLower\x26\x26Ei(this.domLower,"width","".concat(e+1,"px"))}},{key:"getEqName",value:function(){return"@SUM"}},{key:"getAccessibleName",value:function(){var t\x3d[];return t.push("Summation"),this.getNumChildren()\x3e0\x26\x26(t.push("from"),t.push(this.getEqRow(0).getAccessibleName())),this.getNumChildren()\x3e1\x26\x26(t.push("to"),t.push(this.getEqRow(1).getAccessibleName())),t.join(" ")}},{key:"reduceEmptyRows",value:function(){this.getNumChildren()\x3e1\x26\x260\x3d\x3dthis.getEqRow(1).getNumChildren()\x26\x26this.removeChild(1),1\x3d\x3dthis.getNumChildren()\x26\x260\x3d\x3dthis.getEqRow(0).getNumChildren()\x26\x26this.removeChild(0)}},{key:"rowsFilled",value:function(){return!0}},{key:"forceParenExpand",value:function(){return!0}}]),s}(Wr);function Oo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Io\x3dfunction(t){a(s,t);var i\x3dOo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n.addRows(t),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.domNode\x3dnull,this.domBase\x3dnull,this.domUpper\x3dnull,this.domLower\x3dnull,this.eqUpper\x3dnull,this.eqLower\x3dnull,this.baseClass\x3d"eqSum"}},{key:"createDom",value:function(){this.eqUpper\x3dnull,this.eqLower\x3dnull;var t\x3dzi.create("span"),e\x3dzi.create("span",{innerHTML:"\x26#x220F;"});if(fn(e,"eqProductBase"),this.getNumChildren()\x3e0){this.eqLower\x3dthis.getEqRow(0);var i\x3dthis.eqLower.getDomNode();fn(i,"eqIntLower"),this.domLower\x3di}if(this.getNumChildren()\x3e1){this.eqUpper\x3dthis.getEqRow(1);var n\x3dthis.eqUpper.getDomNode();fn(n,"eqIntUpper"),this.domUpper\x3dn}return zi.place(e,t),i\x26\x26zi.place(i,t),n\x26\x26zi.place(n,t),this.domNode\x3dt,this.domBase\x3de,t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().registerFont(this,this.domBase);var t\x3d!this.getEqDocument().suppressEmptyHiding,e\x3dEn.getContentBox(this.domBase).w;bi(this.domNode,"fontSize").slice(0,-2),Ei(this.domBase,{marginTop:"",marginBottom:""});var i\x3dEn.getMarginExtents(this.domBase);if(this.domUpper)if(t\x26\x26!this.eqUpper.rowsFilled())Ei(this.domUpper,{display:"none"});else{var n\x3dEn.getMarginBox(this.domUpper);Ei(this.domBase,"marginTop","".concat(n.h+Do.roundUp(i.t),"px")),e\x3dMath.max(e,n.w)}if(this.domLower)if(t\x26\x26!this.eqLower.rowsFilled())Ei(this.domLower,{display:"none"});else{var a\x3dEn.getMarginBox(this.domLower);Ei(this.domBase,"marginBottom","".concat(a.h+Do.roundUp(i.b),"px")),e\x3dMath.max(e,a.w)}Ei(this.domNode,"width","".concat(e,"px")),this.domUpper\x26\x26Ei(this.domUpper,"width","".concat(e+1,"px")),this.domLower\x26\x26Ei(this.domLower,"width","".concat(e+1,"px"))}},{key:"getEqName",value:function(){return"@PRODUCT"}},{key:"getAccessibleName",value:function(){var t\x3d[];return t.push("Product"),this.getNumChildren()\x3e0\x26\x26(t.push("from"),t.push(this.getEqRow(0).getAccessibleName())),this.getNumChildren()\x3e1\x26\x26(t.push("to"),t.push(this.getEqRow(1).getAccessibleName())),t.join(" ")}},{key:"reduceEmptyRows",value:function(){this.getNumChildren()\x3e1\x26\x260\x3d\x3dthis.getEqRow(1).getNumChildren()\x26\x26this.removeChild(1),1\x3d\x3dthis.getNumChildren()\x26\x260\x3d\x3dthis.getEqRow(0).getNumChildren()\x26\x26this.removeChild(0)}},{key:"getRowBelow",value:function(t){return this.getFocusRow()}},{key:"rowsFilled",value:function(){return!0}},{key:"forceParenExpand",value:function(){return!0}}]),s}(Wr);function Fo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Uo\x3dfunction(t){a(s,t);var i\x3dFo(s);function s(t,n){var r;return e(this,s),(r\x3di.apply(this,arguments)).initFields(),r.addRows(t),r._contour\x3dn,r}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.domNode\x3dnull,this.domBase\x3dnull,this.domUpper\x3dnull,this.domLower\x3dnull,this.eqUpper\x3dnull,this.eqLower\x3dnull,this._contour\x3d!1,this.baseClass\x3d"eqInt"}},{key:"isEqIntegral",value:function(){return!0}},{key:"createDom",value:function(){var t,e,i\x3dzi.create("span"),n\x3dzi.create("span",{innerHTML:this._contour?"\x26#x222E;":"\x26#x222B;"});return fn(n,"eqIntBase"),this.getNumChildren()\x3e0\x26\x26(this.eqLower\x3dthis.getEqRow(0),t\x3dthis.eqLower.getDomNode(),fn(t,"eqIntLower"),this.domLower\x3dt),this.getNumChildren()\x3e1\x26\x26(this.eqUpper\x3dthis.getEqRow(1),e\x3dthis.eqUpper.getDomNode(),fn(e,"eqIntUpper"),this.domUpper\x3de),zi.place(n,i),t\x26\x26zi.place(t,i),e\x26\x26zi.place(e,i),this.domNode\x3di,this.domBase\x3dn,i}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this.getEqDocument().registerFont(this,this.domBase),Ei(this.domNode,"width",""),this.domUpper\x26\x26Ei(this.domUpper,"width",""),this.domLower\x26\x26Ei(this.domLower,"width",""),Ei(this.domBase,{marginTop:"",marginBottom:""});var t\x3dEn.getMarginExtents(this.domBase),e\x3dEn.getMarginBox(this.domBase).w,i\x3d!this.getEqDocument().suppressEmptyHiding;if(this.domUpper)if(i\x26\x26!this.eqUpper.rowsFilled())Ei(this.domUpper,{display:"none"});else{var n\x3dEn.getMarginBox(this.domUpper);Ei(this.domBase,"marginTop","".concat(n.h+Do.roundUp(t.t),"px")),e\x3dMath.max(e,n.w)}if(this.domLower)if(i\x26\x26!this.eqLower.rowsFilled())Ei(this.domLower,{display:"none"});else{var a\x3dEn.getMarginBox(this.domLower);Ei(this.domBase,"marginBottom","".concat(a.h+Do.roundUp(t.b),"px")),e\x3dMath.max(e,a.w)}Ei(this.domNode,"width","".concat(e,"px")),this.domUpper\x26\x26Ei(this.domUpper,"width","".concat(e+1,"px")),this.domLower\x26\x26Ei(this.domLower,"width","".concat(e+1,"px"))}},{key:"rowsFilled",value:function(){return!0}},{key:"hasMultipleIntegralSibling",value:function(){return this.getNextSibling(!1,!1).isEqIntegral()}},{key:"getEqName",value:function(){return this._contour?"@INTEGRALC":"@INTEGRAL"}},{key:"getAccessibleName",value:function(){var t\x3d[];return t.push(this._contour?"Contour integral":"Integral"),this.getNumChildren()\x3e0\x26\x26(t.push("from"),t.push(this.getEqRow(0).getAccessibleName())),this.getNumChildren()\x3e1\x26\x26(t.push("to"),t.push(this.getEqRow(1).getAccessibleName())),t.join(" ")}},{key:"reduceEmptyRows",value:function(){this.getNumChildren()\x3e0\x26\x26this.getEqRow(0).isEmpty()\x26\x26this.removeChildAt(0),this.getNumChildren()\x3e0\x26\x26this.getEqRow(0).isEmpty()\x26\x26this.removeChildAt(0)}}]),s}(Wr);function Vo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Uo.loadedFont\x3d!1;var Ho\x3dfunction(t){a(s,t);var i\x3dVo(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).baseClass\x3d"eqConj",t.domNode\x3dnull,t.domBase\x3dnull,t.eqBase\x3dnull,t.domLeft\x3dnull,t.domRight\x3dnull,t.domAsterisk\x3dnull,t.addRows(1),t}return n(s,[{key:"createDom",value:function(){var t\x3dzi.create("span");return this.domNode\x3dt,this.eqBase\x3dthis.getEqRow(0),this.domBase\x3dthis.eqBase.getDomNode(),this.domAsterisk\x3dzi.create("span",{innerHTML:"*"}),fn(this.domAsterisk,"eqConjAst"),zi.place(this.domBase,this.domNode),zi.place(this.domAsterisk,this.domNode),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dEn.getMarginBox(this.domBase);bi(this.domNode,"fontSize").slice(0,-2),this.domLeft\x26\x26zi.destroy(this.domLeft),this.domRight\x26\x26zi.destroy(this.domRight),this.needParens()\x26\x26(this.domLeft\x3dzi.create("span",{innerHTML:"("}),zi.place(this.domLeft,this.domNode,0),dr.calcParenNode(this.domLeft,t,dr.ParenInfo["("]),this.domRight\x3dzi.create("span",{innerHTML:")"}),zi.place(this.domRight,this.domNode,2),dr.calcParenNode(this.domRight,t,dr.ParenInfo[")"]))}},{key:"needParens",value:function(){var t\x3dthis.eqBase;if(t||(t\x3dthis.getEqRow(0)),t\x26\x26t.getNumChildren()\x3e1)return!0;if(t\x26\x261\x3d\x3dt.getNumChildren()){var e\x3dt.getChild(0);return!e.isEqTextBase()||1!\x3de.getText().length}return!1}},{key:"getEqName",value:function(){return"@CONJ"}},{key:"getAccessibleName",value:function(){var t\x3dthis.getEqRow(0).getAccessibleName();return this.getEqRow(0).getNumChildren()\x3e1?"left parenthesis ".concat(t," right parenthesis ").concat("Conjugate"):"".concat(t," ").concat("Conjugate")}},{key:"getLatexName",value:function(){return"\\\\conj"}},{key:"getLatex",value:function(){return this.needParens()?"".concat(this.getLatexName(),"{\\\\left(").concat(this.getEqRow(0).getLatex(),"\\\\right)}"):o(r(s.prototype),"getLatex",this).apply(this,arguments)}},{key:"isEqConj",value:function(){return!0}}]),s}(Ur);function jo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Wo\x3dfunction(t){a(s,t);var i\x3djo(s);function s(t){var n;switch(e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._type\x3dt,n._type){case s.LDIVQ:n.addRows(3);break;case s.LDIV:n.addRows(2)}return n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqLDiv",this.domNode\x3dnull,this.domLeft\x3dnull,this.domRight\x3dnull,this.domUp\x3dnull,this.domMiddle\x3dnull,this._type\x3ds.LDIV,this._stroke\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.domNode\x3dt,this.domLeft\x3dthis.getEqRow(1).getDomNode(),zi.place(this.domLeft,this.domNode),this.domRight\x3dzi.create("span",{class:"eqLDivContent"}),this.domMiddle\x3dzi.create("span",{class:"eqLDivSymbol"}),zi.place(this.domMiddle,this.domRight),this._type\x3d\x3ds.LDIVQ\x26\x26(this.domUp\x3dthis.getEqRow(2).getDomNode(),Ei(this.domUp,{position:"absolute",top:"0px",left:"0px",paddingLeft:"0.3em",paddingBottom:"0.15em"}),zi.place(this.domUp,this.domRight)),zi.place(this.getEqRow(0).getDomNode(),this.domRight),zi.place(this.domRight,this.domNode),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments),this._resetMargins();var t\x3dEn.getMarginBox(this.domLeft),e\x3dEn.getMarginBox(this.domRight),i\x3dthis.domUp?En.getMarginBox(this.domUp):null,n\x3dbi(this.domNode,"fontSize").slice(0,-2),a\x3dMath.max(Math.round(.1*n),5),c\x3dMath.max(t.h,e.h),u\x3di\x26\x26i.w\x3ee.w?i.w:e.w,l\x3dbi(this.domNode,"color");this._stroke\x3dlr.toHexString(l),this.domMiddle.innerHTML\x3dthis.createLDiv(a,c,u),this.domUp\x26\x26(Ei(this.domRight,{marginTop:"".concat(i.h,"px")}),Ei(this.domUp,{top:"".concat(-i.h,"px")}))}},{key:"createLDiv",value:function(t,e,i){var n\x3dt,r\x3de/2,o\x3de-.5,s\x3d.5+i,a\x3d"\x3csvg height\x3d".concat(e," width\x3d").concat(s," \x3e");return a+\x3d\'\x3cg fill\x3d"none" stroke\x3d"\'.concat(this._stroke,\'" stroke-linecap\x3d"round" \x3e\'),a+\x3d\'\x3cpath d\x3d"\',a+\x3d"M".concat(.5," ").concat(.5," "),a+\x3d"Q".concat(n," ").concat(r," ").concat(.5," ").concat(o," "),a+\x3d"M".concat(.5," ").concat(.5," "),a+\x3d"L".concat(s," ").concat(.5),a+\x3d\'"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\'}},{key:"getEqName",value:function(){switch(this._type){case s.LDIV:return"@LDIV";case s.LDIVQ:return"@LDIVQ"}}},{key:"getAccessibleName",value:function(){var t\x3d[];return t.push("StartLongDivision"),t.push(this.getEqRow(1).getAccessibleName()),t.push("DividedInto"),t.push(this.getEqRow(0).getAccessibleName()),this.getNumChildren()\x3e2\x26\x26(t.push("Equals"),t.push(this.getEqRow(2).getAccessibleName())),t.push("EndLongDivision"),t.join(" ")}},{key:"_resetMargins",value:function(){this.domMiddle\x26\x26(this.domMiddle.innerHTML\x3d""),this.domRight\x26\x26Ei(this.domRight,"marginLeft",""),this.domUp\x26\x26(Ei(this.domRight,{marginTop:""}),Ei(this.domUp,{marginLeft:"",top:""}))}}]),s}(Ur);function zo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Wo.LDIV\x3d1,Wo.LDIVQ\x3d2;var Go\x3dfunction(t){a(s,t);var i\x3dzo(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t.addRows(1),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqPhasor",this.domNode\x3dnull,this.domRight\x3dnull,this.domMiddle\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.domNode\x3dt,this.domRight\x3dthis.getEqRow(0).getDomNode(),zi.place(this.domRight,this.domNode),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dEn.getContentBox(this.domRight),e\x3dbi(this.domNode,"fontSize").slice(0,-2),i\x3dMath.max(Math.round(e/15*2),2),n\x3dMath.max(Math.round(.1*e),6),a\x3d0;this.domMiddle\x26\x26zi.destroy(this.domMiddle);var c\x3dLi("ie")?0:1;this.domMiddle\x3dthis.createPhasor(n,t.h+a+c,t.w),Ei(this.domRight,{marginLeft:"".concat(n+i,"px"),paddingLeft:"".concat(i,"px")}),Ei(this.domMiddle,{left:"".concat(i,"px")}),zi.place(this.domMiddle,this.domNode)}},{key:"createPhasor",value:function(t,e,i){var n\x3de+1,r\x3dt+i+2,o\x3dLi("ie")?0:1,s\x3d\'\x3cspan class\x3d"eqPhasorSymbol"\x3e\x3csvg width\x3d\'.concat(r," height\x3d").concat(n,"\x3e");s+\x3d\'\x3cg fill\x3d"none" stroke\x3d"black"\x3e\',s+\x3d\'\x3cpath d\x3d"\',s+\x3d"M".concat(t," ",0," "),s+\x3d"L".concat(o," ").concat(n),s+\x3d" L".concat(r," ").concat(n),s+\x3d\'"\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e\x3c/span\x3e\';var a\x3dzi.toDom(s);return zi.create(a),a}},{key:"getEqName",value:function(){return"@PHASOR"}},{key:"getAccessibleName",value:function(){return"angle ".concat(this.getEqRow(0).getAccessibleName())}},{key:"getLatexName",value:function(){return"\\\\cis"}}]),s}(Ur);function Xo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Qo\x3dfunction(t){a(s,t);var i\x3dXo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).baseClass\x3d"eqCheck",n.domNode\x3dnull,n.topTD\x3dnull,n.td2Node\x3dnull,n.td3Node\x3dnull,n.addRows(1+2*t),n}return n(s,[{key:"createDom",value:function(){var t,e,i\x3dzi.create("table");this.tdLeft\x3d[],this.tdRight\x3d[];for(var n\x3d-1;n\x3cthis.getCheckRowCount();n++)n\x3c0?(t\x3dzi.create("tr"),this.topTD\x3de\x3dzi.create("td",{colspan:2}),zi.place(this.getEqRow(0).getDomNode(),e),zi.place(e,t)):(t\x3dzi.create("tr"),e\x3dzi.create("td"),zi.place(this.leftRow(n).getDomNode(),e),zi.place(e,t),this.tdLeft.push(e),e\x3dzi.create("td"),zi.place(this.rightRow(n).getDomNode(),e),zi.place(e,t),this.tdRight.push(e)),zi.place(t,i);return fn(i,"eqRight"),this.domNode\x3di,i}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t,e,i\x3d-1,n\x3dthis.getEqRow(0);Ei(n.getDomNode(),{marginLeft:"",marginRight:""}),zi.create(this.topTD,{align:"left"});for(var a\x3d0;a\x3cn.getNumChildren();a++){var c\x3dn.getChild(a);if(c.isEqOp()\x26\x26"\x3d"\x3d\x3dc.getEqText()){var u\x3dEn.position(c.getDomNode()),l\x3dEn.getMarginBox(c.getDomNode());i\x3du.x+l.w/2;var h\x3dEn.getMarginBox(n.getDomNode()),d\x3dEn.position(n.getDomNode());t\x3di-d.x,e\x3dh.w-t;break}}if(i\x3c0)zi.create(this.topTD,{align:"center"});else{var p,f\x3dbi(this.topTD,"paddingLeft"),m\x3dbi(this.topTD,"paddingRight"),g\x3dt+f,v\x3de+m;for(a\x3d0;a\x3cthis.getCheckRowCount();a++)(p\x3dEn.getMarginBox(this.leftRow(a).getDomNode()).w+f+m)\x3eg\x26\x26(g\x3dp),(p\x3dEn.getMarginBox(this.rightRow(a).getDomNode()).w+f+m)\x3ev\x26\x26(v\x3dp);g\x3et+f\x26\x26Ei(this.getEqRow(0).getDomNode(),{marginLeft:"".concat(g-t-f,"px")}),v\x3ee+m\x26\x26Ei(this.getEqRow(0).getDomNode(),{marginRight:"".concat(v-e-m,"px")}),Ei(this.tdLeft[0],{width:"".concat(g,"px")}),Ei(this.tdRight[0],{width:"".concat(v,"px")})}}},{key:"getCheckRowCount",value:function(){return Math.floor((this.getNumChildren()-1)/2)}},{key:"leftRow",value:function(t){return this.getEqRow(1+t)}},{key:"rightRow",value:function(t){return this.getEqRow(1+this.getCheckRowCount()+t)}},{key:"getEqName",value:function(){return"@CHECK"}},{key:"getEqText",value:function(){var t,e;for(e\x3d"".concat(this.getEqName(),"{"),this.getNumChildren()\x3e0\x26\x26(e+\x3dthis.getEqTextContentsOfChildStrippingLoneScripts(this.getEqRow(0))),e\x3d"".concat(e,";{"),t\x3d0;t\x3cthis.getCheckRowCount();t++)t\x3e0\x26\x26(e\x3d"".concat(e,";")),e+\x3dthis.getEqTextContentsOfChildStrippingLoneScripts(this.leftRow(t));for(e\x3d"".concat(e,"};{"),t\x3d0;t\x3cthis.getCheckRowCount();t++)t\x3e0\x26\x26(e\x3d"".concat(e,";")),e+\x3dthis.getEqTextContentsOfChildStrippingLoneScripts(this.rightRow(t));return e\x3d"".concat(e,"}}")}},{key:"getAccessibleName",value:function(){var t,e\x3d[];for(e.push("StartCheck"),e.push(this.getEqRow(0).getAccessibleName()),t\x3d0;t\x3cthis.getCheckRowCount();t++)e.push(ir.getNthString(t+1)),e.push("Row"),e.push("Left"),e.push(this.leftRow(t).getAccessibleName()),e.push("Right"),e.push(this.rightRow(t).getAccessibleName());return e.push("EndCheck"),e.join(" ")}}]),s}(Wr);function Yo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ko\x3dfunction(t){a(s,t);var i\x3dYo(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t.addRows(2),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"eqSupSubStack",this.domNode\x3dnull,this.domSup\x3dnull,this.domSub\x3dnull,this.rowSup\x3dnull,this.rowSub\x3dnull}},{key:"createDom",value:function(){var t\x3dzi.create("span"),e\x3dthis.getEqRow(0).getDomNode();fn(e,"eqSupContent");var i\x3dzi.create("span");fn(i,"eqSuperscript"),zi.place(e,i);var n\x3dthis.getEqRow(1).getDomNode();fn(n,"eqSubContent");var r\x3dzi.create("span");return fn(r,"eqSubscript"),zi.place(n,r),zi.place(i,t),zi.place(r,t),this.domNode\x3dt,this.domSup\x3di,this.domSub\x3dr,this.rowSup\x3dthis.getEqRow(0),this.rowSub\x3dthis.getEqRow(1),t}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dEn.getContentBox(this.domSup),e\x3dEn.getContentBox(this.domSub);En.getContentBox(this.domNode),Ei(this.domSup,"left","0px"),Ei(this.domSub,"left","0px"),t.w\x3ee.w?(Ei(this.domSub,"left","".concat(t.w-e.w+3,"px")),Ei(this.domNode,"marginRight","0px")):e.w\x3et.w?(this.rowSup.isEmpty(!0)\x26\x26this.rowSub.isEmpty(!0)||Ei(this.domSup,"left","".concat(e.w-t.w-2,"px")),Ei(this.domNode,"marginRight","".concat(e.w-t.w-3,"px"))):(Ei(this.domSub,"left","3px"),Ei(this.domNode,"marginRight","0px")),Ei(this.domSub,"top","".concat(t.h+2,"px")),Ei(this.domNode,"height","".concat(t.h+e.h+2,"px"))}},{key:"getEqName",value:function(){return"@SUPSUBSTACK"}},{key:"getLatex",value:function(){return"{^{".concat(this.getEqRow(0).getLatex(),"}_{").concat(this.getEqRow(1).getLatex(),"}}")}},{key:"getAccessibleName",value:function(){return"superscript ".concat(this.getEqRow(0).getAccessibleName()," subscript ").concat(this.getEqRow(1).getAccessibleName())}}]),s}(Wr);function Jo(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var $o\x3dfunction(t){a(s,t);var i\x3dJo(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).initFields(),n._name\x3dt.name,n._info\x3dZo[n._name],n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._name\x3dnull,this._info\x3dnull,this._empty\x3d!1}},{key:"createDom",value:function(){var t\x3dzi.create("span");return this.baseClass\x3dthis._info.css,t}},{key:"deleteCharacter",value:function(t){this._empty\x3d!0,t.characterDeleted\x3d!0}},{key:"isEmpty",value:function(){return this._empty}},{key:"postRender",value:function(){o(r(s.prototype),"postRender",this).apply(this,arguments);var t\x3dthis.parentRow();if(t){var e\x3dEn.getContentBox(t.domNode),i\x3dbi(this.domNode,"fontSize").slice(0,-2),n\x3de.w,a\x3d{},c\x3de.h,u\x3dn;switch(this._name){case"curvearrowleft":c\x3d1.2*i,u\x3di/16*10,a.node\x3dthis._createCurveArrowLeft();break;case"curvearrowright":u\x3di/16*10,c\x3d1.2*i,a.node\x3dthis._createCurveArrowRight()}a.w\x3du,a.h\x3dc,a.node\x26\x26(zi.create(a.node,{width:a.w,height:"".concat(a.h,"px")},this.domNode),Ei(this.domNode,"height","".concat(a.h,"px")),this._info.css\x26\x26fn(this.domNode,this._info.css))}}},{key:"_createCurveArrowLeft",value:function(){return zi.toDom(\'\x3csvg viewBox\x3d"0 0 10 21" preserveAspectRatio\x3d"xMidYMid slice"\x3e\x3cpath d\x3d"M10,0 S0,10 10,20" style\x3d"fill:none; stroke:black; stroke-width:1"\x3e\x3c/path\x3e\x3cpath d\x3d"M10,20 L 4 17 L 9 13 L 10 20" style\x3d"fill:black; stroke:black; stroke-width:1"\x3e\x3c/path\x3e\x3c/svg\x3e\')}},{key:"_createCurveArrowRight",value:function(){return zi.toDom(\'\x3csvg viewBox\x3d"0 0 10 21" preserveAspectRatio\x3d"xMidYMid slice"\x3e\x3cpath style\x3d"fill:none; stroke:black; stroke-width:1" d\x3d"M2,0 S12,10 2,20"/\x3e\x3cpath style\x3d"fill:black; stroke:black; stroke-width:1" d\x3d"M2,20 L 3 13 L 8 17 L 2 20"/\x3e\x3c/svg\x3e\')}},{key:"getEqText",value:function(){return"\x26".concat(this._name,";")}},{key:"getLatex",value:function(){return" \\\\".concat(this._info.latex," ")}}]),s}(Xn),Zo\x3d{};function ts(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Zo.curvearrowleft\x3d{mma:"CurveArrowLeft",latex:"curvearrowleft",css:"eqCurveArrowLeft"},Zo.curvearrowright\x3d{mma:"CurveArrowRight",latex:"curvearrowright",css:null},$o.getMMASymbolInfo\x3dfunction(t){return ln(Zo,(function(e){return e.mma\x3d\x3dt}))},$o.getLatexSymbolInfo\x3dfunction(t){for(var e in Zo)if(Zo[e].latex\x26\x26Zo[e].latex\x3d\x3dt)return e;return null},$o.isValidSymbol\x3dfunction(t){for(var e in Zo)if(e\x3d\x3d\x3dt)return!0;return!1};var es\x3dfunction(t){a(r,t);var i\x3dts(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("span");return fn(t,"nonItalicRoman"),zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@RM"}},{key:"isEqRoman",value:function(){return!0}}]),r}(Ur);function is(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var ns\x3dfunction(t){a(r,t);var i\x3dis(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("span",{class:"eqUnderBar"});return zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@UNDERBAR"}},{key:"getAccessibleName",value:function(){return"Underline ".concat(this.getEqRow(0).getAccessibleName())}}]),r}(Ur);function rs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var os,ss\x3dfunction(t){a(r,t);var i\x3drs(r);function r(){var t;return e(this,r),(t\x3di.apply(this,arguments)).addRows(1),t}return n(r,[{key:"createDom",value:function(){var t\x3dzi.create("span",{class:"eqOverBar"});return zi.place(this.getEqRow(0).getDomNode(),t),t}},{key:"getEqName",value:function(){return"@OVERBAR"}},{key:"getAccessibleName",value:function(){return"Overline ".concat(this.getEqRow(0).getAccessibleName())}}]),r}(Ur),as\x3d(Yr(os\x3d{CNUM:function(t){this._parseCNum(t),this._expect("}")},CURR:function(t){this._parseCNum(t,!0),this._expect("}")},NEGP:function(t){this._parseNegP(t),this._expect("}")},MNUM:function(t){this._parseMNum(t)},MIX:function(t){this._parseMNum(t)},DUMMY:function(t){this._parseEqDummy(t)},B:function(t){this._parseEq(t,new lo)},I:function(t){this._parseEq(t,new po)},UNDERBAR:function(t){this._parseEq(t,new ns)},OVERBAR:function(t){this._parseEq(t,new ss)},RM:function(t){this._parseEq(t,new es)},FUNCTION:function(){return null},SIZE:function(t){this._parseSize(t)},RT:function(t){this._parseEq(t,new so(1),{maxChildren:2})},DIV:function(t){this._parseEq(t,new io,{maxChildren:2})},DIVSM:function(t){this._parseEq(t,new io({divType:io.DIVSM}),{maxChildren:2})},SUP:function(t){this._parseEq(t,new Jr)},SUB:function(t){this._parseEq(t,new to)},CURSOR:function(t){this._parseCursor(t)},SUPSUB:function(t){this._parseEq(t,new Gr,{maxChildren:3})},SUPSUBSTACK:function(t){this._parseEq(t,new Ko,{maxChildren:2})},OVERUNDER:function(t){this._parseEq(t,new Eo(Eo.OVERUNDER),{maxChildren:3})},OVER:function(t){this._parseEq(t,new Eo(Eo.OVER),{maxChildren:2})},UNDER:function(t){this._parseEq(t,new Eo(Eo.UNDER),{maxChildren:2})},ABS:function(t){this._parseEq(t,new Ro(Ro.ABS))},ABSL:function(t){this._parseEq(t,new Ro(Ro.ABSL))},ABSR:function(t){this._parseEq(t,new Ro(Ro.ABSR))},NORM:function(t){this._parseEq(t,new ko(ko.NORM))},NORML:function(t){this._parseEq(t,new ko(ko.NORML))},NORMR:function(t){this._parseEq(t,new ko(ko.NORMR))},BAR:function(t){this._parseEq(t,new Co($r.OVERBAR))}},"OVERBAR",(function(t){this._parseEq(t,new Co($r.OVERBAR))})),Yr(os,"OVDBBAR",(function(t){this._parseEq(t,new Co($r.OVDBBAR))})),Yr(os,"OVERBRC",(function(t){this._parseEq(t,new Co($r.OVERBRC))})),Yr(os,"UNDRBAR",(function(t){this._parseEq(t,new Co($r.UNDRBAR))})),Yr(os,"UNDBBAR",(function(t){this._parseEq(t,new Co($r.UNDBBAR))})),Yr(os,"UNDRBRC",(function(t){this._parseEq(t,new Co($r.UNDRBRC))})),Yr(os,"RAYR",(function(t){this._parseEq(t,new Co($r.RAYR))})),Yr(os,"RAYL",(function(t){this._parseEq(t,new Co($r.RAYL))})),Yr(os,"RAYDB",(function(t){this._parseEq(t,new Co($r.RAYDB))})),Yr(os,"ARROWR",(function(t){this._parseEq(t,new Co($r.ARROWR))})),Yr(os,"ARROWL",(function(t){this._parseEq(t,new Co($r.ARROWL))})),Yr(os,"ARROWDB",(function(t){this._parseEq(t,new Co($r.ARROWDB))})),Yr(os,"SLASH",(function(t){this._parseEq(t,new Co($r.SLASH))})),Yr(os,"UMLAUT",(function(t){this._parseEq(t,new Co($r.UMLAUT))})),Yr(os,"HAT",(function(t){this._parseEq(t,new Co($r.HAT))})),Yr(os,"ARC",(function(t){this._parseEq(t,new Co($r.ARC))})),Yr(os,"SIDOT",(function(t){this._parseEq(t,new Co($r.SIDOT))})),Yr(os,"PRIME",(function(t){this._parseEq(t,new Co($r.PRIME))})),Yr(os,"PRIME2",(function(t){this._parseEq(t,new Co($r.PRIME2))})),Yr(os,"PRIME3",(function(t){this._parseEq(t,new Co($r.PRIME3))})),Yr(os,"HLINE",(function(t){this._parseEq(t,new Co($r.HLINE))})),Yr(os,"DHLINE",(function(t){this._parseEq(t,new Co($r.DHLINE))})),Yr(os,"TILDE",(function(t){this._parseEq(t,new Co($r.TILDE))})),Yr(os,"REP",(function(t){this._parseEq(t,new Co($r.REP))})),Yr(os,"ACCENT",(function(t){this._parseEq(t,new Co($r.ACCENT))})),Yr(os,"EVEC",(function(t){this._parseEq(t,new Co($r.EVEC))})),Yr(os,"SUM",(function(t){this._parseEq(t,new Mo(0),{maxChildren:2,reduceEmptyRows:!1})})),Yr(os,"PRODUCT",(function(t){this._parseEq(t,new Io(0),{maxChildren:2,reduceEmptyRows:!0})})),Yr(os,"INTEGRAL",(function(t){this._parseEq(t,new Uo(0),{maxChildren:2,reduceEmptyRows:!1})})),Yr(os,"INTEGRALC",(function(t){this._parseEq(t,new Uo(0,!0),{maxChildren:2,reduceEmptyRows:!0})})),Yr(os,"CIS",(function(t){this._parseEq(t,new Po(Po.CIS),{maxChildren:2})})),Yr(os,"SYNDIV",(function(t){this._parseEq(t,new Po(Po.SYNDIV),{maxChildren:2})})),Yr(os,"LDIV",(function(t){this._parseEq(t,new Wo(Wo.LDIV),{maxChildren:2})})),Yr(os,"LDIVQ",(function(t){this._parseEq(t,new Wo(Wo.LDIVQ),{maxChildren:3})})),Yr(os,"MAT",(function(t){this._parseMat(t,To.MAT)})),Yr(os,"MATL",(function(t){this._parseMat(t,To.MATL)})),Yr(os,"MATR",(function(t){this._parseMat(t,To.MATR)})),Yr(os,"AUGMENT",(function(t){this._parseMat(t,To.AUGMENT)})),Yr(os,"AUGMENTL",(function(t){this._parseMat(t,To.AUGMENTL)})),Yr(os,"AUGMENTR",(function(t){this._parseMat(t,To.AUGMENTR)})),Yr(os,"ROW",(function(t){this._parseMat(t,To.ROW)})),Yr(os,"ROWL",(function(t){this._parseMat(t,To.ROWL)})),Yr(os,"ROWR",(function(t){this._parseMat(t,To.ROWR)})),Yr(os,"COLUMN",(function(t){this._parseMat(t,To.COLUMN)})),Yr(os,"COLUMNL",(function(t){this._parseMat(t,To.COLUMNL)})),Yr(os,"COLUMNR",(function(t){this._parseMat(t,To.COLUMNR)})),Yr(os,"TAB",(function(t){this._parseMat(t,To.TAB)})),Yr(os,"TABL",(function(t){this._parseMat(t,To.TABL)})),Yr(os,"TABR",(function(t){this._parseMat(t,To.TABR)})),Yr(os,"TABLE",(function(t){this._parseMat(t,To.TABLE)})),Yr(os,"TABLEL",(function(t){this._parseMat(t,To.TABLEL)})),Yr(os,"TABLER",(function(t){this._parseMat(t,To.TABLER)})),Yr(os,"MATX",(function(t){this._parseMat(t,To.MATX)})),Yr(os,"DETX",(function(t){this._parseMat(t,To.DETX)})),Yr(os,"LEQ",(function(t){this._parseMat(t,To.LEQ)})),Yr(os,"LEQL",(function(t){this._parseMat(t,To.LEQL)})),Yr(os,"LEQR",(function(t){this._parseMat(t,To.LEQR)})),Yr(os,"CHECK",(function(t){this._parseCheckRows(t,new Qo(0))})),Yr(os,"BRACE",(function(t){this._parseEq(t,new Lo(Lo.BRACE))})),Yr(os,"BRACEL",(function(t){this._parseEq(t,new Lo(Lo.BRACEL))})),Yr(os,"BRACER",(function(t){this._parseEq(t,new Lo(Lo.BRACER))})),Yr(os,"CBRACE",(function(t){this._parseEq(t,new Lo(Lo.CBRACE))})),Yr(os,"CBRACEL",(function(t){this._parseEq(t,new Lo(Lo.CBRACEL))})),Yr(os,"CBRACER",(function(t){this._parseEq(t,new Lo(Lo.CBRACER))})),Yr(os,"DBRACEL",(function(t){this._parseEq(t,new Lo(Lo.DBRACEL))})),Yr(os,"DBRACER",(function(t){this._parseEq(t,new Lo(Lo.DBRACER))})),Yr(os,"GRINT",(function(t){this._parseEq(t,new Lo(Lo.GRINT))})),Yr(os,"HBRACE",(function(t){this._parseEq(t,new Co($r.HBRACE))})),Yr(os,"HBRACEB",(function(t){this._parseEq(t,new Co($r.HBRACEB))})),Yr(os,"HBRACET",(function(t){this._parseEq(t,new Co($r.HBRACET))})),Yr(os,"PAREN",(function(t){this._parseEq(t,new Lo(Lo.PAREN))})),Yr(os,"PARENL",(function(t){this._parseEq(t,new Lo(Lo.PARENL))})),Yr(os,"PARENR",(function(t){this._parseEq(t,new Lo(Lo.PARENR))})),Yr(os,"VECTOR",(function(t){this._parseEq(t,new Lo(Lo.VECTOR))})),Yr(os,"VECTORL",(function(t){this._parseEq(t,new Lo(Lo.VECTORL))})),Yr(os,"VECTORR",(function(t){this._parseEq(t,new Lo(Lo.VECTORR))})),Yr(os,"FLOOR",(function(t){this._parseEq(t,new Lo(Lo.FLOOR))})),Yr(os,"CEIL",(function(t){this._parseEq(t,new Lo(Lo.CEIL))})),Yr(os,"CONJ",(function(t){this._parseEq(t,new Ho)})),Yr(os,"PHASOR",(function(t){this._parseEq(t,new Go)})),Yr(os,"INPUT",(function(t){this._parseInput(t)})),os),cs\x3dfunction(){function t(i,n){e(this,t),this.initFields(),this._eqDoc\x3di,this._text\x3dn,this._inputOrder\x3d{}}return n(t,[{key:"initFields",value:function(){this._text\x3dnull,this._eqDoc\x3dnull,this._position\x3d0,this._textLength\x3d0,this._inComposite\x3d!1,this._compositeLevel\x3d0,this.eqCursorMarker\x3dnull,this.isValidCharCode\x3dnull,this.eqEditor\x3dnull,this.parens\x3d"[()]",this.specialchar\x3d"\\\\\x26;{}@^_",this.operators\x3d"+,\x3d\x3c\x3e*/-",this.dollar\x3d"$\u00a5\u20ac\u00a3",this.nonvarchars\x3dthis.parens+this.specialchar+this.operators+this.dollar,this._inputOrder\x3dnull}},{key:"_isOpenP",value:function(t){return"{"\x3d\x3dt||"("\x3d\x3dt||"["\x3d\x3dt||"|"\x3d\x3dt}},{key:"_isCloseP",value:function(t){return"}"\x3d\x3dt||")"\x3d\x3dt||"]"\x3d\x3dt||"|"\x3d\x3dt}},{key:"_isAlpha",value:function(t){return 1\x3d\x3d\x3dt.length\x26\x26t.toLowerCase()\x3e\x3d"a"\x26\x26t.toLowerCase()\x3c\x3d"z"}},{key:"parse",value:function(){this.eqCursorMarker\x3dnull,this._position\x3d0,this._textLength\x3dthis._text.length;var t\x3d[],e\x3dnew Qr;this._eqDoc.addChildAt(e,0);try{for(this._parseRow(e);e.getNumChildren()\x3e0;){var i\x3de.removeChildAt(0);t.push(i)}}finally{this._eqDoc.removeChild(e)}return t}},{key:"_currentChar",value:function(){return this._text.charAt(this._position)}},{key:"_parseRow",value:function(t){for(;this._position\x3cthis._textLength;){var e\x3dthis._currentChar();if("@"\x3d\x3d\x3de)this._parseComposite(t);else if("\x26"\x3d\x3d\x3de)this._parseEntity(t);else{if(";"\x3d\x3d\x3de)return;if(!("}"!\x3d\x3de||this._eqDoc.convertTypedBraces\x26\x26this._eqDoc.getAccessible()\x26\x26!this._inComposite))return;if("{"!\x3d\x3de||this._eqDoc.convertTypedBraces\x26\x26this._eqDoc.getAccessible()\x26\x26!this._inComposite)if("^"!\x3d\x3de||this._eqDoc.getAccessible())if("_"!\x3d\x3de||this._eqDoc.getAccessible())if("\\\\"\x3d\x3d\x3de)this._parseLiteral(t);else{this._eqDoc.convertTypedBraces\x26\x26this._eqDoc.getAccessible()\x26\x26("_"\x3d\x3d\x3de||"^"\x3d\x3d\x3de)\x26\x26(this._inComposite\x3d!0);var i\x3dnull;this._isValidChar(e)\x26\x26(i\x3dthis._eqDoc.createNode(e)),i\x26\x26t.addChild(i),this._position++}else this._parseSubscript(t);else this._parseSuperscript(t);else this._position++,this._parseRow(t),this._expect("}")}}}},{key:"_expect",value:function(t){if(!(this._position\x3cthis._textLength))throw new Error("expected ".concat(t," but reached end of text"));if(this._currentChar()!\x3d\x3dt)throw new Error("expected ".concat(t," at position ").concat(this._position));this._position++,this._eqDoc.convertTypedBraces\x26\x26!this._inComposite\x26\x26"{"\x3d\x3d\x3dt\x26\x26(this._inComposite\x3d!0),this._inComposite\x26\x26("{"\x3d\x3d\x3dt?this._compositeLevel++:"}"\x3d\x3d\x3dt\x26\x26this._compositeLevel--,this._compositeLevel\x3c\x3d0\x26\x26(this._inComposite\x3d!1))}},{key:"_parseLiteral",value:function(t){if(this._position++,!(this._position\x3cthis._textLength))throw new Error("end of text found looking for literal character");var e\x3dthis._currentChar();if(this._isValidChar(e)){var i\x3dnew rr(e);t.addChild(i)}this._position++}},{key:"_parseEntity",value:function(t){var e\x3dthis._text.indexOf(";",this._position+1);if(e\x3c0)throw new Error("expected a semicolon after \x26");var i\x3dthis._text.substring(this._position+1,e).toLowerCase();if(this._eqDoc.getAccessible()\x26\x26this._eqDoc.showAccessibleSymbolNames)return t.addChild(new rr("\x26".concat(i,";"),rr.EqTextType.ENTITY)),void(this._position+\x3di.length+2);if("integral"\x3d\x3di)return t.addChild(new Uo(0,!1)),void(this._position+\x3di.length+2);if("contourintegral"\x3d\x3di)return t.addChild(new Uo(0,!0)),void(this._position+\x3di.length+2);var n\x3dsr.getEqOp("\x26".concat(i,";"));if(n)return t.addChild(n),void(this._position+\x3di.length+2);var r\x3ddr.getEqParenFromEntity("\x26".concat(i,";"));if(r)return t.addChild(r),void(this._position+\x3di.length+2);if($o.isValidSymbol(i)){var o\x3dnew $o({name:i});return t.addChild(o),void(this._position+\x3di.length+2)}t.addChild(new Pr({name:i})),this._position+\x3di.length+2}},{key:"_readTextAhead",value:function(t){return this._text.substr(this._position,t.length).toUpperCase()\x3d\x3dt.toUpperCase()\x26\x26(this._position\x3dt.length,!0)}},{key:"_parseSuperscript",value:function(t){var e;e\x3dnew Jr,t.addChild(e),this._position++,this._expect("{"),this._parseRow(e.getEqRow(0)),this._expect("}")}},{key:"_parseSubscript",value:function(t){var e;e\x3dnew to,t.addChild(e),this._position++,this._expect("{"),this._parseRow(e.getEqRow(0)),this._expect("}")}},{key:"_cNumError",value:function(){throw new Error("Invalid CNUM format at position ".concat(this._position))}},{key:"_formatCNum",value:function(t){var e,i,n,r;r\x3dthis._eqDoc.siCommaChar,e\x3dparseFloat(t),isNaN(e)\x26\x26this._cNumError();var o\x3dt.lastIndexOf(".");for(o\x3e\x3d0?(i\x3dthis._eqDoc.getDecimalChar()+t.substring(o+1),n\x3do):(i\x3d"",n\x3dt.length);n\x3e0;)i\x3dt.substring(Math.max(0,n-3),n)+i,(n-\x3d3)\x3e0\x26\x26(i\x3dr+i);return i}},{key:"_parseString",value:function(){for(var t\x3d"";this._position\x3cthis._textLength;){var e\x3dthis._currentChar();if("}"\x3d\x3de||";"\x3d\x3de)break;t+\x3de,this._position++}return t}},{key:"_parseSize",value:function(t){var e\x3dnew vo(1);if(t.addChild(e),this._expect("{"),this._parseRow(e.getEqRow(0)),";"\x3d\x3d\x3dthis._currentChar()){this._position++;var i\x3dthis._parseString(),n\x3dparseInt(i);if(isNaN(n))throw new Error("Integer expected parsing @SIZE parameter at position ".concat(this._position));e.setPoints(n)}this._expect("}")}},{key:"_parseMNum",value:function(t){this._expect("{"),this._parseRow(t),this._expect(";");var e\x3dnew io;t.addChild(e),this._parseRow(e.getEqRow(0)),this._expect(";"),this._parseRow(e.getEqRow(1)),this._expect("}")}},{key:"_parseCNum",value:function(t,e){var i,n\x3d!1,r\x3d!1,o\x3d!1,s\x3d!1,a\x3d"",c\x3dthis._eqDoc.getDecimalChar();for(this._expect("{");this._position\x3cthis._textLength;){if("-"\x3d\x3d\x3d(i\x3dthis._currentChar()))(n||o)\x26\x26this._cNumError(),n\x3d!0;else if(i!\x3dthis._eqDoc.currencyChar||e)if("("\x3d\x3di)o\x26\x26this._cNumError(),o\x3d!0;else if(")"\x3d\x3di)o\x26\x26!s||this._cNumError(),s\x3d!0;else if(" "\x3d\x3di);else{if("}"\x3d\x3di)break;s?this._cNumError():i\x3d\x3dc?a\x3d"".concat(a,"."):a+\x3di}else r\x26\x26this._cNumError(),r\x3d!0;this._position++}n\x26\x26t.addChild(sr.getEqOpFromChar("-")),(r||e)\x26\x26t.addChild(new rr(this._eqDoc.currencyChar)),o\x26\x26t.addChild(new rr("(")),e?t.addChild(new rr(er.trim(this._eqDoc.toLocaleDecimal(a)))):t.addChild(new rr(this._formatCNum(a))),s\x26\x26t.addChild(new rr(")"))}},{key:"_parseNegP",value:function(t){var e,i\x3d!1,n\x3d"";for(this._expect("{");this._position\x3cthis._textLength;){if("-"\x3d\x3d\x3d(e\x3dthis._currentChar()))i\x26\x26this._cNumError(),i\x3d!0;else if(" "\x3d\x3d\x3de);else{if("}"\x3d\x3de)break;n+\x3de}this._position++}i?t.addChild(new rr(n)):(t.addChild(new rr("(")),t.addChild(new rr(er.trim(n))),t.addChild(new rr(")")))}},{key:"_parseComposite",value:function(t){this._expect("@");for(var e\x3d"",i\x3dnull;this._position\x3cthis._textLength\x26\x26"{"!\x3d\x3d(i\x3dthis._currentChar())\x26\x26"_"!\x3di;)e+\x3di,this._position++;this._eqDoc.convertTypedBraces\x26\x26(this._inComposite\x3d!0);var n\x3das[er.trim(e.toUpperCase())];null\x3d\x3dn\x26\x26(n\x3dfunction(t){this._parseEq(t,new mo({name:e}),{maxChildren:10})}),on(this,n)(t)}},{key:"_parseEq",value:function(t,e,i){var n\x3d{maxChildren:1,reduceEmptyRows:!1};this._expect("{"),sn(n,i),t.addChild(e);var r\x3d0;do{if(r\x3e\x3dn.maxChildren)return void this._expect("}");"}"!\x3dthis._currentChar()\x26\x26r\x3e\x3de.getNumChildren()\x26\x26e.addChild(new Qr),this._parseRow(e.getEqRow(r)),"}"!\x3dthis._currentChar()\x26\x26(this._expect(";"),r+1\x3e\x3de.getNumChildren()\x26\x26e.addChild(new Qr)),r++}while(this._position\x3cthis._textLength\x26\x26"}"!\x3dthis._currentChar());this._expect("}"),n.reduceEmptyRows\x26\x26!this._eqDoc.doNotReduceEmptyRows\x26\x26e.reduceEmptyRows()}},{key:"_parseMatRow",value:function(t){var e,i\x3d!0;do{e\x3dt.addEqRow(i),this._parseRow(e);var n\x3dthis._currentChar();if(";"\x3d\x3d\x3dn)this._position++,i\x3d!1;else if("}"\x3d\x3d\x3dn)return void this._position++}while(this._position\x3cthis._textLength);if(this._position\x3ethis._textLength)throw new Error("expected } but reached end of text while parsing matrix row")}},{key:"parseFunction",value:function(t){var e\x3d0;if("@function_"\x3d\x3dthis._text.substr(this._position,10)){for(e\x3dthis._position+10;this.isAlpha(this._text.charAt(e))\x26\x26e\x3cthis._textLength;)e++;if(fx\x3dthis._text.substring(this._position+10,e),e\x3e\x3dthis._textLength||!this.isOpenP(ch1\x3dthis._text.charAt(e++)))throw new exception(sprintf("(,{ or [ expected at position %d",e));if(e\x3e\x3dthis._textLength||!this.isCloseP(ch2\x3dthis._text.charAt(e++)))throw new exception(sprintf("),} or ] expected at position %d",e));eq\x3dnew EqFunction(fx,ch1,ch2),maxChildren\x3d1}eq\x26\x26(this._position\x3de,this._expect("{"))}},{key:"_parseMat",value:function(t,e){var i\x3dnew To(0,0,e);t.addChild(i),this._expect("{"),this._parseMatRows(i),this._expect("}")}},{key:"_parseMatRows",value:function(t){do{"{"\x3d\x3d\x3dthis._currentChar()?(this._position++,this._parseMatRow(t)):";"\x3d\x3d\x3dthis._currentChar()\x26\x26this._position++}while(this._position\x3cthis._textLength\x26\x26"}"!\x3dthis._currentChar());if(this._position\x3ethis._textLength)throw new Error("expected } but reached end of text while parsing matrix")}},{key:"_parseCheckCol",value:function(t,e){var i;do{i\x3dnew Qr,t.addChild(i),this._parseRow(i);var n\x3dthis._currentChar();if(";"\x3d\x3d\x3dn)this._position++;else if("}"\x3d\x3dn)return void this._position++}while(this._position\x3cthis._textLength);if(this._position\x3ethis._textLength)throw new Error("expected } but reached end of text while parsing check matrix row")}},{key:"_parseCheckRows",value:function(t,e){t.addChild(e);var i\x3d!0,n\x3d!0;do{i\x26\x26(this._expect("{"),this._parseRow(e.getEqRow(0)));var r\x3dthis._currentChar();"{"\x3d\x3d\x3dr?(this._position++,this._parseCheckCol(e,n)):";"\x3d\x3d\x3dr\x26\x26(this._position++,i?i\x3d!1:n\x26\x26(n\x3d!1))}while(this._position\x3cthis._textLength\x26\x26"}"!\x3dthis._currentChar());if(this._position\x3ethis._textLength)throw new Error("expected } but reached end of text while parsing check matrix");this._expect("}")}},{key:"isAtVarChar",value:function(t){}},{key:"_parseInput",value:function(t){this._expect("{");var e\x3dthis._parseString().toUpperCase();this._inputOrder[e]||(this._inputOrder[e]\x3d0);var i\x3dnew xo({name:e,orderNo:this._inputOrder[e]++});this._expect("}"),t.addChild(i)}},{key:"_parseEqDummy",value:function(t){var e\x3dnew co;t.addChild(e),this._expect("{"),this._parseRow(e),this._expect("}")}},{key:"_parseAtVar",value:function(t){for(var e\x3d"";this._position\x3cthis._textLength;){var i\x3dthis._currentChar();if(!this._isAtVarChar(i))break;e\x3di,this._position++}t.addChild(new EqVar(e))}},{key:"_parseCursor",value:function(t){this.eqCursorMarker?this.eqCursorMarker.parent.removeChild(eqCursorMarker):this.eqCursorMarker\x3dnew $n,t.addChild(this.eqCursorMarker)}},{key:"_isValidChar",value:function(t){return null\x3d\x3dthis.isValidCharCode||this.isValidCharCode.apply(this.eqEditor,[t.charCodeAt(0)])}}]),t}(),us\x3dfunction(){function t(i){e(this,t),this.node\x3di.node}return n(t,[{key:"announce",value:function(t){var e\x3dthis;t\x26\x26(this._queue((function(){e.node.innerHTML\x3dt})),this._queue((function(){e.node.innerHTML\x3d""}),300))}},{key:"announceEqs",value:function(t,e,i){if(t\x26\x26t.length){var n\x3d[];e\x26\x26n.push(e),un(t,(function(t){n.push(t.getAccessibleName())})),i\x26\x26n.push(i),this.announce(n.join(" "))}}},{key:"announceOutro",value:function(t){t\x26\x26this.announce(this.getOutroAnnouncement(t))}},{key:"process",value:function(t,e,i,n,r,o){if(t){var s\x3dt.eq,a\x3dthis.getEntryAnnouncement(s),c\x3ds.getAccessibleName(t.location),u\x3ds.getAccessiblePosition(t.location),l\x3d"",h\x3d"";if(n?h\x3d" StartEquation ":r\x26\x26(l\x3d" EndEquation "),o)a\x26\x26this.announce("".concat(a).concat(h).concat(u).concat(c).concat(l));else{var d\x3d"";if(e)switch(e.direction){case jn.UP:d\x3d"Up: ";break;case jn.DOWN:d\x3d"Down: ";break;case jn.LEFT:d\x3d"Left: ";break;case jn.RIGHT:d\x3d"Right: ";break;case jn.HOME:d\x3d"Home: ";break;case jn.END:d\x3d"End: ";break;case jn.TABFORWARD:d\x3d"Tab Forward: ";break;case jn.TABBACK:d\x3d"Tab Back: "}else i\x26\x26(d\x3d"Mouse: ");this.announce("".concat(d).concat(a).concat(h).concat(u).concat(c).concat(l))}}}},{key:"setAnnouncementAnscestor",value:function(t){this._prevAnnouncementAncestor\x3dt,this._annoucementAncestorChanged\x3d!0}},{key:"getEntryAnnouncement",value:function(t){var e\x3d"";if(this._annoucementAncestorChanged\x26\x26this._prevAnnouncementAncestor){var i\x3dtr.getNearestAnnouncementAncestor(t);if(i\x26\x26!i.isAncestorOf(this._prevAnnouncementAncestor)){var n\x3di.getAccessibleAnnouncement();n\x26\x26(e\x3d"Entered ".concat(n," "))}this._annoucementAncestorChanged\x3d!1}return e}},{key:"getOutroAnnouncement",value:function(t){if(t\x26\x26t.getAccessibleAnnouncement){var e\x3d"",i\x3dt.getAccessibleAnnouncement();return i\x26\x26(e\x3d"Exited ".concat(i," ")),e}}},{key:"_queue",value:function(t,e){this._jobQueue||(this._jobQueue\x3d[]),this._jobQueue.push({action:t,wait:e}),this._queueWorking||this._processQueue()}},{key:"_processQueue",value:function(){var t\x3dthis;if(this._jobQueue\x26\x260!\x3d\x3dthis._jobQueue.length){this._queueWorking\x3d!0;var e\x3dthis._jobQueue.shift();setTimeout((function(){try{e.action()}catch(t){}t._processQueue()}),e.wait||0)}else this._queueWorking\x3d!1}}]),t}();function ls(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var hs\x3dfunction(t){a(s,t);var i\x3dls(s);function s(){var t;return e(this,s),(t\x3di.apply(this,arguments)).initFields(),t._fontChecker\x3dnew Lr(u(t)),t._shortcutList\x3dnew Br,t.setupFunctionList(),t}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._currentRow\x3dnull,this.baseClass\x3d"eqDocument",this._dummyText\x3dnull,this._textFormat\x3dnull,this._focused\x3d!1,this._functionList\x3dnull,this._latexSpecialFunctionList\x3dnull,this._caseSensitive\x3d!1,this.italicizeVariables\x3d!1,this._useEmbededFont\x3d!1,this._shortcutList\x3dnull,this._onCreateControl\x3dnull,this._eqObjects\x3dnew Array,this.currentRow\x3dnull,this.onVarExists\x3dnull,this.showDebugBoxes\x3d!1,this.deductLeading\x3d!1,this.deductExtraMargins\x3d!1,this.borderColor\x3d255,this.borderAlpha\x3d1,this.currentRowColor\x3d12574975,this.lineColor\x3d0,this.fillLineColor\x3d5592405,this.numberColor\x3d0,this.functionColor\x3d204,this.varColor\x3d204,this.parenColor\x3d0,this.unmatchedParenColor\x3d16711680,this.objectFillColor\x3d12574975,this.objectLineColor\x3d255,this.minTextSize\x3d11,this.symbolFont\x3dnull,this.symbolFontEmbeded\x3d!1,this.useTemplateFunctions\x3d!1,this.treatPipesAsParens\x3d!1,this.smartSlashNumbersOnly\x3d!1,this.symbolFontCapital\x3dnull,this.symbolFontCapitalEmbeded\x3d!1,this.calligraphicFont\x3dnull,this.calligraphicFontEmbeded\x3d!1,this.opFont\x3dnull,this.opFontEmbeded\x3d!1,this.enlargeItalicMargin\x3d!1,this.fixLatexVector\x3d!1,this.fixLatexInverse\x3d!1,this.chemAsterisk\x3d!1,this.eiItalic\x3d!0,this.convertLScript\x3d!1,this.supportGravityConstant\x3d!1,this.supportAsinAcosAtan\x3d!1,this.sharpEmbedded\x3d!0,this.latexSpecialFunctions\x3d!1,this.thickBrackets\x3d!1,this.ignoredFonts\x3dnew Array,this.smartOperatorSpace\x3d!1,this.parseLatexPipesAsABS\x3d!1,this.fullArrows\x3d!1,this.allowCommaNumbers\x3d!0,this.allowDollarNumbers\x3d!1,this.allowNegParens\x3d!1,this.allowInternationalInput\x3d!1,this.interpretFunctions\x3d!1,this.markUnmatchedParens\x3d!1,this.disableParenMatching\x3d!1,this.boldFunctions\x3d!0,this.siCommaChar\x3d",",this.siCommaDecimal\x3d!1,this.spacesAreText\x3d!0,this.printing\x3d!1,this.evalEqText\x3d!1,this._emptyDocWidth\x3d-1,this.ignoreEmptyBoxes\x3d!1,this.adjustCommas\x3d!1,this.ignoreScripts\x3d!0,this.ignoreSubscriptInSuperscript\x3d!0,this.ignoreScriptsInAllComposites\x3d!0,this.showEmptyBoxes\x3d!1,this.doNotReduceEmptyRows\x3d!1,this.currencyChar\x3d"$",this.disabled\x3d!1,this.authoring\x3d!1,this.editable\x3d!1,this.suppressEmptyHiding\x3d!1,this.defaultSymbolItalic\x3d!1,this.data\x3dnull,this.processFrameEntered\x3d!1,this.simpleEqText\x3d!1,this._accessible\x3d!1,this._eqCursorMarker\x3dnull,this._fontChecker\x3dnull,this.ignoreOperators\x3d!1,this.showAccessibleSymbolNames\x3d!1,this.convertTypedBraces\x3d!1,this._prompt\x3dnull}},{key:"isEqDocument",value:function(){return!0}},{key:"createDom",value:function(){var t\x3do(r(s.prototype),"createDom",this).apply(this,arguments);return mn(t,"eqRow"),t\x26\x26(this.inputs||(Ni.set(t,{"aria-hidden":"true"}),Ni.set(t,{role:"presentation"})),this.showEmptyBoxes\x26\x26fn(t,"showEmptyBoxes")),t}},{key:"setAccessible",value:function(t){this._accessible\x3dt}},{key:"getAccessible",value:function(){return this._accessible}},{key:"getEqDocument",value:function(){return this}},{key:"getCurrentRow",value:function(){return this._currentRow}},{key:"setCurrentRow",value:function(t){this._currentRow!\x3dt\x26\x26(this._currentRow\x26\x26this._currentRow.setIsCurrent(!1),this._currentRow\x3dt,this._currentRow.setIsCurrent(!0))}},{key:"setShortcuts",value:function(t,e){e||this.clearShortcuts();var i\x3dthis;un(t,(function(t){i.addShortcut(t.name,t.text)}))}},{key:"setupFunctionList",value:function(){var t\x3ds.DefaultFunctions.en_US;this.setFunctionList(t)}},{key:"setFunctionList",value:function(t){this._functionList\x3dt.slice(0),this._functionList.sort((function(t,e){return t\x3d\x3de?0:t\x3ee?1:-1}))}},{key:"getFunctionList",value:function(){return this._functionList}},{key:"addFunction",value:function(t){var e\x3dthis._functionList.slice(0);e.push(t),this.setFunctionList(e)}},{key:"addLatexFunction",value:function(t,e){this._latexSpecialFunctionList||(this._latexSpecialFunctionList\x3d{}),this._latexSpecialFunctionList[t]\x3de}},{key:"removeLatexFunction",value:function(t){delete this._latexSpecialFunctionList[t]}},{key:"isLatexFunction",value:function(t){return!!this._latexSpecialFunctionList\x26\x26this._latexSpecialFunctionList.hasOwnProperty(t)}},{key:"getLatexFunction",value:function(t){return this._latexSpecialFunctionList?this._latexSpecialFunctionList[t]:"\\\\unknown"}},{key:"attach",value:function(t,e){this.domNode\x26\x26this.domNode.parentNode\x26\x26this.domNode.parentNode.removeChild(this.domNode),this._initDom(),zi.place(this.domNode,t),e||this.doLayout()}},{key:"getCommaChar",value:function(){return this.allowCommaNumbers?this.siCommaChar:","}},{key:"getDecimalChar",value:function(){return this.siCommaDecimal?",":"."}},{key:"toLocaleDecimal",value:function(t){return this.siCommaDecimal?t.replace(".",this.getDecimalChar()):t}},{key:"createNode",value:function(t){if(this.chemAsterisk\x26\x26"*"\x3d\x3dt\x26\x26this.getCurrentRow()\x26\x26this.getCurrentRow().parent\x26\x26this.getCurrentRow().parent.isEqSuperscript())return sr.getEqOp("\x26star;");if(" "!\x3dt||t!\x3dthis.getCommaChar()\x26\x26!this.spacesAreText){if(!this.ignoreOperators\x26\x26sr.isOpChar(t))return sr.getEqOpFromChar(t);if(!this.allowNegParens||"("!\x3dt\x26\x26")"!\x3dt){if(this.treatPipesAsParens\x26\x26"|"\x3d\x3dt)return new dr(t,dr.EqParenType.UNKNOWN);if(tr.isParen(t))return new dr(t);var e\x3dPr.getUnicodeSymbolInfo(t);return e?new Pr({name:e}):new rr(t)}return new rr(t)}return new rr(t)}},{key:"getTreeLabel",value:function(){return"eqDoc"}},{key:"addShortcut",value:function(t,e){this._shortcutList.add(t,e)}},{key:"clearShortcuts",value:function(){this._shortcutList\x3dnew Br}},{key:"getShortcutList",value:function(){return this._shortcutList}},{key:"parse",value:function(t){this.clear();var e\x3dthis.parseNodes(t);this.insertEq(e,0),this.doLayout()}},{key:"parseNodes",value:function(t,e){var i\x3dnew cs(this,t),n\x3di.parse();return this.setEqCursorMarker(i.eqCursorMarker),e\x26\x26i.eqCursorMarker\x26\x26(e.eqCursorMarker\x3di.eqCursorMarker),n}},{key:"invalidateAndLayout",value:function(){this.invalidate(),this.doLayout()}},{key:"reLayout",value:function(){this.invalidate(!0),this.doLayout()}},{key:"doLayout",value:function(){this._validated||(this._fontChecker.clearFonts(),this.preRender(),this.render(),this.postRender(),this.validate(),this._fontChecker.processFonts())}},{key:"clearEqCursorMarker",value:function(){this.setEqCursorMarker(null)}},{key:"setEqCursorMarker",value:function(t){this._eqCursorMarker!\x3dt\x26\x26(this._eqCursorMarker\x26\x26this._eqCursorMarker.destroy(),this._eqCursorMarker\x3dt)}},{key:"getEqCursorMarker",value:function(){return this._eqCursorMarker}},{key:"getItalicizeVariables",value:function(){return this.italicizeVariables}},{key:"setItalicizeVariables",value:function(t){this.italicizeVariables\x3dt}},{key:"getCaseSensitive",value:function(){return this._caseSensitive}},{key:"setCaseSensitive",value:function(t){this._caseSensitive\x3dt}},{key:"getFocused",value:function(){return this._focused}},{key:"setFocused",value:function(t){this._focused!\x3dt\x26\x26(this._focused\x3dt)}},{key:"getPrompt",value:function(){return this._prompt}},{key:"setPrompt",value:function(t,e){this._prompt\x3dt,this.invalidate(),this.doLayout(),this.preparePrompt(e)}},{key:"preparePrompt",value:function(t){this._prompt\x26\x26(this.domNode.setAttribute("data-prompt",this._prompt),fn(this.domNode,t\x26\x26"eqPromptAcs"\x3d\x3d\x3dt?"eqPromptAcs":"eqPrompt"))}},{key:"getEqText",value:function(){var t\x3dnull;if(this.ignoreScripts)for(var e\x3d0;e\x3cthis.getNumChildren();e++){var i\x3dthis.getChild(e);if(i.isEqSuperscript()||i.isEqSubscript()\x26\x26null\x3d\x3dt)t\x3di;else if(!i.isEqText()||""!\x3d\x3di.getEqText().trim()){t\x3dnull;break}}return t?t.getEqRow(0).getEqText():o(r(s.prototype),"getEqText",this).apply(this,arguments)}},{key:"getParenColor",value:function(t){var e\x3d(t?this.unmatchedParenColor:this.parenColor).toString(16);return e.length\x3c6\x26\x26(e\x3dnew Array(6-e.length+1).join("0")+e),"#".concat(e)}},{key:"getSimpleEqText",value:function(){this.simpleEqText\x3d!0;var t\x3dthis.getEqText();return this.simpleEqText\x3d!1,t}},{key:"registerFont",value:function(t,e){this._fontChecker.registerFont(t,e)}},{key:"emit",value:function(t,e){this.domNode\x26\x26Wn(t,e,this.domNode)}},{key:"getAccessibleAnnouncement",value:function(){return""}},{key:"createEqAccessibleAnnouncer",value:function(t){this.eqAccessibleAnnouncer\x3dnew us({node:t})}},{key:"getEqAccessibleAnnouncer",value:function(){return this.eqAccessibleAnnouncer}}]),s}(Qr);hs.DefaultShortcuts\x3d[{name:"\\\\divide",text:"\x26div;"},{name:"\\\\xyz",text:"@DIV{;@CURSOR{}}"},{name:"\\\\times",text:"\x26times;"},{name:"\\\\sqrt",text:"@RT{@CURSOR{}}"},{name:"\\\\nrt",text:"@RT{;@CURSOR{}}"},{name:"\\\\union",text:"\x26cup;"},{name:"\\\\inter",text:"\x26cap;"},{name:"\\\\pi",text:"\x26pi;"},{name:"pi",text:"\x26pi;"},{name:"\\\\inf",text:"\x26inf;"},{name:"\\\\empty",text:"\x26empty;"},{name:"\\\\angle",text:"\x26angle;"},{name:"\\\\cdelta",text:"\x26cdelta;"},{name:"\\\\abs",text:"|@DUMMY{@CURSOR{}}|"},{name:"\\\\cap",text:"\x26cap;"},{name:"\\\\cup",text:"\x26cup;"},{name:"\\\\textbar",text:"|"},{name:"\\\\cis",text:"\x26ang;"},{name:"\\\\partiald",text:"\x26part;"},{name:"\\\\nsubset",text:"\x26nsub;"},{name:"\\\\nelement",text:"\x26notin;"},{name:"\\\\npropersub",text:"\x26nsub;"},{name:"\\\\delta",text:"\x26delta;"},{name:"\\\\epsilon",text:"\x26epsilon;"},{name:"\\\\eta",text:"\x26eta;"},{name:"\\\\phi",text:"\x26phi;"},{name:"\\\\vphi",text:"\x26phiv;"},{name:"\\\\tau",text:"\x26tau;"},{name:"\\\\psi",text:"\x26psi;"},{name:"\\\\omega",text:"\x26omega;"},{name:"\\\\plusminus",text:"\x26plusminus;"},{name:"\\\\element",text:"\x26in;"},{name:"\\\\notelement",text:"\x26notin;"},{name:"\\\\subset",text:"\x26subset;"},{name:"\\\\notsubset",text:"\x26notsubset;"},{name:"\\\\propersub",text:"\x26propsubset;"},{name:"\\\\notpropersub",text:"\x26notpropsubset;"},{name:"\\\\and",text:"\x26and;"},{name:"\\\\or",text:"\x26or;"},{name:"\\\\not",text:"\x26not;"},{name:"\\\\alpha",text:"\x26alpha;"},{name:"\\\\beta",text:"\x26beta;"},{name:"\\\\gamma",text:"\x26gamma;"},{name:"\\\\theta",text:"\x26theta;"},{name:"\\\\mu",text:"\x26mu;"},{name:"\\\\sigma",text:"\x26sigma;"},{name:"\\\\lambda",text:"\x26lambda;"},{name:"\\\\chi",text:"\x26chi;"},{name:"\\\\rho",text:"\x26rho;"},{name:"\\\\grad",text:"\x26grad;"},{name:"\\\\int",text:"@integral{}"},{name:"\\\\hat",text:"@hat{@CURSOR{}}"},{name:"\\\\bar",text:"@bar{@CURSOR{}}"},{name:"\\\\dbar",text:"@ovdbbar{@CURSOR{}}"},{name:"\\\\sum",text:"@SUM{;}"},{name:"\\\\csigma",text:"@SUM{}"},{name:"\\\\supsub",text:"@SUPSUB{ ; }"},{name:"\\\\subsub",text:"_{@CURSOR{}}@DUMMY{}_{}"},{name:"\\\\dint",text:"@INTEGRAL{@CURSOR{};}"},{name:"\\\\lsum",text:"@SUM{@CURSOR{};}"},{name:"\\\\stack",text:"@SUPSUBSTACK{;}"},{name:"\\\\nu",text:"\x26nu;"},{name:"\\\\eq",text:"\x26dbharpoon;"}],hs.PrimeShortcuts\x3d[{name:"\'",text:"\x26prime;"},{name:"`",text:"\x26prime;"},{name:\'"\',text:"\x26prime2;"},{name:"\x26prime;\'",text:"\x26prime2;"},{name:"\x26prime;`",text:"\x26prime2;"},{name:\'\x26prime;"\',text:"\x26prime3;"}],hs.DefaultFunctions\x3d{en_US:["sin","cos","tan","arcsin","arccos","arctan","sinh","cosh","tanh","arcsinh","arccosh","arctanh","ln","log","exp","e","i","sec","csc","cot","arcsec","arccsc","arccot","csch","sech","coth","arccsch","arcsech","arccoth","cdot"],en_GB:[],es_MX:["sen","senh","arcsen","arcsenh"],pt_BR:["sen","tg","cosec","cotg","senh","tgh","cosech","cotgh","arcsen","arctg","arccosec","arccotg","arcsenh","arctgh","arccosech","arccotgh","arc sen","arc cos","arc tg","arc sec","arc cosec","arc cotg","arc senh","arc cosh","arc tgh","arc sech","arc cosech","arc cotgh"],it_IT:["sen","tg","cosec","cotg","senh","tgh","cosech","cotgh","arcsen","arctg","arccosec","arccotg","arcsenh","arctgh","arccosech","arccotgh","cotan","cotanh","arccotan","arccotanh"],de_DE:["cosec","arccosec","cosech","arccosech"],de_AT:["cosec","arccosec","cosech","arccosech"],fr_FR:["cosec","cotan","arccosec","arccotan","cosech","arccosech","cotanh","arccotanh","sh","ch","th","argsh","argch","argth","argsech","argcosech","argcoth"],fr_CA:["cosec","cotan","arccosec","arccotan","cosech","arccosech","cotanh","arccotanh","sh","ch","th","argsh","argch","argth","argsech","argcosech","argcoth","tg","cotg"]};var ds\x3dfunction(){function t(){e(this,t),this._position\x3d0,this._eqRow\x3dnull,this._domNode\x3dnull,this._timer\x3dnull}return n(t,[{key:"getDomNode",value:function(){return this._domNode||(this._domNode\x3dzi.create("span",{class:"eqCaret",innerHTML:" "})),this._domNode}},{key:"moveCursor",value:function(t,e){this._position\x3de,this._eqRow\x3dt;var i\x3dthis.getDomNode();i.parentNode\x26\x26i.parentNode.removeChild(i);var n\x3dt.placeCaret(i,e);return mn(this._domNode,"blink"),this.initTimer(),n}},{key:"initTimer",value:function(){this._timer||(this._timer\x3dwindow.setInterval(on(this,this.onTimer),750))}},{key:"onTimer",value:function(){this._domNode\x26\x26yn(this._domNode,"blink")}}]),t}(),ps\x3dfunction t(i,n,r,o){e(this,t),this.characterDeleted\x3d!1,this.extendSelection\x3d!1,this.moveRight\x3d!1,this.moveLeft\x3d!1,this.row\x3dn,this.direction\x3di,this.position\x3do,this.positionStart\x3dr},fs\x3dfunction t(i,n,r){e(this,t),this.chr\x3di,this.row\x3dn,this.position\x3dr,this.ignore\x3d!1},ms\x3d{None:"",InsertingText:"InsertingText",InsertingEq:"InsertingEq",Deleting:"Deleting"},gs\x3dfunction(){function t(i){e(this,t),this.initFields(),this._eqEditor\x3di,this._undoIndex\x3d0,this._undoList\x3d[]}return n(t,[{key:"initFields",value:function(){this._maxSize\x3d32,this._undoList\x3dnull,this._undoIndex\x3d0,this._eqEditor\x3dnull,this._undone\x3d!1,this._restore\x3d!1,this._lastAction\x3dnull,this.holdSave\x3d!1,this._frozen\x3d!1}},{key:"_textWithoutCursorMarker",value:function(t){return t.replace("@CURSOR{}","")}},{key:"setUndoSequence",value:function(t){this._undoList\x3d[];var e\x3dthis;un(t.sequence,(function(t){e._undoList.push(t)}),this),this._undoIndex\x3dt.index}},{key:"getUndoSequence",value:function(){return{sequence:this._undoList,index:this._undoIndex}}},{key:"freeze",value:function(){this._frozen\x3d!0}},{key:"unFreeze",value:function(){this._frozen\x3d!1}},{key:"save",value:function(t,e){if(!this._restore\x26\x26!this._frozen)if(this.holdSave)this.holdSave\x3d!1;else if(!(t\x26\x26this._lastAction\x26\x26t\x3d\x3d\x3dms.InsertingText\x26\x26t\x3d\x3d\x3dthis._lastAction||(this._lastAction\x3dt,this._undoIndex\x3d\x3d\x3dthis._undoList.length\x26\x26this._undoIndex\x3e0\x26\x26this._eqEditor\x26\x26this._eqEditor.getEqText()\x3d\x3d\x3dthis._textWithoutCursorMarker(this._undoList[this._undoList.length-1])))){e||(this._undone\x3d!1);var i\x3dthis._eqEditor.getEqTextWithCursorMarker();this._undoIndex\x3d\x3d\x3dthis._undoList.length?(this._undoList.push(i),this._undoIndex\x3dthis._undoList.length):(this._undoList[this._undoIndex]\x3di,this._undoIndex++,this._undoList.slice(this._undoIndex,this._undoList.length-1)),this._undoList.length\x3ethis._maxSize\x26\x26(this._undoList.shift(),this._undoIndex--)}}},{key:"_setEqText",value:function(t){this._restore\x3d!0;try{this._eqEditor.insertEqText(t,{clear:!0})}finally{this._restore\x3d!1}}},{key:"canUndo",value:function(){return this._undoIndex\x3e0}},{key:"undo",value:function(){this.canUndo()\x26\x26(this._undone||(this.save(null,!0),this._undoIndex--,this._undone\x3d!0),this._setEqText(this._undoList[--this._undoIndex]),this._lastAction\x3dnull)}},{key:"canRedo",value:function(){return this._undoIndex\x3cthis._undoList.length-1}},{key:"redo",value:function(){this.canRedo()\x26\x26(this._setEqText(this._undoList[++this._undoIndex]),this._lastAction\x3dnull)}},{key:"reset",value:function(){this._lastAction\x3dnull,this._undoIndex\x3d0,this._undoList\x3d[],this._undone\x3d!1}}]),t}(),vs\x3dfunction(){function t(){e(this,t),this._handlers\x3d[]}return n(t,[{key:"emit",value:function(t,e,i){if(i||this.domNode)return i\x3di||this.domNode,Wn(t,e,i)}},{key:"own",value:function(){var t\x3dthis,e\x3d[];return un(arguments,(function(i){i\x26\x26i.clear\x26\x26(t._handlers.push(i),e.push(i))})),e}},{key:"destroy",value:function(){un(this._handlers,(function(t){return t.clear()}))}}]),t}();function ys(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var xs\x3dfunction(t){a(s,t);var i\x3dys(s);function s(t){var n;return e(this,s),(n\x3di.call(this)).initFields(),n._host\x3dt.host,n._setupHost(),n}return n(s,[{key:"initFields",value:function(){this._host\x3dnull,this._textArea\x3dnull,this._initialized\x3d!1,this.baseClass\x3d"hiddenInputContainer",this.focusNode\x3dnull,this.domNode\x3dnull,this._timer\x3dnull,this._textWasSelected\x3d!1,this._isAndroid\x3d!1,this._emptyString\x3d"\u2000\u2000",this.isFocused\x3d!1}},{key:"destroy",value:function(t){o(r(s.prototype),"destroy",this).call(this,arguments),this.domNode\x26\x26(t||zi.destroy(this.domNode),delete this.domNode,delete this.focusNode)}},{key:"_useKeypress",value:function(){return Li("touch")\x26\x26!Li("android")}},{key:"_createInput",value:function(){if(!this.domNode){this.domNode\x3dzi.create("span",{class:this.baseClass,"aria-hidden":"true"});var t\x3d"focusNode";Li("ios")?t+\x3d" ios":Li("android")\x26\x26(t+\x3d" android",this._isAndroid\x3d!0),this._textArea\x3dzi.create("input",{type:"text",class:t,autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false",value:this._emptyString,"aria-hidden":"true"},this.domNode),(this._host.useOsk||this._host.isOSKEditor)\x26\x26Ni.set(this._textArea,"readOnly",!0),this.focusNode\x3dthis._textArea}}},{key:"_setupHost",value:function(){this._initialized||(this._createInput(),zi.place(this.domNode,this._host.domNode,0),this._setupEvents(),this._initialized\x3d!0)}},{key:"_hostChanged",value:function(){}},{key:"_setupEvents",value:function(){null!\x3dthis._textArea\x26\x26this.own(nn(this._textArea,"keydown",on(this,"_onKeyDown")),nn(this._textArea,"keyup",on(this,"_onKeyUp")),nn(this._textArea,"keypress",on(this,"_onKeyPress")),nn(this._textArea,"focus",on(this,"_onFocus")),nn(this._textArea,"blur",on(this,"_onBlur")),nn(this._textArea,"input",on(this,"_onInput")),nn(this._textArea,"paste",on(this,"_onPaste")),nn(this._textArea,"cut",on(this,"_onCut")),nn(this._host.domNode,"change",on(this,this._hostChanged)))}},{key:"_onHostClicked",value:function(){this._textArea.focus()}},{key:"_onPaste",value:function(){var t\x3dthis;setTimeout((function(){var e\x3dt._textArea.value.replace(t._emptyString,"").substring("select: ".length,t._textArea.value.length);if(e)try{t.emit("pasteEqText",{eqText:"".concat(e,"@CURSOR{}")})}catch(n){for(var i\x3d0;i\x3ce.length;i++)t.emit("characterInput",{inputChar:e.charAt(i)})}}))}},{key:"_onCut",value:function(){var t\x3dthis;this._textWasSelected\x26\x26setTimeout((function(){t.emit("characterInput",{inputChar:"\\b"}),t._clearTextValue(),t._textWasSelected\x3d!1}),100)}},{key:"_onInput",value:function(){this._useKeypress()||(this._textWasSelected?("select: "\x3d\x3dthis._textArea.value\x26\x26(this.emit("characterInput",{inputChar:"\\b"}),this._clearTextValue()),this._textWasSelected\x3d!1):(null!\x3dthis._timer\x26\x26clearTimeout(this._timer),this._timer\x3dsetTimeout(on(this,this._sendInput),1)))}},{key:"_sendInput",value:function(){if(this._timer\x3dnull,!(this._textArea.value.length\x3c\x3d0)){var t\x3dthis._getTextValue();""\x3d\x3dt\x26\x26this._isAndroid\x26\x26this._textArea.value\x3d\x3dthis._emptyString.substr(0,this._emptyString.length-1)\x26\x26this.emit("characterInput",{inputChar:"delete"}),this._clearTextValue();for(var e\x3d0;e\x3ct.length;e++)this.emit("characterInput",{inputChar:t.charAt(e)});Li("ie")\x26\x26this._textArea.focus()}}},{key:"_onKeyDown",value:function(t){this._textWasSelected\x3d!1,37\x3d\x3d\x3dt.keyCode||39\x3d\x3d\x3dt.keyCode?(this._textArea.value\x3dthis._emptyString,this._textArea.setSelectionRange(0,0)):"select: "\x3d\x3dthis._textArea.value.replace(this._emptyString,"").substring(0,"select: ".length)\x26\x26this._clearTextValue()}},{key:"_onKeyUp",value:function(){}},{key:"_onKeyPress",value:function(t){var e\x3dString.fromCharCode(t.charCode);this._useKeypress()\x26\x26this.emit("characterInput",{inputChar:e})}},{key:"_onFocus",value:function(){this.focused(),this._setCaretPosition(!0)}},{key:"_onBlur",value:function(){this.blurred()}},{key:"focused",value:function(){this.isFocused\x3d!0,this.emit("focused")}},{key:"blurred",value:function(){this.isFocused\x3d!1,this.emit("blurred")}},{key:"_sizeToHost",value:function(){}},{key:"selectText",value:function(t){this._textArea.value\x3d"select: ".concat(t),this._textArea.focus(),this._textArea.selectionStart\x3d"select: ".length,this._textArea.selectionEnd\x3dthis._textArea.value.length,this._textWasSelected\x3d!0}},{key:"_clearTextValue",value:function(){this._textArea.value\x3dthis._emptyString,this._setCaretPosition()}},{key:"_getTextValue",value:function(){return this._textArea.value.replace(this._emptyString,"")}},{key:"_setCaretPosition",value:function(t){var e\x3dthis._emptyString.length;if(0!\x3de){var i\x3dthis._textArea;if(i.createTextRange){var n\x3di.createTextRange();n.move("character",e),n.select()}else void 0!\x3d\x3di.setSelectionRange\x26\x26(t||i.focus(),i.setSelectionRange(e,e))}}}]),s}(vs),ws\x3dnull,Cs\x3dfunction(t){var e\x3dt.extractSelectionEqText(!0);return!!e\x26\x26(ws\x3de,!0)},_s\x3d{copy:Cs,cut:function(t){Cs(t)\x26\x26t.inputCharacter("delete")},paste:function(t){ws\x26\x26(t.extractSelectionEqText(!0),t.insertEqText(ws))}};function Es(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}function bs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Rs\x3dfunction(t){a(s,t);var i\x3dbs(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.focused\x3d!1,this._focusManager\x3dBn,this.tabIndex\x3d0}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}},{key:"_onFocus",value:function(t){var e\x3dthis;if(!Li("ios")){if("mouse"\x3d\x3dt\x26\x26this.isFocusable())var i\x3dthis.own(nn(this.focusNode,"focus",(function(){n\x26\x26n.clear(),i\x26\x26i.clear()})))[0],n\x3dthis.own(nn(this.domNode.ownerDocument.body,"mouseup, touchend",(function(){n\x26\x26n.clear(),i\x26\x26i.clear(),e.focused\x26\x26e.focus()})))[0];this.scrollOnFocus\x26\x26this.defer((function(){this.domNode.scrollIntoView()}))}this.onFocus()}},{key:"_onBlur",value:function(){this.onBlur()}},{key:"isFocusable",value:function(){return"none"!\x3d\x3dbi(this.domNode,"display")}},{key:"focus",value:function(){}}]),s}(function(t){a(s,t);var i\x3dEs(s);function s(t,n){var r;return e(this,s),(r\x3di.call(this)).initFields(),r.srcNodeRef\x3dn,r}return n(s,[{key:"initFields",value:function(){this.id\x3d"",this.srcNodeRef\x3dnull,this.baseClass\x3d"",this.declaredType\x3d"",this._handlers\x3d[]}},{key:"initialize",value:function(t){this.create(t)}},{key:"create",value:function(t){this.srcNodeRef\x26\x26"string"\x3d\x3dtypeof this.srcNodeRef.id\x26\x26(this.id\x3dthis.srcNodeRef.id),t\x26\x26(this.params\x3dt,sn(this,t)),this.id||(this.id\x3dSn(this.declaredType)),Pn(this.id)\x26\x26An(this.id),Ln(this),this.buildRendering();var e\x3dthis._replaceSourceNode();this.postCreate(),e\x26\x26delete this.srcNodeRef,this._created\x3d!0}},{key:"buildRendering",value:function(){this.domNode||(this.domNode\x3dthis.srcNodeRef||window.document.createElement("div")),this.baseClass\x26\x26fn(this.domNode,this.baseClass.split(" "))}},{key:"_replaceSourceNode",value:function(){if(this.domNode){var t\x3dthis.srcNodeRef;if(t\x26\x26t.parentNode\x26\x26this.domNode!\x3d\x3dt)return t.parentNode.replaceChild(this.domNode,t),!0}return!1}},{key:"postCreate",value:function(){this.domNode.setAttribute("assessmentsComponentId",this.id)}},{key:"startup",value:function(){this._started||(this._started\x3d!0)}},{key:"destroy",value:function(t){function e(e){e.destroyRecursive?e.destroyRecursive(t):e.destroy\x26\x26e.destroy(t)}o(r(s.prototype),"destroy",this).call(this,arguments),this._beingDestroyed\x3d!0,this.domNode\x26\x26un(Dn(this.domNode),e),this.destroyRendering(t),An(this.id),this._destroyed\x3d!0}},{key:"destroyRendering",value:function(t){this.domNode\x26\x26(t?Ni.remove(this.domNode,"assessmentsComponentId"):zi.destroy(this.domNode),delete this.domNode),this.srcNodeRef\x26\x26(t||zi.destroy(this.srcNodeRef),delete this.srcNodeRef)}},{key:"defer",value:function(t,e){var i\x3dthis,n\x3dsetTimeout((function(){n\x26\x26(n\x3dnull,i._destroyed||on(i,t)())}),e||0);return{clear:function(){n\x26\x26clearTimeout(n),n\x3dnull}}}}]),s}(vs));function qs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var ks\x3dfunction(t){a(s,t);var i\x3dqs(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._eqDoc\x3dnew hs,n._eqDoc.interpretFunctions\x3d!0,n._eqDoc.parentObject\x3du(n),t\x26\x26t.docSettings\x26\x26sn(n._eqDoc,t.docSettings),n._eqDoc.supportGravityConstant\x26\x26n._eqDoc.addFunction("g"),n._eqDoc.convertLScript\x26\x26n._eqDoc.addFunction("l"),n._eqDoc.supportAsinAcosAtan\x26\x26(n._eqDoc.addFunction("asin"),n._eqDoc.addFunction("acos"),n._eqDoc.addFunction("atan")),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._eqDoc\x3dnull}}]),s}(Rs),Ns\x3dfunction(){function t(i){e(this,t),this._str\x3di}return n(t,[{key:"getStartDelimiter",value:function(){return this._str.charAt(0)}},{key:"getEndDelimiter",value:function(){return this._str.charAt(1)}}]),t}();Ns.getCurly\x3dfunction(){return new Ns("{}")},Ns.getSquare\x3dfunction(){return new Ns("[]")},Ns.getPipe\x3dfunction(){return new Ns("||")};var Ts\x3dfunction(){function t(i,n){e(this,t),this._eqDoc\x3di,this._text\x3dn,this._position\x3d0,this._textLength\x3d0,this.eqCursorMarker\x3dnull,this.isValidCharCode\x3dnull,this.eqEditor\x3dnull}return n(t,[{key:"parse",value:function(){this._position\x3d0,this._textLength\x3dthis._text.length;var t\x3d[],e\x3dnew Qr;this._eqDoc.addChildAt(e,0);try{for(;this._position\x3cthis._textLength;)this.parseRow(e);for(;e.getNumChildren()\x3e0;){var i\x3de.removeChildAt(0);t.push(i)}}finally{this._eqDoc.removeChild(e)}return t}},{key:"parseGroup",value:function(t){var e\x3dNs.getCurly();this.parseRow(t,e),this.expect(e.getEndDelimiter())}},{key:"parseParameter",value:function(t){var e\x3dNs.getSquare();this.parseRow(t,e),this.expect(e.getEndDelimiter())}},{key:"parseRow",value:function(t,e,i,n){e\x26\x26this.expect(e.getStartDelimiter());for(var r\x3d!1;this._position\x3cthis._textLength;){this.skipWhiteSpace();var o\x3dthis._text.charAt(this._position);if(r){if(e\x26\x26o\x3d\x3de.getEndDelimiter())return;throw"".concat(e.getEndDelimiter(),"expected at position ").concat(this._position)}if("\\\\"\x3d\x3do||"^"\x3d\x3do||"_"\x3d\x3do){if((r\x3dthis.parseLatexName(t,i,n))\x26\x26!e)return}else if("{"\x3d\x3do)this.parseGroup(t);else{if(e\x26\x26o\x3d\x3de.getEndDelimiter()){if(i)throw"Unexpected ".concat(e.getEndDelimiter(),"at position ").concat(this._position.toString());return}if("%"\x3d\x3do\x26\x26"%cursor%"\x3d\x3dthis._text.substr(this._position,8))this._position+\x3d8,this.eqCursorMarker?this.eqCursorMarker.parent.removeChild(this.eqCursorMarker):this.eqCursorMarker\x3dnew $n,t.addChild(this.eqCursorMarker);else if("%"\x3d\x3do\x26\x26"%secondary%"\x3d\x3dthis._text.substr(this._position,11))this._position+\x3d11;else if("%"\x3d\x3do\x26\x26"%dummy%"\x3d\x3dthis._text.substr(this._position,7))this._position+\x3d7,t.addChild(new co);else{var s\x3dnull;this.isValidChar(o)\x26\x26(s\x3dthis._eqDoc.createNode(o)),s\x26\x26t.addChild(s),this._position++}}}}},{key:"expect",value:function(t){if(!(this._position\x3cthis._textLength))throw"expected ".concat(t," but reached end of text");if(this._text.charAt(this._position)!\x3dt)throw"expected ".concat(t," at position ").concat(this._position);this._position++}},{key:"parseEntity",value:function(t){var e\x3dthis._text.indexOf(";",this._position+1);if(e\x3c0)throw"expected a semicolon after \x26";var i\x3dthis._text.substring(this._position+1,e),n\x3dPr.getLatexSymbolInfo(i);if(!n)throw"entity \x26".concat(i,"; is not a valid entity");var r\x3dnew Pr({name:n.name});t.addChild(r),this._position+\x3di.length+2}},{key:"isLatexChar",value:function(t){return t\x3e\x3d"a"\x26\x26t\x3c\x3d"z"||t\x3e\x3d"A"\x26\x26t\x3c\x3d"Z"}},{key:"parseLatexName",value:function(t,e,i){if("\\\\"!\x3dthis._text.charAt(this._position)){var n\x3dthis._text.charAt(this._position);return this._position++,this.parseComposite(t,n),!1}if(this._position++,"%"\x3d\x3dthis._text.charAt(this._position))return this._position++,t.addChild(new rr("%")),!1;for(var r\x3dthis._position;this.isLatexChar(this._text.charAt(this._position))\x26\x26this._position\x3cthis._text.length;)this._position++;if(!(this._position\x3er))throw"Nothing after backslash at position ".concat(this._position-1);var o\x3dthis._text.substring(r,this._position);if(o\x3d\x3de\x26\x26(this.skipWhiteSpace(),this._text.charAt(this._position)\x3d\x3di))return!0;if(sr.isEqOpLatex("\\\\".concat(o))){var s\x3dsr.getEqOpLatex("\\\\".concat(o));t.addChild(s)}else{var a\x3d$o.getLatexSymbolInfo(o);if(a){var c\x3dnew $o({name:a});t.addChild(c)}else{var u\x3dPr.getLatexSymbolInfo(o);if(u){var l\x3dnew Pr({name:u});t.addChild(l)}else{if(t.getEqDocument().getFunctionList().indexOf(o)\x3e\x3d0){var h\x3dnew rr(o,rr.EqTextType.FUNCTION);t.addChild(h)}else this.parseComposite(t,o)}}}return!1}},{key:"parseLeft",value:function(t){if(this._position\x3e\x3dthis._text.length)throw"End of buffer encountered looking for left paren type";var e\x3dthis._text.charAt(this._position);if(this._position++,"\\\\"\x3d\x3de){if(e\x3dthis._text.charAt(this._position),this._position\x3e\x3dthis._text.length)throw"End of buffer encountered looking for left paren type";this._position++}if(this._eqDoc.parseLatexPipesAsABS\x26\x26"|"\x3d\x3de){var i\x3dnew Ro;return t.addChild(i),this.parseRow(i.getEqRow(0),null,"right","|"),this.skipWhiteSpace(),void this.expect("|")}if("("!\x3de\x26\x26"["!\x3de\x26\x26"|"!\x3de\x26\x26"{"!\x3de)throw"Unsupported left character: ".concat(e);t.addChild(new dr(e,dr.EqParenType.OPEN))}},{key:"parseRight",value:function(t){if(this._position\x3e\x3dthis._text.length)throw"End of buffer encountered looking for right paren type";var e\x3dthis._text.charAt(this._position);if(this._position++,"\\\\"\x3d\x3de){if(e\x3dthis._text.charAt(this._position),this._position\x3e\x3dthis._text.length)throw"End of buffer encountered looking for left paren type";this._position++}if(this._eqDoc.parseLatexPipesAsABS\x26\x26"|"\x3d\x3de)throw"Unexpected closing | at position ".concat(this._position.toString());if(")"!\x3de\x26\x26"]"!\x3de\x26\x26"|"!\x3de\x26\x26"}"!\x3de)throw"Unsupported right character: ".concat(e);t.addChild(new dr(e,dr.EqParenType.CLOSE))}},{key:"isWhiteSpace",value:function(t){return" "\x3d\x3dt||"\\n"\x3d\x3dt||"\\r"\x3d\x3dt||"\\t"\x3d\x3dt}},{key:"skipWhiteSpace",value:function(){for(;this._position\x3cthis._text.length\x26\x26this.isWhiteSpace(this._text.charAt(this._position));)this._position++}},{key:"isGroupFollowedByGroup",value:function(t){var e\x3dthis._position,i\x3d!1,n\x3d0,r\x3d0;if("{"!\x3dthis._text.charAt(e))return!1;for(var o\x3d!0;e\x3cthis._textLength;){var s\x3dthis._text.charAt(e);if("{"\x3d\x3ds)n++;else if("}"\x3d\x3ds){if(--n\x3c0)return!1;if(0\x3d\x3dn){if(0!\x3dr)return!1;r++}}else if(!o){if(s!\x3dt)return!1;i\x3d!0}if(o\x3dn\x3e0,0\x3d\x3dn\x26\x26i)return!0;e++}return!1}},{key:"parseComposite",value:function(t,e){var i,n,r\x3dnull,o\x3d0;this.skipWhiteSpace(),n\x3dthis._position\x3cthis._text.length\x26\x26"["\x3d\x3dthis._text.charAt(this._position);var s\x3d!1;if("sqrt"\x3d\x3de)r\x3dnew so(1),n\x26\x26(t.addChild(r),s\x3d!0,r.addChild(new Qr),this.parseParameter(r.getEqRow(1))),o\x3d1;else if("frac"\x3d\x3de||"dfrac"\x3d\x3de)r\x3dnew io,o\x3d2;else if("hat"\x3d\x3de)r\x3dnew Co($r.HAT),o\x3d1;else if("vec"\x3d\x3de)r\x3dnew Co($r.RAYR),o\x3d1;else if("evec"\x3d\x3de)r\x3dnew Co($r.EVEC),o\x3d1;else if("bar"\x3d\x3de)r\x3dnew Co($r.OVERBAR),o\x3d1;else if("conj"\x3d\x3de)r\x3dnew Ho,o\x3d1;else if("cis"\x3d\x3de)r\x3dnew Go,o\x3d1;else{if("^"\x3d\x3de){if(r\x3dnew Jr,t.addChild(r),this.parseScriptExpression(r.getEqRow(0)),this.skipWhiteSpace(),"_"\x3d\x3d(i\x3dthis.currentChar())){this._position++,t.removeChild(r);var a\x3dnew Ko;return t.addChild(a),a.removeChildAt(1),a.removeChildAt(0),a.addChild(r.getEqRow(0)),a.addChild(new Qr),void this.parseScriptExpression(a.getEqRow(1))}return}if("_"\x3d\x3de)return r\x3dnew to,t.addChild(r),this.parseScriptExpression(r.getEqRow(0)),this.skipWhiteSpace(),"^"\x3d\x3d(i\x3dthis.currentChar())?(this._position++,t.removeChild(r),t.addChild(a\x3dnew Ko),a.removeChildAt(1),a.addChild(r.getEqRow(0)),void this.parseScriptExpression(a.getEqRow(0))):void 0;if("iprosupsub"\x3d\x3de)r\x3dnew Gr,o\x3d3;else{if("cal"\x3d\x3de){if(this.skipWhiteSpace(),this.expect("{"),this.skipWhiteSpace(),i\x3dthis._text.charAt(this._position),this._position++,this.skipWhiteSpace(),this.expect("}"),"E"!\x3di)throw"\'E\' expected after \'/cal{\' at position ".concat(this._position);return void t.addChild(new Pr({name:"cale"}))}if("ipro"!\x3de.substr(0,4)){if("left"\x3d\x3de.substr(0,4))return void this.parseLeft(t);if("right"\x3d\x3de.substr(0,5))return void this.parseRight(t);if("backslash"\x3d\x3de)return void t.addChild(new rr("\\\\"));if("pm"\x3d\x3de)return void t.addChild(new sr("\x26plusminus;"));if("rm"\x3d\x3de)return;throw"Unhandled latex command: ".concat(e)}r\x3dnew Hr(e.substring(4,e.length)),o\x3d1}}if(!r)throw"Unknown name following \'\' at position ".concat(this._position);s||t.addChild(r);for(var c\x3d0;c\x3co;c++)this.skipWhiteSpace(),this.parseGroup(r.getEqRow(c));if(r.isEqConj()){var u\x3dr.getEqRow(0);if(u.getNumChildren()\x3e\x3d3){var l\x3du.getChild(0),h\x3du.getChild(u.getNumChildren()-1);l\x26\x26h\x26\x26"("\x3d\x3dl.getParenChar()\x26\x26")"\x3d\x3dh.getParenChar()\x26\x26(u.removeChild(l),u.removeChild(h))}}}},{key:"currentChar",value:function(){return this._text.charAt(this._position)}},{key:"parseScriptExpression",value:function(t){this.skipWhiteSpace();var e\x3dthis._text.charAt(this._position);if("{"\x3d\x3de)this.parseGroup(t);else{if("}"\x3d\x3de||"^"\x3d\x3de)throw"latex expression or character expected after \'_\' or \'^\' at position ".concat(this._position);"\\\\"\x3d\x3de?this.parseLatexName(t):(t.addChild(new rr(e)),this._position++)}}},{key:"isValidChar",value:function(t){return null\x3d\x3dthis.isValidCharCode||(this.eqEditor?this.isValidCharCode.apply(this.eqEditor,[t.charCodeAt(0)]):this.isValidCharCode(t.charCodeAt(0)))}}]),t}();function Ss(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ls\x3dfunction(t){a(s,t);var i\x3dSs(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._eqCaret\x3dnew ds,n._eqDoc.setShortcuts(hs.DefaultShortcuts),t\x26\x26sn(u(n),t),t.docSettings\x26\x26sn(n._eqDoc,t.docSettings),n._eqDoc.diffEqMode\x26\x26n._eqDoc.setShortcuts(hs.PrimeShortcuts,!0),t.accessible\x26\x26n.setAccessible(t.accessible),n.setCurrentRow(n._eqDoc),n.readOnly\x26\x26(n._eqDoc.disabled\x3d!0,n.disabled\x3d!0),n._undo\x3dnew gs(u(n)),n.initializationParameters\x3dt,n._eqDoc.printing\x26\x26(n.readOnly\x3d!0),n.initialize(t),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this._position\x3d0,this.declaredType\x3d"EqEditor",this.baseClass\x3d"equation eqEditor",this._eqDoc\x3dnull,this.isLayoutContainer\x3d!0,this._undo\x3dnull,this._eqCaret\x3dnull,this._caretPosition\x3d0,this._oldCaretPosition\x3d0,this.readOnly\x3d!1,this._moveEvents\x3dnull,this._accessible\x3d!1,this.autoLowerCaseChars\x3dnull,this.smartSlash\x3d!0,this.allowSingleFraction\x3d!1,this.allowedMaxCharCode\x3d255,this.smartSlashNumbersOnly\x3d!1,this.ignoreSpace\x3d!1,this.ignoreTab\x3d!1,this.keepSelection\x3d!1,this.processCtrlShortcuts\x3d!0,this.processRelationalShortcuts\x3d!1,this.extendClick\x3d!1,this.wordShortcuts\x3d!1,this.allowSuperscriptShortcuts\x3d!0,this.allowSubscriptShortcuts\x3d!0,this.allowNestingEmptyScripts\x3d!0,this.pipeKeyIsAbs\x3d!1,this.restrictChars\x3dnull,this.seamlessTabbing\x3d!1,this.filterEqText\x3d!1,this._hasEqTextProp\x3d!1,this.showBorder\x3d!1,this.useVirtualClipboard\x3d!1,this.bindKeyEvents\x3d!0,this._keyboardHandler\x3dnull,this._isMouseDown\x3d!1,this._isMoving\x3d!1,this._accLabel\x3dnull,this._accLabelNeedsParsing\x3d!1,this._accessibleLabel\x3dnull,this._accLabelWidgets\x3dnull,this.initializationParameters\x3dnull,this.blacklistedCharCodes\x3dnull,this._focusTextArea\x3d!1,this._parentTable\x3dnull,this.enableEqAccessibleAnnouncer\x3d!0,this.insertLabel\x3d"Inserted"}},{key:"isEqEditor",value:function(){return!0}},{key:"isEqMat",value:function(){return!1}},{key:"createMatrix",value:function(t,e){return new To(t,e)}},{key:"destroy",value:function(){o(r(s.prototype),"destroy",this).apply(this,arguments),this._tearDownMove(),this._accLabel\x26\x26(zi.destroy(this._accLabel),this._accLabel\x3dnull),un(this._accLabelWidgets,(function(t){t.destroyRecursive()}))}},{key:"resize",value:function(){this.validate()}},{key:"reLayout",value:function(){this._eqDoc.reLayout()}},{key:"startup",value:function(){if(!this._started){o(r(s.prototype),"startup",this).apply(this,arguments);var t\x3dthis.getParent\x26\x26this.getParent();t\x26\x26t.isLayoutContainer||this.resize()}}},{key:"getCurrentRow",value:function(){return this._eqDoc.getCurrentRow()}},{key:"setCurrentRow",value:function(t,e){if(this.enableEqAccessibleAnnouncer\x26\x26!Li("ie")){var i\x3dtr.getNearestAnnouncementAncestor(this.getCurrentRow()),n\x3dtr.getNearestAnnouncementAncestor(t);i\x26\x26i!\x3d\x3dn?(!i.isAncestorOf(n)\x26\x26this.focused\x26\x26this._eqDoc.getEqAccessibleAnnouncer().announceOutro(i),this._eqDoc.getEqAccessibleAnnouncer().setAnnouncementAnscestor(i)):e\x26\x26this._eqDoc.getEqAccessibleAnnouncer().setAnnouncementAnscestor(n)}this._eqDoc.setCurrentRow(t)}},{key:"getEqDoc",value:function(){return this._eqDoc}},{key:"isCaretAtBeginning",value:function(){return null!\x3dthis.getCurrentRow()\x26\x26this.getCurrentRow()\x3d\x3dthis.getEqDoc()\x26\x260\x3d\x3dthis._caretPosition}},{key:"isCaretAtEnd",value:function(){return null!\x3dthis.getCurrentRow()\x26\x26this.getCurrentRow()\x3d\x3dthis.getEqDoc()\x26\x26this._caretPosition\x3d\x3dthis.getCurrentRow().getLastCaretPosition()}},{key:"buildRendering",value:function(){this.domNode\x3dzi.create("span"),o(r(s.prototype),"buildRendering",this).apply(this,arguments),this.keyboardHandlerParams||(this.keyboardHandlerParams\x3d{}),this.keyboardHandlerParams.host\x3dthis,this._keyboardHandler\x3dnew xs(this.keyboardHandlerParams),this.focusNode\x3dthis._keyboardHandler.focusNode}},{key:"postCreate",value:function(){o(r(s.prototype),"postCreate",this).apply(this,arguments),this._eqDoc.attach(this.domNode,this.dontLayout);var t\x3dLi("android")||Li("touch")?"touchstart":"mousedown";if(navigator.pointerEnabled\x26\x26(t\x3d"pointerdown"),this.bindKeyEvents\x26\x26this.own(nn(this.domNode,"keydown",on(this,this._onKeyDown)),nn(this.domNode,"keyup",on(this,this._onKeyUp)),nn(this.domNode,"keypress",on(this,this._onKeyPress))),this.own(nn(this.domNode,t,on(this,this._onMouseDown)),nn(this.domNode,"contextmenu",on(this,this._onContextMenu)),nn(this._keyboardHandler,"characterInput",on(this,this._onCharacterInput)),nn(this._keyboardHandler,"pasteEqText",on(this,this._onPasteEqText)),nn(this._eqDoc,"newCurrentRow",on(this,this._newCurrentRow))),this._accLabel\x3dzi.create("span",{class:"eqAccessibleLabel"}),zi.place(this._accLabel,this.domNode,"last"),this.enableEqAccessibleAnnouncer){this._accAnnouncer\x3dzi.create("div",{class:this.announcerClass,"aria-live":"polite","aria-atomic":"true"});var e\x3ddocument\x26\x26document.body;zi.place(this._accAnnouncer,e,"last"),this._eqDoc.createEqAccessibleAnnouncer(this._accAnnouncer)}if(!this._hasEqTextProp\x26\x26this.srcNodeRef){var i\x3dthis.srcNodeRef.textContent.trim();i\x26\x26this.setEqText(i)}}},{key:"onMove",value:function(){}},{key:"_findEqPart",value:function(t){for(var e\x3dt.target;e;){if(e._eqPart)return e._eqPart;e\x3de.parentNode}return null}},{key:"_getCaretPosFromMouseEvent",value:function(t){var e,i\x3dthis._findEqPart(t);if(i){if(i.isEqRow()){var n\x3dEn.position(i.getDomNode());return e\x3di.getCaretPositionAt(t.pageX-n.x,t.pageY-n.y),{row:i,pos:e}}var r\x3di.parentRow();if(r\x26\x26(e\x3dr.getCaretPositionFromPart(i,t))\x3e\x3d0)return{row:r,pos:e}}return null}},{key:"_onMouseUp",value:function(){this._isMouseDown\x3d!1,this._tearDownMove(),this.emit("eqeditor_mouseup",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}},{key:"_onMouseMove",value:function(t){if(!this.getDisabled()){this._isMoving\x3d!0;var e\x3dthis.getCurrentRow(),i\x3dEn.position(e.getDomNode()),n\x3de.getCaretPositionAt(t.pageX-i.x,t.pageY-i.y);n\x3e\x3d0\x26\x26(this._caretPosition\x3dn,this.updateCaret()),t.preventDefault()}}},{key:"_onMouseDown",value:function(t){if(this._isMouseDown\x3d!0,!(t.button\x26\x260!\x3dt.button||(this._tearDownMove(),this.getDisabled())))if(t.shiftKey)this._onMouseMove(t);else{var e;if(this.defer(this.focus),t.target\x3d\x3dthis.domNode){var i\x3dEn.position(this.domNode),n\x3d(2*i.x+i.w)/2;e\x3dt.clientX\x3cn?{row:this._eqDoc,pos:0}:{row:this._eqDoc,pos:this._eqDoc.getLastCaretPosition()}}else e\x3dthis._getCaretPosFromMouseEvent(t);e\x26\x26(this._setupMove(t),this.setCurrentRow(e.row),this._caretPosition\x3de.pos,this._oldCaretPosition\x3de.pos,this.updateCaret(null,!0)),this.emit("eqeditor_mousedown",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}}},{key:"_setupMove",value:function(t){var e\x3dt.currentTarget.ownerDocument,i\x3d"mousemove",n\x3d"mouseup";"touchstart"\x3d\x3dt.type?(i\x3d"touchmove",n\x3d"touchend"):"pointerdown"\x3d\x3dt.type\x26\x26(i\x3d"pointermove",n\x3d"pointerup"),this._moveEvents\x3d[nn(e,i,on(this,this._onMouseMove)),nn(e,n,on(this,this._onMouseUp)),nn(e,"dragstart",on(this,this._onDragStart)),nn(e.body,"selectstart",on(this,this._onSelectStart))],"mousedown"\x3d\x3dt.type\x26\x26t.preventDefault()}},{key:"_onDragStart",value:function(t){t.preventDefault()}},{key:"_onSelectStart",value:function(t){t.preventDefault()}},{key:"_tearDownMove",value:function(){this._moveEvents\x26\x26(un(this._moveEvents,(function(t){t.clear()})),this._moveEvents\x3dnull)}},{key:"isValidCharCode",value:function(t){return!(this.blacklistedCharCodes\x26\x26cn(this.blacklistedCharCodes,t)\x3e-1)\x26\x26(t\x3e32\x26\x26t\x3c\x3dthis.allowedMaxCharCode||32\x3d\x3dt\x26\x26!this.ignoreSpace)}},{key:"_isValidChar",value:function(t){var e\x3dt.charCodeAt(0);return this.restrictChars?this.restrictChars.indexOf(t)\x3e\x3d0:this.isValidCharCode(e)}},{key:"inputCharacter",value:function(t){return!this.readOnly\x26\x26!this.getDisabled()\x26\x26("\\b"\x3d\x3d\x3dt?(this.extractSelectionEqText(!1),this.doLayout(),this.updateCaret(),!0):"delete"\x3d\x3d\x3dt?(this.deleteChar(!0),!0):"\u00b2"\x3d\x3d\x3dt||"\u00b3"\x3d\x3d\x3dt?!(!this.allowSuperscriptShortcuts||this.getAccessible())\x26\x26(this.insertEqText("^{".concat("\u00b2"\x3d\x3d\x3dt?"2":"3","}")),!0):"^"\x3d\x3d\x3dt\x26\x26this.allowSuperscriptShortcuts\x26\x26!this.getAccessible()?(this.insertSuperScript(),this.scrollIntoView(),!0):"_"\x3d\x3d\x3dt\x26\x26this.allowSubscriptShortcuts\x26\x26!this.getAccessible()?(this.insertSubScript(),this.scrollIntoView(),!0):!!this._isValidChar(t)\x26\x26(this.insertCharacter(t),this.scrollIntoView(),!0))}},{key:"_onCharacterInput",value:function(t){this.inputCharacter(t.inputChar)}},{key:"_onPasteEqText",value:function(t){var e\x3dt.eqText.replaceAll("\u00b2","^{2}").replaceAll("\u00b3","^{3}");this.insertEqText(e)}},{key:"_prepareForCopy",value:function(){var t\x3dthis.extractSelectionEqText(!0);this._keyboardHandler.selectText(t)}},{key:"_onKeyDown",value:function(t){if(!this.getDisabled()\x26\x26!this.readOnly){this.inputEntered\x26\x26t.keyCode\x3d\x3d\x3dQi\x26\x26(t.stopPropagation(),t.preventDefault(),this.inputEntered());var e\x3d!1,i\x3djn.NONE;if(!t.ctrlKey\x26\x26!t.metaKey||t.altKey)try{switch(t.keyCode){case Zi:i\x3djn.RIGHT;break;case Ji:i\x3djn.LEFT;break;case $i:t.shiftKey\x26\x26this.allowSuperscriptShortcuts?this.insertSuperScript():i\x3djn.UP;break;case tn:t.shiftKey\x26\x26this.allowSubscriptShortcuts?this.insertSubScript():i\x3djn.DOWN;break;case Ki:i\x3djn.HOME;break;case Yi:i\x3djn.END;break;case en:e\x3d!0,this.deleteChar(!1);break;case Gi:t.stopImmediatePropagation(),e\x3d!0,this.deleteChar(!0);break;case Xi:this.ignoreTab||this.getAccessible()||(t.shiftKey\x26\x26!this.isCaretAtBeginning()?i\x3djn.TABBACK:t.shiftKey||this.isCaretAtEnd()||this.isEmpty()||(i\x3djn.TABFORWARD))}if(i!\x3d\x3djn.NONE)e\x3d!0,this.moveCaret(i,t.shiftKey,t.keyCode\x3d\x3d\x3dXi).row\x26\x26xn(t)}finally{e\x26\x26t.preventDefault()}else{if(67\x3d\x3d\x3dt.keyCode||86\x3d\x3d\x3dt.keyCode||88\x3d\x3d\x3dt.keyCode){if(this.useVirtualClipboard){switch(t.keyCode){case 67:_s.copy(this);break;case 86:this._undo.save(),_s.paste(this);break;case 88:this._undo.save(),_s.cut(this)}xn(t)}else this._prepareForCopy(),88!\x3d\x3dt.keyCode\x26\x2686!\x3d\x3dt.keyCode||this._undo.save();return}if(89\x3d\x3d\x3dt.keyCode||90\x3d\x3d\x3dt.keyCode)return void xn(t);if(65\x3d\x3d\x3dt.keyCode)return this.selectAll(),void xn(t);var n\x3dString.fromCharCode(t.keyCode);this.wordShortcuts\x26\x26this.allowSubscriptShortcuts\x26\x26"\x3d"\x3d\x3d\x3dn\x26\x26!t.shiftKey?(this.insertSubScript(),e\x3d!0,xn(t)):this.wordShortcuts\x26\x26this.allowSuperscriptShortcuts\x26\x26("\x3d"\x3d\x3d\x3dn\x26\x26t.shiftKey||"+"\x3d\x3d\x3dn)?(this.insertSuperScript(),e\x3d!0,xn(t)):"4"\x3d\x3d\x3dn\x26\x26(this.insertCharacter(this.getEqDoc().currencyChar),xn(t))}}}},{key:"moveCaret",value:function(t,e,i){var n\x3dnew ps(t,this.getCurrentRow(),this._oldCaretPosition,this._caretPosition);return e\x26\x26!i\x26\x26(n.extendSelection\x3d!0),this.getCurrentRow().moveCaret(n),n.row\x26\x26(n.extendSelection?this._oldCaretPosition\x3dn.positionStart:this._oldCaretPosition\x3dn.position,this.setCurrentRow(n.row),this._caretPosition\x3dn.position,this.updateCaret(n),n.moveRight?this.emit(Mr.EqEditorEvent.MOVE,{direction:Mr.MoveDirection.MOVE_RIGHT}):n.moveLeft\x26\x26this.emit(Mr.EqEditorEvent.MOVE,{direction:Mr.MoveDirection.MOVE_LEFT})),n}},{key:"insertSuperScript",value:function(){if(this.getCurrentRow().isEmpty()\x26\x26this.getCurrentRow().parent){if(this.getCurrentRow().parent.isEqSuperscript())return;if(!this.allowNestingEmptyScripts\x26\x26this.getCurrentRow().parent.isEqSubscript())return}var t\x3dnew Jr;this.insertEq([t])}},{key:"insertSubScript",value:function(){if(this.getCurrentRow().isEmpty()\x26\x26this.getCurrentRow().parent){if(this.getCurrentRow().parent.isEqSubscript())return;if(!this.allowNestingEmptyScripts\x26\x26this.getCurrentRow().parent.isEqSuperscript())return}this.insertEq([new to])}},{key:"doLayout",value:function(){if(this._eqDoc\x26\x26this._started\x26\x26(this._eqDoc.doLayout(),this._accLabel)){var t\x3dthis._accessibleLabel;t||(t\x3d0\x3d\x3d\x3dthis._eqDoc.getNumChildren()?"enter your response here":this._eqDoc.getAccessibleName()),Ni.set(this.domNode,"aria-label",t),Fn(this._accLabel,t)}}},{key:"deleteChar",value:function(t){var e\x3dnull,i\x3dthis._caretPosition,n\x3dthis.isMultiSelect();i\x3e\x3d0\x26\x26(t\x26\x26(n||(i--,this._oldCaretPosition\x3di)),e\x3dnew ps(jn.NONE,this.getCurrentRow(),this._oldCaretPosition,i)),e\x26\x26(this._changed\x3d!0,this._undo.save(),this.getCurrentRow().deleteCharacter(e),e.row\x26\x26(this.setCurrentRow(e.row),this.doLayout(),e.extendSelection?(this._oldCaretPosition\x3dMath.max(e.positionStart,0),this._caretPosition\x3dMath.max(e.position,0),this.updateCaret()):(this._caretPosition\x3dn?Math.max(e.positionStart,0):Math.max(e.position,0),this.resetMultiSelect())),this.scrollIntoView())}},{key:"doUndoSave",value:function(t){"\\\\"\x3d\x3dt||tr.isOperator(t)||tr.isParen(t)?this._undo.save():this._undo.save(ms.InsertingText)}},{key:"setCaretRight",value:function(){if(this.isMultiSelect()\x26\x26this._caretPosition\x3cthis._oldCaretPosition){var t\x3dthis._oldCaretPosition;this._oldCaretPosition\x3dthis._caretPosition,this._caretPosition\x3dt}}},{key:"setCaretHome",value:function(){this.currentRow\x3dthis._eqDoc,this._caretPosition\x3d0,this.resetMultiSelect()}},{key:"setCaretEnd",value:function(){this.currentRow\x3dthis._eqDoc,this._caretPosition\x3dthis.currentRow.getLastCaretPosition(),this.resetMultiSelect()}},{key:"setCaretPosition",value:function(t,e,i){this.currentRow\x3dt,this._caretPosition\x3de,i\x26\x26(this._oldCaretPosition\x3de),this.focused\x3d!0}},{key:"isCapturedEq",value:function(t){return t.isEqSymbol()\x26\x26!t.isOperator()||t.isEqText()\x26\x26!t.isSeparator()}},{key:"insertCharacter",value:function(t){var e,i,n,r;this._changed\x3d!0;var o\x3dthis.getCurrentRow();if(!o.domNode.contains(this.domNode)){if(this.autoLowerCaseChars\x26\x26this.autoLowerCaseChars.indexOf(t)\x3e\x3d0\x26\x26(t\x3dt.toLowerCase()),this.doUndoSave(t),this.processRelationalShortcuts\x26\x26!this.isMultiSelect()\x26\x26!this.getAccessible()\x26\x26(i\x3do.getFocusElementIndex(this._caretPosition))\x3e\x3d0){if(i\x3e0\x26\x26this._caretPosition\x3e0\x26\x26this._caretPosition\x3co.getLastCaretPosition()\x26\x26i--,(n\x3do.getChild(i)).isEqOp()\x26\x26n.getOpType()\x3d\x3dsr.OpTypes.LT\x26\x26"\x3d"\x3d\x3dt)return this._oldCaretPosition\x3dthis._caretPosition-1,void this.insertEq([new sr(sr.OpTypes.LE)]);if(n.isEqOp()\x26\x26n.getOpType()\x3d\x3dsr.OpTypes.GT\x26\x26"\x3d"\x3d\x3dt)return this._oldCaretPosition\x3dthis._caretPosition-1,void this.insertEq([new sr(sr.OpTypes.GE)]);if(n.isEqOp()\x26\x26n.getOpType()\x3d\x3dsr.OpTypes.LT\x26\x26"\x3e"\x3d\x3dt)return this._oldCaretPosition\x3dthis._caretPosition-1,void this.insertEq([new sr(sr.OpTypes.NE)])}if(this.pipeKeyIsAbs\x26\x26"|"\x3d\x3dt)this.insertAbs();else if(!this.smartSlash||this.getAccessible()||"/"!\x3dt){if(this.isMultiSelect()){if(this.getEqDoc().useTemplateFunctions\x26\x26(tr.isOpenParen(t)||"|"\x3d\x3dt)){var s\x3dnew Hr("",t,dr.getMatchingCloseParenChar(t));return void this.insertEq([s])}this.deleteChar(!1)}var a\x3dnew fs(t,o,this._caretPosition);if(o.insertCharacter(a),!a.ignore){this.doLayout();var c\x3dthis._eqDoc.getEqCursorMarker();c?(o\x3dc.getFocusRow(),this._caretPosition\x3do.getFocusPosition(o.getChildIndex(c)),this.getEqDoc().clearEqCursorMarker(),this.doLayout()):(o\x3da.row,this._caretPosition\x3da.position),this.setCurrentRow(o),this.resetMultiSelect()}}else{if(this.allowSingleFraction\x26\x26this.getEqDoc().hasNodeClass(io))return;if(!this.isMultiSelect())if(this.setCaretRight(),this.smartSlashNumbersOnly)i\x3do.getFocusElementIndex(this._caretPosition),this._caretPosition\x3e0\x26\x26this._caretPosition\x3co.getLastCaretPosition()\x26\x26i--,i\x3e\x3d0\x26\x26(n\x3do.getChild(i)).isEqText()\x26\x26n.isNumber()\x26\x26(r\x3do.getFocusPosition(i),this._oldCaretPosition\x3dr);else if(i\x3do.getFocusElementIndex(this._caretPosition),this._caretPosition\x3e0\x26\x26this._caretPosition\x3co.getLastCaretPosition()\x26\x26i--,i\x3e\x3d0)if((n\x3do.getChild(i)).isEqOp());else{for(;(n.isEqSubscript()||n.isEqSuperscript())\x26\x26i\x3e0;)i--,n\x3do.getChild(i);for(n.isEqParen()\x26\x26n.getMatchedParen()\x26\x26((e\x3do.getChildIndex(n.getMatchedParen()))\x3c\x3di?i\x3de:i++),i\x3e\x3d1\x26\x26(n\x3do.getChild(i-1)).isEqText()\x26\x26n.isFunction()\x26\x26i--;i\x3e0\x26\x26this.isCapturedEq(o.getChild(i))\x26\x26this.isCapturedEq(o.getChild(i-1));)i--;r\x3do.getFocusPosition(i),this._oldCaretPosition\x3dr}this.insertEq([new io])}}}},{key:"insertAbs",value:function(t){t||(t\x3d1);var e\x3dnew Ro(t);this.insertEq([e])}},{key:"resetMultiSelect",value:function(){this._oldCaretPosition\x3dthis._caretPosition,this.updateCaret()}},{key:"deselect",value:function(){this._caretPosition\x3dMath.min(this._caretPosition,this._oldCaretPosition),this.resetMultiSelect()}},{key:"isMultiSelect",value:function(){return this._caretPosition!\x3dthis._oldCaretPosition}},{key:"selectAll",value:function(){this.setCurrentRow(this._eqDoc),this._oldCaretPosition\x3d0,this._caretPosition\x3dthis._eqDoc.getLastCaretPosition(),this.updateCaret()}},{key:"updateCaret",value:function(t,e){if(this._eqCaret){var i\x3dthis._eqCaret.moveCursor(this.getCurrentRow(),this._caretPosition);this.updateSelection(),this.doChange(),this.enableEqAccessibleAnnouncer\x26\x26this.focused\x26\x26!Li("ie")\x26\x26this._eqDoc.getEqAccessibleAnnouncer().process(i,t,e,this.isCaretAtBeginning(),this.isCaretAtEnd(),this._changed),this._changed\x3d!1,this.updateCaretCallback\x26\x26this.updateCaretCallback()}}},{key:"updateSelection",value:function(){var t\x3dthis.getCurrentRow();this.isMultiSelect()?t.updateSelection(this._oldCaretPosition,this._caretPosition):t.resetSelection()}},{key:"undo",value:function(){this._undo.undo(),this.scrollIntoView()}},{key:"redo",value:function(){this._undo.redo(),this.scrollIntoView()}},{key:"_onKeyUp",value:function(t){if((t.ctrlKey||t.metaKey)\x26\x26!t.altKey)switch(t.keyCode){case 90:this.undo(),xn(t);break;case 89:this.redo(),xn(t)}}},{key:"_onKeyPress",value:function(){}},{key:"_onContextMenu",value:function(){}},{key:"getDomNode",value:function(){return zi.create("span",{class:"eqCaret"})}},{key:"validate",value:function(){this._eqDoc.attach(this.domNode),this.doLayout(),this.updateCaret()}},{key:"isFocusable",value:function(){return o(r(s.prototype),"isFocusable",this).apply(this,arguments)\x26\x26!this.getDisabled()}},{key:"setFocused",value:function(t){t?fn(this.domNode,"focused caretVisible"):mn(this.domNode,"focused caretVisible"),this.getEqDoc().setFocused(t),this.focused\x3dt}},{key:"focusEditor",value:function(){this._onFocus(null)}},{key:"_canFocus",value:function(){return!this.disabled\x26\x26this.focusNode.focus}},{key:"focus",value:function(){if(this._canFocus())try{this.focusNode.focus(),this.emit("eqeditor_focus")}catch(t){}}},{key:"_onFocus",value:function(t){if(!this.isFocusable())return!1;o(r(s.prototype),"_onFocus",this).apply(this,arguments),this.setFocused(!0),this._focusTextArea\x3d!0,!t\x26\x26this.focusNode\x26\x26Bn.focus(this.focusNode),this.controlManager\x26\x26this.doChange(),this.focusCallback\x26\x26this.focusCallback(),this.updateCaret(),this.emit("eqeditor_focus",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}},{key:"_onBlur",value:function(){o(r(s.prototype),"_onBlur",this).apply(this,arguments),this.setFocused(!1),this.blurCallback\x26\x26this.blurCallback(),this.emit("eqeditor_blur",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}},{key:"getAccessible",value:function(){return this._accessible}},{key:"setAccessible",value:function(t){this._accessible\x3dt,this._accessible\x26\x26this._eqDoc.setAccessible(this._accessible)}},{key:"getAccessibleName",value:function(){return this._eqDoc.getAccessibleName()}},{key:"insertEq",value:function(t,e,i,n){if(t[e\x3de||0]\x26\x26null!\x3dthis.getCurrentRow()){var r;if(this._changed\x3d!0,this._undo.save(),this.getCurrentRow().isEqDummyRow()){var o\x3dthis.getCurrentRow().parent,s\x3do.getChildIndex(this.getCurrentRow()),a\x3do.getFocusPosition(s);this.setCurrentRow(o),this._caretPosition\x3da,this._oldCaretPosition\x3da,t[0].isEqDummyRow()||this.getCurrentRow().removeChildAt(s)}if(this.isMultiSelect()?r\x3dthis.getCurrentRow().insertEqRange(t,this._oldCaretPosition,this._caretPosition,e):(this.getCurrentRow().insertEq(t,this._caretPosition),this.scrollIntoView(),r\x3dt[e]),n){var c\x3dn.getFocusRow(),u\x3dc.getChildIndex(n);this._caretPosition\x3dc.getFocusPosition(u),n.destroy(),this.setCurrentRow(c),r\x3dnull}if(!i){if(this.doLayout(),r\x26\x26r.parent){var l\x3dnew fs("",this.getCurrentRow(),this._caretPosition);r.initCaret(l),l.ignore||(this.setCurrentRow(l.row),this._caretPosition\x3dl.position)}this.resetMultiSelect()}}}},{key:"insertEqText",value:function(t,e){var i\x3dsn({clear:!1},e);i.clear\x26\x26(this._eqDoc.clear(),this.setCurrentRow(this._eqDoc),this._caretPosition\x3d0,this._oldCaretPosition\x3d0,this.extendClick\x3d!1),this._changed\x3d!0;var n\x3dnew cs(this._eqDoc,t);this.filterEqText\x26\x26(n.isValidCharCode\x3dthis.isValidCharCode,n.eqEditor\x3dthis);var r\x3dn.parse(),o\x3dthis.getCurrentRow();if(!o.domNode||!o.domNode.contains(this.domNode)){if(o.parent\x26\x26r.length\x3e0\x26\x26o.isEmpty()\x26\x26(r[0].isEqSuperscript()\x26\x26o.parent.isEqSuperscript()||r[0].isEqSubscript()\x26\x26o.parent.isEqSubscript()))return null;if(this.isMultiSelect()\x26\x26n.eqCursorMarker){n.eqCursorMarker.parent\x26\x26n.eqCursorMarker.parent.removeChild(n.eqCursorMarker);var s\x3dr.indexOf(n.eqCursorMarker);s\x3e\x3d0\x26\x26r.splice(s,1),r.push(n.eqCursorMarker)}if(this.insertEq(r,0,!0),n.eqCursorMarker){var a\x3d(o\x3dn.eqCursorMarker.getFocusRow()).getChildIndex(n.eqCursorMarker);this._caretPosition\x3do.getFocusPosition(a),n.eqCursorMarker.destroy(),this.setCurrentRow(o,!0)}else if(r[0]){var c\x3dr[0];if(c\x26\x26c.parent){var u\x3dnew fs("",this.getCurrentRow(),this._caretPosition);c.initCaret(u),u.ignore||(this.setCurrentRow(u.row,!0),this._caretPosition\x3du.position)}}return this.doLayout(),this.enableEqAccessibleAnnouncer\x26\x26i.announce\x26\x26(i.announceText?this._eqDoc.getEqAccessibleAnnouncer().announce("".concat(this.insertLabel," ").concat(i.announceText)):this._eqDoc.getEqAccessibleAnnouncer().announceEqs(r,this.insertLabel)),this.resetMultiSelect(),this.scrollIntoView(),r}}},{key:"clear",value:function(){this._parentTable\x3dnull,this._changed\x3d!0,this.extendClick\x3d!1,this._eqDoc.clear(),this.setCurrentRow(this._eqDoc),this._caretPosition\x3d0,this._undo.reset(),this.resetMultiSelect(),this.doLayout()}},{key:"setEqText",value:function(t){this.insertEqText(t,{clear:!0}),this.reset(),this._hasEqTextProp\x3d!0}},{key:"setPrompt",value:function(t,e){this._eqDoc.setPrompt(t,e)}},{key:"extractSelectionEqText",value:function(t){if(this.isMultiSelect()){var e\x3dthis.getCurrentRow().extractEqs(this._oldCaretPosition,this._caretPosition,t),i\x3d"";return un(e,(function(t){i+\x3dt.getEqText()})),t||(this._caretPosition\x3dMath.min(this._caretPosition,this._oldCaretPosition),this._oldCaretPosition\x3dthis._caretPosition),i}return""}},{key:"getEqTextWithCursorMarker",value:function(){var t\x3dnew $n;this.getCurrentRow().insertEq([t],this._caretPosition);var e\x3dthis.getEqText();return t.parent\x26\x26t.parent.removeChild(t),e}},{key:"resetEditor",value:function(){this.setCurrentRow(this._eqDoc),this._caretPosition\x3d0,this._oldCaretPosition\x3d0,this._eqDoc.invalidateEq(!0),this.updateCaret(),this.doChange(),this._eqDoc.preparePrompt()}},{key:"onChange",value:function(){}},{key:"doChange",value:function(){this.onChange(),this.emit("eqeditor_change",{bubbles:!0,cancelable:!0,eqEditor:this},this.domNode)}},{key:"reset",value:function(){this._parentTable\x3dnull,this.resetEditor(),this._undo.reset()}},{key:"getEqText",value:function(){return this._eqDoc.getEqText()}},{key:"_setAccessibleLabelAttr",value:function(t){this._accessibleLabel\x3dt,this._accLabelNeedsParsing\x3d!0,this.doLayout()}},{key:"_getAccessibleLabelAttr",value:function(){return this._accessibleLabel}},{key:"isEmpty",value:function(){return 0\x3d\x3dthis._eqDoc.getNumChildren()}},{key:"blurSelf",value:function(){this.focusNode.blur()}},{key:"setDisabled",value:function(t){t?(this.focusNode.disabled\x3d!0,this.focusNode.setAttribute("aria-disabled","true"),fn(this.domNode,"disabled"),Bn.curNode\x3d\x3dthis.focusNode\x26\x26this.blurSelf(),this._eqDoc.disabled\x3d!0,this.disabled\x3d!0,this.focusNode.setAttribute("tabIndex","-1")):(this.focusNode.disabled\x3d!1,this.focusNode.setAttribute("aria-disabled","false"),mn(this.domNode,"disabled"),this._eqDoc.disabled\x3d!1,this.disabled\x3d!1,""!\x3dthis.tabIndex?this.focusNode.setAttribute("tabIndex",this.tabIndex):this.focusNode.removeAttribute("tabIndex"))}},{key:"getDisabled",value:function(){return this.disabled}},{key:"setReadOnly",value:function(t){this.readOnly\x3dt}},{key:"getReadOnly",value:function(){return this.readOnly}},{key:"scrollIntoView",value:function(){if(!this.disableScrollIntoView\x26\x26this._eqDoc){if(!this._parentTable\x26\x26this.parentBaseClass){for(var t\x3dthis._eqDoc.domNode;t\x26\x26!vn(t,this.parentBaseClass);)t\x3dt.parentNode;this._parentTable\x3dt}this._parentTable?Hn(this._parentTable,null,this._eqDoc.domNode):this._eqDoc.domNode\x26\x26Hn(this._eqDoc.domNode)}}},{key:"replaceEqText",value:function(t){this._undo.save(),this._undo.freeze(),this.insertEqText(t,{clear:!0}),this.resetEditor(),this._undo.unFreeze()}},{key:"getUndoSequence",value:function(){return this._undo.getUndoSequence()}},{key:"setUndoSequence",value:function(t){this._undo.setUndoSequence(t)}},{key:"_newCurrentRow",value:function(t){this.setCurrentRow(t.row),this._caretPosition\x3dt.pos,this.updateCaret()}},{key:"updateState",value:function(t){var e\x3dt.showTolerance,i\x3dt.isAnswered,n\x3dt.isCorrect,r\x3dt.correctAnswer;e\x26\x26fn(this.domNode,"showTolerance"),mn(this.domNode,"correct"),mn(this.domNode,"incorrect"),i?(fn(this.domNode,n?"correct":"incorrect"),this.setDisabled(!0)):this.setDisabled(!1),n?this.getEqDoc().reLayout():this.setEqText(r)}},{key:"insertLatex",value:function(t){var e\x3dnew Ts(this.getEqDoc(),t);e.eqEditor\x3dthis,e.isValidCharCode\x3dthis.isValidCharCode;var i\x3de.parse();if(!(i.length\x3e0\x26\x26this.getCurrentRow().isEmpty()\x26\x26(this.getCurrentRow().parent\x26\x26i[0].isEqSuperscript()\x26\x26this.getCurrentRow().parent.isEqSuperscript()||i[0].isEqSubscript()\x26\x26this.getCurrentRow().parent.isEqSubscript()))){if(this.isMultiSelect()\x26\x26e.eqCursorMarker){e.eqCursorMarker.parent\x26\x26e.eqCursorMarker.parent.removeChild(e.eqCursorMarker);var n\x3di.indexOf(e.eqCursorMarker);n\x3e\x3d0\x26\x26i.splice(n,1),i.push(e.eqCursorMarker)}this.insertEq(i,0,!1,e.eqCursorMarker)}}},{key:"setLatex",value:function(t){this.clear(),this.insertLatex(t),this.reset()}},{key:"getLatex",value:function(){return this.getEqDoc().getLatex()}}]),s}(ks),As\x3dfunction(t){var e\x3dPn(t);return e||null};function Ps(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Ls.getEqEditor\x3dAs,Ls.insertCharacter\x3dfunction(t,e){var i\x3dAs(t);i\x26\x26i.insertCharacter(e)},Ls.undo\x3dfunction(t){var e\x3dAs(t);e\x26\x26e.undo()},Ls.redo\x3dfunction(t){var e\x3dAs(t);e\x26\x26e.redo()},Ls.clear\x3dfunction(t){var e\x3dAs(t);e\x26\x26e.clear()},Ls.deleteChar\x3dfunction(t){var e\x3dAs(t);e\x26\x26(e.deleteChar(!1),e.focus())},Ls.backspace\x3dfunction(t){var e\x3dAs(t);e\x26\x26(e.deleteChar(!0),e.focus())},Ls.moveCaret\x3dfunction(t,e,i,n){var r\x3dAs(t);if(r){var o\x3djn.NONE;switch(e){case"up":o\x3djn.UP;break;case"down":o\x3djn.DOWN;break;case"left":o\x3djn.LEFT;break;case"right":o\x3djn.RIGHT;break;case"home":o\x3djn.HOME;break;case"end":o\x3djn.END}r.moveCaret(o,i,n),r.focus()}},Ls.setEqText\x3dfunction(t,e){var i\x3dAs(t);i\x26\x26i.setEqText(e)},Ls.getEqText\x3dfunction(t){var e\x3dAs(t);return e?e.getEqText():null},gi();var Ds\x3dfunction(t){a(s,t);var i\x3dPs(s);function s(t,n,r){var o;return e(this,s),o\x3di.apply(this,arguments),r||o.startup(),o}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass+\x3d" ".concat(fi.classes["assessments-components"]),this.announcerClass\x3dfi.classes.eqAccessibleAnnouncer}},{key:"render",value:function(t,e){this.setEqText(t),e.appendChild(this.domNode),this.reLayout()}},{key:"attach",value:function(t){t.appendChild(this.domNode),this.reLayout()}},{key:"getEqDocument",value:function(){return this.getEqDoc()}},{key:"clear",value:function(){this.isClearing\x3d!0;try{this.setEqText("")}finally{this.isClearing\x3d!1}}}]),s}(Ls);function Bs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}var Ms\x3dfunction(t){a(s,t);var i\x3dBs(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments))._eqDoc.disabled\x3d!0,t\x26\x26t.inputs\x26\x26(n._eqDoc.inputs\x3dt.inputs),n.initialize(t),n}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass\x3d"equation eqLabel",this.declaredType\x3d"EqLabel",this._accLabel\x3dnull,this.isLayoutContainer\x3d!0,this.accessible\x3d!1,this._eqText\x3dnull,delete this.tabIndex}},{key:"destroy",value:function(){o(r(s.prototype),"destroy",this).apply(this,arguments),this._accLabel\x26\x26zi.destroy(this._accLabel)}},{key:"getEqDoc",value:function(){return this._eqDoc}},{key:"buildRendering",value:function(){this.domNode\x3dzi.create("span"),o(r(s.prototype),"buildRendering",this).apply(this,arguments)}},{key:"postCreate",value:function(){if(o(r(s.prototype),"postCreate",this).apply(this,arguments),this.accessible\x26\x26this._eqDoc.setAccessible(this.accessible),!this._eqText\x26\x26this.srcNodeRef\x26\x26this.srcNodeRef.textContent\x26\x26this.srcNodeRef.textContent){var t\x3dthis.srcNodeRef.textContent.trim();t\x26\x26this.setEqText(t)}this._accLabel\x3dzi.create("span",{class:"eqAccessibleLabel"}),zi.place(this._accLabel,this.domNode,"last"),this._eqDoc.attach(this.domNode,!0)}},{key:"resize",value:function(){this.doLayout()}},{key:"startup",value:function(){if(!this._started){o(r(s.prototype),"startup",this).apply(this,arguments);var t\x3dthis.getParent\x26\x26this.getParent();t\x26\x26t.isLayoutContainer||this.resize()}}},{key:"doLayout",value:function(){if(this._eqDoc\x26\x26this._started){this._eqDoc.doLayout();var t\x3dthis._eqDoc.getAccessibleName();Fn(this._accLabel,t),Ni.set(this.domNode,"aria-label",t)}}},{key:"reLayout",value:function(){this._eqDoc\x26\x26this._started\x26\x26(this._eqDoc.invalidate(!0),this.doLayout())}},{key:"clear",value:function(){this._eqDoc.clear(),this.doLayout()}},{key:"setEqText",value:function(t){if(t!\x3dthis._eqText){this._eqText\x3dt,this._eqDoc.clear();try{var e\x3dnew cs(this._eqDoc,t).parse();this._eqDoc.insertEq(e,0)}catch(t){return console.log("".concat(this.id," parser error: ").concat(t.message)),void this.setEqText("!!Error")}this.doLayout(),this.accessible\x26\x26this._accLabel\x26\x26Fn(this._accLabel,this._eqDoc.getAccessibleName())}}},{key:"getEqText",value:function(){return this._eqDoc.getEqText()}},{key:"getAccessibleName",value:function(){return this._eqDoc.getAccessibleName()}},{key:"getEmbeddedInputs",value:function(){if(!this.domNode)return null;var t\x3dDn(this.domNode),e\x3d{};return un(t,(function(t){t.getInputData\x26\x26(e[t.id||t.get("id")]\x3dt)})),e}},{key:"getAccessible",value:function(){return this._accessible}},{key:"setAccessible",value:function(t){this._accessible\x3dt,this._accessible\x26\x26this._eqDoc.setAccessible(this._accessible)}},{key:"isFocusable",value:function(){return!1}}]),s}(ks);function Os(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}gi();var Is\x3dfunction(t){a(s,t);var i\x3dOs(s);function s(t,n,r){var o;return e(this,s),o\x3di.apply(this,arguments),r||o.startup(),o}return n(s,[{key:"initFields",value:function(){o(r(s.prototype),"initFields",this).call(this),this.baseClass+\x3d" ".concat(fi.classes["assessments-components"])}},{key:"render",value:function(t,e){this.setEqText(t),e.appendChild(this.domNode),this.reLayout()}},{key:"attach",value:function(t){t.appendChild(this.domNode),this.reLayout()}},{key:"getEqDocument",value:function(){return this.getEqDoc()}}]),s}(Ms);function Fs(t,e,i,n,r,o,s){try{var a\x3dt[o](s),c\x3da.value}catch(t){return void i(t)}a.done?e(c):Promise.resolve(c).then(n,r)}function Us(t){return function(){var e\x3dthis,i\x3darguments;return new Promise((function(n,r){var o\x3dt.apply(e,i);function s(t){Fs(o,n,r,s,a,"next",t)}function a(t){Fs(o,n,r,s,a,"throw",t)}s(void 0)}))}}var Vs\x3d{exports:{}};!function(t){var e\x3dfunction(t){var e\x3dObject.prototype,i\x3de.hasOwnProperty,n\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},r\x3dn.iterator||"@@iterator",o\x3dn.asyncIterator||"@@asyncIterator",s\x3dn.toStringTag||"@@toStringTag";function a(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a\x3dfunction(t,e,i){return t[e]\x3di}}function c(t,e,i,n){var r\x3de\x26\x26e.prototype instanceof h?e:h,o\x3dObject.create(r.prototype),s\x3dnew E(n||[]);return o._invoke\x3dfunction(t,e,i){var n\x3d"suspendedStart";return function(r,o){if("executing"\x3d\x3d\x3dn)throw new Error("Generator is already running");if("completed"\x3d\x3d\x3dn){if("throw"\x3d\x3d\x3dr)throw o;return R()}for(i.method\x3dr,i.arg\x3do;;){var s\x3di.delegate;if(s){var a\x3dw(s,i);if(a){if(a\x3d\x3d\x3dl)continue;return a}}if("next"\x3d\x3d\x3di.method)i.sent\x3di._sent\x3di.arg;else if("throw"\x3d\x3d\x3di.method){if("suspendedStart"\x3d\x3d\x3dn)throw n\x3d"completed",i.arg;i.dispatchException(i.arg)}else"return"\x3d\x3d\x3di.method\x26\x26i.abrupt("return",i.arg);n\x3d"executing";var c\x3du(t,e,i);if("normal"\x3d\x3d\x3dc.type){if(n\x3di.done?"completed":"suspendedYield",c.arg\x3d\x3d\x3dl)continue;return{value:c.arg,done:i.done}}"throw"\x3d\x3d\x3dc.type\x26\x26(n\x3d"completed",i.method\x3d"throw",i.arg\x3dc.arg)}}}(t,i,s),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap\x3dc;var l\x3d{};function h(){}function d(){}function p(){}var f\x3d{};f[r]\x3dfunction(){return this};var m\x3dObject.getPrototypeOf,g\x3dm\x26\x26m(m(b([])));g\x26\x26g!\x3d\x3de\x26\x26i.call(g,r)\x26\x26(f\x3dg);var v\x3dp.prototype\x3dh.prototype\x3dObject.create(f);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke\x3dfunction(r,o){function s(){return new e((function(n,s){!function n(r,o,s,a){var c\x3du(t[r],t,o);if("throw"!\x3d\x3dc.type){var l\x3dc.arg,h\x3dl.value;return h\x26\x26"object"\x3d\x3dtypeof h\x26\x26i.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(h).then((function(t){l.value\x3dt,s(l)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}(r,o,n,s)}))}return n\x3dn?n.then(s,s):s()}}function w(t,e){var i\x3dt.iterator[e.method];if(void 0\x3d\x3d\x3di){if(e.delegate\x3dnull,"throw"\x3d\x3d\x3de.method){if(t.iterator.return\x26\x26(e.method\x3d"return",e.arg\x3dvoid 0,w(t,e),"throw"\x3d\x3d\x3de.method))return l;e.method\x3d"throw",e.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return l}var n\x3du(i,t.iterator,e.arg);if("throw"\x3d\x3d\x3dn.type)return e.method\x3d"throw",e.arg\x3dn.arg,e.delegate\x3dnull,l;var r\x3dn.arg;return r?r.done?(e[t.resultName]\x3dr.value,e.next\x3dt.nextLoc,"return"!\x3d\x3de.method\x26\x26(e.method\x3d"next",e.arg\x3dvoid 0),e.delegate\x3dnull,l):r:(e.method\x3d"throw",e.arg\x3dnew TypeError("iterator result is not an object"),e.delegate\x3dnull,l)}function C(t){var e\x3d{tryLoc:t[0]};1 in t\x26\x26(e.catchLoc\x3dt[1]),2 in t\x26\x26(e.finallyLoc\x3dt[2],e.afterLoc\x3dt[3]),this.tryEntries.push(e)}function _(t){var e\x3dt.completion||{};e.type\x3d"normal",delete e.arg,t.completion\x3de}function E(t){this.tryEntries\x3d[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function b(t){if(t){var e\x3dt[r];if(e)return e.call(t);if("function"\x3d\x3dtypeof t.next)return t;if(!isNaN(t.length)){var n\x3d-1,o\x3dfunction e(){for(;++n\x3ct.length;)if(i.call(t,n))return e.value\x3dt[n],e.done\x3d!1,e;return e.value\x3dvoid 0,e.done\x3d!0,e};return o.next\x3do}}return{next:R}}function R(){return{value:void 0,done:!0}}return d.prototype\x3dv.constructor\x3dp,p.constructor\x3dd,d.displayName\x3da(p,s,"GeneratorFunction"),t.isGeneratorFunction\x3dfunction(t){var e\x3d"function"\x3d\x3dtypeof t\x26\x26t.constructor;return!!e\x26\x26(e\x3d\x3d\x3dd||"GeneratorFunction"\x3d\x3d\x3d(e.displayName||e.name))},t.mark\x3dfunction(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__\x3dp,a(t,s,"GeneratorFunction")),t.prototype\x3dObject.create(v),t},t.awrap\x3dfunction(t){return{__await:t}},y(x.prototype),x.prototype[o]\x3dfunction(){return this},t.AsyncIterator\x3dx,t.async\x3dfunction(e,i,n,r,o){void 0\x3d\x3d\x3do\x26\x26(o\x3dPromise);var s\x3dnew x(c(e,i,n,r),o);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(v),a(v,s,"Generator"),v[r]\x3dfunction(){return this},v.toString\x3dfunction(){return"[object Generator]"},t.keys\x3dfunction(t){var e\x3d[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n\x3de.pop();if(n in t)return i.value\x3dn,i.done\x3d!1,i}return i.done\x3d!0,i}},t.values\x3db,E.prototype\x3d{constructor:E,reset:function(t){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dvoid 0,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dvoid 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"\x3d\x3d\x3de.charAt(0)\x26\x26i.call(this,e)\x26\x26!isNaN(+e.slice(1))\x26\x26(this[e]\x3dvoid 0)},stop:function(){this.done\x3d!0;var t\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3dt.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e\x3dthis;function n(i,n){return s.type\x3d"throw",s.arg\x3dt,e.next\x3di,n\x26\x26(e.method\x3d"next",e.arg\x3dvoid 0),!!n}for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var o\x3dthis.tryEntries[r],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var a\x3di.call(o,"catchLoc"),c\x3di.call(o,"finallyLoc");if(a\x26\x26c){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n\x3dthis.tryEntries.length-1;n\x3e\x3d0;--n){var r\x3dthis.tryEntries[n];if(r.tryLoc\x3c\x3dthis.prev\x26\x26i.call(r,"finallyLoc")\x26\x26this.prev\x3cr.finallyLoc){var o\x3dr;break}}o\x26\x26("break"\x3d\x3d\x3dt||"continue"\x3d\x3d\x3dt)\x26\x26o.tryLoc\x3c\x3de\x26\x26e\x3c\x3do.finallyLoc\x26\x26(o\x3dnull);var s\x3do?o.completion:{};return s.type\x3dt,s.arg\x3de,o?(this.method\x3d"next",this.next\x3do.finallyLoc,l):this.complete(s)},complete:function(t,e){if("throw"\x3d\x3d\x3dt.type)throw t.arg;return"break"\x3d\x3d\x3dt.type||"continue"\x3d\x3d\x3dt.type?this.next\x3dt.arg:"return"\x3d\x3d\x3dt.type?(this.rval\x3dthis.arg\x3dt.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3dt.type\x26\x26e\x26\x26(this.next\x3de),l},finish:function(t){for(var e\x3dthis.tryEntries.length-1;e\x3e\x3d0;--e){var i\x3dthis.tryEntries[e];if(i.finallyLoc\x3d\x3d\x3dt)return this.complete(i.completion,i.afterLoc),_(i),l}},catch:function(t){for(var e\x3dthis.tryEntries.length-1;e\x3e\x3d0;--e){var i\x3dthis.tryEntries[e];if(i.tryLoc\x3d\x3d\x3dt){var n\x3di.completion;if("throw"\x3d\x3d\x3dn.type){var r\x3dn.arg;_(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate\x3d{iterator:b(t),resultName:e,nextLoc:i},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dvoid 0),l}},t}(t.exports);try{regeneratorRuntime\x3de}catch(t){Function("r","regeneratorRuntime \x3d r")(e)}}(Vs);var Hs\x3dVs.exports,js\x3d{"assessments-components":h({"box-sizing":"border-box","\x26:before, \x26:after":{"box-sizing":"border-box"},"\x26 *, \x26 *:before, \x26 *:after":{"box-sizing":"border-box"}},{"\x26 [hidden]":{display:"none"},"\x26 b, \x26 strong":{fontWeight:"bold"},"\x26 dfn":{fontStyle:"italic"},"\x26 small":{fontSize:"80%"},"\x26 sub, \x26 sup":{fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},"\x26 sup":{top:"-0.5em"},"\x26 sub":{bottom:"-0.25em"},"\x26 img":{border:"0"},"\x26 svg:not(:root)":{overflow:"hidden"},"\x26 figure":{margin:"0"},"\x26 table":{borderCollapse:"collapse",borderSpacing:"0","\x26.nowrap td, \x26.nowrap th":{whiteSpace:"nowrap"},"\x26.valign-middle td, \x26.valign-middle th":{verticalAlign:"middle"}},"\x26 .nowrap":{whiteSpace:"nowrap"},"\x26 .valign-middle":{verticalAlign:"middle"},"\x26 .align-center":{textAlign:"center"},"\x26 .align-right":{textAlign:"right"},"\x26 .fullwidth":{width:"100%"}},{"\x26.vectorMoment":{width:"100%",height:"100%"}})},Ws\x3dhi.createStyleSheet(js);function zs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}Ws.attach();var Gs\x3dfunction(t){a(s,t);var i\x3dzs(s);function s(t){var n;return e(this,s),(n\x3di.apply(this,arguments)).origin\x3dt.baseURL\x26\x26t.baseURL.split("/").slice(0,3).join("/")||window.location.origin,n.initialize(t),n}return n(s,[{key:"createEventListener",value:function(t,e,i,n){var r\x3dthis;return function o(s){var a\x3ds.origin,c\x3ds.data;if(a\x3d\x3d\x3dr.origin){var u\x3dr.parsePostMessage(c),l\x3du.source,h\x3du.method,d\x3du.params,p\x3dvoid 0\x3d\x3d\x3dd?[]:d,f\x3du.error;l\x3d\x3dt\x26\x26h\x3d\x3de\x26\x26(f\x26\x26n(f),i.apply(void 0,le(p)),window.removeEventListener("message",o))}}}},{key:"load",value:function(t,e,i){var n\x3dthis;return new vr((function(a,c){window.addEventListener("message",n.createEventListener(e,"loaded",a,c)),o(r(s.prototype),"initFields",n).call(n),n.domNode\x3dn.focusNode\x3ddocument.createElement("iframe"),n.domNode.setAttribute("name",e),n.domNode.setAttribute("src",t),i.insertBefore(n.domNode,i.firstChild)}))}},{key:"setStyles",value:function(t){for(var e\x3d0,i\x3dObject.keys(t);e\x3ci.length;e++){var n\x3di[e];this.domNode.style[n]\x3dt[n]}}},{key:"postMessage",value:function(t){this.domNode.contentWindow.postMessage(t,this.origin)}},{key:"callMethod",value:function(t){for(var e\x3dthis,i\x3darguments.length,n\x3dnew Array(i\x3e1?i-1:0),r\x3d1;r\x3ci;r++)n[r-1]\x3darguments[r];return new vr((function(i,r){window.addEventListener("message",e.createEventListener(e.domNode.name,t,i,r)),e.postMessage(JSON.stringify({target:e.domNode.name,method:t,params:n}))}))}},{key:"parsePostMessage",value:function(t){try{return JSON.parse(t)}catch(e){return console.log("Invalid JSON sent as postmessage: ",t),{}}}}]),s}(Rs);function Xs(t){var e\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n\x3dr(t);if(e){var o\x3dr(this).constructor;i\x3dReflect.construct(n,arguments,o)}else i\x3dn.apply(this,arguments);return l(this,i)}}gi();var Qs\x3dnull,Ys\x3dfunction(t){a(d,t);var i,s,c,h\x3dXs(d);function d(t,i){var n;e(this,d),n\x3dh.apply(this,arguments);var r\x3dbr(n.getGraphWidgetProps()),o\x3d"iframe_".concat(t.id);return i.classList.add("vectorMoment"),r.length\x3c2e3?l(n,n.getManifest(t.manifestURL,t.releasesBaseURL,t.overrideBaseUrl).then((function(t){return n.load("".concat(t,"/iframe.html?").concat(r,"}"),o,i)})).then((function(){return n.setStyles()})).then((function(){return n.setDisabled(!t.interactive)})).then((function(){return u(n)}))):l(n,n.getManifest(t.manifestURL,t.releasesBaseURL,t.overrideBaseUrl).then((function(t){return n.load("".concat(t,"/iframe.html"),o,i)})).then((function(){return n.graphWidget(n.getGraphWidgetProps())})).then((function(){return n.setDisabled(!t.interactive)})).then((function(){return u(n)})))}return n(d,[{key:"initFields",value:function(){o(r(d.prototype),"initFields",this).call(this),this.baseClass+\x3d" ".concat(Ws.classes["assessments-components"]),this.interactive\x3d1,this.authoring\x3d0,this.partID\x3d"problemView",this.logger\x3d!1,this.showExamples\x3d0}},{key:"getManifest",value:(c\x3dUs(Hs.mark((function t(e,i,n){return Hs.wrap((function(t){for(;;)switch(t.prev\x3dt.next){case 0:if(n\x26\x26(Qs\x3dn),!Qs){t.next\x3d3;break}return t.abrupt("return",vr.resolve(Qs));case 3:return t.next\x3d5,fetch(e).then((function(t){return t.status\x3c400?t.json():{}})).then((function(t){return Qs\x3d"".concat(i,"/").concat(t.version)}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),function(t,e,i){return c.apply(this,arguments)})},{key:"setStyles",value:(s\x3dUs(Hs.mark((function t(){var e;return Hs.wrap((function(t){for(;;)switch(t.prev\x3dt.next){case 0:return t.next\x3d2,this.callMethod("height");case 2:e\x3dt.sent,o(r(d.prototype),"setStyles",this).call(this,{border:0,frameBorder:"0",width:"100%",height:"".concat(e,"px")});case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getGraphWidgetProps",value:function(){return{baseURL:Qs,interactive:this.interactive,authoring:this.authoring,backgroundImage:this.backgroundImage,backgroundImageTitle:this.backgroundImageTitle,backgroundImageAlt:this.backgroundImageAlt,setResponseValue:this.setResponseValue,configLoadURL:this.configLoadURL,configSaveURL:this.configSaveURL,texRenderURL:this.texRenderURL,helpURL:this.helpURL,partID:this.partID,logger:this.logger,showExamples:this.showExamples}}},{key:"graphWidget",value:(i\x3dUs(Hs.mark((function t(e){return Hs.wrap((function(t){for(;;)switch(t.prev\x3dt.next){case 0:return e\x26\x26sn(this,e),t.next\x3d3,this.callMethod("graphWidget",this.getGraphWidgetProps());case 3:return t.abrupt("return",this.setStyles());case 4:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"getVectorData",value:function(){return this.callMethod("getAnswerString")}},{key:"setVectorData",value:function(t){this.callMethod("showAnswer",t)}},{key:"setDisabled",value:function(t){this.callMethod("setInteractive",!t)}},{key:"getConfig",value:function(){return this.callMethod("getConfig")}},{key:"getAnswerVectorData",value:function(){return this.callMethod("getRightAnswerString")}}]),d}(Gs),Ks\x3d{ALLOWCOMMANUMBER:1,ALLOWDOLLAR:2,ALLOWMINUS:4,ALLOWNEGPARENS:8,USESICOMMASPACE:16,USESICOMMAPERIOD:256,USESICOMMADECIMAL:32,ZEROOPTIONAL:64,ALLOWPLUS:128,ALLOWSPACEAFTERCURRENCYCHAR:512,ALLOWSPACEAFTERNEGPAREN:1024,ALLOWSPACEAFTERMINUS:2048},Js\x3dObject.freeze({__proto__:null,EqDocument:hs,EqUtils:tr,EqParser:cs,EqDivide:io,EqEventDispatcher:Mr,EqTextParser:Kn,TDXInputOption:Ks,EqCaretEventDirection:jn}),$s\x3dvi();return t.AssessmentsComponentsVersion\x3d$s,t.EquationClasses\x3dJs,t.EquationEditor\x3dDs,t.EquationLabel\x3dIs,t.VectorMoment\x3dYs,t.focus\x3dBn,Object.defineProperty(t,"__esModule",{value:!0}),t}({});\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:xl/player/dialogs/templates/InputFeedbackDialog.html":'\ufeff\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1" class\x3d"inputFeedbackDialog"\x3e\n    \x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Close" role\x3d"button" tabindex\x3d"0"\x3e\n        \x3cspan aria-hidden\x3d"true" data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Close"\x3e\x3c/span\x3e\n    \x3c/span\x3e\n    \x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n        \x3cdiv class\x3d"dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:xl/grapher/templates/keyboard.htm":'\ufeff\x3cdiv style\x3d"width:160px; position:absolute; right:10px; bottom:10px; margin-right:5px; margin-bottom:5px; opacity:0.5;" data-dojo-attach-point\x3d"domNode"\x3e\n\t\x3cdiv style\x3d"text-align:center; margin-bottom:4px;"\x3e\n\t\t\x3cimg tabindex\x3d"-1" data-dojo-attach-point\x3d"_upArrow" src\x3d"${_upArrowUrl}" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t\t\x3cimg data-dojo-attach-point\x3d"_leftArrow" src\x3d"${_leftArrowUrl}" /\x3e\n\t\t\x3cimg data-dojo-attach-point\x3d"_downArrow" src\x3d"${_downArrowUrl}" /\x3e\n\t\t\x3cimg data-dojo-attach-point\x3d"_rightArrow" src\x3d"${_rightArrowUrl}" /\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:xl/player/dialogs/templates/DataGrapher.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"dataGrapherTabs" data-dojo-type\x3d"dijit/layout/TabContainer" style\x3d"height: 260px;"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"timeSeriesTab" data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Time Series (1 or 2 plots)" data-dojo-props\x3d"number: 1"\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY Axis1\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectYAxis1" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n            \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% if timeSeriesSecondOpt %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY Axis2\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectYAxis2" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n            \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"multiplePlotsTab" data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Multiple Plots" data-dojo-props\x3d"number: 2"\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY1\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY1" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                   \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% if opt2 %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY2\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY2" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                   \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n        {% if opt3 %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY3\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY3" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                   \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n        {% if opt4 %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY4\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY4" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                   \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n        {% if opt5 %}\n        \x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY5\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectY5" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n            \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n        {% endif %}\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"scatterDiagramTab" data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Scatter Diagram" data-dojo-props\x3d"number: 3"\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eX Axis\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectXAxis" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                    \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\x3cbr /\x3e\n        \x3cdiv class\x3d"text dtLabel"\x3eY Axis\x3c/div\x3e\n        \x3cselect data-dojo-attach-point\x3d"selectYAxis" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:cbxChange" data-dojo-props\x3d"maxHeight: 300" style\x3d"width: 320px;"\x3e\n            {% for option in options %}\n                    \x3coption value\x3d"{{ option.value }}"\x3e{{ option.label }}\x3c/option\x3e\n            {% endfor %}        \n        \x3c/select\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\n\trole\x3d"presentation"\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\n\t\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\n\t\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\x3e\x3c/table\x3e\n',
"url:xl/player/dialogs/templates/InteractionsDialog.html":'\ufeff{% if selectenabled %}\n\x3cdiv class\x3d"line"\x3e\n  \x3cdiv class\x3d"text paramName"\x3eSelect a curve\x3c/div\x3e\n        \x3cdiv class\x3d"paramSlider"\x3e\n            \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:curveOptionChange" data-dojo-props\x3d"maxHeight: 300"\x3e\n                {% for opt in options %}\n                \x3coption value\x3d"{{ forloop.counter }}"\x3e{{ opt.name }}\x3c/option\x3e\n                {% endfor %}        \n            \x3c/select\x3e\n        \x3c/div\x3e  \n\x3c/div\x3e\n{% endif %}\n{% for opt in options %}\n\x3cdiv class\x3d"interactionOption"\x3e\n    \x3cdiv class\x3d"text line name"\x3e{{opt.name}}\x3c/div\x3e\n    {% if opt.selectOptionsNameX !\x3d "" or opt.selectOptionsX.length \x3e 0 %}\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv class\x3d"paramName"\x3e\n            \x3cdiv class\x3d"text paramName"\x3e{{opt.selectOptionsNameX}}\x3c/div\x3e\n            \x3cdiv class\x3d"text paramName label"\x3e\x3c/div\x3e    \n        \x3c/div\x3e\n        \n        \x3cdiv class\x3d"paramSlider"\x3e\n            \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:plotValueChangeX" data-dojo-props\x3d"maxHeight: 300"\x3e\n                {% for sOption in opt.selectOptionsX %}\n                \x3coption value\x3d"{{ sOption.value }}"\x3e{{ sOption.label }}\x3c/option\x3e\n                {% endfor %}\n            \x3c/select\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    {% endif %}\n    {% if opt.selectOptionsNameY !\x3d "" or opt.selectOptionsY.length \x3e 0 %}\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv class\x3d"text paramName"\x3e{{opt.selectOptionsNameY}}\x3c/div\x3e\n        \x3cdiv class\x3d"paramSlider"\x3e\n            \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-event\x3d"onChange:plotValueChangeY" data-dojo-props\x3d"maxHeight: 300"\x3e\n                {% for sOption in opt.selectOptionsY %}\n                \x3coption value\x3d"{{ sOption.value }}"\x3e{{ sOption.label }}\x3c/option\x3e\n                {% endfor %}        \n            \x3c/select\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    {% endif %}\n        {% for param in opt.params %}\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv class\x3d"paramName"\x3e\n            \x3cdiv class\x3d"text paramName"\x3e{{ param.name }}\x3c/div\x3e\n            \x3cdiv class\x3d"text paramName label"\x3e\x3c/div\x3e    \n        \x3c/div\x3e\n        \x3cdiv class\x3d"paramSlider"\n             data-dojo-type\x3d"dijit/form/HorizontalSlider"\n             data-dojo-attach-event\x3d"onChange:sliderValueChange"\n             data-dojo-props\x3d"name: \'{{param.varName}}\', \n                    value: {{ param.value }}, \n                    minimum: {{ param.min }},\n                    maximum: {{ param.max }},\n                    discreteValues: {{ param.discreteValues }},\n                    intermediateChanges:false,\n                    showButtons:false"\x3e\n            \x3col data-dojo-type\x3d"dijit/form/HorizontalRuleLabels" container\x3d"topDecoration" class\x3d"paramSliderHorizonalRuleLabels"\x3e\n                \x3cli\x3e{{ param.min }}\x3c/li\x3e\n                \x3cli\x3e\x3c/li\x3e\n                \x3cli\x3e\x3c/li\x3e\n                \x3cli\x3e\x3c/li\x3e\n                \x3cli\x3e{{ param.max }}\x3c/li\x3e\n            \x3c/ol\x3e\n            \x3cdiv data-dojo-type\x3d"dijit/form/HorizontalRule" container\x3d"topDecoration"\n                 count\x3d"{{ param.discreteValues }}" style\x3d"height: 5px;"\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n        {% endfor %}\n\x3c/div\x3e\n{% endfor %}',
"url:xl/editgraph/templates/LabelDropdown.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv class\x3d"${baseClass}Item empty" data-dojo-attach-point\x3d"displayNode, _buttonNode, focusNode"\x3e${placeHolderText}\x3c/div\x3e\n    \x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:xl/editgraph/images/movehandle.svg":"M176 410 c-41 -45 -39 -60 5 -60 29 0 29 -1 29 -55 l0 -56 -57 3\nc-55 3 -58 4 -61 31 -2 15 -9 27 -16 27 -14 0 -76 -61 -76 -76 0 -14 63 -74\n78 -74 7 0 12 11 12 25 0 24 3 25 61 25 l60 0 -3 -52 c-3 -52 -4 -53 -38 -58\nl-35 -5 39 -42 c21 -24 44 -43 50 -43 15 0 76 62 76 77 0 7 -12 13 -27 15 -26\n3 -28 7 -31 56 l-3 52 60 0 c58 0 61 -1 61 -25 0 -14 6 -25 13 -25 15 0 77 61\n77 76 0 15 -64 74 -81 74 -10 0 -15 -10 -14 -27 0 -27 -2 -28 -57 -31 l-58 -3\n0 56 c0 54 0 55 30 55 22 0 30 5 30 18 0 19 -59 82 -77 82 -6 0 -27 -18 -47\n-40z",
"url:xl/editgraph/templates/graphcontrol.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode" role\x3d"application"\x3e\n    \x3cdiv class\x3d"scale-wrapper" aria-hidden\x3d"true" tabindex\x3d"-1"\x3e\n        \x3cdiv class\x3d"${baseClass}Container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"xl.editgraph.GraphStatus" data-dojo-attach-point\x3d"statusPanel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',"url:dijit/templates/ColorPalette.html":'\x3cdiv class\x3d"dijitInline dijitColorPalette" role\x3d"grid"\x3e\n\t\x3ctable dojoAttachPoint\x3d"paletteTableNode" class\x3d"dijitPaletteTable" cellSpacing\x3d"0" cellPadding\x3d"0" role\x3d"presentation"\x3e\n\t\t\x3ctbody data-dojo-attach-point\x3d"gridNode"\x3e\x3c/tbody\x3e\n\t\x3c/table\x3e\n\x3c/div\x3e\n',
"url:xl/player/controls/templates/GraphPalette.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"palette" class\x3d"palette"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"titleBar"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"title" class\x3d"title"\x3e\x3c/div\x3e\n            \x3cbutton data-dojo-attach-point\x3d"close" type\x3d"button" class\x3d"close closeButton" aria-hidden\x3d"true"\x3e\x26times;\x3c/button\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"palettebody" data-dojo-attach-point\x3d"paletteBody"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"Buttons" class\x3d"buttonList"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"toolMessage" class\x3d"toolMessage"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cspan class\x3d"colorPalette"\x3e\n        \x3cspan data-dojo-attach-point\x3d"colorPalette"\x3e\x3c/span\x3e\n    \x3c/span\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/InlineGraphPalette.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n        \x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"glyphicon glyphicon-remove" title\x3d"${buttonCancel}"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cspan data-dojo-attach-point\x3d"toolMessage" class\x3d"inlineToolMessage"\x3e\x3c/span\x3e\n    \x3cdiv data-dojo-attach-point\x3d"paletteNode" class\x3d"palette xlGraphTools inlineGraphPalette" style\x3d"display: inline-block;"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/TransformControl.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode"\x3e\n    \n    \x3cinput data-dojo-attach-point\x3d"inputCB" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-event\x3d"onChange:cbChange" style\x3d"display: none"\x3e\x3c/input\x3e\n    \n    \x3cdiv data-dojo-attach-point\x3d"divTitle" class\x3d"transformTitle" data-dojo-attach-event\x3d"onClick:titleClick" style\x3d"color:white;display:inline"\x3e${title}\x3c/div\x3e\n    \n    \x3cdiv data-dojo-type\x3d"xl/player/controls/HorizontalSlider" data-dojo-attach-point \x3d"divSlider" data-dojo-attach-event\x3d"onChange:sliderChange"\n         data-dojo-props\x3d"value:0,minimum: -10,maximum:10,intermediateChanges:true,showButtons:false"\n         style\x3d"width:100%;vertical-align: top" class\x3d"transformSlider"\x3e\n\n        \x3col data-dojo-type\x3d"xl/player/controls/HorizontalRuleLabels" data-dojo-attach-point\x3d"ruleLabels" data-dojo-props\x3d"container:\'topDecoration\'" style\x3d"display:none;" class\x3d"transformSliderLabels"\x3e\n        \x3c/ol\x3e\n        \x3cdiv data-dojo-type\x3d"xl/player/controls/HorizontalRule" data-dojo-attach-point\x3d"ruleTicks" data-dojo-props\x3d"container:\'topDecoration\'" style\x3d"height:5px;" class\x3d"transformSliderTicks"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point \x3d"divField" style\x3d"display:none; border:solid 1px blue;background-color:white; width:100%; cursor: text; vertical-align: top" data-dojo-attach-event\x3d"onClick:divFieldClick"\x3e\n        \x3cspan data-dojo-type\x3d"xl.eqeditor.EqEditor" data-dojo-attach-point\x3d"eqEditor" data-dojo-attach-event\x3d"onBlur:eqEditorBlur,onFocus:eqEditorFocus" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/player/controls/templates/TransformPalette.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"domNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"palette" class\x3d"palette"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"titleBar"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"title" class\x3d"title"\x3e\x3c/div\x3e\n            \x3cbutton data-dojo-attach-point\x3d"close" type\x3d"button" class\x3d"close closeButton" aria-hidden\x3d"true"\x3e\x26times;\x3c/button\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"paletteBody" class\x3d"transformpalette" style\x3d"width: 240px;"\x3e\n            \n            \x3cdiv data-dojo-attach-point\x3d"pnlVStretch" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Vertical Stretch\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"pnlHStretch" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Horizontal Stretch\'" style\x3d"width:${baseWidth}px; display:inline-block" \x3e\x3c/div\x3e\n            \n            \x3cdiv data-dojo-attach-point\x3d"pnlVShift" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Vertical Shift\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"pnlHShift" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Horizontal Shift\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n            \n            \x3cdiv data-dojo-attach-point\x3d"pnlXFlip" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Vertical Flip\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"pnlYFlip" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Horizontal Flip\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"pnlBase" data-dojo-type\x3d"xl/player/controls/TransformControl" data-dojo-props\x3d"title:\'Base\'" style\x3d"width:${baseWidth}px;display:inline-block"\x3e\x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:xl/editgraph/templates/graphstatus.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"domNode" style\x3d"padding-right:15px;"\x3e\n    \x3cbutton data-dojo-attach-point\x3d"lblEditCoords" data-dojo-type\x3d"xl.dijit-bootstrap.Button" data-dojo-attach-event\x3d"onclick:editCoordsClick, onmousedown:mouseDown, onmouseup:mouseUp"\n            class\x3d"btn-primary btn-default ${baseClass} edit-coords-btn hidden"\x3e\n    \x3c/button\x3e\n    \x3cspan data-dojo-attach-point\x3d"lblCoords" class\x3d"lblGraphCoords"\x3e(0,0)\x3c/span\x3e\n\x3c/div\x3e',
"url:xl/player/dialogs/templates/EditCoordsDialog.html":'\ufeff\x3cdiv style\x3d"padding:15px"\x3e\n    \x3cspan class\x3d"${baseClass}Text" data-dojo-attach-point\x3d"editCoordsText"\x3e\x3c/span\x3e(\n    \x3cdiv data-dojo-type\x3d"xl/player/controls/UIEqEditor" data-dojo-attach-point\x3d"xCoordInput" data-dojo-props\x3d"docSettings:${_docSettingsStr},useOsk:${useOsk}"\x3e\x3c/div\x3e,\n    \x3cdiv data-dojo-type\x3d"xl/player/controls/UIEqEditor" data-dojo-attach-point\x3d"yCoordInput" data-dojo-props\x3d"docSettings:${_docSettingsStr},useOsk:${useOsk}"\x3e\x3c/div\x3e)\n    \x3cdiv class\x3d"${baseClass}Instructions" data-dojo-attach-point\x3d"editCoordsInstructions"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/standalonegrapher/templates/ReactGrapherViewer.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" tabindex\x3d"0" class\x3d"reactGrapherViewer"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"mainPanel" data-dojo-type\x3d"dijit.layout.BorderContainer" \n        class\x3d"mainPanel" data-dojo-props\x3d"region:\'center\',liveSplitters:false, gutters:false"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"menuPanel" class\x3d"topPanel" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-props\x3d"region:\'top\'"\x3e\n            \x3cspan style\x3d"display: inline-block;" data-dojo-attach-point\x3d"editCoordsPanel" class\x3d"edit-coords-panel"\x3e\n                \x3cspan style\x3d"margin-left: 10px; margin-right: 3px;"\x3ex\x3c/span\x3e\n                \x3cspan style\x3d"padding-right: 15px;"\x3e\x3cinput data-dojo-attach-point\x3d"xCoord" disabled style\x3d"width: 50px;"/\x3e\x3c/span\x3e\n                \x3cspan\x3ey\x3c/span\x3e\n                \x3cspan\x3e\x3cinput style\x3d"width: 50px;" data-dojo-attach-point\x3d"yCoord" disabled/\x3e\x3c/span\x3e\n                \x3cspan style\x3d"margin-left: 10px; margin-right: 3px;"\x3e\x3cbutton class\x3d"coordsOk hidden" data-dojo-attach-point\x3d"btnCoordOk"\x3e\x3c/button\x3e\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan style\x3d"padding-left: 20px;" data-dojo-attach-point\x3d"coords"\x3e\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"secondaryToolButtons" class\x3d"secondary-tool-buttons"\x3e\n                \x3cspan data-dojo-attach-point\x3d"btnAddPoint" class\x3d"btn-add-point" title\x3d"Add Segment"\x3e\x3c/span\x3e\n                \x3cspan data-dojo-attach-point\x3d"btnUndo" class\x3d"btn-undo hide2" title\x3d"Undo"\x3e\x3c/span\x3e\n                \x3cspan data-dojo-attach-point\x3d"btnDelete" class\x3d"btn-delete" title\x3d"Delete"\x3e\x3c/span\x3e\n            \x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"contentPanel" class\x3d"graphPanel" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-props\x3d"region:\'center\'" style\x3d"border: none; overflow: hidden;"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" class\x3d"bottomPanel" data-dojo-props\x3d"region:\'bottom\'" style\x3d"border: none;" data-dojo-attach-point\x3d"bottomPanel"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"graphPaletteContainer"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/MenuBarItem.html":'\x3cdiv class\x3d"dijitReset dijitInline dijitMenuItem dijitMenuItemLabel" data-dojo-attach-point\x3d"focusNode"\n\t \trole\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,textDirNode"\x3e\x3c/span\x3e\n\x3c/div\x3e\n',"url:dijit/templates/MenuBar.html":'\x3cdiv class\x3d"dijitMenuBar dijitMenuPassive" data-dojo-attach-point\x3d"containerNode" role\x3d"menubar" tabIndex\x3d"${tabIndex}"\n\t \x3e\x3c/div\x3e\n',"url:xl/standalonegrapher/templates/GrapherOptionsDialog.html":'\ufeff\x3cdiv class\x3d"${baseClass}" data-dojo-attach-point\x3d"grapherOptionsTabs" data-dojo-type\x3d"dijit/layout/TabContainer" style\x3d"height: 280px; width: 400px;"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"graphSettingsPane" data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Graph Settings"\x3e\n        \x3clabel\x3eTitle:\x3c/label\x3e\x3cinput data-dojo-attach-point\x3d"graphTitle" data-dojo-type\x3d"dijit/form/TextBox" type\x3d"text" value\x3d""/\x3e\x3cbr/\x3e\n        \x3cdiv style\x3d"margin-left: 40px;"\x3e\n            \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"titlePositionAbove" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"titlePosition" id\x3d"titlePosOne" value\x3d"0" checked\x3d"checked"/\x3e\x3clabel for\x3d"titlePosOne"\x3eAbove Graph\x3c/label\x3e\n            \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"titlePosition" id\x3d"titlePosTwo" value\x3d"1"/\x3e\x3clabel for\x3d"titlePosTwo"\x3eBelow Graph\x3c/label\x3e\n        \x3c/div\x3e\n         \x3cbr/\x3e\x3clabel\x3eScalling Mode:\x3c/label\x3e\n        \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"isotopic" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"scallingMode" id\x3d"modeOne" value\x3d"isotopic"/\x3e\x3clabel for\x3d"modeOne"\x3eIsotopic\x3c/label\x3e\n        \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"scallingMode" id\x3d"modeTwo" value\x3d"anisotopic" checked\x3d"checked" /\x3e\x3clabel for\x3d"modeTwo"\x3eAnisotopic\x3c/label\x3e\n        \x3cbr/\x3e\x3cbr/\x3e\x3cinput data-dojo-attach-point\x3d"showGrid" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" id\x3d"showGridCbx" /\x3e\x3clabel for\x3d"showGridCbx"\x3eShow Grid\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"xAxisPane" data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"X-Axis"\x3e\n        \x3clabel\x3eTitle:\x3c/label\x3e\x3cinput data-dojo-attach-point\x3d"xAxisTitle" data-dojo-type\x3d"dijit/form/TextBox" type\x3d"text" value\x3d""/\x3e\x3cbr/\x3e\n        \x3cinput data-dojo-attach-point\x3d"xAxisDisplayTitle" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" id\x3d"displayTitleX" checked\x3d"checked" style\x3d"margin-left: 45px;" /\x3e\x3clabel for\x3d"displayTitleX"\x3eDisplay title below axis\x3c/label\x3e\x3cbr/\x3e\n        \x3clabel\x3eMinimum:\x3c/label\x3e\x3cinput data-dojo-attach-point\x3d"xAxisMin" data-dojo-type\x3d"dijit/form/TextBox" type\x3d"text" value\x3d"0"/\x3e\x3cbr/\x3e\n        \x3clabel\x3eMaximum:\x3c/label\x3e\x3cinput data-dojo-attach-point\x3d"xAxisMax" data-dojo-type\x3d"dijit/form/TextBox" type\x3d"text" value\x3d"10"/\x3e\x3cbr/\x3e\n        \x3clabel\x3eTick Spacing:\x3c/label\x3e\x3cinput data-dojo-attach-point\x3d"xAxisTickSpacing" data-dojo-type\x3d"dijit/form/TextBox" type\x3d"text" value\x3d"1"/\x3e\x3cbr/\x3e\n        \x3clabel\x3eAxis Labels:\x3c/label\x3e\n        \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"xLabelMinMaxOnly" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"xAxisLabel" value\x3d"minmax"/\x3e\x3clabel\x3eLabel Minimum and Maximum\x3c/label\x3e\x3cbr/\x3e\n        \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"xAxisLabel" value\x3d"every" checked\x3d"checked" style\x3d"margin-left: 89px;"/\x3e\x3clabel\x3eLabel Every \x3cinput data-dojo-attach-point\x3d"xAxisLabelSpacing" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"2" data-dojo-props\x3d"smallDelta:1, constraints:{min:0,places:0}" style\x3d"width: 60px;"/\x3e Ticks\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"yAxisPane" data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Y-Axis"\x3e\n        \x3clabel\x3eTitle:\x3c/label\x3e\x3cinput data-dojo-attach-point\x3d"yAxisTitle" data-dojo-type\x3d"dijit/form/TextBox" type\x3d"text" value\x3d""/\x3e\x3cbr/\x3e\n        \x3cinput data-dojo-attach-point\x3d"yAxisDisplayTitle" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" id\x3d"displayTitleY" style\x3d"margin-left: 45px;"/\x3e\x3clabel for\x3d"displayTitleY"\x3eDisplay title vertically\x3c/label\x3e\x3cbr/\x3e\n        \x3clabel\x3eMinimum:\x3c/label\x3e\x3cinput data-dojo-attach-point\x3d"yAxisMin" data-dojo-type\x3d"dijit/form/TextBox" type\x3d"text" value\x3d"0"/\x3e\x3cbr/\x3e\n        \x3clabel\x3eMaximum:\x3c/label\x3e\x3cinput data-dojo-attach-point\x3d"yAxisMax" data-dojo-type\x3d"dijit/form/TextBox" type\x3d"text" value\x3d"10"/\x3e\x3cbr/\x3e\n        \x3clabel\x3eTick Spacing:\x3c/label\x3e\x3cinput data-dojo-attach-point\x3d"yAxisTickSpacing" data-dojo-type\x3d"dijit/form/TextBox" type\x3d"text" value\x3d"1"/\x3e\x3cbr/\x3e\n        \x3clabel\x3eAxis Labels:\x3c/label\x3e\n        \x3cinput type\x3d"radio" data-dojo-attach-point\x3d"yLabelMinMaxOnly" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"yAxisLabel" value\x3d"minmax"/\x3e\x3clabel\x3eLabel Minimum and Maximum\x3c/label\x3e\x3cbr/\x3e\n        \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"yAxisLabel" value\x3d"every" checked\x3d"checked" style\x3d"margin-left: 89px;"/\x3e\x3clabel\x3eLabel Every \x3cinput data-dojo-attach-point\x3d"yAxisLabelSpacing" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"2" data-dojo-props\x3d"smallDelta:1, constraints:{min:0,places:0}" style\x3d"width: 60px;"/\x3e Ticks\x3c/label\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/Spinner.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitButtonNode dijitSpinnerButtonContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitSpinnerButtonInner" type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"upArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9650; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3cdiv class\x3d"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\n\t\t\tdata-dojo-attach-point\x3d"downArrowNode"\n\t\t\t\x3e\x3cdiv class\x3d"dijitArrowButtonInner"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' data-dojo-attach-point\x3d"textbox,focusNode" type\x3d"${type}" data-dojo-attach-event\x3d"onkeydown:_onKeyDown"\n\t\t\trole\x3d"spinbutton" autocomplete\x3d"off" ${!nameAttrSetting}\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:xl/player/dialogs/templates/EmailDialog.html":'\ufeff\x3cdiv style\x3d"height: 85%;overflow-y:scroll;" data-dojo-attach-point\x3d"containerNode"\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea" \x3e\n        \x3clabel for\x3d"from" style\x3d"width: 100px;"\x3eFrom\x3c/label\x3e\n        \x3cdiv id\x3d"from" name\x3d"from" data-dojo-type\x3d"dijit/form/TextBox" style\x3d"width: 450px;"\x3e\x3c/div\x3e\x3cbr /\x3e\n        \x3clabel for\x3d"to" style\x3d"width: 100px;"\x3eTo\x3c/label\x3e\n        \x3cdiv id\x3d"to" name\x3d"to" data-dojo-type\x3d"dijit/form/TextBox" style\x3d"width: 450px;"\x3e\x3c/div\x3e\x3cbr /\x3e\n        \x3clabel for\x3d"subject" style\x3d"width: 100px;"\x3eSubject\x3c/label\x3e\n        \x3cdiv id\x3d"subject" name\x3d"subject" data-dojo-type\x3d"dijit/form/TextBox" style\x3d"width: 450px;"\x3e\x3c/div\x3e\x3cbr /\x3e\n        \x3clabel for\x3d"body" style\x3d"width: 104px;"\x3eBody\x3c/label\x3e\x3ctextarea id\x3d"body" data-dojo-type\x3d"dijit/form/SimpleTextarea" name\x3d"body" rows\x3d"10" style\x3d"width: 450px;"\x3e\x3c/textarea\x3e\x3cbr /\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea" id\x3d"attachments" data-dojo-attach-point\x3d"attachmentNode"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:xl/player/forms/templates/CalculatorForm.html":'\ufeff\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"${baseClass}" tabindex\x3d"-1" aria-label\x3d"Calculator"\x3e\n    \n        \x3c!-- Starting From Top to Bottom/Grid-Like Fashion --\x3e\n        \x3c!-- First Calculator Table Row--\x3e\n    \x3cdiv class\x3d"titleBar"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"title"\x3eCalculator\x3c/div\x3e \n        \x3cbutton role \x3d"button" data-dojo-attach-event\x3d"click: close" type\x3d"button" class\x3d"close closeButton" tabindex\x3d"0"\x3e\n            \x3cdiv role\x3d"img" data-dojo-attach-point\x3d"closeButton" class\x3d"closeButtonDiv"\x3e\x26times;\x3c/div\x3e\n        \x3c/button\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"calcBody"\x3e\n        \x3ctable align\x3d"center" border\x3d"0" width\x3d"145" cellspacing\x3d"0" cellpadding\x3d"3" \x3e\n            \x3c!-- Second Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                    \x3ctd colspan\x3d"6"role\x3d"alert"\x3e\n                        \x3cinput style\x3d"position:relative;" type\x3d"text" id\x3d"txtoperand" class\x3d"textProperties" readonly\x3d"readonly" data-dojo-attach-point\x3d"operand"/\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"memorystoredisplayer" style\x3d"position:absolute;top:55px;left:12px;display:none;"\x3eM\x3c/div\x3e\n                    \x3c/td\x3e      \n            \x3c/tr\x3e\n            \x3c!-- Third Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd colspan\x3d"2"\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: backspaceClick" class\x3d"btnLarge btn btn-default"\x3eBackspace\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: clearClick" class\x3d"btn btn-default"\x3eCE\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: resetClick" class\x3d"btn btn-default"\x3eC\x3c/button\x3e\x3c/td\x3e\n                \x3ctd colspan\x3d"2"\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"enterButton" data-dojo-attach-event\x3d"click: enterClick" class\x3d"btnLarge btn btn-default"\x3e\x26crarr;\x3c/button\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c!-- Fourth Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: memoryClick" class\x3d"btn btn-default"\x3eMC\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e7\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e8\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e9\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e/\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton id\x3d"sqrt" data-dojo-attach-event\x3d"click: unaryClick" class\x3d"btn btn-default"\x3e\x26radic;\x3c/button\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c!-- Fifth Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: memoryClick" class\x3d"btn btn-default"\x3eMR\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e4\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e5\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e6\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e*\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton id\x3d"prcntg" data-dojo-attach-event\x3d"click: unaryClick" class\x3d"btn btn-default"\x3e%\x3c/button\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c!-- Sixth Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: memoryClick" class\x3d"btn btn-default"\x3eMS\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e1\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e2\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e3\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"minusButton" data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e-\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton id\x3d"rcprcl" data-dojo-attach-event\x3d"click: unaryClick" class\x3d"btn btn-default"\x3e1/x\x3c/button\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n            \x3c!-- Seventh Calculator Table Row--\x3e\n            \x3ctr class\x3d"trBackgroundProperties"\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: memoryClick" class\x3d"btn btn-default"\x3eMP\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e0\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: toggleSignClick" class\x3d"btn btn-default"\x3e+/-\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: numClick" class\x3d"btn btn-default"\x3e.\x3c/button\x3e\x3c/td\x3e\n                \x3ctd\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e+\x3c/button\x3e\x3c/td\x3e\n                \x3ctd colspan\x3d"2"\x3e\n                    \x3cbutton data-dojo-attach-event\x3d"click: binaryClick" class\x3d"btn btn-default"\x3e\x3d\x3c/button\x3e\x3c/td\x3e\n            \x3c/tr\x3e\n        \x3c/table\x3e\n        \x3c/div\x3e\n\x3c/div\x3e\n',
"*now":function(l){l(['dojo/i18n!*preload*dojo/nls/dojo*["ar","ca","cs","da","de","el","en-gb","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn"]'])}}});(function(){var l=this.require;l({cache:{}});!l.async&&l(["dojo"]);l.boot&&l.apply(null,l.boot)})();
//@ sourceMappingURL=dojo.js.map